import {
    a as ji,
    b as Qs,
    c as tu,
    d as Is,
    e as Yn,
    f as Ng,
    g as Pg,
    h as Rg,
    i as Bg,
    j as Mg,
    k as Og,
    l as Yf,
    m as ea,
    n as rt
} from "./chunk-Q3Q473PS.js";
import {
    a as vn,
    b as Ke,
    c as ei,
    d as No
} from "./chunk-3RPRB7E5.js";
var Fg = Ke((Qf, Ug) => {
    (function(e, t) {
        "use strict";
        typeof define == "function" && define.amd ? define([], t) : typeof Qf == "object" ? Ug.exports = t() : e.MergeXML = t()
    })(Qf, function() {
        return function(e) {
            var t, i, n, r, a, s, l = {
                    pfx: "_",
                    psr: "http://www.w3.org/1999/xhtml",
                    xpe: "http://www.w3.org/2000/xmlns/"
                },
                u, f, d, m, T = 1,
                x = 3,
                C = 8,
                N = 7,
                E = this,
                O = function() {
                    if (E.error = {}, typeof process < "u" && process.versions && process.versions.node) {
                        var P = typeof e == "object" && typeof e.path == "string" ? e.path : "";
                        try {
                            global.XPathEvaluator = vn(P + "xpath"), global.DOMParser = vn((P || "@xmldom/") + "xmldom").DOMParser, global.XMLSerializer = vn((P || "@xmldom/") + "xmldom").XMLSerializer
                        } catch (se) {
                            console.log(se.message)
                        }
                    }
                    t = D(), E.Init(e)
                },
                D = function() {
                    for (var P, se = !1, ce = ["MSXML2.DOMDocument.6.0", "MSXML2.DOMDocument.3.0", "MSXML2.DOMDocument", "Microsoft.XmlDom"], ne = ce.length, re = 0; re < ne; re++) try {
                        var J = new ActiveXObject(ce[re]);
                        if (J.async = !1, se = !0, J.loadXML("<x></x>") && J.selectSingleNode("/")) break
                    } catch {}
                    if (se) re < ne ? (i = ce[re], P = 1) : P = "nox";
                    else {
                        var ue;
                        typeof window < "u" ? (ue = window, P = 2) : typeof global < "u" ? (ue = global, P = 3) : ue = {}, ue.DOMParser ? ue.XMLSerializer ? ue.XPathEvaluator ? P === 2 ? (n = new ue.DOMParser, r = new ue.XPathEvaluator, a = ue.XPathResult, se = n.parseFromString("<invalid", "text/xml"), l.psr = se.getElementsByTagName("parsererror")[0].namespaceURI) : (n = new ue.DOMParser({
                            xmlns: l.psr,
                            errorHandler: function() {
                                u = !0
                            }
                        }), r = ue.XPathEvaluator, a = ue.XPathEvaluator.XPathResult, l.xpe = r.XPath.XMLNS_NAMESPACE_URI) : P = "nox" : P = "nos" : P = "nod"
                    }
                    return typeof P == "string" ? W(P) : P
                };
            E.Init = function(P) {
                return typeof P != "object" && (P = {}), typeof P.stay > "u" ? typeof f > "u" && (f = ["all"]) : P.stay ? typeof P.stay == "object" && P.stay instanceof Array ? f = P.stay : f = [P.stay] : f = [], typeof P.join > "u" ? typeof d > "u" && (d = ["root"]) : P.join ? d = [String(P.join)] : d = [!1], d[1] = !1, typeof P.updn < "u" ? m = P.updn : typeof m > "u" && (m = !0), E.dom = null, E.nsp = {}, E.count = 0, t && (E.error = {
                    code: "",
                    text: ""
                }), t
            }, E.AddFile = function(P) {
                var se;
                return t ? !P || !P.target ? se = W("nof") : P.target.result ? se = E.AddSource(P.target.result) : se = W("emf") : se = t, se
            }, E.AddSource = function(P) {
                var se, ce;
                if (t)
                    if (typeof P == "object") ce = E.Get(1, P) ? P : !1, ce && (t > 1 && !DOMParser || t === 1 && !ce.selectSingleNode("/")) && (ce = null);
                    else try {
                        ce = I(P)
                    } catch {
                        ce = !1
                    }
                if (!t) se = t;
                else if (ce === null) se = W("nob");
                else if (ce === !1) se = W("inv");
                else if (ce === !0) E.nsp = oe(E.dom.documentElement), E.count = 1, se = E.dom;
                else if (y(ce)) {
                    if (w(ce, "/"), d[1] === !0) {
                        var ne = E.dom.createTextNode(`\r
`);
                        E.dom.documentElement.appendChild(ne)
                    }
                    E.count++, se = E.dom
                } else se = !1;
                return se
            };
            var I = function(P) {
                    var se, ce;
                    return t > 1 ? (u = !1, E.dom ? (ce = n.parseFromString(P, "text/xml"), se = H(ce) ? ce : !1) : (E.dom = n.parseFromString(P, "text/xml"), se = !!H(E.dom))) : E.dom ? (ce = new ActiveXObject(i), ce.async = !1, se = ce.loadXML(P) ? ce : !1) : (E.dom = new ActiveXObject(i), E.dom.async = !1, E.dom.setProperty("SelectionLanguage", "XPath"), se = !!E.dom.loadXML(P)), se
                },
                H = function(P) {
                    return !u && !P.getElementsByTagNameNS(l.psr, "parsererror").length
                },
                y = function(P) {
                    var se = !0,
                        ce = E.dom.characterSet || E.dom.inputEncoding || E.dom.xmlEncoding,
                        ne = P.characterSet || P.inputEncoding || P.xmlEncoding;
                    if (ne !== ce) se = W("enc");
                    else if (P.documentElement.namespaceURI !== E.dom.documentElement.namespaceURI) se = W("nse");
                    else if (P.documentElement.nodeName !== E.dom.documentElement.nodeName) {
                        if (!d[0]) se = W("dif");
                        else if (!d[1]) {
                            var re = typeof ce < "u" ? ce : "UTF-8",
                                J = E.dom.xmlVersion ? E.dom.xmlVersion : "1.0",
                                ue = '<?xml version="' + J + '" encoding="' + re + `"?>\r
<` + d[0] + `>\r
</` + d[0] + ">",
                                ie = I(ue);
                            if (ie) {
                                var te = E.dom.documentElement.cloneNode(!0);
                                ie.documentElement.appendChild(te), te = ie.createTextNode(`\r
`), ie.documentElement.appendChild(te), E.dom = ie, d[1] = !0
                            } else se = W("jne"), d[1] = null
                        }
                    }
                    if (se) {
                        var we = oe(P.documentElement);
                        for (var De in we) E.nsp[De] || (typeof E.dom.documentElement.setAttributeNS < "u" ? E.dom.documentElement.setAttributeNS(l.xpe, "xmlns:" + De, we[De]) : E.dom.documentElement.setAttribute("xmlns:" + De, we[De]), E.nsp[De] = we[De]);
                        m ? t === 1 ? me() : t === 3 ? s = E : s = E.lookupNamespaceURI : s = null
                    }
                    return se
                },
                w = function(P, se) {
                    for (var ce = 0; ce < P.childNodes.length; ce++) {
                        var ne, re = P.childNodes[ce],
                            J = X(P.childNodes, re, se, ce),
                            ue = E.Query(J);
                        if (re.nodeType === T) {
                            var ie = !0;
                            if (ue === null || ue.namespaceURI !== re.namespaceURI) ne = re.cloneNode(!0), ue = E.Query(se), ue.appendChild(ne);
                            else if (V(ue.getAttribute("stay"), f) !== !1 && (ie = !1), ie) try {
                                for (var te = 0; te < re.attributes.length; te++) re.attributes[te].namespaceURI && typeof re.setAttributeNS < "u" ? ue.setAttributeNS(re.attributes[te].namespaceURI, re.attributes[te].nodeName, re.attributes[te].nodeValue) : ue.setAttribute(re.attributes[te].nodeName, re.attributes[te].nodeValue)
                            } catch {}
                            re.hasChildNodes() && ie && w(re, J)
                        } else(re.nodeType === x || re.nodeType === C) && (ue === null || ue.nodeType !== re.nodeType ? (ue = E.Query(se), re.nodeType === x ? ne = E.dom.createTextNode(re.nodeValue) : ne = E.dom.createComment(re.nodeValue), ue.appendChild(ne)) : (ue.nodeValue = re.nodeValue, ue.data = re.data))
                    }
                },
                X = function(P, se, ce, ne) {
                    var re, J, ue = 0;
                    if (se.nodeType === T) {
                        for (J = 0; J <= ne; J++)(m && P[J].nodeType === se.nodeType && P[J].nodeName === se.nodeName || !m && P[J].nodeType !== N) && ue++;
                        if (m) {
                            var ie = !1,
                                te = oe(se);
                            for (var we in te) we !== l.pfx && (E.nsp[we] = te[we], ie = t === 1);
                            ie && me(), se.prefix ? re = se.prefix + ":" : E.nsp[l.pfx] ? re = l.pfx + ":" : re = "", re += se.localName ? se.localName : se.baseName
                        } else re = "node()"
                    } else if (se.nodeType === x || se.nodeType === C) {
                        for (J = 0; J <= ne; J++) P[J].nodeType === se.nodeType && ue++;
                        re = se.nodeType === x ? "text()" : "comment()"
                    } else re = ce;
                    return ue && (re = ce + (ce.slice(-1) === "/" ? "" : "/") + re + "[" + ue + "]"), re
                },
                oe = function(P) {
                    for (var se = {}, ce = P.attributes, ne = 0; ne < ce.length; ++ne) {
                        var re = ce[ne].name.split(":");
                        if (re[0] === "xmlns") {
                            var J = re[1] ? re[1] : l.pfx;
                            se[J] = ce[ne].value
                        }
                    }
                    return se
                };
            E.Query = function(P) {
                if (!t) return null;
                var se;
                d[1] && (P = "/" + E.dom.documentElement.nodeName + (P === "/" ? "" : P));
                try {
                    t > 1 ? (se = r.evaluate(P, E.dom, s, a.FIRST_ORDERED_NODE_TYPE, null), se = se.singleNodeValue) : se = E.dom.selectSingleNode(P)
                } catch {
                    se = null
                }
                return se
            }, E.lookupNamespaceURI = function(P) {
                return E.nsp[P] || null
            };
            var me = function() {
                    var P = "";
                    for (var se in E.nsp) P += " xmlns:" + se + "='" + E.nsp[se] + "'";
                    P && E.dom.setProperty("SelectionNamespaces", P.substr(1))
                },
                V = function(P, se) {
                    var ce = !1;
                    for (var ne in se)
                        if (se[ne] === P) {
                            ce = ne;
                            break
                        }
                    return ce
                };
            E.Get = function(P, se) {
                var ce;
                if (P && !se && (se = E.dom), !t) ce = E.error.text;
                else if (!P) ce = E.dom;
                else if (!se) ce = "";
                else if (se.xml) ce = se.xml;
                else try {
                    ce = new XMLSerializer().serializeToString(se)
                } catch (re) {
                    ce = re.message, P = null
                }
                if (ce && P === 2) {
                    if (d[1]) {
                        var ne = ce.indexOf("<" + d[0]);
                        ce = ce.substr(0, ne) + `\r
` + ce.substr(ne)
                    }
                    ce = ce.replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/ |\t/g, "&nbsp;"), ce = ce.replace(/(\r\n|\n|\r)/g, "<br>")
                }
                return ce
            };
            var W = function(P) {
                var se = {
                    nod: "XML DOM is not supported",
                    nos: "Serializer is not supported",
                    nox: "xPath is not supported",
                    nob: "Incompatible source object",
                    nof: "File not found",
                    emf: "File is empty",
                    inv: "Invalid XML source",
                    enc: "Different encoding",
                    dif: "Different root nodes",
                    jne: "Invalid join parameter",
                    nse: "Namespace incompatibility",
                    und: "Undefined error"
                };
                return E.error.code = se[P] ? P : "und", E.error.text = se[E.error.code], !1
            };
            O()
        }
    })
});
var Po = Ke((sR, Vg) => {
    var Jf = class extends Date {
            constructor() {
                super(NaN)
            }
            toString() {
                return ""
            }
        },
        qg = e => {
            if (["Invalid Date", ""].includes(e.toString())) return e.toString();
            let t = new Date(e.getTime() - e.getTimezoneOffset() * 60 * 1e3).toISOString().replace("Z", eh(e));
            return t.indexOf("T00:00:00.000") > 0 ? t.split("T")[0] : t
        },
        eh = e => {
            let t = function(s) {
                return s < 10 ? `0${s}` : s
            };
            if (e.toString() === "Invalid Date") return e.toString();
            let i = e.getTimezoneOffset(),
                n = i < 0 ? "+" : "-",
                r = t(Math.floor(Math.abs(i / 60))),
                a = t(Math.floor(Math.abs(i % 60)));
            return `${n+r}:${a}`
        };
    Date.prototype.toISOLocalString = function() {
        return qg(this)
    };
    Date.prototype.getTimezoneOffsetAsTime = function() {
        return eh(this)
    };
    Vg.exports = {
        BlankDate: Jf,
        getTimezoneOffsetAsTime: eh,
        toISOLocalString: qg
    }
});
var th = Ke((oR, Hg) => {
    var Cw = /^\d\d\d\d-\d{1,2}-\d{1,2}(?:T\d\d:\d\d:\d\d\.?\d?\d?(?:Z|[+-]\d\d:\d\d)|.*)?$/;

    function zg(e) {
        return e.getTime() / (1e3 * 60 * 60 * 24)
    }

    function Sw(e) {
        let t = null;
        return e.indexOf("T") > 0 ? t = new Date(e) : (t = e.split("-"), t = new Date(t[0], t[1] - 1, t[2])), zg(t)
    }
    var Tw = function(e, t) {
            switch (e) {
                case 1:
                    return t % 4 === 0 && t % 100 || t % 400 === 0 ? 29 : 28;
                case 8:
                case 3:
                case 5:
                case 10:
                    return 30;
                default:
                    return 31
            }
        },
        Lw = function(e, t, i) {
            return t = parseInt(t, 10) - 1, t >= 0 && t < 12 && i > 0 && i <= Tw(t, e)
        };
    Hg.exports = {
        DATE_STRING: Cw,
        dateToDays: zg,
        dateStringToDays: Sw,
        isValidDate: Lw
    }
});
var Ro = Ke((lR, jg) => {
    var {
        DATE_STRING: kw,
        dateToDays: Iw,
        dateStringToDays: Aw
    } = th(), {
        toISOLocalString: Dw
    } = Po();
    jg.exports = {
        asBoolean: Nw,
        asNumber: Pw,
        asString: ih
    };

    function Nw(e) {
        if ($g(e)) return !!ih(e).trim();
        switch (e.t) {
            case "arr":
                return !!e.v.length;
            case "date":
                return !Number.isNaN(Number(e.v));
            default:
                return !!e.v
        }
    }

    function Pw(e) {
        if (e.t === "num") return e.v;
        if (e.t === "bool") return e.v ? 1 : 0;
        if (e.t === "date") return Iw(e.v);
        let t = ih(e).trim();
        return t === "" ? NaN : kw.test(t) ? Aw(t) : +t
    }

    function ih(e) {
        if ($g(e)) return Rw(e);
        switch (e.t) {
            case "str":
                return e.v;
            case "arr":
                return e.v.length && e.v[0].textContent || "";
            case "date":
                return Dw(e.v).replace(/T00:00:00.000.*/, "");
            case "num":
            case "bool":
            default:
                return e.v.toString()
        }
    }

    function Rw(e) {
        switch (e.nodeType) {
            case Node.DOCUMENT_NODE:
                return e.documentElement.textContent;
            case Node.TEXT_NODE:
            case Node.CDATA_SECTION_NODE:
            case Node.PROCESSING_INSTRUCTION_NODE:
            case Node.COMMENT_NODE:
            case Node.ELEMENT_NODE:
                return e.textContent;
            case Node.ATTRIBUTE_NODE:
                return e.value;
            default:
                throw new Error(`TODO No handling for node type: ${e.nodeType}`)
        }
    }

    function $g(e) {
        return e instanceof Node
    }
});
var Xg = Ke((uR, Zg) => {
    var {
        asBoolean: ul,
        asNumber: On,
        asString: rh
    } = Ro();
    Zg.exports = {
        handleOperation: Zw
    };
    var Bw = 0,
        Mw = 4,
        Ow = 8,
        Uw = 9,
        Fw = 12,
        qw = 13,
        Vw = 14,
        zw = 15,
        Hw = 16,
        $w = 17,
        jw = 20,
        Ww = 21,
        Kw = 22,
        Gw = 24;

    function Zw(e, t, i) {
        switch (t) {
            case Bw:
                return ul(e) || ul(i);
            case Mw:
                return ul(e) && ul(i);
            case Ow:
                return Kg(e, i, (n, r) => n === r);
            case Uw:
                return Kg(e, i, (n, r) => n !== r);
            case Fw:
                return pc(e, i, (n, r) => n < r);
            case qw:
                return pc(e, i, (n, r) => n <= r);
            case Vw:
                return pc(e, i, (n, r) => n > r);
            case zw:
                return pc(e, i, (n, r) => n >= r);
            case Hw:
                return On(e) + On(i);
            case $w:
                return On(e) - On(i);
            case jw:
                return On(e) * On(i);
            case Ww:
                return On(e) / On(i);
            case Kw:
                return On(e) % On(i);
            case Gw:
                return [...e.v, ...i.v];
            default:
                throw new Error(`No handling for op ${t}`)
        }
    }

    function Gg(e, t, i) {
        return e.t === i && t.t === i
    }

    function nh(e, t, i) {
        return e.t === i || t.t === i
    }

    function Wg(e) {
        switch (e.t) {
            case "num":
                return On;
            case "str":
                return rh;
            default:
                throw new Error(`No cast for type: ${e.t}`)
        }
    }

    function pc(e, t, i) {
        let n, r;
        if (Gg(e, t, "arr")) {
            for (n = e.v.length - 1; n >= 0; --n)
                for (r = t.v.length - 1; r >= 0; --r)
                    if (i(On(e.v[n]), On(t.v[r]))) return !0;
            return !1
        }
        return e.t === "arr" ? (t = On(t), e.v.map(On).some(a => i(a, t))) : t.t === "arr" ? (e = On(e), t.v.map(On).some(a => i(e, a))) : i(On(e), On(t))
    }

    function Kg(e, t, i) {
        let n, r;
        if (Gg(e, t, "arr")) {
            for (n = e.v.length - 1; n >= 0; --n)
                for (r = t.v.length - 1; r >= 0; --r)
                    if (i(e.v[n].textContent, t.v[r].textContent)) return !0;
            return !1
        }
        if (nh(e, t, "bool")) return i(ul(e), ul(t));
        if (e.t === "arr") {
            let a = Wg(t);
            return t = a(t), e.v.map(a).some(s => i(s, t))
        }
        if (t.t === "arr") {
            let a = Wg(e);
            return e = a(e), t.v.map(a).some(s => i(s, e))
        }
        if (nh(e, t, "num")) return i(On(e), On(t));
        if (nh(e, t, "str")) return i(rh(e), rh(t));
        throw new Error(`not handled yet for these types: ${i.toString()}`)
    }
});
var gc = Ke((cR, Yg) => {
    Yg.exports = {
        boolean: e => ({
            t: "bool",
            v: e
        }),
        number: e => ({
            t: "num",
            v: e
        }),
        string: e => ({
            t: "str",
            v: e
        }),
        date: e => ({
            t: "date",
            v: e
        })
    }
});
var Jg = Ke((fR, Qg) => {
    var {
        asNumber: ah,
        asString: mc
    } = Ro(), iu = gc();
    Qg.exports = {
        preprocessNativeArgs: Qw
    };
    var Xw = {
            num: ah,
            str: mc
        },
        Yw = {
            ceiling: {
                min: 1,
                max: 1,
                cast: ["num"]
            },
            contains: {
                min: 2,
                max: 2,
                cast: ["str", "str"]
            },
            floor: {
                min: 1,
                max: 1,
                cast: ["num"]
            },
            id: {
                min: 1,
                max: 1,
                conv: e => [iu.string(e.t === "arr" ? e.v.map(mc).join(" ") : mc(e))]
            },
            lang: {
                min: 1,
                max: 1,
                cast: ["str"]
            },
            "starts-with": {
                min: 2,
                max: 2,
                cast: ["str", "str"]
            },
            substring: {
                min: 2,
                max: 3,
                conv: Jw
            },
            "substring-after": {
                min: 2,
                max: 2,
                cast: ["str", "str"]
            },
            "substring-before": {
                min: 2,
                max: 2,
                cast: ["str", "str"]
            },
            translate: {
                min: 3,
                max: 3,
                cast: ["str", "str", "str"]
            }
        };

    function Qw(e, t) {
        let i = Yw[e];
        if (!i) return t;
        if (t.length < i.min) throw new Error("too few args");
        if (t.length > i.max) throw new Error("too many args");
        return i.conv ? i.conv(...t) : i.cast ? t.map((n, r) => {
            let a = i.cast[r];
            return {
                t: a,
                v: Xw[a](n)
            }
        }) : t
    }

    function Jw(e, t, i) {
        return e = iu.string(mc(e)), t = ah(t), i === void 0 ? [e, iu.number(Math.max(0, t))] : [e, iu.number(t), iu.number(ah(i))]
    }
});
var sh = Ke((hR, em) => {
    em.exports = function(e) {
        e.ordrd || e.v.sort(eE)
    };

    function eE(e, t) {
        let i = e.compareDocumentPosition(t);
        return i & Node.DOCUMENT_POSITION_PRECEDING ? 1 : i & Node.DOCUMENT_POSITION_FOLLOWING ? -1 : 0
    }
});
var im = Ke((dR, tm) => {
    var tE = sh();
    tm.exports = {
        toSnapshotResult: iE
    };

    function iE(e, t, i) {
        return (t === XPathResult.ORDERED_NODE_ITERATOR_TYPE || t === XPathResult.ORDERED_NODE_SNAPSHOT_TYPE) && tE(e), (n => {
            let r = 0;
            return {
                resultType: t,
                singleNodeValue: i || n[0] || null,
                snapshotLength: n.length,
                snapshotItem: a => n[a] || null,
                iterateNext: () => n[r++] || null
            }
        })(e.v)
    }
});
var sm = Ke((pR, am) => {
    var {
        handleOperation: nE
    } = Xg(), {
        preprocessNativeArgs: rE
    } = Jg(), {
        toSnapshotResult: aE
    } = im(), {
        asBoolean: vc,
        asNumber: nm,
        asString: oh
    } = Ro(), yc = 0, _c = 4, sE = 8, oE = 9, lE = 12, uE = 13, cE = 14, fE = 15, hE = 16, dE = 17, pE = 20, gE = 21, mE = 22, rm = 24, vE = /^[a-z]/, rs = 57005;
    am.exports = function(e, t) {
        let i = t.func || {},
            n = t.process || {},
            r = function(u) {
                let f, d, m;
                switch (u.resultType) {
                    case XPathResult.NUMBER_TYPE:
                        return {
                            t: "num",
                            v: u.numberValue
                        };
                    case XPathResult.BOOLEAN_TYPE:
                        return {
                            t: "bool",
                            v: u.booleanValue
                        };
                    case XPathResult.STRING_TYPE:
                        return {
                            t: "str",
                            v: u.stringValue
                        };
                    case XPathResult.ORDERED_NODE_ITERATOR_TYPE:
                        m = !0;
                    case XPathResult.UNORDERED_NODE_ITERATOR_TYPE:
                        for (f = []; d = u.iterateNext();) f.push(d);
                        return {
                            t: "arr",
                            v: f,
                            ordrd: m
                        };
                    case XPathResult.ORDERED_NODE_SNAPSHOT_TYPE:
                        m = !0;
                    case XPathResult.UNORDERED_NODE_SNAPSHOT_TYPE:
                        for (f = [], d = 0; d < u.snapshotLength; ++d) f.push(u.snapshotItem(d));
                        return {
                            t: "arr",
                            v: f,
                            ordrd: m
                        };
                    case XPathResult.ANY_UNORDERED_NODE_TYPE:
                    case XPathResult.FIRST_ORDERED_NODE_TYPE:
                        return {
                            t: "arr",
                            v: [u.singleNodeValue]
                        };
                    default:
                        throw new Error(`no handling for result type: ${u.resultType}`)
                }
            },
            a = function(u, f) {
                if (n.toExternalResult) {
                    let d = n.toExternalResult(u, f);
                    if (d) return d
                }
                switch (f) {
                    case null:
                    case void 0:
                    case XPathResult.ANY_TYPE:
                        switch (u.t) {
                            case "num":
                                return a(u, XPathResult.NUMBER_TYPE);
                            case "str":
                                return a(u, XPathResult.STRING_TYPE);
                            case "bool":
                                return a(u, XPathResult.BOOLEAN_TYPE);
                            case "arr":
                                return a(u, XPathResult.UNORDERED_NODE_ITERATOR_TYPE);
                            default:
                                throw new Error(`unrecognised internal type: ${u.t}`)
                        }
                    case XPathResult.NUMBER_TYPE:
                        return {
                            resultType: f,
                            stringValue: oh(u),
                            numberValue: nm(u)
                        };
                    case XPathResult.STRING_TYPE:
                        return {
                            resultType: f,
                            stringValue: oh(u)
                        };
                    case XPathResult.BOOLEAN_TYPE:
                        return {
                            resultType: f,
                            stringValue: oh(u),
                            booleanValue: vc(u)
                        };
                    case XPathResult.UNORDERED_NODE_ITERATOR_TYPE:
                    case XPathResult.ORDERED_NODE_ITERATOR_TYPE:
                    case XPathResult.UNORDERED_NODE_SNAPSHOT_TYPE:
                    case XPathResult.ORDERED_NODE_SNAPSHOT_TYPE:
                    case XPathResult.ANY_UNORDERED_NODE_TYPE:
                    case XPathResult.FIRST_ORDERED_NODE_TYPE:
                        return aE(u, f);
                    default:
                        throw new Error("unrecognised return type:", f)
                }
            },
            s = function(u) {
                if (n.typefor) {
                    let f = n.typefor(u);
                    if (f) return f
                }
                return typeof u == "boolean" ? "bool" : typeof u == "number" ? "num" : "str"
            },
            l = function(u, f, d, m, T, x = 1, C = 1) {
                let N, E, O = [{
                        t: "root",
                        tokens: []
                    }],
                    D = () => O[O.length - 1],
                    I = J => {
                        let {
                            tokens: ue
                        } = D();
                        (ne() !== rs || J !== rs) && ue.push(J)
                    },
                    H = () => {
                        let {
                            dead: J,
                            t: ue,
                            tokens: ie
                        } = D();
                        return J ? !0 : ue === "fn" ? ne() === rs : ie.includes(rs)
                    },
                    y = J => {
                        throw new Error((J || "") + JSON.stringify({
                            stack: O,
                            cur: E
                        }))
                    },
                    w = function() {
                        E = {
                            v: ""
                        }
                    },
                    X = function(J) {
                        if (J <= _c && W(J), I({
                                t: "op",
                                v: J
                            }), J <= _c) {
                            let {
                                tokens: ue
                            } = D(), ie = vc(ue[ue.length - 2]);
                            (J === yc ? ie : !ie) && I(rs)
                        }
                        w()
                    },
                    oe = function(J, ue) {
                        let ie = [];
                        for (let te = 0; te < ue.length; ++te)
                            if (te % 2) {
                                if (ue[te] !== ",") throw new Error(`Weird args (should be separated by commas):${JSON.stringify(ue)}`)
                            } else ie.push(ue[te]);
                        return Object.prototype.hasOwnProperty.call(i, J) ? i[J].apply({
                            cN: f,
                            contextSize: x,
                            contextPosition: C
                        }, ie) : me(J, rE(J, ie))
                    },
                    me = function(J, ue) {
                        let ie = `${J}(`;
                        for (let te = 0; te < ue.length; ++te) {
                            te && (ie += ",");
                            let we = ue[te];
                            switch (we.t) {
                                case "arr":
                                    throw new Error(`callNative() can't handle nodeset functions yet for ${J}()`);
                                case "bool":
                                    ie += `${we.v}()`;
                                    break;
                                case "num":
                                    we.v === 1 / 0 ? ie += "( 1 div 0)" : we.v === -1 / 0 ? ie += "(-1 div 0)" : ie += we.v.toFixed(20);
                                    break;
                                case "str":
                                    {
                                        let De = we.quote || (we.v.indexOf('"') === -1 ? '"' : "'");
                                        if (we.v.indexOf(De) !== -1) throw new Error(`Quote character found in String Literal: ${JSON.stringify(we.v)}`);ie += De + we.v + De;
                                        break
                                    }
                                default:
                                    break
                            }
                        }
                        return r(e.evaluate(`${ie})`, f, d, XPathResult.ANY_TYPE, null))
                    },
                    V = function(J, ue, ie) {
                        if (ue > _c && (J === rs || ie === rs)) return rs;
                        if (n.handleInfix) {
                            let te = n.handleInfix(y, J, ue, ie);
                            if (te && te.t === "continue" && (J = te.lhs, ue = te.op, ie = te.rhs, te = null), typeof te < "u" && te !== null) return te
                        }
                        return nE(J, ue, ie)
                    },
                    W = function(J) {
                        let {
                            tokens: ue
                        } = D();
                        if (!(ue.length < 2)) {
                            if (ue[2] === rs && ue[1].v >= J) {
                                let ie = ue.indexOf(",", 2);
                                ue.splice(0, ie === -1 ? ue.length : ie, {
                                    t: "bool",
                                    v: vc(ue[0])
                                })
                            }
                            for (let ie = rm; ie >= J; ie -= 4) {
                                let te = 1;
                                for (; te < ue.length - 1;)
                                    if (ue[te].t === "op" && ue[te].v >= ie) {
                                        let we = V(ue[te - 1], ue[te].v, ue[te + 1]);
                                        ue.splice(te, 2), ue[te - 1] = {
                                            t: s(we),
                                            v: we
                                        }
                                    } else ++te
                            }
                        }
                    },
                    P = function() {
                        if (H()) {
                            w();
                            return
                        }
                        let J = E.v,
                            ue = ne();
                        if (ue && ue.t === "arr") {
                            J.charAt(0) !== "/" && y(`not sure how to handle expression called on nodeset that doesn't start with a '/': ${J}`), J = e.createExpression(`.${J}`, d);
                            let ie = [];
                            ue.v.forEach(te => {
                                let we = r(J.evaluate(te));
                                ie.push(...we.v)
                            }), ue.v = ie
                        } else {
                            let ie = (f == null ? void 0 : f.nodeType) === Node.ATTRIBUTE_NODE && J.startsWith("/") ? f.ownerDocument : f;
                            I(r(e.evaluate(J, ie, d, XPathResult.ANY_TYPE, null)))
                        }
                        w()
                    },
                    se = function() {
                        return u.charAt(N + 1)
                    },
                    ce = function() {
                        E.v = parseFloat(E.str), I(E), w()
                    },
                    ne = function() {
                        let J = D().tokens;
                        return J[J.length - 1]
                    },
                    re = function(J) {
                        return J >= "0" && J <= "9"
                    };
                for (w(), N = 0; N < u.length; ++N) {
                    let J = u.charAt(N);
                    if (E.t === "sq") {
                        if (E.inString) E.inString === J && delete E.inString;
                        else if (J === "[") ++E.depth;
                        else if (J === "'" || J === '"') E.inString = J;
                        else if (J === "]") {
                            if (--E.depth) E.v += J;
                            else {
                                if (H()) {
                                    w();
                                    continue
                                }
                                let ue, ie = ne();
                                if (ie.t === "arr") ue = ie.v;
                                else throw new Error("Not sure how to handle context node for predicate in this situation.");
                                let te = E.v,
                                    we = ue.filter((De, ye) => {
                                        let Ue = r(l(te, De, d, XPathResult.ANY_TYPE, null, ue.length, ye + 1));
                                        return Ue.t === "num" ? nm(Ue) === 1 + ye : vc(Ue)
                                    });
                                ie.v = we, w()
                            }
                            continue
                        }
                        E.v += J;
                        continue
                    }
                    if (E.t === "str") {
                        J === E.quote ? (I(E), w()) : E.v += J;
                        continue
                    }
                    if (E.t === "num")
                        if (re(J) || J === "e" || J === "-" && u[N - 1] === "e") {
                            E.str += J;
                            continue
                        } else {
                            if (J === " " && E.str === "-") continue;
                            J === "." && !E.decimal ? (E.decimal = 1, E.str += J) : ce()
                        }
                    if (re(J)) E.v === "" ? E = {
                        t: "num",
                        str: J
                    } : E.v += J;
                    else switch (J) {
                        case "'":
                        case '"':
                            E.v === "" ? E = {
                                t: "str",
                                quote: J,
                                v: ""
                            } : y(`Not sure how to handle: ${J}`);
                            break;
                        case "(":
                            O.push({
                                v: E.v,
                                t: "fn",
                                dead: H(),
                                tokens: []
                            }), w();
                            break;
                        case ")":
                            E.v !== "" && P(), W(yc), E = O.pop(), E.t !== "fn" && y('")" outside function!'), E.dead ? I(rs) : E.v ? E.v.charAt(0) === "/" ? (E.tokens.length && y("Unexpected args for node test function!"), E.v += "()", P()) : I(oe(E.v, E.tokens)) : (E.tokens.length !== 1 && y(`Expected one token, but found: ${E.tokens.length}`), I(E.tokens[0])), w();
                            break;
                        case ",":
                            D().t !== "fn" && y("Unexpected comma outside function arguments."), E.v && P(), I(",");
                            break;
                        case "*":
                            {
                                let ue = ne();
                                if (!ue || ue === "," || ue.t === "op" || E.v) {
                                    E.v += J;
                                    break
                                }
                                X(pE)
                            }
                            break;
                        case "-":
                            {
                                let ue = ne();E.v !== "" && se() !== " " && u.charAt(N - 1) !== " " ? E.v += J : E.v === "" && (!ue || ue.t === "op" || ue === ",") ? E = {
                                    t: "num",
                                    str: "-"
                                } : X(dE)
                            }
                            break;
                        case "=":
                            switch (E.v) {
                                case "<":
                                    X(uE);
                                    break;
                                case ">":
                                    X(fE);
                                    break;
                                case "!":
                                    X(oE);
                                    break;
                                default:
                                    E.v && P(), X(sE)
                            }
                            break;
                        case "!":
                            E.v && P(), E.v = J;
                            break;
                        case ">":
                        case "<":
                            E.v && P(), se() === "=" ? E.v = J : X(J === ">" ? cE : lE);
                            break;
                        case "+":
                            E.v && P(), X(hE);
                            break;
                        case "|":
                            E.v && P(), X(rm);
                            break;
                        case `
`:
                        case "\r":
                        case "	":
                        case " ":
                            if (E.v === "") break;
                            vE.test(E.v) || P();
                            break;
                        case "v":
                            E.v === "di" ? X(gE) : E.v += J;
                            break;
                        case "r":
                            E.v === "o" ? X(yc) : E.v += J;
                            break;
                        case "d":
                            E.v === "an" ? X(_c) : E.v === "mo" ? X(mE) : E.v += J;
                            break;
                        case "[":
                            E.v && (P(), w()), E.t = "sq", E.depth = 1;
                            break;
                        case ".":
                            if (E.v === "" && re(se())) {
                                E = {
                                    t: "num",
                                    str: J
                                };
                                break
                            }
                        default:
                            E.v += J
                    }
                }
                return E.t === "num" && ce(), E.v && P(), O.length !== 1 && y("Stuff left on stack."), O[0].t !== "root" && y("Weird stuff on stack."), O[0].tokens.length === 0 && y("No tokens."), W(yc), O[0].tokens.length !== 1 && y("Too many tokens."), a(O[0].tokens[0], m)
            };
        this.evaluate = l
    }
});
var cm = Ke((gR, um) => {
    var {
        asString: lh
    } = Ro();

    function om(e) {
        return e.map(t => t.trim().split(" "))
    }

    function cl(e) {
        return e * Math.PI / 180
    }

    function lm(e) {
        return e.every(t => t[0] !== "" && t[0] >= -90 && t[0] <= 90 && t[1] !== "" && t[1] >= -180 && t[1] <= 180 && (typeof t[2] > "u" || !Number.isNaN(Number(t[2]))) && (typeof t[3] > "u" || !Number.isNaN(Number(t[3])) && t[3] >= 0))
    }

    function yE(e, t) {
        let i = cl(e.lng - t.lng),
            n = cl(e.lat),
            r = cl(t.lat);
        return Math.acos(Math.sin(n) * Math.sin(r) + Math.cos(n) * Math.cos(r) * Math.cos(i)) * 6378100
    }

    function _E(e) {
        let t = om(e);
        if (!lm(t)) return Number.NaN;
        let i = t.length,
            n = 0;
        if (i > 2) {
            for (let r = 0; r < i; r++) {
                let a = {
                        lat: t[r][0],
                        lng: t[r][1]
                    },
                    s = {
                        lat: t[(r + 1) % i][0],
                        lng: t[(r + 1) % i][1]
                    };
                n += cl(s.lng - a.lng) * (2 + Math.sin(cl(a.lat)) + Math.sin(cl(s.lat)))
            }
            n = n * 6378100 * 6378100 / 2
        }
        return Math.abs(Math.round(n * 100)) / 100
    }

    function bE(e) {
        let t = om(e);
        if (!lm(t)) return Number.NaN;
        let i = t.length,
            n = 0;
        if (i > 1)
            for (let r = 1; r < i; r++) {
                let a = {
                        lat: t[r - 1][0],
                        lng: t[r - 1][1]
                    },
                    s = {
                        lat: t[r][0],
                        lng: t[r][1]
                    };
                n += yE(a, s)
            }
        return Math.abs(Math.round(n * 100)) / 100
    }
    um.exports = {
        asGeopoints: xE,
        area: _E,
        distance: bE
    };

    function xE(...e) {
        return e.length > 1 ? e.map(lh) : e[0].t === "arr" && e[0].v.length > 1 ? e[0].v.map(lh) : lh(e[0]).split(";")
    }
});
var ui = Ke((mR, fm) => {
    fm.exports = {
        options: {
            usePureJavaScript: !1
        }
    }
});
var pm = Ke((vR, dm) => {
    var uh = {};
    dm.exports = uh;
    var hm = {};
    uh.encode = function(e, t, i) {
        if (typeof t != "string") throw new TypeError('"alphabet" must be a string.');
        if (i !== void 0 && typeof i != "number") throw new TypeError('"maxline" must be a number.');
        var n = "";
        if (!(e instanceof Uint8Array)) n = wE(e, t);
        else {
            var r = 0,
                a = t.length,
                s = t.charAt(0),
                l = [0];
            for (r = 0; r < e.length; ++r) {
                for (var u = 0, f = e[r]; u < l.length; ++u) f += l[u] << 8, l[u] = f % a, f = f / a | 0;
                for (; f > 0;) l.push(f % a), f = f / a | 0
            }
            for (r = 0; e[r] === 0 && r < e.length - 1; ++r) n += s;
            for (r = l.length - 1; r >= 0; --r) n += t[l[r]]
        }
        if (i) {
            var d = new RegExp(".{1," + i + "}", "g");
            n = n.match(d).join(`\r
`)
        }
        return n
    };
    uh.decode = function(e, t) {
        if (typeof e != "string") throw new TypeError('"input" must be a string.');
        if (typeof t != "string") throw new TypeError('"alphabet" must be a string.');
        var i = hm[t];
        if (!i) {
            i = hm[t] = [];
            for (var n = 0; n < t.length; ++n) i[t.charCodeAt(n)] = n
        }
        e = e.replace(/\s/g, "");
        for (var r = t.length, a = t.charAt(0), s = [0], n = 0; n < e.length; n++) {
            var l = i[e.charCodeAt(n)];
            if (l === void 0) return;
            for (var u = 0, f = l; u < s.length; ++u) f += s[u] * r, s[u] = f & 255, f >>= 8;
            for (; f > 0;) s.push(f & 255), f >>= 8
        }
        for (var d = 0; e[d] === a && d < e.length - 1; ++d) s.push(0);
        return typeof Buffer < "u" ? Buffer.from(s.reverse()) : new Uint8Array(s.reverse())
    };

    function wE(e, t) {
        var i = 0,
            n = t.length,
            r = t.charAt(0),
            a = [0];
        for (i = 0; i < e.length(); ++i) {
            for (var s = 0, l = e.at(i); s < a.length; ++s) l += a[s] << 8, a[s] = l % n, l = l / n | 0;
            for (; l > 0;) a.push(l % n), l = l / n | 0
        }
        var u = "";
        for (i = 0; e.at(i) === 0 && i < e.length() - 1; ++i) u += r;
        for (i = a.length - 1; i >= 0; --i) u += t[a[i]];
        return u
    }
});
var Pi = Ke((yR, ym) => {
    var gm = ui(),
        mm = pm(),
        xe = ym.exports = gm.util = gm.util || {};
    (function() {
        if (typeof process < "u" && process.nextTick && !process.browser) {
            xe.nextTick = process.nextTick, typeof setImmediate == "function" ? xe.setImmediate = setImmediate : xe.setImmediate = xe.nextTick;
            return
        }
        if (typeof setImmediate == "function") {
            xe.setImmediate = function() {
                return setImmediate.apply(void 0, arguments)
            }, xe.nextTick = function(l) {
                return setImmediate(l)
            };
            return
        }
        if (xe.setImmediate = function(l) {
                setTimeout(l, 0)
            }, typeof window < "u" && typeof window.postMessage == "function") {
            let l = function(u) {
                if (u.source === window && u.data === e) {
                    u.stopPropagation();
                    var f = t.slice();
                    t.length = 0, f.forEach(function(d) {
                        d()
                    })
                }
            };
            var s = l,
                e = "forge.setImmediate",
                t = [];
            xe.setImmediate = function(u) {
                t.push(u), t.length === 1 && window.postMessage(e, "*")
            }, window.addEventListener("message", l, !0)
        }
        if (typeof MutationObserver < "u") {
            var i = Date.now(),
                n = !0,
                r = document.createElement("div"),
                t = [];
            new MutationObserver(function() {
                var u = t.slice();
                t.length = 0, u.forEach(function(f) {
                    f()
                })
            }).observe(r, {
                attributes: !0
            });
            var a = xe.setImmediate;
            xe.setImmediate = function(u) {
                Date.now() - i > 15 ? (i = Date.now(), a(u)) : (t.push(u), t.length === 1 && r.setAttribute("a", n = !n))
            }
        }
        xe.nextTick = xe.setImmediate
    })();
    xe.isNodejs = typeof process < "u" && process.versions && process.versions.node;
    xe.globalScope = function() {
        return xe.isNodejs ? global : typeof self > "u" ? window : self
    }();
    xe.isArray = Array.isArray || function(e) {
        return Object.prototype.toString.call(e) === "[object Array]"
    };
    xe.isArrayBuffer = function(e) {
        return typeof ArrayBuffer < "u" && e instanceof ArrayBuffer
    };
    xe.isArrayBufferView = function(e) {
        return e && xe.isArrayBuffer(e.buffer) && e.byteLength !== void 0
    };

    function nu(e) {
        if (!(e === 8 || e === 16 || e === 24 || e === 32)) throw new Error("Only 8, 16, 24, or 32 bits supported: " + e)
    }
    xe.ByteBuffer = ch;

    function ch(e) {
        if (this.data = "", this.read = 0, typeof e == "string") this.data = e;
        else if (xe.isArrayBuffer(e) || xe.isArrayBufferView(e))
            if (typeof Buffer < "u" && e instanceof Buffer) this.data = e.toString("binary");
            else {
                var t = new Uint8Array(e);
                try {
                    this.data = String.fromCharCode.apply(null, t)
                } catch {
                    for (var i = 0; i < t.length; ++i) this.putByte(t[i])
                }
            }
        else(e instanceof ch || typeof e == "object" && typeof e.data == "string" && typeof e.read == "number") && (this.data = e.data, this.read = e.read);
        this._constructedStringLength = 0
    }
    xe.ByteStringBuffer = ch;
    var EE = 4096;
    xe.ByteStringBuffer.prototype._optimizeConstructedString = function(e) {
        this._constructedStringLength += e, this._constructedStringLength > EE && (this.data.substr(0, 1), this._constructedStringLength = 0)
    };
    xe.ByteStringBuffer.prototype.length = function() {
        return this.data.length - this.read
    };
    xe.ByteStringBuffer.prototype.isEmpty = function() {
        return this.length() <= 0
    };
    xe.ByteStringBuffer.prototype.putByte = function(e) {
        return this.putBytes(String.fromCharCode(e))
    };
    xe.ByteStringBuffer.prototype.fillWithByte = function(e, t) {
        e = String.fromCharCode(e);
        for (var i = this.data; t > 0;) t & 1 && (i += e), t >>>= 1, t > 0 && (e += e);
        return this.data = i, this._optimizeConstructedString(t), this
    };
    xe.ByteStringBuffer.prototype.putBytes = function(e) {
        return this.data += e, this._optimizeConstructedString(e.length), this
    };
    xe.ByteStringBuffer.prototype.putString = function(e) {
        return this.putBytes(xe.encodeUtf8(e))
    };
    xe.ByteStringBuffer.prototype.putInt16 = function(e) {
        return this.putBytes(String.fromCharCode(e >> 8 & 255) + String.fromCharCode(e & 255))
    };
    xe.ByteStringBuffer.prototype.putInt24 = function(e) {
        return this.putBytes(String.fromCharCode(e >> 16 & 255) + String.fromCharCode(e >> 8 & 255) + String.fromCharCode(e & 255))
    };
    xe.ByteStringBuffer.prototype.putInt32 = function(e) {
        return this.putBytes(String.fromCharCode(e >> 24 & 255) + String.fromCharCode(e >> 16 & 255) + String.fromCharCode(e >> 8 & 255) + String.fromCharCode(e & 255))
    };
    xe.ByteStringBuffer.prototype.putInt16Le = function(e) {
        return this.putBytes(String.fromCharCode(e & 255) + String.fromCharCode(e >> 8 & 255))
    };
    xe.ByteStringBuffer.prototype.putInt24Le = function(e) {
        return this.putBytes(String.fromCharCode(e & 255) + String.fromCharCode(e >> 8 & 255) + String.fromCharCode(e >> 16 & 255))
    };
    xe.ByteStringBuffer.prototype.putInt32Le = function(e) {
        return this.putBytes(String.fromCharCode(e & 255) + String.fromCharCode(e >> 8 & 255) + String.fromCharCode(e >> 16 & 255) + String.fromCharCode(e >> 24 & 255))
    };
    xe.ByteStringBuffer.prototype.putInt = function(e, t) {
        nu(t);
        var i = "";
        do t -= 8, i += String.fromCharCode(e >> t & 255); while (t > 0);
        return this.putBytes(i)
    };
    xe.ByteStringBuffer.prototype.putSignedInt = function(e, t) {
        return e < 0 && (e += 2 << t - 1), this.putInt(e, t)
    };
    xe.ByteStringBuffer.prototype.putBuffer = function(e) {
        return this.putBytes(e.getBytes())
    };
    xe.ByteStringBuffer.prototype.getByte = function() {
        return this.data.charCodeAt(this.read++)
    };
    xe.ByteStringBuffer.prototype.getInt16 = function() {
        var e = this.data.charCodeAt(this.read) << 8 ^ this.data.charCodeAt(this.read + 1);
        return this.read += 2, e
    };
    xe.ByteStringBuffer.prototype.getInt24 = function() {
        var e = this.data.charCodeAt(this.read) << 16 ^ this.data.charCodeAt(this.read + 1) << 8 ^ this.data.charCodeAt(this.read + 2);
        return this.read += 3, e
    };
    xe.ByteStringBuffer.prototype.getInt32 = function() {
        var e = this.data.charCodeAt(this.read) << 24 ^ this.data.charCodeAt(this.read + 1) << 16 ^ this.data.charCodeAt(this.read + 2) << 8 ^ this.data.charCodeAt(this.read + 3);
        return this.read += 4, e
    };
    xe.ByteStringBuffer.prototype.getInt16Le = function() {
        var e = this.data.charCodeAt(this.read) ^ this.data.charCodeAt(this.read + 1) << 8;
        return this.read += 2, e
    };
    xe.ByteStringBuffer.prototype.getInt24Le = function() {
        var e = this.data.charCodeAt(this.read) ^ this.data.charCodeAt(this.read + 1) << 8 ^ this.data.charCodeAt(this.read + 2) << 16;
        return this.read += 3, e
    };
    xe.ByteStringBuffer.prototype.getInt32Le = function() {
        var e = this.data.charCodeAt(this.read) ^ this.data.charCodeAt(this.read + 1) << 8 ^ this.data.charCodeAt(this.read + 2) << 16 ^ this.data.charCodeAt(this.read + 3) << 24;
        return this.read += 4, e
    };
    xe.ByteStringBuffer.prototype.getInt = function(e) {
        nu(e);
        var t = 0;
        do t = (t << 8) + this.data.charCodeAt(this.read++), e -= 8; while (e > 0);
        return t
    };
    xe.ByteStringBuffer.prototype.getSignedInt = function(e) {
        var t = this.getInt(e),
            i = 2 << e - 2;
        return t >= i && (t -= i << 1), t
    };
    xe.ByteStringBuffer.prototype.getBytes = function(e) {
        var t;
        return e ? (e = Math.min(this.length(), e), t = this.data.slice(this.read, this.read + e), this.read += e) : e === 0 ? t = "" : (t = this.read === 0 ? this.data : this.data.slice(this.read), this.clear()), t
    };
    xe.ByteStringBuffer.prototype.bytes = function(e) {
        return typeof e > "u" ? this.data.slice(this.read) : this.data.slice(this.read, this.read + e)
    };
    xe.ByteStringBuffer.prototype.at = function(e) {
        return this.data.charCodeAt(this.read + e)
    };
    xe.ByteStringBuffer.prototype.setAt = function(e, t) {
        return this.data = this.data.substr(0, this.read + e) + String.fromCharCode(t) + this.data.substr(this.read + e + 1), this
    };
    xe.ByteStringBuffer.prototype.last = function() {
        return this.data.charCodeAt(this.data.length - 1)
    };
    xe.ByteStringBuffer.prototype.copy = function() {
        var e = xe.createBuffer(this.data);
        return e.read = this.read, e
    };
    xe.ByteStringBuffer.prototype.compact = function() {
        return this.read > 0 && (this.data = this.data.slice(this.read), this.read = 0), this
    };
    xe.ByteStringBuffer.prototype.clear = function() {
        return this.data = "", this.read = 0, this
    };
    xe.ByteStringBuffer.prototype.truncate = function(e) {
        var t = Math.max(0, this.length() - e);
        return this.data = this.data.substr(this.read, t), this.read = 0, this
    };
    xe.ByteStringBuffer.prototype.toHex = function() {
        for (var e = "", t = this.read; t < this.data.length; ++t) {
            var i = this.data.charCodeAt(t);
            i < 16 && (e += "0"), e += i.toString(16)
        }
        return e
    };
    xe.ByteStringBuffer.prototype.toString = function() {
        return xe.decodeUtf8(this.bytes())
    };

    function CE(e, t) {
        t = t || {}, this.read = t.readOffset || 0, this.growSize = t.growSize || 1024;
        var i = xe.isArrayBuffer(e),
            n = xe.isArrayBufferView(e);
        if (i || n) {
            i ? this.data = new DataView(e) : this.data = new DataView(e.buffer, e.byteOffset, e.byteLength), this.write = "writeOffset" in t ? t.writeOffset : this.data.byteLength;
            return
        }
        this.data = new DataView(new ArrayBuffer(0)), this.write = 0, e != null && this.putBytes(e), "writeOffset" in t && (this.write = t.writeOffset)
    }
    xe.DataBuffer = CE;
    xe.DataBuffer.prototype.length = function() {
        return this.write - this.read
    };
    xe.DataBuffer.prototype.isEmpty = function() {
        return this.length() <= 0
    };
    xe.DataBuffer.prototype.accommodate = function(e, t) {
        if (this.length() >= e) return this;
        t = Math.max(t || this.growSize, e);
        var i = new Uint8Array(this.data.buffer, this.data.byteOffset, this.data.byteLength),
            n = new Uint8Array(this.length() + t);
        return n.set(i), this.data = new DataView(n.buffer), this
    };
    xe.DataBuffer.prototype.putByte = function(e) {
        return this.accommodate(1), this.data.setUint8(this.write++, e), this
    };
    xe.DataBuffer.prototype.fillWithByte = function(e, t) {
        this.accommodate(t);
        for (var i = 0; i < t; ++i) this.data.setUint8(e);
        return this
    };
    xe.DataBuffer.prototype.putBytes = function(e, t) {
        if (xe.isArrayBufferView(e)) {
            var i = new Uint8Array(e.buffer, e.byteOffset, e.byteLength),
                n = i.byteLength - i.byteOffset;
            this.accommodate(n);
            var r = new Uint8Array(this.data.buffer, this.write);
            return r.set(i), this.write += n, this
        }
        if (xe.isArrayBuffer(e)) {
            var i = new Uint8Array(e);
            this.accommodate(i.byteLength);
            var r = new Uint8Array(this.data.buffer);
            return r.set(i, this.write), this.write += i.byteLength, this
        }
        if (e instanceof xe.DataBuffer || typeof e == "object" && typeof e.read == "number" && typeof e.write == "number" && xe.isArrayBufferView(e.data)) {
            var i = new Uint8Array(e.data.byteLength, e.read, e.length());
            this.accommodate(i.byteLength);
            var r = new Uint8Array(e.data.byteLength, this.write);
            return r.set(i), this.write += i.byteLength, this
        }
        if (e instanceof xe.ByteStringBuffer && (e = e.data, t = "binary"), t = t || "binary", typeof e == "string") {
            var a;
            if (t === "hex") return this.accommodate(Math.ceil(e.length / 2)), a = new Uint8Array(this.data.buffer, this.write), this.write += xe.binary.hex.decode(e, a, this.write), this;
            if (t === "base64") return this.accommodate(Math.ceil(e.length / 4) * 3), a = new Uint8Array(this.data.buffer, this.write), this.write += xe.binary.base64.decode(e, a, this.write), this;
            if (t === "utf8" && (e = xe.encodeUtf8(e), t = "binary"), t === "binary" || t === "raw") return this.accommodate(e.length), a = new Uint8Array(this.data.buffer, this.write), this.write += xe.binary.raw.decode(a), this;
            if (t === "utf16") return this.accommodate(e.length * 2), a = new Uint16Array(this.data.buffer, this.write), this.write += xe.text.utf16.encode(a), this;
            throw new Error("Invalid encoding: " + t)
        }
        throw Error("Invalid parameter: " + e)
    };
    xe.DataBuffer.prototype.putBuffer = function(e) {
        return this.putBytes(e), e.clear(), this
    };
    xe.DataBuffer.prototype.putString = function(e) {
        return this.putBytes(e, "utf16")
    };
    xe.DataBuffer.prototype.putInt16 = function(e) {
        return this.accommodate(2), this.data.setInt16(this.write, e), this.write += 2, this
    };
    xe.DataBuffer.prototype.putInt24 = function(e) {
        return this.accommodate(3), this.data.setInt16(this.write, e >> 8 & 65535), this.data.setInt8(this.write, e >> 16 & 255), this.write += 3, this
    };
    xe.DataBuffer.prototype.putInt32 = function(e) {
        return this.accommodate(4), this.data.setInt32(this.write, e), this.write += 4, this
    };
    xe.DataBuffer.prototype.putInt16Le = function(e) {
        return this.accommodate(2), this.data.setInt16(this.write, e, !0), this.write += 2, this
    };
    xe.DataBuffer.prototype.putInt24Le = function(e) {
        return this.accommodate(3), this.data.setInt8(this.write, e >> 16 & 255), this.data.setInt16(this.write, e >> 8 & 65535, !0), this.write += 3, this
    };
    xe.DataBuffer.prototype.putInt32Le = function(e) {
        return this.accommodate(4), this.data.setInt32(this.write, e, !0), this.write += 4, this
    };
    xe.DataBuffer.prototype.putInt = function(e, t) {
        nu(t), this.accommodate(t / 8);
        do t -= 8, this.data.setInt8(this.write++, e >> t & 255); while (t > 0);
        return this
    };
    xe.DataBuffer.prototype.putSignedInt = function(e, t) {
        return nu(t), this.accommodate(t / 8), e < 0 && (e += 2 << t - 1), this.putInt(e, t)
    };
    xe.DataBuffer.prototype.getByte = function() {
        return this.data.getInt8(this.read++)
    };
    xe.DataBuffer.prototype.getInt16 = function() {
        var e = this.data.getInt16(this.read);
        return this.read += 2, e
    };
    xe.DataBuffer.prototype.getInt24 = function() {
        var e = this.data.getInt16(this.read) << 8 ^ this.data.getInt8(this.read + 2);
        return this.read += 3, e
    };
    xe.DataBuffer.prototype.getInt32 = function() {
        var e = this.data.getInt32(this.read);
        return this.read += 4, e
    };
    xe.DataBuffer.prototype.getInt16Le = function() {
        var e = this.data.getInt16(this.read, !0);
        return this.read += 2, e
    };
    xe.DataBuffer.prototype.getInt24Le = function() {
        var e = this.data.getInt8(this.read) ^ this.data.getInt16(this.read + 1, !0) << 8;
        return this.read += 3, e
    };
    xe.DataBuffer.prototype.getInt32Le = function() {
        var e = this.data.getInt32(this.read, !0);
        return this.read += 4, e
    };
    xe.DataBuffer.prototype.getInt = function(e) {
        nu(e);
        var t = 0;
        do t = (t << 8) + this.data.getInt8(this.read++), e -= 8; while (e > 0);
        return t
    };
    xe.DataBuffer.prototype.getSignedInt = function(e) {
        var t = this.getInt(e),
            i = 2 << e - 2;
        return t >= i && (t -= i << 1), t
    };
    xe.DataBuffer.prototype.getBytes = function(e) {
        var t;
        return e ? (e = Math.min(this.length(), e), t = this.data.slice(this.read, this.read + e), this.read += e) : e === 0 ? t = "" : (t = this.read === 0 ? this.data : this.data.slice(this.read), this.clear()), t
    };
    xe.DataBuffer.prototype.bytes = function(e) {
        return typeof e > "u" ? this.data.slice(this.read) : this.data.slice(this.read, this.read + e)
    };
    xe.DataBuffer.prototype.at = function(e) {
        return this.data.getUint8(this.read + e)
    };
    xe.DataBuffer.prototype.setAt = function(e, t) {
        return this.data.setUint8(e, t), this
    };
    xe.DataBuffer.prototype.last = function() {
        return this.data.getUint8(this.write - 1)
    };
    xe.DataBuffer.prototype.copy = function() {
        return new xe.DataBuffer(this)
    };
    xe.DataBuffer.prototype.compact = function() {
        if (this.read > 0) {
            var e = new Uint8Array(this.data.buffer, this.read),
                t = new Uint8Array(e.byteLength);
            t.set(e), this.data = new DataView(t), this.write -= this.read, this.read = 0
        }
        return this
    };
    xe.DataBuffer.prototype.clear = function() {
        return this.data = new DataView(new ArrayBuffer(0)), this.read = this.write = 0, this
    };
    xe.DataBuffer.prototype.truncate = function(e) {
        return this.write = Math.max(0, this.length() - e), this.read = Math.min(this.read, this.write), this
    };
    xe.DataBuffer.prototype.toHex = function() {
        for (var e = "", t = this.read; t < this.data.byteLength; ++t) {
            var i = this.data.getUint8(t);
            i < 16 && (e += "0"), e += i.toString(16)
        }
        return e
    };
    xe.DataBuffer.prototype.toString = function(e) {
        var t = new Uint8Array(this.data, this.read, this.length());
        if (e = e || "utf8", e === "binary" || e === "raw") return xe.binary.raw.encode(t);
        if (e === "hex") return xe.binary.hex.encode(t);
        if (e === "base64") return xe.binary.base64.encode(t);
        if (e === "utf8") return xe.text.utf8.decode(t);
        if (e === "utf16") return xe.text.utf16.decode(t);
        throw new Error("Invalid encoding: " + e)
    };
    xe.createBuffer = function(e, t) {
        return t = t || "raw", e !== void 0 && t === "utf8" && (e = xe.encodeUtf8(e)), new xe.ByteBuffer(e)
    };
    xe.fillString = function(e, t) {
        for (var i = ""; t > 0;) t & 1 && (i += e), t >>>= 1, t > 0 && (e += e);
        return i
    };
    xe.xorBytes = function(e, t, i) {
        for (var n = "", r = "", a = "", s = 0, l = 0; i > 0; --i, ++s) r = e.charCodeAt(s) ^ t.charCodeAt(s), l >= 10 && (n += a, a = "", l = 0), a += String.fromCharCode(r), ++l;
        return n += a, n
    };
    xe.hexToBytes = function(e) {
        var t = "",
            i = 0;
        for (e.length & !0 && (i = 1, t += String.fromCharCode(parseInt(e[0], 16))); i < e.length; i += 2) t += String.fromCharCode(parseInt(e.substr(i, 2), 16));
        return t
    };
    xe.bytesToHex = function(e) {
        return xe.createBuffer(e).toHex()
    };
    xe.int32ToBytes = function(e) {
        return String.fromCharCode(e >> 24 & 255) + String.fromCharCode(e >> 16 & 255) + String.fromCharCode(e >> 8 & 255) + String.fromCharCode(e & 255)
    };
    var Js = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",
        eo = [62, -1, -1, -1, 63, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, -1, -1, -1, 64, -1, -1, -1, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, -1, -1, -1, -1, -1, -1, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51],
        vm = "123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";
    xe.encode64 = function(e, t) {
        for (var i = "", n = "", r, a, s, l = 0; l < e.length;) r = e.charCodeAt(l++), a = e.charCodeAt(l++), s = e.charCodeAt(l++), i += Js.charAt(r >> 2), i += Js.charAt((r & 3) << 4 | a >> 4), isNaN(a) ? i += "==" : (i += Js.charAt((a & 15) << 2 | s >> 6), i += isNaN(s) ? "=" : Js.charAt(s & 63)), t && i.length > t && (n += i.substr(0, t) + `\r
`, i = i.substr(t));
        return n += i, n
    };
    xe.decode64 = function(e) {
        e = e.replace(/[^A-Za-z0-9\+\/\=]/g, "");
        for (var t = "", i, n, r, a, s = 0; s < e.length;) i = eo[e.charCodeAt(s++) - 43], n = eo[e.charCodeAt(s++) - 43], r = eo[e.charCodeAt(s++) - 43], a = eo[e.charCodeAt(s++) - 43], t += String.fromCharCode(i << 2 | n >> 4), r !== 64 && (t += String.fromCharCode((n & 15) << 4 | r >> 2), a !== 64 && (t += String.fromCharCode((r & 3) << 6 | a)));
        return t
    };
    xe.encodeUtf8 = function(e) {
        return unescape(encodeURIComponent(e))
    };
    xe.decodeUtf8 = function(e) {
        return decodeURIComponent(escape(e))
    };
    xe.binary = {
        raw: {},
        hex: {},
        base64: {},
        base58: {},
        baseN: {
            encode: mm.encode,
            decode: mm.decode
        }
    };
    xe.binary.raw.encode = function(e) {
        return String.fromCharCode.apply(null, e)
    };
    xe.binary.raw.decode = function(e, t, i) {
        var n = t;
        n || (n = new Uint8Array(e.length)), i = i || 0;
        for (var r = i, a = 0; a < e.length; ++a) n[r++] = e.charCodeAt(a);
        return t ? r - i : n
    };
    xe.binary.hex.encode = xe.bytesToHex;
    xe.binary.hex.decode = function(e, t, i) {
        var n = t;
        n || (n = new Uint8Array(Math.ceil(e.length / 2))), i = i || 0;
        var r = 0,
            a = i;
        for (e.length & 1 && (r = 1, n[a++] = parseInt(e[0], 16)); r < e.length; r += 2) n[a++] = parseInt(e.substr(r, 2), 16);
        return t ? a - i : n
    };
    xe.binary.base64.encode = function(e, t) {
        for (var i = "", n = "", r, a, s, l = 0; l < e.byteLength;) r = e[l++], a = e[l++], s = e[l++], i += Js.charAt(r >> 2), i += Js.charAt((r & 3) << 4 | a >> 4), isNaN(a) ? i += "==" : (i += Js.charAt((a & 15) << 2 | s >> 6), i += isNaN(s) ? "=" : Js.charAt(s & 63)), t && i.length > t && (n += i.substr(0, t) + `\r
`, i = i.substr(t));
        return n += i, n
    };
    xe.binary.base64.decode = function(e, t, i) {
        var n = t;
        n || (n = new Uint8Array(Math.ceil(e.length / 4) * 3)), e = e.replace(/[^A-Za-z0-9\+\/\=]/g, ""), i = i || 0;
        for (var r, a, s, l, u = 0, f = i; u < e.length;) r = eo[e.charCodeAt(u++) - 43], a = eo[e.charCodeAt(u++) - 43], s = eo[e.charCodeAt(u++) - 43], l = eo[e.charCodeAt(u++) - 43], n[f++] = r << 2 | a >> 4, s !== 64 && (n[f++] = (a & 15) << 4 | s >> 2, l !== 64 && (n[f++] = (s & 3) << 6 | l));
        return t ? f - i : n.subarray(0, f)
    };
    xe.binary.base58.encode = function(e, t) {
        return xe.binary.baseN.encode(e, vm, t)
    };
    xe.binary.base58.decode = function(e, t) {
        return xe.binary.baseN.decode(e, vm, t)
    };
    xe.text = {
        utf8: {},
        utf16: {}
    };
    xe.text.utf8.encode = function(e, t, i) {
        e = xe.encodeUtf8(e);
        var n = t;
        n || (n = new Uint8Array(e.length)), i = i || 0;
        for (var r = i, a = 0; a < e.length; ++a) n[r++] = e.charCodeAt(a);
        return t ? r - i : n
    };
    xe.text.utf8.decode = function(e) {
        return xe.decodeUtf8(String.fromCharCode.apply(null, e))
    };
    xe.text.utf16.encode = function(e, t, i) {
        var n = t;
        n || (n = new Uint8Array(e.length * 2));
        var r = new Uint16Array(n.buffer);
        i = i || 0;
        for (var a = i, s = i, l = 0; l < e.length; ++l) r[s++] = e.charCodeAt(l), a += 2;
        return t ? a - i : n
    };
    xe.text.utf16.decode = function(e) {
        return String.fromCharCode.apply(null, new Uint16Array(e.buffer))
    };
    xe.deflate = function(e, t, i) {
        if (t = xe.decode64(e.deflate(xe.encode64(t)).rval), i) {
            var n = 2,
                r = t.charCodeAt(1);
            r & 32 && (n = 6), t = t.substring(n, t.length - 4)
        }
        return t
    };
    xe.inflate = function(e, t, i) {
        var n = e.inflate(xe.encode64(t)).rval;
        return n === null ? null : xe.decode64(n)
    };
    var fh = function(e, t, i) {
            if (!e) throw new Error("WebStorage not available.");
            var n;
            if (i === null ? n = e.removeItem(t) : (i = xe.encode64(JSON.stringify(i)), n = e.setItem(t, i)), typeof n < "u" && n.rval !== !0) {
                var r = new Error(n.error.message);
                throw r.id = n.error.id, r.name = n.error.name, r
            }
        },
        hh = function(e, t) {
            if (!e) throw new Error("WebStorage not available.");
            var i = e.getItem(t);
            if (e.init)
                if (i.rval === null) {
                    if (i.error) {
                        var n = new Error(i.error.message);
                        throw n.id = i.error.id, n.name = i.error.name, n
                    }
                    i = null
                } else i = i.rval;
            return i !== null && (i = JSON.parse(xe.decode64(i))), i
        },
        SE = function(e, t, i, n) {
            var r = hh(e, t);
            r === null && (r = {}), r[i] = n, fh(e, t, r)
        },
        TE = function(e, t, i) {
            var n = hh(e, t);
            return n !== null && (n = i in n ? n[i] : null), n
        },
        LE = function(e, t, i) {
            var n = hh(e, t);
            if (n !== null && i in n) {
                delete n[i];
                var r = !0;
                for (var a in n) {
                    r = !1;
                    break
                }
                r && (n = null), fh(e, t, n)
            }
        },
        kE = function(e, t) {
            fh(e, t, null)
        },
        bc = function(e, t, i) {
            var n = null;
            typeof i > "u" && (i = ["web", "flash"]);
            var r, a = !1,
                s = null;
            for (var l in i) {
                r = i[l];
                try {
                    if (r === "flash" || r === "both") {
                        if (t[0] === null) throw new Error("Flash local storage not available.");
                        n = e.apply(this, t), a = r === "flash"
                    }(r === "web" || r === "both") && (t[0] = localStorage, n = e.apply(this, t), a = !0)
                } catch (u) {
                    s = u
                }
                if (a) break
            }
            if (!a) throw s;
            return n
        };
    xe.setItem = function(e, t, i, n, r) {
        bc(SE, arguments, r)
    };
    xe.getItem = function(e, t, i, n) {
        return bc(TE, arguments, n)
    };
    xe.removeItem = function(e, t, i, n) {
        bc(LE, arguments, n)
    };
    xe.clearItems = function(e, t, i) {
        bc(kE, arguments, i)
    };
    xe.isEmpty = function(e) {
        for (var t in e)
            if (e.hasOwnProperty(t)) return !1;
        return !0
    };
    xe.format = function(e) {
        for (var t = /%./g, i, n, r = 0, a = [], s = 0; i = t.exec(e);) {
            n = e.substring(s, t.lastIndex - 2), n.length > 0 && a.push(n), s = t.lastIndex;
            var l = i[0][1];
            switch (l) {
                case "s":
                case "o":
                    r < arguments.length ? a.push(arguments[r++ + 1]) : a.push("<?>");
                    break;
                case "%":
                    a.push("%");
                    break;
                default:
                    a.push("<%" + l + "?>")
            }
        }
        return a.push(e.substring(s)), a.join("")
    };
    xe.formatNumber = function(e, t, i, n) {
        var r = e,
            a = isNaN(t = Math.abs(t)) ? 2 : t,
            s = i === void 0 ? "," : i,
            l = n === void 0 ? "." : n,
            u = r < 0 ? "-" : "",
            f = parseInt(r = Math.abs(+r || 0).toFixed(a), 10) + "",
            d = f.length > 3 ? f.length % 3 : 0;
        return u + (d ? f.substr(0, d) + l : "") + f.substr(d).replace(/(\d{3})(?=\d)/g, "$1" + l) + (a ? s + Math.abs(r - f).toFixed(a).slice(2) : "")
    };
    xe.formatSize = function(e) {
        return e >= 1073741824 ? e = xe.formatNumber(e / 1073741824, 2, ".", "") + " GiB" : e >= 1048576 ? e = xe.formatNumber(e / 1048576, 2, ".", "") + " MiB" : e >= 1024 ? e = xe.formatNumber(e / 1024, 0) + " KiB" : e = xe.formatNumber(e, 0) + " bytes", e
    };
    xe.bytesFromIP = function(e) {
        return e.indexOf(".") !== -1 ? xe.bytesFromIPv4(e) : e.indexOf(":") !== -1 ? xe.bytesFromIPv6(e) : null
    };
    xe.bytesFromIPv4 = function(e) {
        if (e = e.split("."), e.length !== 4) return null;
        for (var t = xe.createBuffer(), i = 0; i < e.length; ++i) {
            var n = parseInt(e[i], 10);
            if (isNaN(n)) return null;
            t.putByte(n)
        }
        return t.getBytes()
    };
    xe.bytesFromIPv6 = function(e) {
        var t = 0;
        e = e.split(":").filter(function(s) {
            return s.length === 0 && ++t, !0
        });
        for (var i = (8 - e.length + t) * 2, n = xe.createBuffer(), r = 0; r < 8; ++r) {
            if (!e[r] || e[r].length === 0) {
                n.fillWithByte(0, i), i = 0;
                continue
            }
            var a = xe.hexToBytes(e[r]);
            a.length < 2 && n.putByte(0), n.putBytes(a)
        }
        return n.getBytes()
    };
    xe.bytesToIP = function(e) {
        return e.length === 4 ? xe.bytesToIPv4(e) : e.length === 16 ? xe.bytesToIPv6(e) : null
    };
    xe.bytesToIPv4 = function(e) {
        if (e.length !== 4) return null;
        for (var t = [], i = 0; i < e.length; ++i) t.push(e.charCodeAt(i));
        return t.join(".")
    };
    xe.bytesToIPv6 = function(e) {
        if (e.length !== 16) return null;
        for (var t = [], i = [], n = 0, r = 0; r < e.length; r += 2) {
            for (var a = xe.bytesToHex(e[r] + e[r + 1]); a[0] === "0" && a !== "0";) a = a.substr(1);
            if (a === "0") {
                var s = i[i.length - 1],
                    l = t.length;
                !s || l !== s.end + 1 ? i.push({
                    start: l,
                    end: l
                }) : (s.end = l, s.end - s.start > i[n].end - i[n].start && (n = i.length - 1))
            }
            t.push(a)
        }
        if (i.length > 0) {
            var u = i[n];
            u.end - u.start > 0 && (t.splice(u.start, u.end - u.start + 1, ""), u.start === 0 && t.unshift(""), u.end === 7 && t.push(""))
        }
        return t.join(":")
    };
    xe.estimateCores = function(e, t) {
        if (typeof e == "function" && (t = e, e = {}), e = e || {}, "cores" in xe && !e.update) return t(null, xe.cores);
        if (typeof navigator < "u" && "hardwareConcurrency" in navigator && navigator.hardwareConcurrency > 0) return xe.cores = navigator.hardwareConcurrency, t(null, xe.cores);
        if (typeof Worker > "u") return xe.cores = 1, t(null, xe.cores);
        if (typeof Blob > "u") return xe.cores = 2, t(null, xe.cores);
        var i = URL.createObjectURL(new Blob(["(", function() {
            self.addEventListener("message", function(s) {
                for (var l = Date.now(), u = l + 4; Date.now() < u;);
                self.postMessage({
                    st: l,
                    et: u
                })
            })
        }.toString(), ")()"], {
            type: "application/javascript"
        }));
        n([], 5, 16);

        function n(s, l, u) {
            if (l === 0) {
                var f = Math.floor(s.reduce(function(d, m) {
                    return d + m
                }, 0) / s.length);
                return xe.cores = Math.max(1, f), URL.revokeObjectURL(i), t(null, xe.cores)
            }
            r(u, function(d, m) {
                s.push(a(u, m)), n(s, l - 1, u)
            })
        }

        function r(s, l) {
            for (var u = [], f = [], d = 0; d < s; ++d) {
                var m = new Worker(i);
                m.addEventListener("message", function(T) {
                    if (f.push(T.data), f.length === s) {
                        for (var x = 0; x < s; ++x) u[x].terminate();
                        l(null, f)
                    }
                }), u.push(m)
            }
            for (var d = 0; d < s; ++d) u[d].postMessage(d)
        }

        function a(s, l) {
            for (var u = [], f = 0; f < s; ++f)
                for (var d = l[f], m = u[f] = [], T = 0; T < s; ++T)
                    if (f !== T) {
                        var x = l[T];
                        (d.st > x.st && d.st < x.et || x.st > d.st && x.st < d.et) && m.push(T)
                    }
            return u.reduce(function(C, N) {
                return Math.max(C, N.length)
            }, 0)
        }
    }
});
var xc = Ke((_R, _m) => {
    var ar = ui();
    Pi();
    _m.exports = ar.cipher = ar.cipher || {};
    ar.cipher.algorithms = ar.cipher.algorithms || {};
    ar.cipher.createCipher = function(e, t) {
        var i = e;
        if (typeof i == "string" && (i = ar.cipher.getAlgorithm(i), i && (i = i())), !i) throw new Error("Unsupported algorithm: " + e);
        return new ar.cipher.BlockCipher({
            algorithm: i,
            key: t,
            decrypt: !1
        })
    };
    ar.cipher.createDecipher = function(e, t) {
        var i = e;
        if (typeof i == "string" && (i = ar.cipher.getAlgorithm(i), i && (i = i())), !i) throw new Error("Unsupported algorithm: " + e);
        return new ar.cipher.BlockCipher({
            algorithm: i,
            key: t,
            decrypt: !0
        })
    };
    ar.cipher.registerAlgorithm = function(e, t) {
        e = e.toUpperCase(), ar.cipher.algorithms[e] = t
    };
    ar.cipher.getAlgorithm = function(e) {
        return e = e.toUpperCase(), e in ar.cipher.algorithms ? ar.cipher.algorithms[e] : null
    };
    var dh = ar.cipher.BlockCipher = function(e) {
        this.algorithm = e.algorithm, this.mode = this.algorithm.mode, this.blockSize = this.mode.blockSize, this._finish = !1, this._input = null, this.output = null, this._op = e.decrypt ? this.mode.decrypt : this.mode.encrypt, this._decrypt = e.decrypt, this.algorithm.initialize(e)
    };
    dh.prototype.start = function(e) {
        e = e || {};
        var t = {};
        for (var i in e) t[i] = e[i];
        t.decrypt = this._decrypt, this._finish = !1, this._input = ar.util.createBuffer(), this.output = e.output || ar.util.createBuffer(), this.mode.start(t)
    };
    dh.prototype.update = function(e) {
        for (e && this._input.putBuffer(e); !this._op.call(this.mode, this._input, this.output, this._finish) && !this._finish;);
        this._input.compact()
    };
    dh.prototype.finish = function(e) {
        e && (this.mode.name === "ECB" || this.mode.name === "CBC") && (this.mode.pad = function(i) {
            return e(this.blockSize, i, !1)
        }, this.mode.unpad = function(i) {
            return e(this.blockSize, i, !0)
        });
        var t = {};
        return t.decrypt = this._decrypt, t.overflow = this._input.length() % this.blockSize, !(!this._decrypt && this.mode.pad && !this.mode.pad(this._input, t) || (this._finish = !0, this.update(), this._decrypt && this.mode.unpad && !this.mode.unpad(this.output, t)) || this.mode.afterFinish && !this.mode.afterFinish(this.output, t))
    }
});
var gh = Ke((bR, bm) => {
    var sr = ui();
    Pi();
    sr.cipher = sr.cipher || {};
    var yi = bm.exports = sr.cipher.modes = sr.cipher.modes || {};
    yi.ecb = function(e) {
        e = e || {}, this.name = "ECB", this.cipher = e.cipher, this.blockSize = e.blockSize || 16, this._ints = this.blockSize / 4, this._inBlock = new Array(this._ints), this._outBlock = new Array(this._ints)
    };
    yi.ecb.prototype.start = function(e) {};
    yi.ecb.prototype.encrypt = function(e, t, i) {
        if (e.length() < this.blockSize && !(i && e.length() > 0)) return !0;
        for (var n = 0; n < this._ints; ++n) this._inBlock[n] = e.getInt32();
        this.cipher.encrypt(this._inBlock, this._outBlock);
        for (var n = 0; n < this._ints; ++n) t.putInt32(this._outBlock[n])
    };
    yi.ecb.prototype.decrypt = function(e, t, i) {
        if (e.length() < this.blockSize && !(i && e.length() > 0)) return !0;
        for (var n = 0; n < this._ints; ++n) this._inBlock[n] = e.getInt32();
        this.cipher.decrypt(this._inBlock, this._outBlock);
        for (var n = 0; n < this._ints; ++n) t.putInt32(this._outBlock[n])
    };
    yi.ecb.prototype.pad = function(e, t) {
        var i = e.length() === this.blockSize ? this.blockSize : this.blockSize - e.length();
        return e.fillWithByte(i, i), !0
    };
    yi.ecb.prototype.unpad = function(e, t) {
        if (t.overflow > 0) return !1;
        var i = e.length(),
            n = e.at(i - 1);
        return n > this.blockSize << 2 ? !1 : (e.truncate(n), !0)
    };
    yi.cbc = function(e) {
        e = e || {}, this.name = "CBC", this.cipher = e.cipher, this.blockSize = e.blockSize || 16, this._ints = this.blockSize / 4, this._inBlock = new Array(this._ints), this._outBlock = new Array(this._ints)
    };
    yi.cbc.prototype.start = function(e) {
        if (e.iv === null) {
            if (!this._prev) throw new Error("Invalid IV parameter.");
            this._iv = this._prev.slice(0)
        } else if ("iv" in e) this._iv = wc(e.iv, this.blockSize), this._prev = this._iv.slice(0);
        else throw new Error("Invalid IV parameter.")
    };
    yi.cbc.prototype.encrypt = function(e, t, i) {
        if (e.length() < this.blockSize && !(i && e.length() > 0)) return !0;
        for (var n = 0; n < this._ints; ++n) this._inBlock[n] = this._prev[n] ^ e.getInt32();
        this.cipher.encrypt(this._inBlock, this._outBlock);
        for (var n = 0; n < this._ints; ++n) t.putInt32(this._outBlock[n]);
        this._prev = this._outBlock
    };
    yi.cbc.prototype.decrypt = function(e, t, i) {
        if (e.length() < this.blockSize && !(i && e.length() > 0)) return !0;
        for (var n = 0; n < this._ints; ++n) this._inBlock[n] = e.getInt32();
        this.cipher.decrypt(this._inBlock, this._outBlock);
        for (var n = 0; n < this._ints; ++n) t.putInt32(this._prev[n] ^ this._outBlock[n]);
        this._prev = this._inBlock.slice(0)
    };
    yi.cbc.prototype.pad = function(e, t) {
        var i = e.length() === this.blockSize ? this.blockSize : this.blockSize - e.length();
        return e.fillWithByte(i, i), !0
    };
    yi.cbc.prototype.unpad = function(e, t) {
        if (t.overflow > 0) return !1;
        var i = e.length(),
            n = e.at(i - 1);
        return n > this.blockSize << 2 ? !1 : (e.truncate(n), !0)
    };
    yi.cfb = function(e) {
        e = e || {}, this.name = "CFB", this.cipher = e.cipher, this.blockSize = e.blockSize || 16, this._ints = this.blockSize / 4, this._inBlock = null, this._outBlock = new Array(this._ints), this._partialBlock = new Array(this._ints), this._partialOutput = sr.util.createBuffer(), this._partialBytes = 0
    };
    yi.cfb.prototype.start = function(e) {
        if (!("iv" in e)) throw new Error("Invalid IV parameter.");
        this._iv = wc(e.iv, this.blockSize), this._inBlock = this._iv.slice(0), this._partialBytes = 0
    };
    yi.cfb.prototype.encrypt = function(e, t, i) {
        var n = e.length();
        if (n === 0) return !0;
        if (this.cipher.encrypt(this._inBlock, this._outBlock), this._partialBytes === 0 && n >= this.blockSize) {
            for (var r = 0; r < this._ints; ++r) this._inBlock[r] = e.getInt32() ^ this._outBlock[r], t.putInt32(this._inBlock[r]);
            return
        }
        var a = (this.blockSize - n) % this.blockSize;
        a > 0 && (a = this.blockSize - a), this._partialOutput.clear();
        for (var r = 0; r < this._ints; ++r) this._partialBlock[r] = e.getInt32() ^ this._outBlock[r], this._partialOutput.putInt32(this._partialBlock[r]);
        if (a > 0) e.read -= this.blockSize;
        else
            for (var r = 0; r < this._ints; ++r) this._inBlock[r] = this._partialBlock[r];
        if (this._partialBytes > 0 && this._partialOutput.getBytes(this._partialBytes), a > 0 && !i) return t.putBytes(this._partialOutput.getBytes(a - this._partialBytes)), this._partialBytes = a, !0;
        t.putBytes(this._partialOutput.getBytes(n - this._partialBytes)), this._partialBytes = 0
    };
    yi.cfb.prototype.decrypt = function(e, t, i) {
        var n = e.length();
        if (n === 0) return !0;
        if (this.cipher.encrypt(this._inBlock, this._outBlock), this._partialBytes === 0 && n >= this.blockSize) {
            for (var r = 0; r < this._ints; ++r) this._inBlock[r] = e.getInt32(), t.putInt32(this._inBlock[r] ^ this._outBlock[r]);
            return
        }
        var a = (this.blockSize - n) % this.blockSize;
        a > 0 && (a = this.blockSize - a), this._partialOutput.clear();
        for (var r = 0; r < this._ints; ++r) this._partialBlock[r] = e.getInt32(), this._partialOutput.putInt32(this._partialBlock[r] ^ this._outBlock[r]);
        if (a > 0) e.read -= this.blockSize;
        else
            for (var r = 0; r < this._ints; ++r) this._inBlock[r] = this._partialBlock[r];
        if (this._partialBytes > 0 && this._partialOutput.getBytes(this._partialBytes), a > 0 && !i) return t.putBytes(this._partialOutput.getBytes(a - this._partialBytes)), this._partialBytes = a, !0;
        t.putBytes(this._partialOutput.getBytes(n - this._partialBytes)), this._partialBytes = 0
    };
    yi.ofb = function(e) {
        e = e || {}, this.name = "OFB", this.cipher = e.cipher, this.blockSize = e.blockSize || 16, this._ints = this.blockSize / 4, this._inBlock = null, this._outBlock = new Array(this._ints), this._partialOutput = sr.util.createBuffer(), this._partialBytes = 0
    };
    yi.ofb.prototype.start = function(e) {
        if (!("iv" in e)) throw new Error("Invalid IV parameter.");
        this._iv = wc(e.iv, this.blockSize), this._inBlock = this._iv.slice(0), this._partialBytes = 0
    };
    yi.ofb.prototype.encrypt = function(e, t, i) {
        var n = e.length();
        if (e.length() === 0) return !0;
        if (this.cipher.encrypt(this._inBlock, this._outBlock), this._partialBytes === 0 && n >= this.blockSize) {
            for (var r = 0; r < this._ints; ++r) t.putInt32(e.getInt32() ^ this._outBlock[r]), this._inBlock[r] = this._outBlock[r];
            return
        }
        var a = (this.blockSize - n) % this.blockSize;
        a > 0 && (a = this.blockSize - a), this._partialOutput.clear();
        for (var r = 0; r < this._ints; ++r) this._partialOutput.putInt32(e.getInt32() ^ this._outBlock[r]);
        if (a > 0) e.read -= this.blockSize;
        else
            for (var r = 0; r < this._ints; ++r) this._inBlock[r] = this._outBlock[r];
        if (this._partialBytes > 0 && this._partialOutput.getBytes(this._partialBytes), a > 0 && !i) return t.putBytes(this._partialOutput.getBytes(a - this._partialBytes)), this._partialBytes = a, !0;
        t.putBytes(this._partialOutput.getBytes(n - this._partialBytes)), this._partialBytes = 0
    };
    yi.ofb.prototype.decrypt = yi.ofb.prototype.encrypt;
    yi.ctr = function(e) {
        e = e || {}, this.name = "CTR", this.cipher = e.cipher, this.blockSize = e.blockSize || 16, this._ints = this.blockSize / 4, this._inBlock = null, this._outBlock = new Array(this._ints), this._partialOutput = sr.util.createBuffer(), this._partialBytes = 0
    };
    yi.ctr.prototype.start = function(e) {
        if (!("iv" in e)) throw new Error("Invalid IV parameter.");
        this._iv = wc(e.iv, this.blockSize), this._inBlock = this._iv.slice(0), this._partialBytes = 0
    };
    yi.ctr.prototype.encrypt = function(e, t, i) {
        var n = e.length();
        if (n === 0) return !0;
        if (this.cipher.encrypt(this._inBlock, this._outBlock), this._partialBytes === 0 && n >= this.blockSize)
            for (var r = 0; r < this._ints; ++r) t.putInt32(e.getInt32() ^ this._outBlock[r]);
        else {
            var a = (this.blockSize - n) % this.blockSize;
            a > 0 && (a = this.blockSize - a), this._partialOutput.clear();
            for (var r = 0; r < this._ints; ++r) this._partialOutput.putInt32(e.getInt32() ^ this._outBlock[r]);
            if (a > 0 && (e.read -= this.blockSize), this._partialBytes > 0 && this._partialOutput.getBytes(this._partialBytes), a > 0 && !i) return t.putBytes(this._partialOutput.getBytes(a - this._partialBytes)), this._partialBytes = a, !0;
            t.putBytes(this._partialOutput.getBytes(n - this._partialBytes)), this._partialBytes = 0
        }
        Ec(this._inBlock)
    };
    yi.ctr.prototype.decrypt = yi.ctr.prototype.encrypt;
    yi.gcm = function(e) {
        e = e || {}, this.name = "GCM", this.cipher = e.cipher, this.blockSize = e.blockSize || 16, this._ints = this.blockSize / 4, this._inBlock = new Array(this._ints), this._outBlock = new Array(this._ints), this._partialOutput = sr.util.createBuffer(), this._partialBytes = 0, this._R = 3774873600
    };
    yi.gcm.prototype.start = function(e) {
        if (!("iv" in e)) throw new Error("Invalid IV parameter.");
        var t = sr.util.createBuffer(e.iv);
        this._cipherLength = 0;
        var i;
        if ("additionalData" in e ? i = sr.util.createBuffer(e.additionalData) : i = sr.util.createBuffer(), "tagLength" in e ? this._tagLength = e.tagLength : this._tagLength = 128, this._tag = null, e.decrypt && (this._tag = sr.util.createBuffer(e.tag).getBytes(), this._tag.length !== this._tagLength / 8)) throw new Error("Authentication tag does not match tag length.");
        this._hashBlock = new Array(this._ints), this.tag = null, this._hashSubkey = new Array(this._ints), this.cipher.encrypt([0, 0, 0, 0], this._hashSubkey), this.componentBits = 4, this._m = this.generateHashTable(this._hashSubkey, this.componentBits);
        var n = t.length();
        if (n === 12) this._j0 = [t.getInt32(), t.getInt32(), t.getInt32(), 1];
        else {
            for (this._j0 = [0, 0, 0, 0]; t.length() > 0;) this._j0 = this.ghash(this._hashSubkey, this._j0, [t.getInt32(), t.getInt32(), t.getInt32(), t.getInt32()]);
            this._j0 = this.ghash(this._hashSubkey, this._j0, [0, 0].concat(ph(n * 8)))
        }
        this._inBlock = this._j0.slice(0), Ec(this._inBlock), this._partialBytes = 0, i = sr.util.createBuffer(i), this._aDataLength = ph(i.length() * 8);
        var r = i.length() % this.blockSize;
        for (r && i.fillWithByte(0, this.blockSize - r), this._s = [0, 0, 0, 0]; i.length() > 0;) this._s = this.ghash(this._hashSubkey, this._s, [i.getInt32(), i.getInt32(), i.getInt32(), i.getInt32()])
    };
    yi.gcm.prototype.encrypt = function(e, t, i) {
        var n = e.length();
        if (n === 0) return !0;
        if (this.cipher.encrypt(this._inBlock, this._outBlock), this._partialBytes === 0 && n >= this.blockSize) {
            for (var r = 0; r < this._ints; ++r) t.putInt32(this._outBlock[r] ^= e.getInt32());
            this._cipherLength += this.blockSize
        } else {
            var a = (this.blockSize - n) % this.blockSize;
            a > 0 && (a = this.blockSize - a), this._partialOutput.clear();
            for (var r = 0; r < this._ints; ++r) this._partialOutput.putInt32(e.getInt32() ^ this._outBlock[r]);
            if (a <= 0 || i) {
                if (i) {
                    var s = n % this.blockSize;
                    this._cipherLength += s, this._partialOutput.truncate(this.blockSize - s)
                } else this._cipherLength += this.blockSize;
                for (var r = 0; r < this._ints; ++r) this._outBlock[r] = this._partialOutput.getInt32();
                this._partialOutput.read -= this.blockSize
            }
            if (this._partialBytes > 0 && this._partialOutput.getBytes(this._partialBytes), a > 0 && !i) return e.read -= this.blockSize, t.putBytes(this._partialOutput.getBytes(a - this._partialBytes)), this._partialBytes = a, !0;
            t.putBytes(this._partialOutput.getBytes(n - this._partialBytes)), this._partialBytes = 0
        }
        this._s = this.ghash(this._hashSubkey, this._s, this._outBlock), Ec(this._inBlock)
    };
    yi.gcm.prototype.decrypt = function(e, t, i) {
        var n = e.length();
        if (n < this.blockSize && !(i && n > 0)) return !0;
        this.cipher.encrypt(this._inBlock, this._outBlock), Ec(this._inBlock), this._hashBlock[0] = e.getInt32(), this._hashBlock[1] = e.getInt32(), this._hashBlock[2] = e.getInt32(), this._hashBlock[3] = e.getInt32(), this._s = this.ghash(this._hashSubkey, this._s, this._hashBlock);
        for (var r = 0; r < this._ints; ++r) t.putInt32(this._outBlock[r] ^ this._hashBlock[r]);
        n < this.blockSize ? this._cipherLength += n % this.blockSize : this._cipherLength += this.blockSize
    };
    yi.gcm.prototype.afterFinish = function(e, t) {
        var i = !0;
        t.decrypt && t.overflow && e.truncate(this.blockSize - t.overflow), this.tag = sr.util.createBuffer();
        var n = this._aDataLength.concat(ph(this._cipherLength * 8));
        this._s = this.ghash(this._hashSubkey, this._s, n);
        var r = [];
        this.cipher.encrypt(this._j0, r);
        for (var a = 0; a < this._ints; ++a) this.tag.putInt32(this._s[a] ^ r[a]);
        return this.tag.truncate(this.tag.length() % (this._tagLength / 8)), t.decrypt && this.tag.bytes() !== this._tag && (i = !1), i
    };
    yi.gcm.prototype.multiply = function(e, t) {
        for (var i = [0, 0, 0, 0], n = t.slice(0), r = 0; r < 128; ++r) {
            var a = e[r / 32 | 0] & 1 << 31 - r % 32;
            a && (i[0] ^= n[0], i[1] ^= n[1], i[2] ^= n[2], i[3] ^= n[3]), this.pow(n, n)
        }
        return i
    };
    yi.gcm.prototype.pow = function(e, t) {
        for (var i = e[3] & 1, n = 3; n > 0; --n) t[n] = e[n] >>> 1 | (e[n - 1] & 1) << 31;
        t[0] = e[0] >>> 1, i && (t[0] ^= this._R)
    };
    yi.gcm.prototype.tableMultiply = function(e) {
        for (var t = [0, 0, 0, 0], i = 0; i < 32; ++i) {
            var n = i / 8 | 0,
                r = e[n] >>> (7 - i % 8) * 4 & 15,
                a = this._m[i][r];
            t[0] ^= a[0], t[1] ^= a[1], t[2] ^= a[2], t[3] ^= a[3]
        }
        return t
    };
    yi.gcm.prototype.ghash = function(e, t, i) {
        return t[0] ^= i[0], t[1] ^= i[1], t[2] ^= i[2], t[3] ^= i[3], this.tableMultiply(t)
    };
    yi.gcm.prototype.generateHashTable = function(e, t) {
        for (var i = 8 / t, n = 4 * i, r = 16 * i, a = new Array(r), s = 0; s < r; ++s) {
            var l = [0, 0, 0, 0],
                u = s / n | 0,
                f = (n - 1 - s % n) * t;
            l[u] = 1 << t - 1 << f, a[s] = this.generateSubHashTable(this.multiply(l, e), t)
        }
        return a
    };
    yi.gcm.prototype.generateSubHashTable = function(e, t) {
        var i = 1 << t,
            n = i >>> 1,
            r = new Array(i);
        r[n] = e.slice(0);
        for (var a = n >>> 1; a > 0;) this.pow(r[2 * a], r[a] = []), a >>= 1;
        for (a = 2; a < n;) {
            for (var s = 1; s < a; ++s) {
                var l = r[a],
                    u = r[s];
                r[a + s] = [l[0] ^ u[0], l[1] ^ u[1], l[2] ^ u[2], l[3] ^ u[3]]
            }
            a *= 2
        }
        for (r[0] = [0, 0, 0, 0], a = n + 1; a < i; ++a) {
            var f = r[a ^ n];
            r[a] = [e[0] ^ f[0], e[1] ^ f[1], e[2] ^ f[2], e[3] ^ f[3]]
        }
        return r
    };

    function wc(e, t) {
        if (typeof e == "string" && (e = sr.util.createBuffer(e)), sr.util.isArray(e) && e.length > 4) {
            var i = e;
            e = sr.util.createBuffer();
            for (var n = 0; n < i.length; ++n) e.putByte(i[n])
        }
        if (e.length() < t) throw new Error("Invalid IV length; got " + e.length() + " bytes and expected " + t + " bytes.");
        if (!sr.util.isArray(e)) {
            for (var r = [], a = t / 4, n = 0; n < a; ++n) r.push(e.getInt32());
            e = r
        }
        return e
    }

    function Ec(e) {
        e[e.length - 1] = e[e.length - 1] + 1 & 4294967295
    }

    function ph(e) {
        return [e / 4294967296 | 0, e & 4294967295]
    }
});
var to = Ke((xR, Cm) => {
    var nn = ui();
    xc();
    gh();
    Pi();
    Cm.exports = nn.aes = nn.aes || {};
    nn.aes.startEncrypting = function(e, t, i, n) {
        var r = Cc({
            key: e,
            output: i,
            decrypt: !1,
            mode: n
        });
        return r.start(t), r
    };
    nn.aes.createEncryptionCipher = function(e, t) {
        return Cc({
            key: e,
            output: null,
            decrypt: !1,
            mode: t
        })
    };
    nn.aes.startDecrypting = function(e, t, i, n) {
        var r = Cc({
            key: e,
            output: i,
            decrypt: !0,
            mode: n
        });
        return r.start(t), r
    };
    nn.aes.createDecryptionCipher = function(e, t) {
        return Cc({
            key: e,
            output: null,
            decrypt: !0,
            mode: t
        })
    };
    nn.aes.Algorithm = function(e, t) {
        yh || wm();
        var i = this;
        i.name = e, i.mode = new t({
            blockSize: 16,
            cipher: {
                encrypt: function(n, r) {
                    return vh(i._w, n, r, !1)
                },
                decrypt: function(n, r) {
                    return vh(i._w, n, r, !0)
                }
            }
        }), i._init = !1
    };
    nn.aes.Algorithm.prototype.initialize = function(e) {
        if (!this._init) {
            var t = e.key,
                i;
            if (typeof t == "string" && (t.length === 16 || t.length === 24 || t.length === 32)) t = nn.util.createBuffer(t);
            else if (nn.util.isArray(t) && (t.length === 16 || t.length === 24 || t.length === 32)) {
                i = t, t = nn.util.createBuffer();
                for (var n = 0; n < i.length; ++n) t.putByte(i[n])
            }
            if (!nn.util.isArray(t)) {
                i = t, t = [];
                var r = i.length();
                if (r === 16 || r === 24 || r === 32) {
                    r = r >>> 2;
                    for (var n = 0; n < r; ++n) t.push(i.getInt32())
                }
            }
            if (!nn.util.isArray(t) || !(t.length === 4 || t.length === 6 || t.length === 8)) throw new Error("Invalid key parameter.");
            var a = this.mode.name,
                s = ["CFB", "OFB", "CTR", "GCM"].indexOf(a) !== -1;
            this._w = Em(t, e.decrypt && !s), this._init = !0
        }
    };
    nn.aes._expandKey = function(e, t) {
        return yh || wm(), Em(e, t)
    };
    nn.aes._updateBlock = vh;
    hl("AES-ECB", nn.cipher.modes.ecb);
    hl("AES-CBC", nn.cipher.modes.cbc);
    hl("AES-CFB", nn.cipher.modes.cfb);
    hl("AES-OFB", nn.cipher.modes.ofb);
    hl("AES-CTR", nn.cipher.modes.ctr);
    hl("AES-GCM", nn.cipher.modes.gcm);

    function hl(e, t) {
        var i = function() {
            return new nn.aes.Algorithm(e, t)
        };
        nn.cipher.registerAlgorithm(e, i)
    }
    var yh = !1,
        fl = 4,
        Fr, mh, xm, Bo, qa;

    function wm() {
        yh = !0, xm = [0, 1, 2, 4, 8, 16, 32, 64, 128, 27, 54];
        for (var e = new Array(256), t = 0; t < 128; ++t) e[t] = t << 1, e[t + 128] = t + 128 << 1 ^ 283;
        Fr = new Array(256), mh = new Array(256), Bo = new Array(4), qa = new Array(4);
        for (var t = 0; t < 4; ++t) Bo[t] = new Array(256), qa[t] = new Array(256);
        for (var i = 0, n = 0, r, a, s, l, u, f, d, t = 0; t < 256; ++t) {
            l = n ^ n << 1 ^ n << 2 ^ n << 3 ^ n << 4, l = l >> 8 ^ l & 255 ^ 99, Fr[i] = l, mh[l] = i, u = e[l], r = e[i], a = e[r], s = e[a], f = u << 24 ^ l << 16 ^ l << 8 ^ (l ^ u), d = (r ^ a ^ s) << 24 ^ (i ^ s) << 16 ^ (i ^ a ^ s) << 8 ^ (i ^ r ^ s);
            for (var m = 0; m < 4; ++m) Bo[m][i] = f, qa[m][l] = d, f = f << 24 | f >>> 8, d = d << 24 | d >>> 8;
            i === 0 ? i = n = 1 : (i = r ^ e[e[e[r ^ s]]], n ^= e[e[n]])
        }
    }

    function Em(e, t) {
        for (var i = e.slice(0), n, r = 1, a = i.length, s = a + 6 + 1, l = fl * s, u = a; u < l; ++u) n = i[u - 1], u % a === 0 ? (n = Fr[n >>> 16 & 255] << 24 ^ Fr[n >>> 8 & 255] << 16 ^ Fr[n & 255] << 8 ^ Fr[n >>> 24] ^ xm[r] << 24, r++) : a > 6 && u % a === 4 && (n = Fr[n >>> 24] << 24 ^ Fr[n >>> 16 & 255] << 16 ^ Fr[n >>> 8 & 255] << 8 ^ Fr[n & 255]), i[u] = i[u - a] ^ n;
        if (t) {
            var f, d = qa[0],
                m = qa[1],
                T = qa[2],
                x = qa[3],
                C = i.slice(0);
            l = i.length;
            for (var u = 0, N = l - fl; u < l; u += fl, N -= fl)
                if (u === 0 || u === l - fl) C[u] = i[N], C[u + 1] = i[N + 3], C[u + 2] = i[N + 2], C[u + 3] = i[N + 1];
                else
                    for (var E = 0; E < fl; ++E) f = i[N + E], C[u + (3 & -E)] = d[Fr[f >>> 24]] ^ m[Fr[f >>> 16 & 255]] ^ T[Fr[f >>> 8 & 255]] ^ x[Fr[f & 255]];
            i = C
        }
        return i
    }

    function vh(e, t, i, n) {
        var r = e.length / 4 - 1,
            a, s, l, u, f;
        n ? (a = qa[0], s = qa[1], l = qa[2], u = qa[3], f = mh) : (a = Bo[0], s = Bo[1], l = Bo[2], u = Bo[3], f = Fr);
        var d, m, T, x, C, N, E;
        d = t[0] ^ e[0], m = t[n ? 3 : 1] ^ e[1], T = t[2] ^ e[2], x = t[n ? 1 : 3] ^ e[3];
        for (var O = 3, D = 1; D < r; ++D) C = a[d >>> 24] ^ s[m >>> 16 & 255] ^ l[T >>> 8 & 255] ^ u[x & 255] ^ e[++O], N = a[m >>> 24] ^ s[T >>> 16 & 255] ^ l[x >>> 8 & 255] ^ u[d & 255] ^ e[++O], E = a[T >>> 24] ^ s[x >>> 16 & 255] ^ l[d >>> 8 & 255] ^ u[m & 255] ^ e[++O], x = a[x >>> 24] ^ s[d >>> 16 & 255] ^ l[m >>> 8 & 255] ^ u[T & 255] ^ e[++O], d = C, m = N, T = E;
        i[0] = f[d >>> 24] << 24 ^ f[m >>> 16 & 255] << 16 ^ f[T >>> 8 & 255] << 8 ^ f[x & 255] ^ e[++O], i[n ? 3 : 1] = f[m >>> 24] << 24 ^ f[T >>> 16 & 255] << 16 ^ f[x >>> 8 & 255] << 8 ^ f[d & 255] ^ e[++O], i[2] = f[T >>> 24] << 24 ^ f[x >>> 16 & 255] << 16 ^ f[d >>> 8 & 255] << 8 ^ f[m & 255] ^ e[++O], i[n ? 1 : 3] = f[x >>> 24] << 24 ^ f[d >>> 16 & 255] << 16 ^ f[m >>> 8 & 255] << 8 ^ f[T & 255] ^ e[++O]
    }

    function Cc(e) {
        e = e || {};
        var t = (e.mode || "CBC").toUpperCase(),
            i = "AES-" + t,
            n;
        e.decrypt ? n = nn.cipher.createDecipher(i, e.key) : n = nn.cipher.createCipher(i, e.key);
        var r = n.start;
        return n.start = function(a, s) {
            var l = null;
            s instanceof nn.util.ByteBuffer && (l = s, s = {}), s = s || {}, s.output = l, s.iv = a, r.call(n, s)
        }, n
    }
});
var io = Ke((wR, Sm) => {
    var ru = ui();
    ru.pki = ru.pki || {};
    var _h = Sm.exports = ru.pki.oids = ru.oids = ru.oids || {};

    function st(e, t) {
        _h[e] = t, _h[t] = e
    }

    function qi(e, t) {
        _h[e] = t
    }
    st("1.2.840.113549.1.1.1", "rsaEncryption");
    st("1.2.840.113549.1.1.4", "md5WithRSAEncryption");
    st("1.2.840.113549.1.1.5", "sha1WithRSAEncryption");
    st("1.2.840.113549.1.1.7", "RSAES-OAEP");
    st("1.2.840.113549.1.1.8", "mgf1");
    st("1.2.840.113549.1.1.9", "pSpecified");
    st("1.2.840.113549.1.1.10", "RSASSA-PSS");
    st("1.2.840.113549.1.1.11", "sha256WithRSAEncryption");
    st("1.2.840.113549.1.1.12", "sha384WithRSAEncryption");
    st("1.2.840.113549.1.1.13", "sha512WithRSAEncryption");
    st("1.3.101.112", "EdDSA25519");
    st("1.2.840.10040.4.3", "dsa-with-sha1");
    st("1.3.14.3.2.7", "desCBC");
    st("1.3.14.3.2.26", "sha1");
    st("1.3.14.3.2.29", "sha1WithRSASignature");
    st("2.16.840.1.101.3.4.2.1", "sha256");
    st("2.16.840.1.101.3.4.2.2", "sha384");
    st("2.16.840.1.101.3.4.2.3", "sha512");
    st("2.16.840.1.101.3.4.2.4", "sha224");
    st("2.16.840.1.101.3.4.2.5", "sha512-224");
    st("2.16.840.1.101.3.4.2.6", "sha512-256");
    st("1.2.840.113549.2.2", "md2");
    st("1.2.840.113549.2.5", "md5");
    st("1.2.840.113549.1.7.1", "data");
    st("1.2.840.113549.1.7.2", "signedData");
    st("1.2.840.113549.1.7.3", "envelopedData");
    st("1.2.840.113549.1.7.4", "signedAndEnvelopedData");
    st("1.2.840.113549.1.7.5", "digestedData");
    st("1.2.840.113549.1.7.6", "encryptedData");
    st("1.2.840.113549.1.9.1", "emailAddress");
    st("1.2.840.113549.1.9.2", "unstructuredName");
    st("1.2.840.113549.1.9.3", "contentType");
    st("1.2.840.113549.1.9.4", "messageDigest");
    st("1.2.840.113549.1.9.5", "signingTime");
    st("1.2.840.113549.1.9.6", "counterSignature");
    st("1.2.840.113549.1.9.7", "challengePassword");
    st("1.2.840.113549.1.9.8", "unstructuredAddress");
    st("1.2.840.113549.1.9.14", "extensionRequest");
    st("1.2.840.113549.1.9.20", "friendlyName");
    st("1.2.840.113549.1.9.21", "localKeyId");
    st("1.2.840.113549.1.9.22.1", "x509Certificate");
    st("1.2.840.113549.1.12.10.1.1", "keyBag");
    st("1.2.840.113549.1.12.10.1.2", "pkcs8ShroudedKeyBag");
    st("1.2.840.113549.1.12.10.1.3", "certBag");
    st("1.2.840.113549.1.12.10.1.4", "crlBag");
    st("1.2.840.113549.1.12.10.1.5", "secretBag");
    st("1.2.840.113549.1.12.10.1.6", "safeContentsBag");
    st("1.2.840.113549.1.5.13", "pkcs5PBES2");
    st("1.2.840.113549.1.5.12", "pkcs5PBKDF2");
    st("1.2.840.113549.1.12.1.1", "pbeWithSHAAnd128BitRC4");
    st("1.2.840.113549.1.12.1.2", "pbeWithSHAAnd40BitRC4");
    st("1.2.840.113549.1.12.1.3", "pbeWithSHAAnd3-KeyTripleDES-CBC");
    st("1.2.840.113549.1.12.1.4", "pbeWithSHAAnd2-KeyTripleDES-CBC");
    st("1.2.840.113549.1.12.1.5", "pbeWithSHAAnd128BitRC2-CBC");
    st("1.2.840.113549.1.12.1.6", "pbewithSHAAnd40BitRC2-CBC");
    st("1.2.840.113549.2.7", "hmacWithSHA1");
    st("1.2.840.113549.2.8", "hmacWithSHA224");
    st("1.2.840.113549.2.9", "hmacWithSHA256");
    st("1.2.840.113549.2.10", "hmacWithSHA384");
    st("1.2.840.113549.2.11", "hmacWithSHA512");
    st("1.2.840.113549.3.7", "des-EDE3-CBC");
    st("2.16.840.1.101.3.4.1.2", "aes128-CBC");
    st("2.16.840.1.101.3.4.1.22", "aes192-CBC");
    st("2.16.840.1.101.3.4.1.42", "aes256-CBC");
    st("2.5.4.3", "commonName");
    st("2.5.4.4", "surname");
    st("2.5.4.5", "serialNumber");
    st("2.5.4.6", "countryName");
    st("2.5.4.7", "localityName");
    st("2.5.4.8", "stateOrProvinceName");
    st("2.5.4.9", "streetAddress");
    st("2.5.4.10", "organizationName");
    st("2.5.4.11", "organizationalUnitName");
    st("2.5.4.12", "title");
    st("2.5.4.13", "description");
    st("2.5.4.15", "businessCategory");
    st("2.5.4.17", "postalCode");
    st("2.5.4.42", "givenName");
    st("1.3.6.1.4.1.311.60.2.1.2", "jurisdictionOfIncorporationStateOrProvinceName");
    st("1.3.6.1.4.1.311.60.2.1.3", "jurisdictionOfIncorporationCountryName");
    st("2.16.840.1.113730.1.1", "nsCertType");
    st("2.16.840.1.113730.1.13", "nsComment");
    qi("2.5.29.1", "authorityKeyIdentifier");
    qi("2.5.29.2", "keyAttributes");
    qi("2.5.29.3", "certificatePolicies");
    qi("2.5.29.4", "keyUsageRestriction");
    qi("2.5.29.5", "policyMapping");
    qi("2.5.29.6", "subtreesConstraint");
    qi("2.5.29.7", "subjectAltName");
    qi("2.5.29.8", "issuerAltName");
    qi("2.5.29.9", "subjectDirectoryAttributes");
    qi("2.5.29.10", "basicConstraints");
    qi("2.5.29.11", "nameConstraints");
    qi("2.5.29.12", "policyConstraints");
    qi("2.5.29.13", "basicConstraints");
    st("2.5.29.14", "subjectKeyIdentifier");
    st("2.5.29.15", "keyUsage");
    qi("2.5.29.16", "privateKeyUsagePeriod");
    st("2.5.29.17", "subjectAltName");
    st("2.5.29.18", "issuerAltName");
    st("2.5.29.19", "basicConstraints");
    qi("2.5.29.20", "cRLNumber");
    qi("2.5.29.21", "cRLReason");
    qi("2.5.29.22", "expirationDate");
    qi("2.5.29.23", "instructionCode");
    qi("2.5.29.24", "invalidityDate");
    qi("2.5.29.25", "cRLDistributionPoints");
    qi("2.5.29.26", "issuingDistributionPoint");
    qi("2.5.29.27", "deltaCRLIndicator");
    qi("2.5.29.28", "issuingDistributionPoint");
    qi("2.5.29.29", "certificateIssuer");
    qi("2.5.29.30", "nameConstraints");
    st("2.5.29.31", "cRLDistributionPoints");
    st("2.5.29.32", "certificatePolicies");
    qi("2.5.29.33", "policyMappings");
    qi("2.5.29.34", "policyConstraints");
    st("2.5.29.35", "authorityKeyIdentifier");
    qi("2.5.29.36", "policyConstraints");
    st("2.5.29.37", "extKeyUsage");
    qi("2.5.29.46", "freshestCRL");
    qi("2.5.29.54", "inhibitAnyPolicy");
    st("1.3.6.1.4.1.11129.2.4.2", "timestampList");
    st("1.3.6.1.5.5.7.1.1", "authorityInfoAccess");
    st("1.3.6.1.5.5.7.3.1", "serverAuth");
    st("1.3.6.1.5.5.7.3.2", "clientAuth");
    st("1.3.6.1.5.5.7.3.3", "codeSigning");
    st("1.3.6.1.5.5.7.3.4", "emailProtection");
    st("1.3.6.1.5.5.7.3.8", "timeStamping")
});
var Va = Ke((ER, Lm) => {
    var cn = ui();
    Pi();
    io();
    var _t = Lm.exports = cn.asn1 = cn.asn1 || {};
    _t.Class = {
        UNIVERSAL: 0,
        APPLICATION: 64,
        CONTEXT_SPECIFIC: 128,
        PRIVATE: 192
    };
    _t.Type = {
        NONE: 0,
        BOOLEAN: 1,
        INTEGER: 2,
        BITSTRING: 3,
        OCTETSTRING: 4,
        NULL: 5,
        OID: 6,
        ODESC: 7,
        EXTERNAL: 8,
        REAL: 9,
        ENUMERATED: 10,
        EMBEDDED: 11,
        UTF8: 12,
        ROID: 13,
        SEQUENCE: 16,
        SET: 17,
        PRINTABLESTRING: 19,
        IA5STRING: 22,
        UTCTIME: 23,
        GENERALIZEDTIME: 24,
        BMPSTRING: 30
    };
    _t.create = function(e, t, i, n, r) {
        if (cn.util.isArray(n)) {
            for (var a = [], s = 0; s < n.length; ++s) n[s] !== void 0 && a.push(n[s]);
            n = a
        }
        var l = {
            tagClass: e,
            type: t,
            constructed: i,
            composed: i || cn.util.isArray(n),
            value: n
        };
        return r && "bitStringContents" in r && (l.bitStringContents = r.bitStringContents, l.original = _t.copy(l)), l
    };
    _t.copy = function(e, t) {
        var i;
        if (cn.util.isArray(e)) {
            i = [];
            for (var n = 0; n < e.length; ++n) i.push(_t.copy(e[n], t));
            return i
        }
        return typeof e == "string" ? e : (i = {
            tagClass: e.tagClass,
            type: e.type,
            constructed: e.constructed,
            composed: e.composed,
            value: _t.copy(e.value, t)
        }, t && !t.excludeBitStringContents && (i.bitStringContents = e.bitStringContents), i)
    };
    _t.equals = function(e, t, i) {
        if (cn.util.isArray(e)) {
            if (!cn.util.isArray(t) || e.length !== t.length) return !1;
            for (var n = 0; n < e.length; ++n)
                if (!_t.equals(e[n], t[n])) return !1;
            return !0
        }
        if (typeof e != typeof t) return !1;
        if (typeof e == "string") return e === t;
        var r = e.tagClass === t.tagClass && e.type === t.type && e.constructed === t.constructed && e.composed === t.composed && _t.equals(e.value, t.value);
        return i && i.includeBitStringContents && (r = r && e.bitStringContents === t.bitStringContents), r
    };
    _t.getBerValueLength = function(e) {
        var t = e.getByte();
        if (t !== 128) {
            var i, n = t & 128;
            return n ? i = e.getInt((t & 127) << 3) : i = t, i
        }
    };

    function au(e, t, i) {
        if (i > t) {
            var n = new Error("Too few bytes to parse DER.");
            throw n.available = e.length(), n.remaining = t, n.requested = i, n
        }
    }
    var IE = function(e, t) {
        var i = e.getByte();
        if (t--, i !== 128) {
            var n, r = i & 128;
            if (!r) n = i;
            else {
                var a = i & 127;
                au(e, t, a), n = e.getInt(a << 3)
            }
            if (n < 0) throw new Error("Negative length: " + n);
            return n
        }
    };
    _t.fromDer = function(e, t) {
        t === void 0 && (t = {
            strict: !0,
            parseAllBytes: !0,
            decodeBitStrings: !0
        }), typeof t == "boolean" && (t = {
            strict: t,
            parseAllBytes: !0,
            decodeBitStrings: !0
        }), "strict" in t || (t.strict = !0), "parseAllBytes" in t || (t.parseAllBytes = !0), "decodeBitStrings" in t || (t.decodeBitStrings = !0), typeof e == "string" && (e = cn.util.createBuffer(e));
        var i = e.length(),
            n = Sc(e, e.length(), 0, t);
        if (t.parseAllBytes && e.length() !== 0) {
            var r = new Error("Unparsed DER bytes remain after ASN.1 parsing.");
            throw r.byteCount = i, r.remaining = e.length(), r
        }
        return n
    };

    function Sc(e, t, i, n) {
        var r;
        au(e, t, 2);
        var a = e.getByte();
        t--;
        var s = a & 192,
            l = a & 31;
        r = e.length();
        var u = IE(e, t);
        if (t -= r - e.length(), u !== void 0 && u > t) {
            if (n.strict) {
                var f = new Error("Too few bytes to read ASN.1 value.");
                throw f.available = e.length(), f.remaining = t, f.requested = u, f
            }
            u = t
        }
        var d, m, T = (a & 32) === 32;
        if (T)
            if (d = [], u === void 0)
                for (;;) {
                    if (au(e, t, 2), e.bytes(2) === String.fromCharCode(0, 0)) {
                        e.getBytes(2), t -= 2;
                        break
                    }
                    r = e.length(), d.push(Sc(e, t, i + 1, n)), t -= r - e.length()
                } else
                    for (; u > 0;) r = e.length(), d.push(Sc(e, u, i + 1, n)), t -= r - e.length(), u -= r - e.length();
        if (d === void 0 && s === _t.Class.UNIVERSAL && l === _t.Type.BITSTRING && (m = e.bytes(u)), d === void 0 && n.decodeBitStrings && s === _t.Class.UNIVERSAL && l === _t.Type.BITSTRING && u > 1) {
            var x = e.read,
                C = t,
                N = 0;
            if (l === _t.Type.BITSTRING && (au(e, t, 1), N = e.getByte(), t--), N === 0) try {
                r = e.length();
                var E = {
                        strict: !0,
                        decodeBitStrings: !0
                    },
                    O = Sc(e, t, i + 1, E),
                    D = r - e.length();
                t -= D, l == _t.Type.BITSTRING && D++;
                var I = O.tagClass;
                D === u && (I === _t.Class.UNIVERSAL || I === _t.Class.CONTEXT_SPECIFIC) && (d = [O])
            } catch {}
            d === void 0 && (e.read = x, t = C)
        }
        if (d === void 0) {
            if (u === void 0) {
                if (n.strict) throw new Error("Non-constructed ASN.1 object of indefinite length.");
                u = t
            }
            if (l === _t.Type.BMPSTRING)
                for (d = ""; u > 0; u -= 2) au(e, t, 2), d += String.fromCharCode(e.getInt16()), t -= 2;
            else d = e.getBytes(u), t -= u
        }
        var H = m === void 0 ? null : {
            bitStringContents: m
        };
        return _t.create(s, l, T, d, H)
    }
    _t.toDer = function(e) {
        var t = cn.util.createBuffer(),
            i = e.tagClass | e.type,
            n = cn.util.createBuffer(),
            r = !1;
        if ("bitStringContents" in e && (r = !0, e.original && (r = _t.equals(e, e.original))), r) n.putBytes(e.bitStringContents);
        else if (e.composed) {
            e.constructed ? i |= 32 : n.putByte(0);
            for (var a = 0; a < e.value.length; ++a) e.value[a] !== void 0 && n.putBuffer(_t.toDer(e.value[a]))
        } else if (e.type === _t.Type.BMPSTRING)
            for (var a = 0; a < e.value.length; ++a) n.putInt16(e.value.charCodeAt(a));
        else e.type === _t.Type.INTEGER && e.value.length > 1 && (e.value.charCodeAt(0) === 0 && !(e.value.charCodeAt(1) & 128) || e.value.charCodeAt(0) === 255 && (e.value.charCodeAt(1) & 128) === 128) ? n.putBytes(e.value.substr(1)) : n.putBytes(e.value);
        if (t.putByte(i), n.length() <= 127) t.putByte(n.length() & 127);
        else {
            var s = n.length(),
                l = "";
            do l += String.fromCharCode(s & 255), s = s >>> 8; while (s > 0);
            t.putByte(l.length | 128);
            for (var a = l.length - 1; a >= 0; --a) t.putByte(l.charCodeAt(a))
        }
        return t.putBuffer(n), t
    };
    _t.oidToDer = function(e) {
        var t = e.split("."),
            i = cn.util.createBuffer();
        i.putByte(40 * parseInt(t[0], 10) + parseInt(t[1], 10));
        for (var n, r, a, s, l = 2; l < t.length; ++l) {
            n = !0, r = [], a = parseInt(t[l], 10);
            do s = a & 127, a = a >>> 7, n || (s |= 128), r.push(s), n = !1; while (a > 0);
            for (var u = r.length - 1; u >= 0; --u) i.putByte(r[u])
        }
        return i
    };
    _t.derToOid = function(e) {
        var t;
        typeof e == "string" && (e = cn.util.createBuffer(e));
        var i = e.getByte();
        t = Math.floor(i / 40) + "." + i % 40;
        for (var n = 0; e.length() > 0;) i = e.getByte(), n = n << 7, i & 128 ? n += i & 127 : (t += "." + (n + i), n = 0);
        return t
    };
    _t.utcTimeToDate = function(e) {
        var t = new Date,
            i = parseInt(e.substr(0, 2), 10);
        i = i >= 50 ? 1900 + i : 2e3 + i;
        var n = parseInt(e.substr(2, 2), 10) - 1,
            r = parseInt(e.substr(4, 2), 10),
            a = parseInt(e.substr(6, 2), 10),
            s = parseInt(e.substr(8, 2), 10),
            l = 0;
        if (e.length > 11) {
            var u = e.charAt(10),
                f = 10;
            u !== "+" && u !== "-" && (l = parseInt(e.substr(10, 2), 10), f += 2)
        }
        if (t.setUTCFullYear(i, n, r), t.setUTCHours(a, s, l, 0), f && (u = e.charAt(f), u === "+" || u === "-")) {
            var d = parseInt(e.substr(f + 1, 2), 10),
                m = parseInt(e.substr(f + 4, 2), 10),
                T = d * 60 + m;
            T *= 6e4, u === "+" ? t.setTime(+t - T) : t.setTime(+t + T)
        }
        return t
    };
    _t.generalizedTimeToDate = function(e) {
        var t = new Date,
            i = parseInt(e.substr(0, 4), 10),
            n = parseInt(e.substr(4, 2), 10) - 1,
            r = parseInt(e.substr(6, 2), 10),
            a = parseInt(e.substr(8, 2), 10),
            s = parseInt(e.substr(10, 2), 10),
            l = parseInt(e.substr(12, 2), 10),
            u = 0,
            f = 0,
            d = !1;
        e.charAt(e.length - 1) === "Z" && (d = !0);
        var m = e.length - 5,
            T = e.charAt(m);
        if (T === "+" || T === "-") {
            var x = parseInt(e.substr(m + 1, 2), 10),
                C = parseInt(e.substr(m + 4, 2), 10);
            f = x * 60 + C, f *= 6e4, T === "+" && (f *= -1), d = !0
        }
        return e.charAt(14) === "." && (u = parseFloat(e.substr(14), 10) * 1e3), d ? (t.setUTCFullYear(i, n, r), t.setUTCHours(a, s, l, u), t.setTime(+t + f)) : (t.setFullYear(i, n, r), t.setHours(a, s, l, u)), t
    };
    _t.dateToUtcTime = function(e) {
        if (typeof e == "string") return e;
        var t = "",
            i = [];
        i.push(("" + e.getUTCFullYear()).substr(2)), i.push("" + (e.getUTCMonth() + 1)), i.push("" + e.getUTCDate()), i.push("" + e.getUTCHours()), i.push("" + e.getUTCMinutes()), i.push("" + e.getUTCSeconds());
        for (var n = 0; n < i.length; ++n) i[n].length < 2 && (t += "0"), t += i[n];
        return t += "Z", t
    };
    _t.dateToGeneralizedTime = function(e) {
        if (typeof e == "string") return e;
        var t = "",
            i = [];
        i.push("" + e.getUTCFullYear()), i.push("" + (e.getUTCMonth() + 1)), i.push("" + e.getUTCDate()), i.push("" + e.getUTCHours()), i.push("" + e.getUTCMinutes()), i.push("" + e.getUTCSeconds());
        for (var n = 0; n < i.length; ++n) i[n].length < 2 && (t += "0"), t += i[n];
        return t += "Z", t
    };
    _t.integerToDer = function(e) {
        var t = cn.util.createBuffer();
        if (e >= -128 && e < 128) return t.putSignedInt(e, 8);
        if (e >= -32768 && e < 32768) return t.putSignedInt(e, 16);
        if (e >= -8388608 && e < 8388608) return t.putSignedInt(e, 24);
        if (e >= -2147483648 && e < 2147483648) return t.putSignedInt(e, 32);
        var i = new Error("Integer too large; max is 32-bits.");
        throw i.integer = e, i
    };
    _t.derToInteger = function(e) {
        typeof e == "string" && (e = cn.util.createBuffer(e));
        var t = e.length() * 8;
        if (t > 32) throw new Error("Integer too large; max is 32-bits.");
        return e.getSignedInt(t)
    };
    _t.validate = function(e, t, i, n) {
        var r = !1;
        if ((e.tagClass === t.tagClass || typeof t.tagClass > "u") && (e.type === t.type || typeof t.type > "u"))
            if (e.constructed === t.constructed || typeof t.constructed > "u") {
                if (r = !0, t.value && cn.util.isArray(t.value))
                    for (var a = 0, s = 0; r && s < t.value.length; ++s) r = t.value[s].optional || !1, e.value[a] && (r = _t.validate(e.value[a], t.value[s], i, n), r ? ++a : t.value[s].optional && (r = !0)), !r && n && n.push("[" + t.name + '] Tag class "' + t.tagClass + '", type "' + t.type + '" expected value length "' + t.value.length + '", got "' + e.value.length + '"');
                if (r && i && (t.capture && (i[t.capture] = e.value), t.captureAsn1 && (i[t.captureAsn1] = e), t.captureBitStringContents && "bitStringContents" in e && (i[t.captureBitStringContents] = e.bitStringContents), t.captureBitStringValue && "bitStringContents" in e)) {
                    var l;
                    if (e.bitStringContents.length < 2) i[t.captureBitStringValue] = "";
                    else {
                        var u = e.bitStringContents.charCodeAt(0);
                        if (u !== 0) throw new Error("captureBitStringValue only supported for zero unused bits");
                        i[t.captureBitStringValue] = e.bitStringContents.slice(1)
                    }
                }
            } else n && n.push("[" + t.name + '] Expected constructed "' + t.constructed + '", got "' + e.constructed + '"');
        else n && (e.tagClass !== t.tagClass && n.push("[" + t.name + '] Expected tag class "' + t.tagClass + '", got "' + e.tagClass + '"'), e.type !== t.type && n.push("[" + t.name + '] Expected type "' + t.type + '", got "' + e.type + '"'));
        return r
    };
    var Tm = /[^\\u0000-\\u00ff]/;
    _t.prettyPrint = function(e, t, i) {
        var n = "";
        t = t || 0, i = i || 2, t > 0 && (n += `
`);
        for (var r = "", a = 0; a < t * i; ++a) r += " ";
        switch (n += r + "Tag: ", e.tagClass) {
            case _t.Class.UNIVERSAL:
                n += "Universal:";
                break;
            case _t.Class.APPLICATION:
                n += "Application:";
                break;
            case _t.Class.CONTEXT_SPECIFIC:
                n += "Context-Specific:";
                break;
            case _t.Class.PRIVATE:
                n += "Private:";
                break
        }
        if (e.tagClass === _t.Class.UNIVERSAL) switch (n += e.type, e.type) {
            case _t.Type.NONE:
                n += " (None)";
                break;
            case _t.Type.BOOLEAN:
                n += " (Boolean)";
                break;
            case _t.Type.INTEGER:
                n += " (Integer)";
                break;
            case _t.Type.BITSTRING:
                n += " (Bit string)";
                break;
            case _t.Type.OCTETSTRING:
                n += " (Octet string)";
                break;
            case _t.Type.NULL:
                n += " (Null)";
                break;
            case _t.Type.OID:
                n += " (Object Identifier)";
                break;
            case _t.Type.ODESC:
                n += " (Object Descriptor)";
                break;
            case _t.Type.EXTERNAL:
                n += " (External or Instance of)";
                break;
            case _t.Type.REAL:
                n += " (Real)";
                break;
            case _t.Type.ENUMERATED:
                n += " (Enumerated)";
                break;
            case _t.Type.EMBEDDED:
                n += " (Embedded PDV)";
                break;
            case _t.Type.UTF8:
                n += " (UTF8)";
                break;
            case _t.Type.ROID:
                n += " (Relative Object Identifier)";
                break;
            case _t.Type.SEQUENCE:
                n += " (Sequence)";
                break;
            case _t.Type.SET:
                n += " (Set)";
                break;
            case _t.Type.PRINTABLESTRING:
                n += " (Printable String)";
                break;
            case _t.Type.IA5String:
                n += " (IA5String (ASCII))";
                break;
            case _t.Type.UTCTIME:
                n += " (UTC time)";
                break;
            case _t.Type.GENERALIZEDTIME:
                n += " (Generalized time)";
                break;
            case _t.Type.BMPSTRING:
                n += " (BMP String)";
                break
        } else n += e.type;
        if (n += `
`, n += r + "Constructed: " + e.constructed + `
`, e.composed) {
            for (var s = 0, l = "", a = 0; a < e.value.length; ++a) e.value[a] !== void 0 && (s += 1, l += _t.prettyPrint(e.value[a], t + 1, i), a + 1 < e.value.length && (l += ","));
            n += r + "Sub values: " + s + l
        } else {
            if (n += r + "Value: ", e.type === _t.Type.OID) {
                var u = _t.derToOid(e.value);
                n += u, cn.pki && cn.pki.oids && u in cn.pki.oids && (n += " (" + cn.pki.oids[u] + ") ")
            }
            if (e.type === _t.Type.INTEGER) try {
                n += _t.derToInteger(e.value)
            } catch {
                n += "0x" + cn.util.bytesToHex(e.value)
            } else if (e.type === _t.Type.BITSTRING) {
                if (e.value.length > 1 ? n += "0x" + cn.util.bytesToHex(e.value.slice(1)) : n += "(none)", e.value.length > 0) {
                    var f = e.value.charCodeAt(0);
                    f == 1 ? n += " (1 unused bit shown)" : f > 1 && (n += " (" + f + " unused bits shown)")
                }
            } else if (e.type === _t.Type.OCTETSTRING) Tm.test(e.value) || (n += "(" + e.value + ") "), n += "0x" + cn.util.bytesToHex(e.value);
            else if (e.type === _t.Type.UTF8) try {
                n += cn.util.decodeUtf8(e.value)
            } catch (d) {
                if (d.message === "URI malformed") n += "0x" + cn.util.bytesToHex(e.value) + " (malformed UTF8)";
                else throw d
            } else e.type === _t.Type.PRINTABLESTRING || e.type === _t.Type.IA5String ? n += e.value : Tm.test(e.value) ? n += "0x" + cn.util.bytesToHex(e.value) : e.value.length === 0 ? n += "[null]" : n += e.value
        }
        return n
    }
});
var as = Ke((CR, km) => {
    var Tc = ui();
    km.exports = Tc.md = Tc.md || {};
    Tc.md.algorithms = Tc.md.algorithms || {}
});
var dl = Ke((SR, Im) => {
    var As = ui();
    as();
    Pi();
    var AE = Im.exports = As.hmac = As.hmac || {};
    AE.create = function() {
        var e = null,
            t = null,
            i = null,
            n = null,
            r = {};
        return r.start = function(a, s) {
            if (a !== null)
                if (typeof a == "string")
                    if (a = a.toLowerCase(), a in As.md.algorithms) t = As.md.algorithms[a].create();
                    else throw new Error('Unknown hash algorithm "' + a + '"');
            else t = a;
            if (s === null) s = e;
            else {
                if (typeof s == "string") s = As.util.createBuffer(s);
                else if (As.util.isArray(s)) {
                    var l = s;
                    s = As.util.createBuffer();
                    for (var u = 0; u < l.length; ++u) s.putByte(l[u])
                }
                var f = s.length();
                f > t.blockLength && (t.start(), t.update(s.bytes()), s = t.digest()), i = As.util.createBuffer(), n = As.util.createBuffer(), f = s.length();
                for (var u = 0; u < f; ++u) {
                    var l = s.at(u);
                    i.putByte(54 ^ l), n.putByte(92 ^ l)
                }
                if (f < t.blockLength)
                    for (var l = t.blockLength - f, u = 0; u < l; ++u) i.putByte(54), n.putByte(92);
                e = s, i = i.bytes(), n = n.bytes()
            }
            t.start(), t.update(i)
        }, r.update = function(a) {
            t.update(a)
        }, r.getMac = function() {
            var a = t.digest().bytes();
            return t.start(), t.update(n), t.update(a), t.digest()
        }, r.digest = r.getMac, r
    }
});
var kc = Ke((TR, Pm) => {
    var ss = ui();
    as();
    Pi();
    var Dm = Pm.exports = ss.md5 = ss.md5 || {};
    ss.md.md5 = ss.md.algorithms.md5 = Dm;
    Dm.create = function() {
        Nm || DE();
        var e = null,
            t = ss.util.createBuffer(),
            i = new Array(16),
            n = {
                algorithm: "md5",
                blockLength: 64,
                digestLength: 16,
                messageLength: 0,
                fullMessageLength: null,
                messageLengthSize: 8
            };
        return n.start = function() {
            n.messageLength = 0, n.fullMessageLength = n.messageLength64 = [];
            for (var r = n.messageLengthSize / 4, a = 0; a < r; ++a) n.fullMessageLength.push(0);
            return t = ss.util.createBuffer(), e = {
                h0: 1732584193,
                h1: 4023233417,
                h2: 2562383102,
                h3: 271733878
            }, n
        }, n.start(), n.update = function(r, a) {
            a === "utf8" && (r = ss.util.encodeUtf8(r));
            var s = r.length;
            n.messageLength += s, s = [s / 4294967296 >>> 0, s >>> 0];
            for (var l = n.fullMessageLength.length - 1; l >= 0; --l) n.fullMessageLength[l] += s[1], s[1] = s[0] + (n.fullMessageLength[l] / 4294967296 >>> 0), n.fullMessageLength[l] = n.fullMessageLength[l] >>> 0, s[0] = s[1] / 4294967296 >>> 0;
            return t.putBytes(r), Am(e, i, t), (t.read > 2048 || t.length() === 0) && t.compact(), n
        }, n.digest = function() {
            var r = ss.util.createBuffer();
            r.putBytes(t.bytes());
            var a = n.fullMessageLength[n.fullMessageLength.length - 1] + n.messageLengthSize,
                s = a & n.blockLength - 1;
            r.putBytes(bh.substr(0, n.blockLength - s));
            for (var l, u = 0, f = n.fullMessageLength.length - 1; f >= 0; --f) l = n.fullMessageLength[f] * 8 + u, u = l / 4294967296 >>> 0, r.putInt32Le(l >>> 0);
            var d = {
                h0: e.h0,
                h1: e.h1,
                h2: e.h2,
                h3: e.h3
            };
            Am(d, i, r);
            var m = ss.util.createBuffer();
            return m.putInt32Le(d.h0), m.putInt32Le(d.h1), m.putInt32Le(d.h2), m.putInt32Le(d.h3), m
        }, n
    };
    var bh = null,
        Lc = null,
        su = null,
        pl = null,
        Nm = !1;

    function DE() {
        bh = String.fromCharCode(128), bh += ss.util.fillString(String.fromCharCode(0), 64), Lc = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 1, 6, 11, 0, 5, 10, 15, 4, 9, 14, 3, 8, 13, 2, 7, 12, 5, 8, 11, 14, 1, 4, 7, 10, 13, 0, 3, 6, 9, 12, 15, 2, 0, 7, 14, 5, 12, 3, 10, 1, 8, 15, 6, 13, 4, 11, 2, 9], su = [7, 12, 17, 22, 7, 12, 17, 22, 7, 12, 17, 22, 7, 12, 17, 22, 5, 9, 14, 20, 5, 9, 14, 20, 5, 9, 14, 20, 5, 9, 14, 20, 4, 11, 16, 23, 4, 11, 16, 23, 4, 11, 16, 23, 4, 11, 16, 23, 6, 10, 15, 21, 6, 10, 15, 21, 6, 10, 15, 21, 6, 10, 15, 21], pl = new Array(64);
        for (var e = 0; e < 64; ++e) pl[e] = Math.floor(Math.abs(Math.sin(e + 1)) * 4294967296);
        Nm = !0
    }

    function Am(e, t, i) {
        for (var n, r, a, s, l, u, f, d, m = i.length(); m >= 64;) {
            for (r = e.h0, a = e.h1, s = e.h2, l = e.h3, d = 0; d < 16; ++d) t[d] = i.getInt32Le(), u = l ^ a & (s ^ l), n = r + u + pl[d] + t[d], f = su[d], r = l, l = s, s = a, a += n << f | n >>> 32 - f;
            for (; d < 32; ++d) u = s ^ l & (a ^ s), n = r + u + pl[d] + t[Lc[d]], f = su[d], r = l, l = s, s = a, a += n << f | n >>> 32 - f;
            for (; d < 48; ++d) u = a ^ s ^ l, n = r + u + pl[d] + t[Lc[d]], f = su[d], r = l, l = s, s = a, a += n << f | n >>> 32 - f;
            for (; d < 64; ++d) u = s ^ (a | ~l), n = r + u + pl[d] + t[Lc[d]], f = su[d], r = l, l = s, s = a, a += n << f | n >>> 32 - f;
            e.h0 = e.h0 + r | 0, e.h1 = e.h1 + a | 0, e.h2 = e.h2 + s | 0, e.h3 = e.h3 + l | 0, m -= 64
        }
    }
});
var Mo = Ke((LR, Bm) => {
    var Ac = ui();
    Pi();
    var Rm = Bm.exports = Ac.pem = Ac.pem || {};
    Rm.encode = function(e, t) {
        t = t || {};
        var i = "-----BEGIN " + e.type + `-----\r
`,
            n;
        if (e.procType && (n = {
                name: "Proc-Type",
                values: [String(e.procType.version), e.procType.type]
            }, i += Ic(n)), e.contentDomain && (n = {
                name: "Content-Domain",
                values: [e.contentDomain]
            }, i += Ic(n)), e.dekInfo && (n = {
                name: "DEK-Info",
                values: [e.dekInfo.algorithm]
            }, e.dekInfo.parameters && n.values.push(e.dekInfo.parameters), i += Ic(n)), e.headers)
            for (var r = 0; r < e.headers.length; ++r) i += Ic(e.headers[r]);
        return e.procType && (i += `\r
`), i += Ac.util.encode64(e.body, t.maxline || 64) + `\r
`, i += "-----END " + e.type + `-----\r
`, i
    };
    Rm.decode = function(e) {
        for (var t = [], i = /\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g, n = /([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/, r = /\r?\n/, a; a = i.exec(e), !!a;) {
            var s = a[1];
            s === "NEW CERTIFICATE REQUEST" && (s = "CERTIFICATE REQUEST");
            var l = {
                type: s,
                procType: null,
                contentDomain: null,
                dekInfo: null,
                headers: [],
                body: Ac.util.decode64(a[3])
            };
            if (t.push(l), !!a[2]) {
                for (var u = a[2].split(r), f = 0; a && f < u.length;) {
                    for (var d = u[f].replace(/\s+$/, ""), m = f + 1; m < u.length; ++m) {
                        var T = u[m];
                        if (!/\s/.test(T[0])) break;
                        d += T, f = m
                    }
                    if (a = d.match(n), a) {
                        for (var x = {
                                name: a[1],
                                values: []
                            }, C = a[2].split(","), N = 0; N < C.length; ++N) x.values.push(NE(C[N]));
                        if (l.procType)
                            if (!l.contentDomain && x.name === "Content-Domain") l.contentDomain = C[0] || "";
                            else if (!l.dekInfo && x.name === "DEK-Info") {
                            if (x.values.length === 0) throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');
                            l.dekInfo = {
                                algorithm: C[0],
                                parameters: C[1] || null
                            }
                        } else l.headers.push(x);
                        else {
                            if (x.name !== "Proc-Type") throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');
                            if (x.values.length !== 2) throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');
                            l.procType = {
                                version: C[0],
                                type: C[1]
                            }
                        }
                    }++f
                }
                if (l.procType === "ENCRYPTED" && !l.dekInfo) throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')
            }
        }
        if (t.length === 0) throw new Error("Invalid PEM formatted message.");
        return t
    };

    function Ic(e) {
        for (var t = e.name + ": ", i = [], n = function(u, f) {
                return " " + f
            }, r = 0; r < e.values.length; ++r) i.push(e.values[r].replace(/^(\S+\r\n)/, n));
        t += i.join(",") + `\r
`;
        for (var a = 0, s = -1, r = 0; r < t.length; ++r, ++a)
            if (a > 65 && s !== -1) {
                var l = t[s];
                l === "," ? (++s, t = t.substr(0, s) + `\r
 ` + t.substr(s)) : t = t.substr(0, s) + `\r
` + l + t.substr(s + 1), a = r - s - 1, s = -1, ++r
            } else(t[r] === " " || t[r] === "	" || t[r] === ",") && (s = r);
        return t
    }

    function NE(e) {
        return e.replace(/^\s+/, "")
    }
});
var ou = Ke((kR, Om) => {
    var yn = ui();
    xc();
    gh();
    Pi();
    Om.exports = yn.des = yn.des || {};
    yn.des.startEncrypting = function(e, t, i, n) {
        var r = Dc({
            key: e,
            output: i,
            decrypt: !1,
            mode: n || (t === null ? "ECB" : "CBC")
        });
        return r.start(t), r
    };
    yn.des.createEncryptionCipher = function(e, t) {
        return Dc({
            key: e,
            output: null,
            decrypt: !1,
            mode: t
        })
    };
    yn.des.startDecrypting = function(e, t, i, n) {
        var r = Dc({
            key: e,
            output: i,
            decrypt: !0,
            mode: n || (t === null ? "ECB" : "CBC")
        });
        return r.start(t), r
    };
    yn.des.createDecryptionCipher = function(e, t) {
        return Dc({
            key: e,
            output: null,
            decrypt: !0,
            mode: t
        })
    };
    yn.des.Algorithm = function(e, t) {
        var i = this;
        i.name = e, i.mode = new t({
            blockSize: 8,
            cipher: {
                encrypt: function(n, r) {
                    return Mm(i._keys, n, r, !1)
                },
                decrypt: function(n, r) {
                    return Mm(i._keys, n, r, !0)
                }
            }
        }), i._init = !1
    };
    yn.des.Algorithm.prototype.initialize = function(e) {
        if (!this._init) {
            var t = yn.util.createBuffer(e.key);
            if (this.name.indexOf("3DES") === 0 && t.length() !== 24) throw new Error("Invalid Triple-DES key size: " + t.length() * 8);
            this._keys = VE(t), this._init = !0
        }
    };
    os("DES-ECB", yn.cipher.modes.ecb);
    os("DES-CBC", yn.cipher.modes.cbc);
    os("DES-CFB", yn.cipher.modes.cfb);
    os("DES-OFB", yn.cipher.modes.ofb);
    os("DES-CTR", yn.cipher.modes.ctr);
    os("3DES-ECB", yn.cipher.modes.ecb);
    os("3DES-CBC", yn.cipher.modes.cbc);
    os("3DES-CFB", yn.cipher.modes.cfb);
    os("3DES-OFB", yn.cipher.modes.ofb);
    os("3DES-CTR", yn.cipher.modes.ctr);

    function os(e, t) {
        var i = function() {
            return new yn.des.Algorithm(e, t)
        };
        yn.cipher.registerAlgorithm(e, i)
    }
    var PE = [16843776, 0, 65536, 16843780, 16842756, 66564, 4, 65536, 1024, 16843776, 16843780, 1024, 16778244, 16842756, 16777216, 4, 1028, 16778240, 16778240, 66560, 66560, 16842752, 16842752, 16778244, 65540, 16777220, 16777220, 65540, 0, 1028, 66564, 16777216, 65536, 16843780, 4, 16842752, 16843776, 16777216, 16777216, 1024, 16842756, 65536, 66560, 16777220, 1024, 4, 16778244, 66564, 16843780, 65540, 16842752, 16778244, 16777220, 1028, 66564, 16843776, 1028, 16778240, 16778240, 0, 65540, 66560, 0, 16842756],
        RE = [-2146402272, -2147450880, 32768, 1081376, 1048576, 32, -2146435040, -2147450848, -2147483616, -2146402272, -2146402304, -2147483648, -2147450880, 1048576, 32, -2146435040, 1081344, 1048608, -2147450848, 0, -2147483648, 32768, 1081376, -2146435072, 1048608, -2147483616, 0, 1081344, 32800, -2146402304, -2146435072, 32800, 0, 1081376, -2146435040, 1048576, -2147450848, -2146435072, -2146402304, 32768, -2146435072, -2147450880, 32, -2146402272, 1081376, 32, 32768, -2147483648, 32800, -2146402304, 1048576, -2147483616, 1048608, -2147450848, -2147483616, 1048608, 1081344, 0, -2147450880, 32800, -2147483648, -2146435040, -2146402272, 1081344],
        BE = [520, 134349312, 0, 134348808, 134218240, 0, 131592, 134218240, 131080, 134217736, 134217736, 131072, 134349320, 131080, 134348800, 520, 134217728, 8, 134349312, 512, 131584, 134348800, 134348808, 131592, 134218248, 131584, 131072, 134218248, 8, 134349320, 512, 134217728, 134349312, 134217728, 131080, 520, 131072, 134349312, 134218240, 0, 512, 131080, 134349320, 134218240, 134217736, 512, 0, 134348808, 134218248, 131072, 134217728, 134349320, 8, 131592, 131584, 134217736, 134348800, 134218248, 520, 134348800, 131592, 8, 134348808, 131584],
        ME = [8396801, 8321, 8321, 128, 8396928, 8388737, 8388609, 8193, 0, 8396800, 8396800, 8396929, 129, 0, 8388736, 8388609, 1, 8192, 8388608, 8396801, 128, 8388608, 8193, 8320, 8388737, 1, 8320, 8388736, 8192, 8396928, 8396929, 129, 8388736, 8388609, 8396800, 8396929, 129, 0, 0, 8396800, 8320, 8388736, 8388737, 1, 8396801, 8321, 8321, 128, 8396929, 129, 1, 8192, 8388609, 8193, 8396928, 8388737, 8193, 8320, 8388608, 8396801, 128, 8388608, 8192, 8396928],
        OE = [256, 34078976, 34078720, 1107296512, 524288, 256, 1073741824, 34078720, 1074266368, 524288, 33554688, 1074266368, 1107296512, 1107820544, 524544, 1073741824, 33554432, 1074266112, 1074266112, 0, 1073742080, 1107820800, 1107820800, 33554688, 1107820544, 1073742080, 0, 1107296256, 34078976, 33554432, 1107296256, 524544, 524288, 1107296512, 256, 33554432, 1073741824, 34078720, 1107296512, 1074266368, 33554688, 1073741824, 1107820544, 34078976, 1074266368, 256, 33554432, 1107820544, 1107820800, 524544, 1107296256, 1107820800, 34078720, 0, 1074266112, 1107296256, 524544, 33554688, 1073742080, 524288, 0, 1074266112, 34078976, 1073742080],
        UE = [536870928, 541065216, 16384, 541081616, 541065216, 16, 541081616, 4194304, 536887296, 4210704, 4194304, 536870928, 4194320, 536887296, 536870912, 16400, 0, 4194320, 536887312, 16384, 4210688, 536887312, 16, 541065232, 541065232, 0, 4210704, 541081600, 16400, 4210688, 541081600, 536870912, 536887296, 16, 541065232, 4210688, 541081616, 4194304, 16400, 536870928, 4194304, 536887296, 536870912, 16400, 536870928, 541081616, 4210688, 541065216, 4210704, 541081600, 0, 541065232, 16, 16384, 541065216, 4210704, 16384, 4194320, 536887312, 0, 541081600, 536870912, 4194320, 536887312],
        FE = [2097152, 69206018, 67110914, 0, 2048, 67110914, 2099202, 69208064, 69208066, 2097152, 0, 67108866, 2, 67108864, 69206018, 2050, 67110912, 2099202, 2097154, 67110912, 67108866, 69206016, 69208064, 2097154, 69206016, 2048, 2050, 69208066, 2099200, 2, 67108864, 2099200, 67108864, 2099200, 2097152, 67110914, 67110914, 69206018, 69206018, 2, 2097154, 67108864, 67110912, 2097152, 69208064, 2050, 2099202, 69208064, 2050, 67108866, 69208066, 69206016, 2099200, 0, 2, 69208066, 0, 2099202, 69206016, 2048, 67108866, 67110912, 2048, 2097154],
        qE = [268439616, 4096, 262144, 268701760, 268435456, 268439616, 64, 268435456, 262208, 268697600, 268701760, 266240, 268701696, 266304, 4096, 64, 268697600, 268435520, 268439552, 4160, 266240, 262208, 268697664, 268701696, 4160, 0, 0, 268697664, 268435520, 268439552, 266304, 262144, 266304, 262144, 268701696, 4096, 64, 268697664, 4096, 266304, 268439552, 64, 268435520, 268697600, 268697664, 268435456, 262144, 268439616, 0, 268701760, 262208, 268435520, 268697600, 268439552, 268439616, 0, 268701760, 266240, 266240, 4160, 4160, 262208, 268435456, 268701696];

    function VE(e) {
        for (var t = [0, 4, 536870912, 536870916, 65536, 65540, 536936448, 536936452, 512, 516, 536871424, 536871428, 66048, 66052, 536936960, 536936964], i = [0, 1, 1048576, 1048577, 67108864, 67108865, 68157440, 68157441, 256, 257, 1048832, 1048833, 67109120, 67109121, 68157696, 68157697], n = [0, 8, 2048, 2056, 16777216, 16777224, 16779264, 16779272, 0, 8, 2048, 2056, 16777216, 16777224, 16779264, 16779272], r = [0, 2097152, 134217728, 136314880, 8192, 2105344, 134225920, 136323072, 131072, 2228224, 134348800, 136445952, 139264, 2236416, 134356992, 136454144], a = [0, 262144, 16, 262160, 0, 262144, 16, 262160, 4096, 266240, 4112, 266256, 4096, 266240, 4112, 266256], s = [0, 1024, 32, 1056, 0, 1024, 32, 1056, 33554432, 33555456, 33554464, 33555488, 33554432, 33555456, 33554464, 33555488], l = [0, 268435456, 524288, 268959744, 2, 268435458, 524290, 268959746, 0, 268435456, 524288, 268959744, 2, 268435458, 524290, 268959746], u = [0, 65536, 2048, 67584, 536870912, 536936448, 536872960, 536938496, 131072, 196608, 133120, 198656, 537001984, 537067520, 537004032, 537069568], f = [0, 262144, 0, 262144, 2, 262146, 2, 262146, 33554432, 33816576, 33554432, 33816576, 33554434, 33816578, 33554434, 33816578], d = [0, 268435456, 8, 268435464, 0, 268435456, 8, 268435464, 1024, 268436480, 1032, 268436488, 1024, 268436480, 1032, 268436488], m = [0, 32, 0, 32, 1048576, 1048608, 1048576, 1048608, 8192, 8224, 8192, 8224, 1056768, 1056800, 1056768, 1056800], T = [0, 16777216, 512, 16777728, 2097152, 18874368, 2097664, 18874880, 67108864, 83886080, 67109376, 83886592, 69206016, 85983232, 69206528, 85983744], x = [0, 4096, 134217728, 134221824, 524288, 528384, 134742016, 134746112, 16, 4112, 134217744, 134221840, 524304, 528400, 134742032, 134746128], C = [0, 4, 256, 260, 0, 4, 256, 260, 1, 5, 257, 261, 1, 5, 257, 261], N = e.length() > 8 ? 3 : 1, E = [], O = [0, 0, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 0], D = 0, I, H = 0; H < N; H++) {
            var y = e.getInt32(),
                w = e.getInt32();
            I = (y >>> 4 ^ w) & 252645135, w ^= I, y ^= I << 4, I = (w >>> -16 ^ y) & 65535, y ^= I, w ^= I << -16, I = (y >>> 2 ^ w) & 858993459, w ^= I, y ^= I << 2, I = (w >>> -16 ^ y) & 65535, y ^= I, w ^= I << -16, I = (y >>> 1 ^ w) & 1431655765, w ^= I, y ^= I << 1, I = (w >>> 8 ^ y) & 16711935, y ^= I, w ^= I << 8, I = (y >>> 1 ^ w) & 1431655765, w ^= I, y ^= I << 1, I = y << 8 | w >>> 20 & 240, y = w << 24 | w << 8 & 16711680 | w >>> 8 & 65280 | w >>> 24 & 240, w = I;
            for (var X = 0; X < O.length; ++X) {
                O[X] ? (y = y << 2 | y >>> 26, w = w << 2 | w >>> 26) : (y = y << 1 | y >>> 27, w = w << 1 | w >>> 27), y &= -15, w &= -15;
                var oe = t[y >>> 28] | i[y >>> 24 & 15] | n[y >>> 20 & 15] | r[y >>> 16 & 15] | a[y >>> 12 & 15] | s[y >>> 8 & 15] | l[y >>> 4 & 15],
                    me = u[w >>> 28] | f[w >>> 24 & 15] | d[w >>> 20 & 15] | m[w >>> 16 & 15] | T[w >>> 12 & 15] | x[w >>> 8 & 15] | C[w >>> 4 & 15];
                I = (me >>> 16 ^ oe) & 65535, E[D++] = oe ^ I, E[D++] = me ^ I << 16
            }
        }
        return E
    }

    function Mm(e, t, i, n) {
        var r = e.length === 32 ? 3 : 9,
            a;
        r === 3 ? a = n ? [30, -2, -2] : [0, 32, 2] : a = n ? [94, 62, -2, 32, 64, 2, 30, -2, -2] : [0, 32, 2, 62, 30, -2, 64, 96, 2];
        var s, l = t[0],
            u = t[1];
        s = (l >>> 4 ^ u) & 252645135, u ^= s, l ^= s << 4, s = (l >>> 16 ^ u) & 65535, u ^= s, l ^= s << 16, s = (u >>> 2 ^ l) & 858993459, l ^= s, u ^= s << 2, s = (u >>> 8 ^ l) & 16711935, l ^= s, u ^= s << 8, s = (l >>> 1 ^ u) & 1431655765, u ^= s, l ^= s << 1, l = l << 1 | l >>> 31, u = u << 1 | u >>> 31;
        for (var f = 0; f < r; f += 3) {
            for (var d = a[f + 1], m = a[f + 2], T = a[f]; T != d; T += m) {
                var x = u ^ e[T],
                    C = (u >>> 4 | u << 28) ^ e[T + 1];
                s = l, l = u, u = s ^ (RE[x >>> 24 & 63] | ME[x >>> 16 & 63] | UE[x >>> 8 & 63] | qE[x & 63] | PE[C >>> 24 & 63] | BE[C >>> 16 & 63] | OE[C >>> 8 & 63] | FE[C & 63])
            }
            s = l, l = u, u = s
        }
        l = l >>> 1 | l << 31, u = u >>> 1 | u << 31, s = (l >>> 1 ^ u) & 1431655765, u ^= s, l ^= s << 1, s = (u >>> 8 ^ l) & 16711935, l ^= s, u ^= s << 8, s = (u >>> 2 ^ l) & 858993459, l ^= s, u ^= s << 2, s = (l >>> 16 ^ u) & 65535, u ^= s, l ^= s << 16, s = (l >>> 4 ^ u) & 252645135, u ^= s, l ^= s << 4, i[0] = l, i[1] = u
    }

    function Dc(e) {
        e = e || {};
        var t = (e.mode || "CBC").toUpperCase(),
            i = "DES-" + t,
            n;
        e.decrypt ? n = yn.cipher.createDecipher(i, e.key) : n = yn.cipher.createCipher(i, e.key);
        var r = n.start;
        return n.start = function(a, s) {
            var l = null;
            s instanceof yn.util.ByteBuffer && (l = s, s = {}), s = s || {}, s.output = l, s.iv = a, r.call(n, s)
        }, n
    }
});
var Nc = Ke((IR, Um) => {
    var qr = ui();
    dl();
    as();
    Pi();
    var zE = qr.pkcs5 = qr.pkcs5 || {},
        Ds;
    qr.util.isNodejs && !qr.options.usePureJavaScript && (Ds = vn("crypto"));
    Um.exports = qr.pbkdf2 = zE.pbkdf2 = function(e, t, i, n, r, a) {
        if (typeof r == "function" && (a = r, r = null), qr.util.isNodejs && !qr.options.usePureJavaScript && Ds.pbkdf2 && (r === null || typeof r != "object") && (Ds.pbkdf2Sync.length > 4 || !r || r === "sha1")) return typeof r != "string" && (r = "sha1"), e = Buffer.from(e, "binary"), t = Buffer.from(t, "binary"), a ? Ds.pbkdf2Sync.length === 4 ? Ds.pbkdf2(e, t, i, n, function(I, H) {
            if (I) return a(I);
            a(null, H.toString("binary"))
        }) : Ds.pbkdf2(e, t, i, n, r, function(I, H) {
            if (I) return a(I);
            a(null, H.toString("binary"))
        }) : Ds.pbkdf2Sync.length === 4 ? Ds.pbkdf2Sync(e, t, i, n).toString("binary") : Ds.pbkdf2Sync(e, t, i, n, r).toString("binary");
        if ((typeof r > "u" || r === null) && (r = "sha1"), typeof r == "string") {
            if (!(r in qr.md.algorithms)) throw new Error("Unknown hash algorithm: " + r);
            r = qr.md[r].create()
        }
        var s = r.digestLength;
        if (n > 4294967295 * s) {
            var l = new Error("Derived key is too long.");
            if (a) return a(l);
            throw l
        }
        var u = Math.ceil(n / s),
            f = n - (u - 1) * s,
            d = qr.hmac.create();
        d.start(r, e);
        var m = "",
            T, x, C;
        if (!a) {
            for (var N = 1; N <= u; ++N) {
                d.start(null, null), d.update(t), d.update(qr.util.int32ToBytes(N)), T = C = d.digest().getBytes();
                for (var E = 2; E <= i; ++E) d.start(null, null), d.update(C), x = d.digest().getBytes(), T = qr.util.xorBytes(T, x, s), C = x;
                m += N < u ? T : T.substr(0, f)
            }
            return m
        }
        var N = 1,
            E;

        function O() {
            if (N > u) return a(null, m);
            d.start(null, null), d.update(t), d.update(qr.util.int32ToBytes(N)), T = C = d.digest().getBytes(), E = 2, D()
        }

        function D() {
            if (E <= i) return d.start(null, null), d.update(C), x = d.digest().getBytes(), T = qr.util.xorBytes(T, x, s), C = x, ++E, qr.util.setImmediate(D);
            m += N < u ? T : T.substr(0, f), ++N, O()
        }
        O()
    }
});
var wh = Ke((AR, Hm) => {
    var ls = ui();
    as();
    Pi();
    var qm = Hm.exports = ls.sha256 = ls.sha256 || {};
    ls.md.sha256 = ls.md.algorithms.sha256 = qm;
    qm.create = function() {
        Vm || HE();
        var e = null,
            t = ls.util.createBuffer(),
            i = new Array(64),
            n = {
                algorithm: "sha256",
                blockLength: 64,
                digestLength: 32,
                messageLength: 0,
                fullMessageLength: null,
                messageLengthSize: 8
            };
        return n.start = function() {
            n.messageLength = 0, n.fullMessageLength = n.messageLength64 = [];
            for (var r = n.messageLengthSize / 4, a = 0; a < r; ++a) n.fullMessageLength.push(0);
            return t = ls.util.createBuffer(), e = {
                h0: 1779033703,
                h1: 3144134277,
                h2: 1013904242,
                h3: 2773480762,
                h4: 1359893119,
                h5: 2600822924,
                h6: 528734635,
                h7: 1541459225
            }, n
        }, n.start(), n.update = function(r, a) {
            a === "utf8" && (r = ls.util.encodeUtf8(r));
            var s = r.length;
            n.messageLength += s, s = [s / 4294967296 >>> 0, s >>> 0];
            for (var l = n.fullMessageLength.length - 1; l >= 0; --l) n.fullMessageLength[l] += s[1], s[1] = s[0] + (n.fullMessageLength[l] / 4294967296 >>> 0), n.fullMessageLength[l] = n.fullMessageLength[l] >>> 0, s[0] = s[1] / 4294967296 >>> 0;
            return t.putBytes(r), Fm(e, i, t), (t.read > 2048 || t.length() === 0) && t.compact(), n
        }, n.digest = function() {
            var r = ls.util.createBuffer();
            r.putBytes(t.bytes());
            var a = n.fullMessageLength[n.fullMessageLength.length - 1] + n.messageLengthSize,
                s = a & n.blockLength - 1;
            r.putBytes(xh.substr(0, n.blockLength - s));
            for (var l, u, f = n.fullMessageLength[0] * 8, d = 0; d < n.fullMessageLength.length - 1; ++d) l = n.fullMessageLength[d + 1] * 8, u = l / 4294967296 >>> 0, f += u, r.putInt32(f >>> 0), f = l >>> 0;
            r.putInt32(f);
            var m = {
                h0: e.h0,
                h1: e.h1,
                h2: e.h2,
                h3: e.h3,
                h4: e.h4,
                h5: e.h5,
                h6: e.h6,
                h7: e.h7
            };
            Fm(m, i, r);
            var T = ls.util.createBuffer();
            return T.putInt32(m.h0), T.putInt32(m.h1), T.putInt32(m.h2), T.putInt32(m.h3), T.putInt32(m.h4), T.putInt32(m.h5), T.putInt32(m.h6), T.putInt32(m.h7), T
        }, n
    };
    var xh = null,
        Vm = !1,
        zm = null;

    function HE() {
        xh = String.fromCharCode(128), xh += ls.util.fillString(String.fromCharCode(0), 64), zm = [1116352408, 1899447441, 3049323471, 3921009573, 961987163, 1508970993, 2453635748, 2870763221, 3624381080, 310598401, 607225278, 1426881987, 1925078388, 2162078206, 2614888103, 3248222580, 3835390401, 4022224774, 264347078, 604807628, 770255983, 1249150122, 1555081692, 1996064986, 2554220882, 2821834349, 2952996808, 3210313671, 3336571891, 3584528711, 113926993, 338241895, 666307205, 773529912, 1294757372, 1396182291, 1695183700, 1986661051, 2177026350, 2456956037, 2730485921, 2820302411, 3259730800, 3345764771, 3516065817, 3600352804, 4094571909, 275423344, 430227734, 506948616, 659060556, 883997877, 958139571, 1322822218, 1537002063, 1747873779, 1955562222, 2024104815, 2227730452, 2361852424, 2428436474, 2756734187, 3204031479, 3329325298], Vm = !0
    }

    function Fm(e, t, i) {
        for (var n, r, a, s, l, u, f, d, m, T, x, C, N, E, O, D = i.length(); D >= 64;) {
            for (f = 0; f < 16; ++f) t[f] = i.getInt32();
            for (; f < 64; ++f) n = t[f - 2], n = (n >>> 17 | n << 15) ^ (n >>> 19 | n << 13) ^ n >>> 10, r = t[f - 15], r = (r >>> 7 | r << 25) ^ (r >>> 18 | r << 14) ^ r >>> 3, t[f] = n + t[f - 7] + r + t[f - 16] | 0;
            for (d = e.h0, m = e.h1, T = e.h2, x = e.h3, C = e.h4, N = e.h5, E = e.h6, O = e.h7, f = 0; f < 64; ++f) s = (C >>> 6 | C << 26) ^ (C >>> 11 | C << 21) ^ (C >>> 25 | C << 7), l = E ^ C & (N ^ E), a = (d >>> 2 | d << 30) ^ (d >>> 13 | d << 19) ^ (d >>> 22 | d << 10), u = d & m | T & (d ^ m), n = O + s + l + zm[f] + t[f], r = a + u, O = E, E = N, N = C, C = x + n >>> 0, x = T, T = m, m = d, d = n + r >>> 0;
            e.h0 = e.h0 + d | 0, e.h1 = e.h1 + m | 0, e.h2 = e.h2 + T | 0, e.h3 = e.h3 + x | 0, e.h4 = e.h4 + C | 0, e.h5 = e.h5 + N | 0, e.h6 = e.h6 + E | 0, e.h7 = e.h7 + O | 0, D -= 64
        }
    }
});
var Eh = Ke((DR, $m) => {
    var us = ui();
    Pi();
    var Pc = null;
    us.util.isNodejs && !us.options.usePureJavaScript && !process.versions["node-webkit"] && (Pc = vn("crypto"));
    var $E = $m.exports = us.prng = us.prng || {};
    $E.create = function(e) {
        for (var t = {
                plugin: e,
                key: null,
                seed: null,
                time: null,
                reseeds: 0,
                generated: 0,
                keyBytes: ""
            }, i = e.md, n = new Array(32), r = 0; r < 32; ++r) n[r] = i.create();
        t.pools = n, t.pool = 0, t.generate = function(f, d) {
            if (!d) return t.generateSync(f);
            var m = t.plugin.cipher,
                T = t.plugin.increment,
                x = t.plugin.formatKey,
                C = t.plugin.formatSeed,
                N = us.util.createBuffer();
            t.key = null, E();

            function E(O) {
                if (O) return d(O);
                if (N.length() >= f) return d(null, N.getBytes(f));
                if (t.generated > 1048575 && (t.key = null), t.key === null) return us.util.nextTick(function() {
                    a(E)
                });
                var D = m(t.key, t.seed);
                t.generated += D.length, N.putBytes(D), t.key = x(m(t.key, T(t.seed))), t.seed = C(m(t.key, t.seed)), us.util.setImmediate(E)
            }
        }, t.generateSync = function(f) {
            var d = t.plugin.cipher,
                m = t.plugin.increment,
                T = t.plugin.formatKey,
                x = t.plugin.formatSeed;
            t.key = null;
            for (var C = us.util.createBuffer(); C.length() < f;) {
                t.generated > 1048575 && (t.key = null), t.key === null && s();
                var N = d(t.key, t.seed);
                t.generated += N.length, C.putBytes(N), t.key = T(d(t.key, m(t.seed))), t.seed = x(d(t.key, t.seed))
            }
            return C.getBytes(f)
        };

        function a(f) {
            if (t.pools[0].messageLength >= 32) return l(), f();
            var d = 32 - t.pools[0].messageLength << 5;
            t.seedFile(d, function(m, T) {
                if (m) return f(m);
                t.collect(T), l(), f()
            })
        }

        function s() {
            if (t.pools[0].messageLength >= 32) return l();
            var f = 32 - t.pools[0].messageLength << 5;
            t.collect(t.seedFileSync(f)), l()
        }

        function l() {
            t.reseeds = t.reseeds === 4294967295 ? 0 : t.reseeds + 1;
            var f = t.plugin.md.create();
            f.update(t.keyBytes);
            for (var d = 1, m = 0; m < 32; ++m) t.reseeds % d === 0 && (f.update(t.pools[m].digest().getBytes()), t.pools[m].start()), d = d << 1;
            t.keyBytes = f.digest().getBytes(), f.start(), f.update(t.keyBytes);
            var T = f.digest().getBytes();
            t.key = t.plugin.formatKey(t.keyBytes), t.seed = t.plugin.formatSeed(T), t.generated = 0
        }

        function u(f) {
            var d = null,
                m = us.util.globalScope,
                T = m.crypto || m.msCrypto;
            T && T.getRandomValues && (d = function(y) {
                return T.getRandomValues(y)
            });
            var x = us.util.createBuffer();
            if (d)
                for (; x.length() < f;) {
                    var C = Math.max(1, Math.min(f - x.length(), 65536) / 4),
                        N = new Uint32Array(Math.floor(C));
                    try {
                        d(N);
                        for (var E = 0; E < N.length; ++E) x.putInt32(N[E])
                    } catch (y) {
                        if (!(typeof QuotaExceededError < "u" && y instanceof QuotaExceededError)) throw y
                    }
                }
            if (x.length() < f)
                for (var O, D, I, H = Math.floor(Math.random() * 65536); x.length() < f;) {
                    D = 16807 * (H & 65535), O = 16807 * (H >> 16), D += (O & 32767) << 16, D += O >> 15, D = (D & 2147483647) + (D >> 31), H = D & 4294967295;
                    for (var E = 0; E < 3; ++E) I = H >>> (E << 3), I ^= Math.floor(Math.random() * 256), x.putByte(I & 255)
                }
            return x.getBytes(f)
        }
        return Pc ? (t.seedFile = function(f, d) {
            Pc.randomBytes(f, function(m, T) {
                if (m) return d(m);
                d(null, T.toString())
            })
        }, t.seedFileSync = function(f) {
            return Pc.randomBytes(f).toString()
        }) : (t.seedFile = function(f, d) {
            try {
                d(null, u(f))
            } catch (m) {
                d(m)
            }
        }, t.seedFileSync = u), t.collect = function(f) {
            for (var d = f.length, m = 0; m < d; ++m) t.pools[t.pool].update(f.substr(m, 1)), t.pool = t.pool === 31 ? 0 : t.pool + 1
        }, t.collectInt = function(f, d) {
            for (var m = "", T = 0; T < d; T += 8) m += String.fromCharCode(f >> T & 255);
            t.collect(m)
        }, t.registerWorker = function(f) {
            if (f === self) t.seedFile = function(m, T) {
                function x(C) {
                    var N = C.data;
                    N.forge && N.forge.prng && (self.removeEventListener("message", x), T(N.forge.prng.err, N.forge.prng.bytes))
                }
                self.addEventListener("message", x), self.postMessage({
                    forge: {
                        prng: {
                            needed: m
                        }
                    }
                })
            };
            else {
                var d = function(m) {
                    var T = m.data;
                    T.forge && T.forge.prng && t.seedFile(T.forge.prng.needed, function(x, C) {
                        f.postMessage({
                            forge: {
                                prng: {
                                    err: x,
                                    bytes: C
                                }
                            }
                        })
                    })
                };
                f.addEventListener("message", d)
            }
        }, t
    }
});
var ka = Ke((NR, Ch) => {
    var or = ui();
    to();
    wh();
    Eh();
    Pi();
    (function() {
        if (or.random && or.random.getBytes) {
            Ch.exports = or.random;
            return
        }(function(e) {
            var t = {},
                i = new Array(4),
                n = or.util.createBuffer();
            t.formatKey = function(m) {
                var T = or.util.createBuffer(m);
                return m = new Array(4), m[0] = T.getInt32(), m[1] = T.getInt32(), m[2] = T.getInt32(), m[3] = T.getInt32(), or.aes._expandKey(m, !1)
            }, t.formatSeed = function(m) {
                var T = or.util.createBuffer(m);
                return m = new Array(4), m[0] = T.getInt32(), m[1] = T.getInt32(), m[2] = T.getInt32(), m[3] = T.getInt32(), m
            }, t.cipher = function(m, T) {
                return or.aes._updateBlock(m, T, i, !1), n.putInt32(i[0]), n.putInt32(i[1]), n.putInt32(i[2]), n.putInt32(i[3]), n.getBytes()
            }, t.increment = function(m) {
                return ++m[3], m
            }, t.md = or.md.sha256;

            function r() {
                var m = or.prng.create(t);
                return m.getBytes = function(T, x) {
                    return m.generate(T, x)
                }, m.getBytesSync = function(T) {
                    return m.generate(T)
                }, m
            }
            var a = r(),
                s = null,
                l = or.util.globalScope,
                u = l.crypto || l.msCrypto;
            if (u && u.getRandomValues && (s = function(m) {
                    return u.getRandomValues(m)
                }), or.options.usePureJavaScript || !or.util.isNodejs && !s) {
                if (typeof window > "u" || window.document, a.collectInt(+new Date, 32), typeof navigator < "u") {
                    var f = "";
                    for (var d in navigator) try {
                        typeof navigator[d] == "string" && (f += navigator[d])
                    } catch {}
                    a.collect(f), f = null
                }
                e && (e().mousemove(function(m) {
                    a.collectInt(m.clientX, 16), a.collectInt(m.clientY, 16)
                }), e().keypress(function(m) {
                    a.collectInt(m.charCode, 8)
                }))
            }
            if (!or.random) or.random = a;
            else
                for (var d in a) or.random[d] = a[d];
            or.random.createInstance = r, Ch.exports = or.random
        })(typeof jQuery < "u" ? jQuery : null)
    })()
});
var Th = Ke((PR, Km) => {
    var ta = ui();
    Pi();
    var Sh = [217, 120, 249, 196, 25, 221, 181, 237, 40, 233, 253, 121, 74, 160, 216, 157, 198, 126, 55, 131, 43, 118, 83, 142, 98, 76, 100, 136, 68, 139, 251, 162, 23, 154, 89, 245, 135, 179, 79, 19, 97, 69, 109, 141, 9, 129, 125, 50, 189, 143, 64, 235, 134, 183, 123, 11, 240, 149, 33, 34, 92, 107, 78, 130, 84, 214, 101, 147, 206, 96, 178, 28, 115, 86, 192, 20, 167, 140, 241, 220, 18, 117, 202, 31, 59, 190, 228, 209, 66, 61, 212, 48, 163, 60, 182, 38, 111, 191, 14, 218, 70, 105, 7, 87, 39, 242, 29, 155, 188, 148, 67, 3, 248, 17, 199, 246, 144, 239, 62, 231, 6, 195, 213, 47, 200, 102, 30, 215, 8, 232, 234, 222, 128, 82, 238, 247, 132, 170, 114, 172, 53, 77, 106, 42, 150, 26, 210, 113, 90, 21, 73, 116, 75, 159, 208, 94, 4, 24, 164, 236, 194, 224, 65, 110, 15, 81, 203, 204, 36, 145, 175, 80, 161, 244, 112, 57, 153, 124, 58, 133, 35, 184, 180, 122, 252, 2, 54, 91, 37, 85, 151, 49, 45, 93, 250, 152, 227, 138, 146, 174, 5, 223, 41, 16, 103, 108, 186, 201, 211, 0, 230, 207, 225, 158, 168, 44, 99, 22, 1, 63, 88, 226, 137, 169, 13, 56, 52, 27, 171, 51, 255, 176, 187, 72, 12, 95, 185, 177, 205, 46, 197, 243, 219, 71, 229, 165, 156, 119, 10, 166, 32, 104, 254, 127, 193, 173],
        jm = [1, 2, 3, 5],
        jE = function(e, t) {
            return e << t & 65535 | (e & 65535) >> 16 - t
        },
        WE = function(e, t) {
            return (e & 65535) >> t | e << 16 - t & 65535
        };
    Km.exports = ta.rc2 = ta.rc2 || {};
    ta.rc2.expandKey = function(e, t) {
        typeof e == "string" && (e = ta.util.createBuffer(e)), t = t || 128;
        var i = e,
            n = e.length(),
            r = t,
            a = Math.ceil(r / 8),
            s = 255 >> (r & 7),
            l;
        for (l = n; l < 128; l++) i.putByte(Sh[i.at(l - 1) + i.at(l - n) & 255]);
        for (i.setAt(128 - a, Sh[i.at(128 - a) & s]), l = 127 - a; l >= 0; l--) i.setAt(l, Sh[i.at(l + 1) ^ i.at(l + a)]);
        return i
    };
    var Wm = function(e, t, i) {
        var n = !1,
            r = null,
            a = null,
            s = null,
            l, u, f, d, m = [];
        for (e = ta.rc2.expandKey(e, t), f = 0; f < 64; f++) m.push(e.getInt16Le());
        i ? (l = function(C) {
            for (f = 0; f < 4; f++) C[f] += m[d] + (C[(f + 3) % 4] & C[(f + 2) % 4]) + (~C[(f + 3) % 4] & C[(f + 1) % 4]), C[f] = jE(C[f], jm[f]), d++
        }, u = function(C) {
            for (f = 0; f < 4; f++) C[f] += m[C[(f + 3) % 4] & 63]
        }) : (l = function(C) {
            for (f = 3; f >= 0; f--) C[f] = WE(C[f], jm[f]), C[f] -= m[d] + (C[(f + 3) % 4] & C[(f + 2) % 4]) + (~C[(f + 3) % 4] & C[(f + 1) % 4]), d--
        }, u = function(C) {
            for (f = 3; f >= 0; f--) C[f] -= m[C[(f + 3) % 4] & 63]
        });
        var T = function(C) {
                var N = [];
                for (f = 0; f < 4; f++) {
                    var E = r.getInt16Le();
                    s !== null && (i ? E ^= s.getInt16Le() : s.putInt16Le(E)), N.push(E & 65535)
                }
                d = i ? 0 : 63;
                for (var O = 0; O < C.length; O++)
                    for (var D = 0; D < C[O][0]; D++) C[O][1](N);
                for (f = 0; f < 4; f++) s !== null && (i ? s.putInt16Le(N[f]) : N[f] ^= s.getInt16Le()), a.putInt16Le(N[f])
            },
            x = null;
        return x = {
            start: function(C, N) {
                C && typeof C == "string" && (C = ta.util.createBuffer(C)), n = !1, r = ta.util.createBuffer(), a = N || new ta.util.createBuffer, s = C, x.output = a
            },
            update: function(C) {
                for (n || r.putBuffer(C); r.length() >= 8;) T([
                    [5, l],
                    [1, u],
                    [6, l],
                    [1, u],
                    [5, l]
                ])
            },
            finish: function(C) {
                var N = !0;
                if (i)
                    if (C) N = C(8, r, !i);
                    else {
                        var E = r.length() === 8 ? 8 : 8 - r.length();
                        r.fillWithByte(E, E)
                    }
                if (N && (n = !0, x.update()), !i && (N = r.length() === 0, N))
                    if (C) N = C(8, a, !i);
                    else {
                        var O = a.length(),
                            D = a.at(O - 1);
                        D > O ? N = !1 : a.truncate(D)
                    }
                return N
            }
        }, x
    };
    ta.rc2.startEncrypting = function(e, t, i) {
        var n = ta.rc2.createEncryptionCipher(e, 128);
        return n.start(t, i), n
    };
    ta.rc2.createEncryptionCipher = function(e, t) {
        return Wm(e, t, !0)
    };
    ta.rc2.startDecrypting = function(e, t, i) {
        var n = ta.rc2.createDecryptionCipher(e, 128);
        return n.start(t, i), n
    };
    ta.rc2.createDecryptionCipher = function(e, t) {
        return Wm(e, t, !1)
    }
});
var uu = Ke((RR, tv) => {
    var Lh = ui();
    tv.exports = Lh.jsbn = Lh.jsbn || {};
    var Ns, KE = 0xdeadbeefcafe,
        Gm = (KE & 16777215) == 15715070;

    function it(e, t, i) {
        this.data = [], e != null && (typeof e == "number" ? this.fromNumber(e, t, i) : t == null && typeof e != "string" ? this.fromString(e, 256) : this.fromString(e, t))
    }
    Lh.jsbn.BigInteger = it;

    function Ri() {
        return new it(null)
    }

    function GE(e, t, i, n, r, a) {
        for (; --a >= 0;) {
            var s = t * this.data[e++] + i.data[n] + r;
            r = Math.floor(s / 67108864), i.data[n++] = s & 67108863
        }
        return r
    }

    function ZE(e, t, i, n, r, a) {
        for (var s = t & 32767, l = t >> 15; --a >= 0;) {
            var u = this.data[e] & 32767,
                f = this.data[e++] >> 15,
                d = l * u + f * s;
            u = s * u + ((d & 32767) << 15) + i.data[n] + (r & 1073741823), r = (u >>> 30) + (d >>> 15) + l * f + (r >>> 30), i.data[n++] = u & 1073741823
        }
        return r
    }

    function Zm(e, t, i, n, r, a) {
        for (var s = t & 16383, l = t >> 14; --a >= 0;) {
            var u = this.data[e] & 16383,
                f = this.data[e++] >> 14,
                d = l * u + f * s;
            u = s * u + ((d & 16383) << 14) + i.data[n] + r, r = (u >> 28) + (d >> 14) + l * f, i.data[n++] = u & 268435455
        }
        return r
    }
    typeof navigator > "u" ? (it.prototype.am = Zm, Ns = 28) : Gm && navigator.appName == "Microsoft Internet Explorer" ? (it.prototype.am = ZE, Ns = 30) : Gm && navigator.appName != "Netscape" ? (it.prototype.am = GE, Ns = 26) : (it.prototype.am = Zm, Ns = 28);
    it.prototype.DB = Ns;
    it.prototype.DM = (1 << Ns) - 1;
    it.prototype.DV = 1 << Ns;
    var kh = 52;
    it.prototype.FV = Math.pow(2, kh);
    it.prototype.F1 = kh - Ns;
    it.prototype.F2 = 2 * Ns - kh;
    var XE = "0123456789abcdefghijklmnopqrstuvwxyz",
        Rc = new Array,
        gl, Ia;
    gl = "0".charCodeAt(0);
    for (Ia = 0; Ia <= 9; ++Ia) Rc[gl++] = Ia;
    gl = "a".charCodeAt(0);
    for (Ia = 10; Ia < 36; ++Ia) Rc[gl++] = Ia;
    gl = "A".charCodeAt(0);
    for (Ia = 10; Ia < 36; ++Ia) Rc[gl++] = Ia;

    function Xm(e) {
        return XE.charAt(e)
    }

    function Ym(e, t) {
        var i = Rc[e.charCodeAt(t)];
        return i == null ? -1 : i
    }

    function YE(e) {
        for (var t = this.t - 1; t >= 0; --t) e.data[t] = this.data[t];
        e.t = this.t, e.s = this.s
    }

    function QE(e) {
        this.t = 1, this.s = e < 0 ? -1 : 0, e > 0 ? this.data[0] = e : e < -1 ? this.data[0] = e + this.DV : this.t = 0
    }

    function no(e) {
        var t = Ri();
        return t.fromInt(e), t
    }

    function JE(e, t) {
        var i;
        if (t == 16) i = 4;
        else if (t == 8) i = 3;
        else if (t == 256) i = 8;
        else if (t == 2) i = 1;
        else if (t == 32) i = 5;
        else if (t == 4) i = 2;
        else {
            this.fromRadix(e, t);
            return
        }
        this.t = 0, this.s = 0;
        for (var n = e.length, r = !1, a = 0; --n >= 0;) {
            var s = i == 8 ? e[n] & 255 : Ym(e, n);
            if (s < 0) {
                e.charAt(n) == "-" && (r = !0);
                continue
            }
            r = !1, a == 0 ? this.data[this.t++] = s : a + i > this.DB ? (this.data[this.t - 1] |= (s & (1 << this.DB - a) - 1) << a, this.data[this.t++] = s >> this.DB - a) : this.data[this.t - 1] |= s << a, a += i, a >= this.DB && (a -= this.DB)
        }
        i == 8 && e[0] & 128 && (this.s = -1, a > 0 && (this.data[this.t - 1] |= (1 << this.DB - a) - 1 << a)), this.clamp(), r && it.ZERO.subTo(this, this)
    }

    function eC() {
        for (var e = this.s & this.DM; this.t > 0 && this.data[this.t - 1] == e;) --this.t
    }

    function tC(e) {
        if (this.s < 0) return "-" + this.negate().toString(e);
        var t;
        if (e == 16) t = 4;
        else if (e == 8) t = 3;
        else if (e == 2) t = 1;
        else if (e == 32) t = 5;
        else if (e == 4) t = 2;
        else return this.toRadix(e);
        var i = (1 << t) - 1,
            n, r = !1,
            a = "",
            s = this.t,
            l = this.DB - s * this.DB % t;
        if (s-- > 0)
            for (l < this.DB && (n = this.data[s] >> l) > 0 && (r = !0, a = Xm(n)); s >= 0;) l < t ? (n = (this.data[s] & (1 << l) - 1) << t - l, n |= this.data[--s] >> (l += this.DB - t)) : (n = this.data[s] >> (l -= t) & i, l <= 0 && (l += this.DB, --s)), n > 0 && (r = !0), r && (a += Xm(n));
        return r ? a : "0"
    }

    function iC() {
        var e = Ri();
        return it.ZERO.subTo(this, e), e
    }

    function nC() {
        return this.s < 0 ? this.negate() : this
    }

    function rC(e) {
        var t = this.s - e.s;
        if (t != 0) return t;
        var i = this.t;
        if (t = i - e.t, t != 0) return this.s < 0 ? -t : t;
        for (; --i >= 0;)
            if ((t = this.data[i] - e.data[i]) != 0) return t;
        return 0
    }

    function Bc(e) {
        var t = 1,
            i;
        return (i = e >>> 16) != 0 && (e = i, t += 16), (i = e >> 8) != 0 && (e = i, t += 8), (i = e >> 4) != 0 && (e = i, t += 4), (i = e >> 2) != 0 && (e = i, t += 2), (i = e >> 1) != 0 && (e = i, t += 1), t
    }

    function aC() {
        return this.t <= 0 ? 0 : this.DB * (this.t - 1) + Bc(this.data[this.t - 1] ^ this.s & this.DM)
    }

    function sC(e, t) {
        var i;
        for (i = this.t - 1; i >= 0; --i) t.data[i + e] = this.data[i];
        for (i = e - 1; i >= 0; --i) t.data[i] = 0;
        t.t = this.t + e, t.s = this.s
    }

    function oC(e, t) {
        for (var i = e; i < this.t; ++i) t.data[i - e] = this.data[i];
        t.t = Math.max(this.t - e, 0), t.s = this.s
    }

    function lC(e, t) {
        var i = e % this.DB,
            n = this.DB - i,
            r = (1 << n) - 1,
            a = Math.floor(e / this.DB),
            s = this.s << i & this.DM,
            l;
        for (l = this.t - 1; l >= 0; --l) t.data[l + a + 1] = this.data[l] >> n | s, s = (this.data[l] & r) << i;
        for (l = a - 1; l >= 0; --l) t.data[l] = 0;
        t.data[a] = s, t.t = this.t + a + 1, t.s = this.s, t.clamp()
    }

    function uC(e, t) {
        t.s = this.s;
        var i = Math.floor(e / this.DB);
        if (i >= this.t) {
            t.t = 0;
            return
        }
        var n = e % this.DB,
            r = this.DB - n,
            a = (1 << n) - 1;
        t.data[0] = this.data[i] >> n;
        for (var s = i + 1; s < this.t; ++s) t.data[s - i - 1] |= (this.data[s] & a) << r, t.data[s - i] = this.data[s] >> n;
        n > 0 && (t.data[this.t - i - 1] |= (this.s & a) << r), t.t = this.t - i, t.clamp()
    }

    function cC(e, t) {
        for (var i = 0, n = 0, r = Math.min(e.t, this.t); i < r;) n += this.data[i] - e.data[i], t.data[i++] = n & this.DM, n >>= this.DB;
        if (e.t < this.t) {
            for (n -= e.s; i < this.t;) n += this.data[i], t.data[i++] = n & this.DM, n >>= this.DB;
            n += this.s
        } else {
            for (n += this.s; i < e.t;) n -= e.data[i], t.data[i++] = n & this.DM, n >>= this.DB;
            n -= e.s
        }
        t.s = n < 0 ? -1 : 0, n < -1 ? t.data[i++] = this.DV + n : n > 0 && (t.data[i++] = n), t.t = i, t.clamp()
    }

    function fC(e, t) {
        var i = this.abs(),
            n = e.abs(),
            r = i.t;
        for (t.t = r + n.t; --r >= 0;) t.data[r] = 0;
        for (r = 0; r < n.t; ++r) t.data[r + i.t] = i.am(0, n.data[r], t, r, 0, i.t);
        t.s = 0, t.clamp(), this.s != e.s && it.ZERO.subTo(t, t)
    }

    function hC(e) {
        for (var t = this.abs(), i = e.t = 2 * t.t; --i >= 0;) e.data[i] = 0;
        for (i = 0; i < t.t - 1; ++i) {
            var n = t.am(i, t.data[i], e, 2 * i, 0, 1);
            (e.data[i + t.t] += t.am(i + 1, 2 * t.data[i], e, 2 * i + 1, n, t.t - i - 1)) >= t.DV && (e.data[i + t.t] -= t.DV, e.data[i + t.t + 1] = 1)
        }
        e.t > 0 && (e.data[e.t - 1] += t.am(i, t.data[i], e, 2 * i, 0, 1)), e.s = 0, e.clamp()
    }

    function dC(e, t, i) {
        var n = e.abs();
        if (!(n.t <= 0)) {
            var r = this.abs();
            if (r.t < n.t) {
                t != null && t.fromInt(0), i != null && this.copyTo(i);
                return
            }
            i == null && (i = Ri());
            var a = Ri(),
                s = this.s,
                l = e.s,
                u = this.DB - Bc(n.data[n.t - 1]);
            u > 0 ? (n.lShiftTo(u, a), r.lShiftTo(u, i)) : (n.copyTo(a), r.copyTo(i));
            var f = a.t,
                d = a.data[f - 1];
            if (d != 0) {
                var m = d * (1 << this.F1) + (f > 1 ? a.data[f - 2] >> this.F2 : 0),
                    T = this.FV / m,
                    x = (1 << this.F1) / m,
                    C = 1 << this.F2,
                    N = i.t,
                    E = N - f,
                    O = t == null ? Ri() : t;
                for (a.dlShiftTo(E, O), i.compareTo(O) >= 0 && (i.data[i.t++] = 1, i.subTo(O, i)), it.ONE.dlShiftTo(f, O), O.subTo(a, a); a.t < f;) a.data[a.t++] = 0;
                for (; --E >= 0;) {
                    var D = i.data[--N] == d ? this.DM : Math.floor(i.data[N] * T + (i.data[N - 1] + C) * x);
                    if ((i.data[N] += a.am(0, D, i, E, 0, f)) < D)
                        for (a.dlShiftTo(E, O), i.subTo(O, i); i.data[N] < --D;) i.subTo(O, i)
                }
                t != null && (i.drShiftTo(f, t), s != l && it.ZERO.subTo(t, t)), i.t = f, i.clamp(), u > 0 && i.rShiftTo(u, i), s < 0 && it.ZERO.subTo(i, i)
            }
        }
    }

    function pC(e) {
        var t = Ri();
        return this.abs().divRemTo(e, null, t), this.s < 0 && t.compareTo(it.ZERO) > 0 && e.subTo(t, t), t
    }

    function Oo(e) {
        this.m = e
    }

    function gC(e) {
        return e.s < 0 || e.compareTo(this.m) >= 0 ? e.mod(this.m) : e
    }

    function mC(e) {
        return e
    }

    function vC(e) {
        e.divRemTo(this.m, null, e)
    }

    function yC(e, t, i) {
        e.multiplyTo(t, i), this.reduce(i)
    }

    function _C(e, t) {
        e.squareTo(t), this.reduce(t)
    }
    Oo.prototype.convert = gC;
    Oo.prototype.revert = mC;
    Oo.prototype.reduce = vC;
    Oo.prototype.mulTo = yC;
    Oo.prototype.sqrTo = _C;

    function bC() {
        if (this.t < 1) return 0;
        var e = this.data[0];
        if (!(e & 1)) return 0;
        var t = e & 3;
        return t = t * (2 - (e & 15) * t) & 15, t = t * (2 - (e & 255) * t) & 255, t = t * (2 - ((e & 65535) * t & 65535)) & 65535, t = t * (2 - e * t % this.DV) % this.DV, t > 0 ? this.DV - t : -t
    }

    function Uo(e) {
        this.m = e, this.mp = e.invDigit(), this.mpl = this.mp & 32767, this.mph = this.mp >> 15, this.um = (1 << e.DB - 15) - 1, this.mt2 = 2 * e.t
    }

    function xC(e) {
        var t = Ri();
        return e.abs().dlShiftTo(this.m.t, t), t.divRemTo(this.m, null, t), e.s < 0 && t.compareTo(it.ZERO) > 0 && this.m.subTo(t, t), t
    }

    function wC(e) {
        var t = Ri();
        return e.copyTo(t), this.reduce(t), t
    }

    function EC(e) {
        for (; e.t <= this.mt2;) e.data[e.t++] = 0;
        for (var t = 0; t < this.m.t; ++t) {
            var i = e.data[t] & 32767,
                n = i * this.mpl + ((i * this.mph + (e.data[t] >> 15) * this.mpl & this.um) << 15) & e.DM;
            for (i = t + this.m.t, e.data[i] += this.m.am(0, n, e, t, 0, this.m.t); e.data[i] >= e.DV;) e.data[i] -= e.DV, e.data[++i]++
        }
        e.clamp(), e.drShiftTo(this.m.t, e), e.compareTo(this.m) >= 0 && e.subTo(this.m, e)
    }

    function CC(e, t) {
        e.squareTo(t), this.reduce(t)
    }

    function SC(e, t, i) {
        e.multiplyTo(t, i), this.reduce(i)
    }
    Uo.prototype.convert = xC;
    Uo.prototype.revert = wC;
    Uo.prototype.reduce = EC;
    Uo.prototype.mulTo = SC;
    Uo.prototype.sqrTo = CC;

    function TC() {
        return (this.t > 0 ? this.data[0] & 1 : this.s) == 0
    }

    function LC(e, t) {
        if (e > 4294967295 || e < 1) return it.ONE;
        var i = Ri(),
            n = Ri(),
            r = t.convert(this),
            a = Bc(e) - 1;
        for (r.copyTo(i); --a >= 0;)
            if (t.sqrTo(i, n), (e & 1 << a) > 0) t.mulTo(n, r, i);
            else {
                var s = i;
                i = n, n = s
            }
        return t.revert(i)
    }

    function kC(e, t) {
        var i;
        return e < 256 || t.isEven() ? i = new Oo(t) : i = new Uo(t), this.exp(e, i)
    }
    it.prototype.copyTo = YE;
    it.prototype.fromInt = QE;
    it.prototype.fromString = JE;
    it.prototype.clamp = eC;
    it.prototype.dlShiftTo = sC;
    it.prototype.drShiftTo = oC;
    it.prototype.lShiftTo = lC;
    it.prototype.rShiftTo = uC;
    it.prototype.subTo = cC;
    it.prototype.multiplyTo = fC;
    it.prototype.squareTo = hC;
    it.prototype.divRemTo = dC;
    it.prototype.invDigit = bC;
    it.prototype.isEven = TC;
    it.prototype.exp = LC;
    it.prototype.toString = tC;
    it.prototype.negate = iC;
    it.prototype.abs = nC;
    it.prototype.compareTo = rC;
    it.prototype.bitLength = aC;
    it.prototype.mod = pC;
    it.prototype.modPowInt = kC;
    it.ZERO = no(0);
    it.ONE = no(1);

    function IC() {
        var e = Ri();
        return this.copyTo(e), e
    }

    function AC() {
        if (this.s < 0) {
            if (this.t == 1) return this.data[0] - this.DV;
            if (this.t == 0) return -1
        } else {
            if (this.t == 1) return this.data[0];
            if (this.t == 0) return 0
        }
        return (this.data[1] & (1 << 32 - this.DB) - 1) << this.DB | this.data[0]
    }

    function DC() {
        return this.t == 0 ? this.s : this.data[0] << 24 >> 24
    }

    function NC() {
        return this.t == 0 ? this.s : this.data[0] << 16 >> 16
    }

    function PC(e) {
        return Math.floor(Math.LN2 * this.DB / Math.log(e))
    }

    function RC() {
        return this.s < 0 ? -1 : this.t <= 0 || this.t == 1 && this.data[0] <= 0 ? 0 : 1
    }

    function BC(e) {
        if (e == null && (e = 10), this.signum() == 0 || e < 2 || e > 36) return "0";
        var t = this.chunkSize(e),
            i = Math.pow(e, t),
            n = no(i),
            r = Ri(),
            a = Ri(),
            s = "";
        for (this.divRemTo(n, r, a); r.signum() > 0;) s = (i + a.intValue()).toString(e).substr(1) + s, r.divRemTo(n, r, a);
        return a.intValue().toString(e) + s
    }

    function MC(e, t) {
        this.fromInt(0), t == null && (t = 10);
        for (var i = this.chunkSize(t), n = Math.pow(t, i), r = !1, a = 0, s = 0, l = 0; l < e.length; ++l) {
            var u = Ym(e, l);
            if (u < 0) {
                e.charAt(l) == "-" && this.signum() == 0 && (r = !0);
                continue
            }
            s = t * s + u, ++a >= i && (this.dMultiply(n), this.dAddOffset(s, 0), a = 0, s = 0)
        }
        a > 0 && (this.dMultiply(Math.pow(t, a)), this.dAddOffset(s, 0)), r && it.ZERO.subTo(this, this)
    }

    function OC(e, t, i) {
        if (typeof t == "number")
            if (e < 2) this.fromInt(1);
            else
                for (this.fromNumber(e, i), this.testBit(e - 1) || this.bitwiseTo(it.ONE.shiftLeft(e - 1), Ih, this), this.isEven() && this.dAddOffset(1, 0); !this.isProbablePrime(t);) this.dAddOffset(2, 0), this.bitLength() > e && this.subTo(it.ONE.shiftLeft(e - 1), this);
        else {
            var n = new Array,
                r = e & 7;
            n.length = (e >> 3) + 1, t.nextBytes(n), r > 0 ? n[0] &= (1 << r) - 1 : n[0] = 0, this.fromString(n, 256)
        }
    }

    function UC() {
        var e = this.t,
            t = new Array;
        t[0] = this.s;
        var i = this.DB - e * this.DB % 8,
            n, r = 0;
        if (e-- > 0)
            for (i < this.DB && (n = this.data[e] >> i) != (this.s & this.DM) >> i && (t[r++] = n | this.s << this.DB - i); e >= 0;) i < 8 ? (n = (this.data[e] & (1 << i) - 1) << 8 - i, n |= this.data[--e] >> (i += this.DB - 8)) : (n = this.data[e] >> (i -= 8) & 255, i <= 0 && (i += this.DB, --e)), n & 128 && (n |= -256), r == 0 && (this.s & 128) != (n & 128) && ++r, (r > 0 || n != this.s) && (t[r++] = n);
        return t
    }

    function FC(e) {
        return this.compareTo(e) == 0
    }

    function qC(e) {
        return this.compareTo(e) < 0 ? this : e
    }

    function VC(e) {
        return this.compareTo(e) > 0 ? this : e
    }

    function zC(e, t, i) {
        var n, r, a = Math.min(e.t, this.t);
        for (n = 0; n < a; ++n) i.data[n] = t(this.data[n], e.data[n]);
        if (e.t < this.t) {
            for (r = e.s & this.DM, n = a; n < this.t; ++n) i.data[n] = t(this.data[n], r);
            i.t = this.t
        } else {
            for (r = this.s & this.DM, n = a; n < e.t; ++n) i.data[n] = t(r, e.data[n]);
            i.t = e.t
        }
        i.s = t(this.s, e.s), i.clamp()
    }

    function HC(e, t) {
        return e & t
    }

    function $C(e) {
        var t = Ri();
        return this.bitwiseTo(e, HC, t), t
    }

    function Ih(e, t) {
        return e | t
    }

    function jC(e) {
        var t = Ri();
        return this.bitwiseTo(e, Ih, t), t
    }

    function Qm(e, t) {
        return e ^ t
    }

    function WC(e) {
        var t = Ri();
        return this.bitwiseTo(e, Qm, t), t
    }

    function Jm(e, t) {
        return e & ~t
    }

    function KC(e) {
        var t = Ri();
        return this.bitwiseTo(e, Jm, t), t
    }

    function GC() {
        for (var e = Ri(), t = 0; t < this.t; ++t) e.data[t] = this.DM & ~this.data[t];
        return e.t = this.t, e.s = ~this.s, e
    }

    function ZC(e) {
        var t = Ri();
        return e < 0 ? this.rShiftTo(-e, t) : this.lShiftTo(e, t), t
    }

    function XC(e) {
        var t = Ri();
        return e < 0 ? this.lShiftTo(-e, t) : this.rShiftTo(e, t), t
    }

    function YC(e) {
        if (e == 0) return -1;
        var t = 0;
        return e & 65535 || (e >>= 16, t += 16), e & 255 || (e >>= 8, t += 8), e & 15 || (e >>= 4, t += 4), e & 3 || (e >>= 2, t += 2), e & 1 || ++t, t
    }

    function QC() {
        for (var e = 0; e < this.t; ++e)
            if (this.data[e] != 0) return e * this.DB + YC(this.data[e]);
        return this.s < 0 ? this.t * this.DB : -1
    }

    function JC(e) {
        for (var t = 0; e != 0;) e &= e - 1, ++t;
        return t
    }

    function eS() {
        for (var e = 0, t = this.s & this.DM, i = 0; i < this.t; ++i) e += JC(this.data[i] ^ t);
        return e
    }

    function tS(e) {
        var t = Math.floor(e / this.DB);
        return t >= this.t ? this.s != 0 : (this.data[t] & 1 << e % this.DB) != 0
    }

    function iS(e, t) {
        var i = it.ONE.shiftLeft(e);
        return this.bitwiseTo(i, t, i), i
    }

    function nS(e) {
        return this.changeBit(e, Ih)
    }

    function rS(e) {
        return this.changeBit(e, Jm)
    }

    function aS(e) {
        return this.changeBit(e, Qm)
    }

    function sS(e, t) {
        for (var i = 0, n = 0, r = Math.min(e.t, this.t); i < r;) n += this.data[i] + e.data[i], t.data[i++] = n & this.DM, n >>= this.DB;
        if (e.t < this.t) {
            for (n += e.s; i < this.t;) n += this.data[i], t.data[i++] = n & this.DM, n >>= this.DB;
            n += this.s
        } else {
            for (n += this.s; i < e.t;) n += e.data[i], t.data[i++] = n & this.DM, n >>= this.DB;
            n += e.s
        }
        t.s = n < 0 ? -1 : 0, n > 0 ? t.data[i++] = n : n < -1 && (t.data[i++] = this.DV + n), t.t = i, t.clamp()
    }

    function oS(e) {
        var t = Ri();
        return this.addTo(e, t), t
    }

    function lS(e) {
        var t = Ri();
        return this.subTo(e, t), t
    }

    function uS(e) {
        var t = Ri();
        return this.multiplyTo(e, t), t
    }

    function cS(e) {
        var t = Ri();
        return this.divRemTo(e, t, null), t
    }

    function fS(e) {
        var t = Ri();
        return this.divRemTo(e, null, t), t
    }

    function hS(e) {
        var t = Ri(),
            i = Ri();
        return this.divRemTo(e, t, i), new Array(t, i)
    }

    function dS(e) {
        this.data[this.t] = this.am(0, e - 1, this, 0, 0, this.t), ++this.t, this.clamp()
    }

    function pS(e, t) {
        if (e != 0) {
            for (; this.t <= t;) this.data[this.t++] = 0;
            for (this.data[t] += e; this.data[t] >= this.DV;) this.data[t] -= this.DV, ++t >= this.t && (this.data[this.t++] = 0), ++this.data[t]
        }
    }

    function lu() {}

    function ev(e) {
        return e
    }

    function gS(e, t, i) {
        e.multiplyTo(t, i)
    }

    function mS(e, t) {
        e.squareTo(t)
    }
    lu.prototype.convert = ev;
    lu.prototype.revert = ev;
    lu.prototype.mulTo = gS;
    lu.prototype.sqrTo = mS;

    function vS(e) {
        return this.exp(e, new lu)
    }

    function yS(e, t, i) {
        var n = Math.min(this.t + e.t, t);
        for (i.s = 0, i.t = n; n > 0;) i.data[--n] = 0;
        var r;
        for (r = i.t - this.t; n < r; ++n) i.data[n + this.t] = this.am(0, e.data[n], i, n, 0, this.t);
        for (r = Math.min(e.t, t); n < r; ++n) this.am(0, e.data[n], i, n, 0, t - n);
        i.clamp()
    }

    function _S(e, t, i) {
        --t;
        var n = i.t = this.t + e.t - t;
        for (i.s = 0; --n >= 0;) i.data[n] = 0;
        for (n = Math.max(t - this.t, 0); n < e.t; ++n) i.data[this.t + n - t] = this.am(t - n, e.data[n], i, 0, 0, this.t + n - t);
        i.clamp(), i.drShiftTo(1, i)
    }

    function ml(e) {
        this.r2 = Ri(), this.q3 = Ri(), it.ONE.dlShiftTo(2 * e.t, this.r2), this.mu = this.r2.divide(e), this.m = e
    }

    function bS(e) {
        if (e.s < 0 || e.t > 2 * this.m.t) return e.mod(this.m);
        if (e.compareTo(this.m) < 0) return e;
        var t = Ri();
        return e.copyTo(t), this.reduce(t), t
    }

    function xS(e) {
        return e
    }

    function wS(e) {
        for (e.drShiftTo(this.m.t - 1, this.r2), e.t > this.m.t + 1 && (e.t = this.m.t + 1, e.clamp()), this.mu.multiplyUpperTo(this.r2, this.m.t + 1, this.q3), this.m.multiplyLowerTo(this.q3, this.m.t + 1, this.r2); e.compareTo(this.r2) < 0;) e.dAddOffset(1, this.m.t + 1);
        for (e.subTo(this.r2, e); e.compareTo(this.m) >= 0;) e.subTo(this.m, e)
    }

    function ES(e, t) {
        e.squareTo(t), this.reduce(t)
    }

    function CS(e, t, i) {
        e.multiplyTo(t, i), this.reduce(i)
    }
    ml.prototype.convert = bS;
    ml.prototype.revert = xS;
    ml.prototype.reduce = wS;
    ml.prototype.mulTo = CS;
    ml.prototype.sqrTo = ES;

    function SS(e, t) {
        var i = e.bitLength(),
            n, r = no(1),
            a;
        if (i <= 0) return r;
        i < 18 ? n = 1 : i < 48 ? n = 3 : i < 144 ? n = 4 : i < 768 ? n = 5 : n = 6, i < 8 ? a = new Oo(t) : t.isEven() ? a = new ml(t) : a = new Uo(t);
        var s = new Array,
            l = 3,
            u = n - 1,
            f = (1 << n) - 1;
        if (s[1] = a.convert(this), n > 1) {
            var d = Ri();
            for (a.sqrTo(s[1], d); l <= f;) s[l] = Ri(), a.mulTo(d, s[l - 2], s[l]), l += 2
        }
        var m = e.t - 1,
            T, x = !0,
            C = Ri(),
            N;
        for (i = Bc(e.data[m]) - 1; m >= 0;) {
            for (i >= u ? T = e.data[m] >> i - u & f : (T = (e.data[m] & (1 << i + 1) - 1) << u - i, m > 0 && (T |= e.data[m - 1] >> this.DB + i - u)), l = n; !(T & 1);) T >>= 1, --l;
            if ((i -= l) < 0 && (i += this.DB, --m), x) s[T].copyTo(r), x = !1;
            else {
                for (; l > 1;) a.sqrTo(r, C), a.sqrTo(C, r), l -= 2;
                l > 0 ? a.sqrTo(r, C) : (N = r, r = C, C = N), a.mulTo(C, s[T], r)
            }
            for (; m >= 0 && !(e.data[m] & 1 << i);) a.sqrTo(r, C), N = r, r = C, C = N, --i < 0 && (i = this.DB - 1, --m)
        }
        return a.revert(r)
    }

    function TS(e) {
        var t = this.s < 0 ? this.negate() : this.clone(),
            i = e.s < 0 ? e.negate() : e.clone();
        if (t.compareTo(i) < 0) {
            var n = t;
            t = i, i = n
        }
        var r = t.getLowestSetBit(),
            a = i.getLowestSetBit();
        if (a < 0) return t;
        for (r < a && (a = r), a > 0 && (t.rShiftTo(a, t), i.rShiftTo(a, i)); t.signum() > 0;)(r = t.getLowestSetBit()) > 0 && t.rShiftTo(r, t), (r = i.getLowestSetBit()) > 0 && i.rShiftTo(r, i), t.compareTo(i) >= 0 ? (t.subTo(i, t), t.rShiftTo(1, t)) : (i.subTo(t, i), i.rShiftTo(1, i));
        return a > 0 && i.lShiftTo(a, i), i
    }

    function LS(e) {
        if (e <= 0) return 0;
        var t = this.DV % e,
            i = this.s < 0 ? e - 1 : 0;
        if (this.t > 0)
            if (t == 0) i = this.data[0] % e;
            else
                for (var n = this.t - 1; n >= 0; --n) i = (t * i + this.data[n]) % e;
        return i
    }

    function kS(e) {
        var t = e.isEven();
        if (this.isEven() && t || e.signum() == 0) return it.ZERO;
        for (var i = e.clone(), n = this.clone(), r = no(1), a = no(0), s = no(0), l = no(1); i.signum() != 0;) {
            for (; i.isEven();) i.rShiftTo(1, i), t ? ((!r.isEven() || !a.isEven()) && (r.addTo(this, r), a.subTo(e, a)), r.rShiftTo(1, r)) : a.isEven() || a.subTo(e, a), a.rShiftTo(1, a);
            for (; n.isEven();) n.rShiftTo(1, n), t ? ((!s.isEven() || !l.isEven()) && (s.addTo(this, s), l.subTo(e, l)), s.rShiftTo(1, s)) : l.isEven() || l.subTo(e, l), l.rShiftTo(1, l);
            i.compareTo(n) >= 0 ? (i.subTo(n, i), t && r.subTo(s, r), a.subTo(l, a)) : (n.subTo(i, n), t && s.subTo(r, s), l.subTo(a, l))
        }
        if (n.compareTo(it.ONE) != 0) return it.ZERO;
        if (l.compareTo(e) >= 0) return l.subtract(e);
        if (l.signum() < 0) l.addTo(e, l);
        else return l;
        return l.signum() < 0 ? l.add(e) : l
    }
    var za = [2, 3, 5, 7, 11, 13, 17, 19, 23, 29, 31, 37, 41, 43, 47, 53, 59, 61, 67, 71, 73, 79, 83, 89, 97, 101, 103, 107, 109, 113, 127, 131, 137, 139, 149, 151, 157, 163, 167, 173, 179, 181, 191, 193, 197, 199, 211, 223, 227, 229, 233, 239, 241, 251, 257, 263, 269, 271, 277, 281, 283, 293, 307, 311, 313, 317, 331, 337, 347, 349, 353, 359, 367, 373, 379, 383, 389, 397, 401, 409, 419, 421, 431, 433, 439, 443, 449, 457, 461, 463, 467, 479, 487, 491, 499, 503, 509],
        IS = (1 << 26) / za[za.length - 1];

    function AS(e) {
        var t, i = this.abs();
        if (i.t == 1 && i.data[0] <= za[za.length - 1]) {
            for (t = 0; t < za.length; ++t)
                if (i.data[0] == za[t]) return !0;
            return !1
        }
        if (i.isEven()) return !1;
        for (t = 1; t < za.length;) {
            for (var n = za[t], r = t + 1; r < za.length && n < IS;) n *= za[r++];
            for (n = i.modInt(n); t < r;)
                if (n % za[t++] == 0) return !1
        }
        return i.millerRabin(e)
    }

    function DS(e) {
        var t = this.subtract(it.ONE),
            i = t.getLowestSetBit();
        if (i <= 0) return !1;
        for (var n = t.shiftRight(i), r = NS(), a, s = 0; s < e; ++s) {
            do a = new it(this.bitLength(), r); while (a.compareTo(it.ONE) <= 0 || a.compareTo(t) >= 0);
            var l = a.modPow(n, this);
            if (l.compareTo(it.ONE) != 0 && l.compareTo(t) != 0) {
                for (var u = 1; u++ < i && l.compareTo(t) != 0;)
                    if (l = l.modPowInt(2, this), l.compareTo(it.ONE) == 0) return !1;
                if (l.compareTo(t) != 0) return !1
            }
        }
        return !0
    }

    function NS() {
        return {
            nextBytes: function(e) {
                for (var t = 0; t < e.length; ++t) e[t] = Math.floor(Math.random() * 256)
            }
        }
    }
    it.prototype.chunkSize = PC;
    it.prototype.toRadix = BC;
    it.prototype.fromRadix = MC;
    it.prototype.fromNumber = OC;
    it.prototype.bitwiseTo = zC;
    it.prototype.changeBit = iS;
    it.prototype.addTo = sS;
    it.prototype.dMultiply = dS;
    it.prototype.dAddOffset = pS;
    it.prototype.multiplyLowerTo = yS;
    it.prototype.multiplyUpperTo = _S;
    it.prototype.modInt = LS;
    it.prototype.millerRabin = DS;
    it.prototype.clone = IC;
    it.prototype.intValue = AC;
    it.prototype.byteValue = DC;
    it.prototype.shortValue = NC;
    it.prototype.signum = RC;
    it.prototype.toByteArray = UC;
    it.prototype.equals = FC;
    it.prototype.min = qC;
    it.prototype.max = VC;
    it.prototype.and = $C;
    it.prototype.or = jC;
    it.prototype.xor = WC;
    it.prototype.andNot = KC;
    it.prototype.not = GC;
    it.prototype.shiftLeft = ZC;
    it.prototype.shiftRight = XC;
    it.prototype.getLowestSetBit = QC;
    it.prototype.bitCount = eS;
    it.prototype.testBit = tS;
    it.prototype.setBit = nS;
    it.prototype.clearBit = rS;
    it.prototype.flipBit = aS;
    it.prototype.add = oS;
    it.prototype.subtract = lS;
    it.prototype.multiply = uS;
    it.prototype.divide = cS;
    it.prototype.remainder = fS;
    it.prototype.divideAndRemainder = hS;
    it.prototype.modPow = SS;
    it.prototype.modInverse = kS;
    it.prototype.pow = vS;
    it.prototype.gcd = TS;
    it.prototype.isProbablePrime = AS
});
var vl = Ke((BR, av) => {
    var cs = ui();
    as();
    Pi();
    var nv = av.exports = cs.sha1 = cs.sha1 || {};
    cs.md.sha1 = cs.md.algorithms.sha1 = nv;
    nv.create = function() {
        rv || PS();
        var e = null,
            t = cs.util.createBuffer(),
            i = new Array(80),
            n = {
                algorithm: "sha1",
                blockLength: 64,
                digestLength: 20,
                messageLength: 0,
                fullMessageLength: null,
                messageLengthSize: 8
            };
        return n.start = function() {
            n.messageLength = 0, n.fullMessageLength = n.messageLength64 = [];
            for (var r = n.messageLengthSize / 4, a = 0; a < r; ++a) n.fullMessageLength.push(0);
            return t = cs.util.createBuffer(), e = {
                h0: 1732584193,
                h1: 4023233417,
                h2: 2562383102,
                h3: 271733878,
                h4: 3285377520
            }, n
        }, n.start(), n.update = function(r, a) {
            a === "utf8" && (r = cs.util.encodeUtf8(r));
            var s = r.length;
            n.messageLength += s, s = [s / 4294967296 >>> 0, s >>> 0];
            for (var l = n.fullMessageLength.length - 1; l >= 0; --l) n.fullMessageLength[l] += s[1], s[1] = s[0] + (n.fullMessageLength[l] / 4294967296 >>> 0), n.fullMessageLength[l] = n.fullMessageLength[l] >>> 0, s[0] = s[1] / 4294967296 >>> 0;
            return t.putBytes(r), iv(e, i, t), (t.read > 2048 || t.length() === 0) && t.compact(), n
        }, n.digest = function() {
            var r = cs.util.createBuffer();
            r.putBytes(t.bytes());
            var a = n.fullMessageLength[n.fullMessageLength.length - 1] + n.messageLengthSize,
                s = a & n.blockLength - 1;
            r.putBytes(Ah.substr(0, n.blockLength - s));
            for (var l, u, f = n.fullMessageLength[0] * 8, d = 0; d < n.fullMessageLength.length - 1; ++d) l = n.fullMessageLength[d + 1] * 8, u = l / 4294967296 >>> 0, f += u, r.putInt32(f >>> 0), f = l >>> 0;
            r.putInt32(f);
            var m = {
                h0: e.h0,
                h1: e.h1,
                h2: e.h2,
                h3: e.h3,
                h4: e.h4
            };
            iv(m, i, r);
            var T = cs.util.createBuffer();
            return T.putInt32(m.h0), T.putInt32(m.h1), T.putInt32(m.h2), T.putInt32(m.h3), T.putInt32(m.h4), T
        }, n
    };
    var Ah = null,
        rv = !1;

    function PS() {
        Ah = String.fromCharCode(128), Ah += cs.util.fillString(String.fromCharCode(0), 64), rv = !0
    }

    function iv(e, t, i) {
        for (var n, r, a, s, l, u, f, d, m = i.length(); m >= 64;) {
            for (r = e.h0, a = e.h1, s = e.h2, l = e.h3, u = e.h4, d = 0; d < 16; ++d) n = i.getInt32(), t[d] = n, f = l ^ a & (s ^ l), n = (r << 5 | r >>> 27) + f + u + 1518500249 + n, u = l, l = s, s = (a << 30 | a >>> 2) >>> 0, a = r, r = n;
            for (; d < 20; ++d) n = t[d - 3] ^ t[d - 8] ^ t[d - 14] ^ t[d - 16], n = n << 1 | n >>> 31, t[d] = n, f = l ^ a & (s ^ l), n = (r << 5 | r >>> 27) + f + u + 1518500249 + n, u = l, l = s, s = (a << 30 | a >>> 2) >>> 0, a = r, r = n;
            for (; d < 32; ++d) n = t[d - 3] ^ t[d - 8] ^ t[d - 14] ^ t[d - 16], n = n << 1 | n >>> 31, t[d] = n, f = a ^ s ^ l, n = (r << 5 | r >>> 27) + f + u + 1859775393 + n, u = l, l = s, s = (a << 30 | a >>> 2) >>> 0, a = r, r = n;
            for (; d < 40; ++d) n = t[d - 6] ^ t[d - 16] ^ t[d - 28] ^ t[d - 32], n = n << 2 | n >>> 30, t[d] = n, f = a ^ s ^ l, n = (r << 5 | r >>> 27) + f + u + 1859775393 + n, u = l, l = s, s = (a << 30 | a >>> 2) >>> 0, a = r, r = n;
            for (; d < 60; ++d) n = t[d - 6] ^ t[d - 16] ^ t[d - 28] ^ t[d - 32], n = n << 2 | n >>> 30, t[d] = n, f = a & s | l & (a ^ s), n = (r << 5 | r >>> 27) + f + u + 2400959708 + n, u = l, l = s, s = (a << 30 | a >>> 2) >>> 0, a = r, r = n;
            for (; d < 80; ++d) n = t[d - 6] ^ t[d - 16] ^ t[d - 28] ^ t[d - 32], n = n << 2 | n >>> 30, t[d] = n, f = a ^ s ^ l, n = (r << 5 | r >>> 27) + f + u + 3395469782 + n, u = l, l = s, s = (a << 30 | a >>> 2) >>> 0, a = r, r = n;
            e.h0 = e.h0 + r | 0, e.h1 = e.h1 + a | 0, e.h2 = e.h2 + s | 0, e.h3 = e.h3 + l | 0, e.h4 = e.h4 + u | 0, m -= 64
        }
    }
});
var Dh = Ke((MR, ov) => {
    var fs = ui();
    Pi();
    ka();
    vl();
    var sv = ov.exports = fs.pkcs1 = fs.pkcs1 || {};
    sv.encode_rsa_oaep = function(e, t, i) {
        var n, r, a, s;
        typeof i == "string" ? (n = i, r = arguments[3] || void 0, a = arguments[4] || void 0) : i && (n = i.label || void 0, r = i.seed || void 0, a = i.md || void 0, i.mgf1 && i.mgf1.md && (s = i.mgf1.md)), a ? a.start() : a = fs.md.sha1.create(), s || (s = a);
        var l = Math.ceil(e.n.bitLength() / 8),
            u = l - 2 * a.digestLength - 2;
        if (t.length > u) {
            var f = new Error("RSAES-OAEP input message length is too long.");
            throw f.length = t.length, f.maxLength = u, f
        }
        n || (n = ""), a.update(n, "raw");
        for (var d = a.digest(), m = "", T = u - t.length, x = 0; x < T; x++) m += "\0";
        var C = d.getBytes() + m + "" + t;
        if (!r) r = fs.random.getBytes(a.digestLength);
        else if (r.length !== a.digestLength) {
            var f = new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.");
            throw f.seedLength = r.length, f.digestLength = a.digestLength, f
        }
        var N = Mc(r, l - a.digestLength - 1, s),
            E = fs.util.xorBytes(C, N, C.length),
            O = Mc(E, a.digestLength, s),
            D = fs.util.xorBytes(r, O, r.length);
        return "\0" + D + E
    };
    sv.decode_rsa_oaep = function(e, t, i) {
        var n, r, a;
        typeof i == "string" ? (n = i, r = arguments[3] || void 0) : i && (n = i.label || void 0, r = i.md || void 0, i.mgf1 && i.mgf1.md && (a = i.mgf1.md));
        var s = Math.ceil(e.n.bitLength() / 8);
        if (t.length !== s) {
            var E = new Error("RSAES-OAEP encoded message length is invalid.");
            throw E.length = t.length, E.expectedLength = s, E
        }
        if (r === void 0 ? r = fs.md.sha1.create() : r.start(), a || (a = r), s < 2 * r.digestLength + 2) throw new Error("RSAES-OAEP key is too short for the hash function.");
        n || (n = ""), r.update(n, "raw");
        for (var l = r.digest().getBytes(), u = t.charAt(0), f = t.substring(1, r.digestLength + 1), d = t.substring(1 + r.digestLength), m = Mc(d, r.digestLength, a), T = fs.util.xorBytes(f, m, f.length), x = Mc(T, s - r.digestLength - 1, a), C = fs.util.xorBytes(d, x, d.length), N = C.substring(0, r.digestLength), E = u !== "\0", O = 0; O < r.digestLength; ++O) E |= l.charAt(O) !== N.charAt(O);
        for (var D = 1, I = r.digestLength, H = r.digestLength; H < C.length; H++) {
            var y = C.charCodeAt(H),
                w = y & 1 ^ 1,
                X = D ? 65534 : 0;
            E |= y & X, D = D & w, I += D
        }
        if (E || C.charCodeAt(I) !== 1) throw new Error("Invalid RSAES-OAEP padding.");
        return C.substring(I + 1)
    };

    function Mc(e, t, i) {
        i || (i = fs.md.sha1.create());
        for (var n = "", r = Math.ceil(t / i.digestLength), a = 0; a < r; ++a) {
            var s = String.fromCharCode(a >> 24 & 255, a >> 16 & 255, a >> 8 & 255, a & 255);
            i.start(), i.update(e + s), n += i.digest().getBytes()
        }
        return n.substring(0, t)
    }
});
var Ph = Ke((OR, Nh) => {
    var ro = ui();
    Pi();
    uu();
    ka();
    (function() {
        if (ro.prime) {
            Nh.exports = ro.prime;
            return
        }
        var e = Nh.exports = ro.prime = ro.prime || {},
            t = ro.jsbn.BigInteger,
            i = [6, 4, 2, 4, 2, 4, 6, 2],
            n = new t(null);
        n.fromInt(30);
        var r = function(m, T) {
            return m | T
        };
        e.generateProbablePrime = function(m, T, x) {
            typeof T == "function" && (x = T, T = {}), T = T || {};
            var C = T.algorithm || "PRIMEINC";
            typeof C == "string" && (C = {
                name: C
            }), C.options = C.options || {};
            var N = T.prng || ro.random,
                E = {
                    nextBytes: function(O) {
                        for (var D = N.getBytesSync(O.length), I = 0; I < O.length; ++I) O[I] = D.charCodeAt(I)
                    }
                };
            if (C.name === "PRIMEINC") return a(m, E, C.options, x);
            throw new Error("Invalid prime generation algorithm: " + C.name)
        };

        function a(m, T, x, C) {
            return "workers" in x ? u(m, T, x, C) : s(m, T, x, C)
        }

        function s(m, T, x, C) {
            var N = f(m, T),
                E = 0,
                O = d(N.bitLength());
            "millerRabinTests" in x && (O = x.millerRabinTests);
            var D = 10;
            "maxBlockTime" in x && (D = x.maxBlockTime), l(N, m, T, E, O, D, C)
        }

        function l(m, T, x, C, N, E, O) {
            var D = +new Date;
            do {
                if (m.bitLength() > T && (m = f(T, x)), m.isProbablePrime(N)) return O(null, m);
                m.dAddOffset(i[C++ % 8], 0)
            } while (E < 0 || +new Date - D < E);
            ro.util.setImmediate(function() {
                l(m, T, x, C, N, E, O)
            })
        }

        function u(m, T, x, C) {
            if (typeof Worker > "u") return s(m, T, x, C);
            var N = f(m, T),
                E = x.workers,
                O = x.workLoad || 100,
                D = O * 30 / 8,
                I = x.workerScript || "forge/prime.worker.js";
            if (E === -1) return ro.util.estimateCores(function(y, w) {
                y && (w = 2), E = w - 1, H()
            });
            H();

            function H() {
                E = Math.max(1, E);
                for (var y = [], w = 0; w < E; ++w) y[w] = new Worker(I);
                for (var X = E, w = 0; w < E; ++w) y[w].addEventListener("message", me);
                var oe = !1;

                function me(V) {
                    if (!oe) {
                        --X;
                        var W = V.data;
                        if (W.found) {
                            for (var P = 0; P < y.length; ++P) y[P].terminate();
                            return oe = !0, C(null, new t(W.prime, 16))
                        }
                        N.bitLength() > m && (N = f(m, T));
                        var se = N.toString(16);
                        V.target.postMessage({
                            hex: se,
                            workLoad: O
                        }), N.dAddOffset(D, 0)
                    }
                }
            }
        }

        function f(m, T) {
            var x = new t(m, T),
                C = m - 1;
            return x.testBit(C) || x.bitwiseTo(t.ONE.shiftLeft(C), r, x), x.dAddOffset(31 - x.mod(n).byteValue(), 0), x
        }

        function d(m) {
            return m <= 100 ? 27 : m <= 150 ? 18 : m <= 200 ? 15 : m <= 250 ? 12 : m <= 300 ? 9 : m <= 350 ? 8 : m <= 400 ? 7 : m <= 500 ? 6 : m <= 600 ? 5 : m <= 800 ? 4 : m <= 1250 ? 3 : 2
        }
    })()
});
var cu = Ke((UR, pv) => {
    var Ot = ui();
    Va();
    uu();
    io();
    Dh();
    Ph();
    ka();
    Pi();
    typeof Ii > "u" && (Ii = Ot.jsbn.BigInteger);
    var Ii, Rh = Ot.util.isNodejs ? vn("crypto") : null,
        Be = Ot.asn1,
        Aa = Ot.util;
    Ot.pki = Ot.pki || {};
    pv.exports = Ot.pki.rsa = Ot.rsa = Ot.rsa || {};
    var ri = Ot.pki,
        RS = [6, 4, 2, 4, 2, 4, 6, 2],
        BS = {
            name: "PrivateKeyInfo",
            tagClass: Be.Class.UNIVERSAL,
            type: Be.Type.SEQUENCE,
            constructed: !0,
            value: [{
                name: "PrivateKeyInfo.version",
                tagClass: Be.Class.UNIVERSAL,
                type: Be.Type.INTEGER,
                constructed: !1,
                capture: "privateKeyVersion"
            }, {
                name: "PrivateKeyInfo.privateKeyAlgorithm",
                tagClass: Be.Class.UNIVERSAL,
                type: Be.Type.SEQUENCE,
                constructed: !0,
                value: [{
                    name: "AlgorithmIdentifier.algorithm",
                    tagClass: Be.Class.UNIVERSAL,
                    type: Be.Type.OID,
                    constructed: !1,
                    capture: "privateKeyOid"
                }]
            }, {
                name: "PrivateKeyInfo",
                tagClass: Be.Class.UNIVERSAL,
                type: Be.Type.OCTETSTRING,
                constructed: !1,
                capture: "privateKey"
            }]
        },
        MS = {
            name: "RSAPrivateKey",
            tagClass: Be.Class.UNIVERSAL,
            type: Be.Type.SEQUENCE,
            constructed: !0,
            value: [{
                name: "RSAPrivateKey.version",
                tagClass: Be.Class.UNIVERSAL,
                type: Be.Type.INTEGER,
                constructed: !1,
                capture: "privateKeyVersion"
            }, {
                name: "RSAPrivateKey.modulus",
                tagClass: Be.Class.UNIVERSAL,
                type: Be.Type.INTEGER,
                constructed: !1,
                capture: "privateKeyModulus"
            }, {
                name: "RSAPrivateKey.publicExponent",
                tagClass: Be.Class.UNIVERSAL,
                type: Be.Type.INTEGER,
                constructed: !1,
                capture: "privateKeyPublicExponent"
            }, {
                name: "RSAPrivateKey.privateExponent",
                tagClass: Be.Class.UNIVERSAL,
                type: Be.Type.INTEGER,
                constructed: !1,
                capture: "privateKeyPrivateExponent"
            }, {
                name: "RSAPrivateKey.prime1",
                tagClass: Be.Class.UNIVERSAL,
                type: Be.Type.INTEGER,
                constructed: !1,
                capture: "privateKeyPrime1"
            }, {
                name: "RSAPrivateKey.prime2",
                tagClass: Be.Class.UNIVERSAL,
                type: Be.Type.INTEGER,
                constructed: !1,
                capture: "privateKeyPrime2"
            }, {
                name: "RSAPrivateKey.exponent1",
                tagClass: Be.Class.UNIVERSAL,
                type: Be.Type.INTEGER,
                constructed: !1,
                capture: "privateKeyExponent1"
            }, {
                name: "RSAPrivateKey.exponent2",
                tagClass: Be.Class.UNIVERSAL,
                type: Be.Type.INTEGER,
                constructed: !1,
                capture: "privateKeyExponent2"
            }, {
                name: "RSAPrivateKey.coefficient",
                tagClass: Be.Class.UNIVERSAL,
                type: Be.Type.INTEGER,
                constructed: !1,
                capture: "privateKeyCoefficient"
            }]
        },
        OS = {
            name: "RSAPublicKey",
            tagClass: Be.Class.UNIVERSAL,
            type: Be.Type.SEQUENCE,
            constructed: !0,
            value: [{
                name: "RSAPublicKey.modulus",
                tagClass: Be.Class.UNIVERSAL,
                type: Be.Type.INTEGER,
                constructed: !1,
                capture: "publicKeyModulus"
            }, {
                name: "RSAPublicKey.exponent",
                tagClass: Be.Class.UNIVERSAL,
                type: Be.Type.INTEGER,
                constructed: !1,
                capture: "publicKeyExponent"
            }]
        },
        US = Ot.pki.rsa.publicKeyValidator = {
            name: "SubjectPublicKeyInfo",
            tagClass: Be.Class.UNIVERSAL,
            type: Be.Type.SEQUENCE,
            constructed: !0,
            captureAsn1: "subjectPublicKeyInfo",
            value: [{
                name: "SubjectPublicKeyInfo.AlgorithmIdentifier",
                tagClass: Be.Class.UNIVERSAL,
                type: Be.Type.SEQUENCE,
                constructed: !0,
                value: [{
                    name: "AlgorithmIdentifier.algorithm",
                    tagClass: Be.Class.UNIVERSAL,
                    type: Be.Type.OID,
                    constructed: !1,
                    capture: "publicKeyOid"
                }]
            }, {
                name: "SubjectPublicKeyInfo.subjectPublicKey",
                tagClass: Be.Class.UNIVERSAL,
                type: Be.Type.BITSTRING,
                constructed: !1,
                value: [{
                    name: "SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",
                    tagClass: Be.Class.UNIVERSAL,
                    type: Be.Type.SEQUENCE,
                    constructed: !0,
                    optional: !0,
                    captureAsn1: "rsaPublicKey"
                }]
            }]
        },
        FS = {
            name: "DigestInfo",
            tagClass: Be.Class.UNIVERSAL,
            type: Be.Type.SEQUENCE,
            constructed: !0,
            value: [{
                name: "DigestInfo.DigestAlgorithm",
                tagClass: Be.Class.UNIVERSAL,
                type: Be.Type.SEQUENCE,
                constructed: !0,
                value: [{
                    name: "DigestInfo.DigestAlgorithm.algorithmIdentifier",
                    tagClass: Be.Class.UNIVERSAL,
                    type: Be.Type.OID,
                    constructed: !1,
                    capture: "algorithmIdentifier"
                }, {
                    name: "DigestInfo.DigestAlgorithm.parameters",
                    tagClass: Be.Class.UNIVERSAL,
                    type: Be.Type.NULL,
                    capture: "parameters",
                    optional: !0,
                    constructed: !1
                }]
            }, {
                name: "DigestInfo.digest",
                tagClass: Be.Class.UNIVERSAL,
                type: Be.Type.OCTETSTRING,
                constructed: !1,
                capture: "digest"
            }]
        },
        qS = function(e) {
            var t;
            if (e.algorithm in ri.oids) t = ri.oids[e.algorithm];
            else {
                var i = new Error("Unknown message digest algorithm.");
                throw i.algorithm = e.algorithm, i
            }
            var n = Be.oidToDer(t).getBytes(),
                r = Be.create(Be.Class.UNIVERSAL, Be.Type.SEQUENCE, !0, []),
                a = Be.create(Be.Class.UNIVERSAL, Be.Type.SEQUENCE, !0, []);
            a.value.push(Be.create(Be.Class.UNIVERSAL, Be.Type.OID, !1, n)), a.value.push(Be.create(Be.Class.UNIVERSAL, Be.Type.NULL, !1, ""));
            var s = Be.create(Be.Class.UNIVERSAL, Be.Type.OCTETSTRING, !1, e.digest().getBytes());
            return r.value.push(a), r.value.push(s), Be.toDer(r).getBytes()
        },
        hv = function(e, t, i) {
            if (i) return e.modPow(t.e, t.n);
            if (!t.p || !t.q) return e.modPow(t.d, t.n);
            t.dP || (t.dP = t.d.mod(t.p.subtract(Ii.ONE))), t.dQ || (t.dQ = t.d.mod(t.q.subtract(Ii.ONE))), t.qInv || (t.qInv = t.q.modInverse(t.p));
            var n;
            do n = new Ii(Ot.util.bytesToHex(Ot.random.getBytes(t.n.bitLength() / 8)), 16); while (n.compareTo(t.n) >= 0 || !n.gcd(t.n).equals(Ii.ONE));
            e = e.multiply(n.modPow(t.e, t.n)).mod(t.n);
            for (var r = e.mod(t.p).modPow(t.dP, t.p), a = e.mod(t.q).modPow(t.dQ, t.q); r.compareTo(a) < 0;) r = r.add(t.p);
            var s = r.subtract(a).multiply(t.qInv).mod(t.p).multiply(t.q).add(a);
            return s = s.multiply(n.modInverse(t.n)).mod(t.n), s
        };
    ri.rsa.encrypt = function(e, t, i) {
        var n = i,
            r, a = Math.ceil(t.n.bitLength() / 8);
        i !== !1 && i !== !0 ? (n = i === 2, r = dv(e, t, i)) : (r = Ot.util.createBuffer(), r.putBytes(e));
        for (var s = new Ii(r.toHex(), 16), l = hv(s, t, n), u = l.toString(16), f = Ot.util.createBuffer(), d = a - Math.ceil(u.length / 2); d > 0;) f.putByte(0), --d;
        return f.putBytes(Ot.util.hexToBytes(u)), f.getBytes()
    };
    ri.rsa.decrypt = function(e, t, i, n) {
        var r = Math.ceil(t.n.bitLength() / 8);
        if (e.length !== r) {
            var a = new Error("Encrypted message length is invalid.");
            throw a.length = e.length, a.expected = r, a
        }
        var s = new Ii(Ot.util.createBuffer(e).toHex(), 16);
        if (s.compareTo(t.n) >= 0) throw new Error("Encrypted message is invalid.");
        for (var l = hv(s, t, i), u = l.toString(16), f = Ot.util.createBuffer(), d = r - Math.ceil(u.length / 2); d > 0;) f.putByte(0), --d;
        return f.putBytes(Ot.util.hexToBytes(u)), n !== !1 ? Oc(f.getBytes(), t, i) : f.getBytes()
    };
    ri.rsa.createKeyPairGenerationState = function(e, t, i) {
        typeof e == "string" && (e = parseInt(e, 10)), e = e || 2048, i = i || {};
        var n = i.prng || Ot.random,
            r = {
                nextBytes: function(l) {
                    for (var u = n.getBytesSync(l.length), f = 0; f < l.length; ++f) l[f] = u.charCodeAt(f)
                }
            },
            a = i.algorithm || "PRIMEINC",
            s;
        if (a === "PRIMEINC") s = {
            algorithm: a,
            state: 0,
            bits: e,
            rng: r,
            eInt: t || 65537,
            e: new Ii(null),
            p: null,
            q: null,
            qBits: e >> 1,
            pBits: e - (e >> 1),
            pqState: 0,
            num: null,
            keys: null
        }, s.e.fromInt(s.eInt);
        else throw new Error("Invalid key generation algorithm: " + a);
        return s
    };
    ri.rsa.stepKeyPairGenerationState = function(e, t) {
        "algorithm" in e || (e.algorithm = "PRIMEINC");
        var i = new Ii(null);
        i.fromInt(30);
        for (var n = 0, r = function(m, T) {
                return m | T
            }, a = +new Date, s, l = 0; e.keys === null && (t <= 0 || l < t);) {
            if (e.state === 0) {
                var u = e.p === null ? e.pBits : e.qBits,
                    f = u - 1;
                e.pqState === 0 ? (e.num = new Ii(u, e.rng), e.num.testBit(f) || e.num.bitwiseTo(Ii.ONE.shiftLeft(f), r, e.num), e.num.dAddOffset(31 - e.num.mod(i).byteValue(), 0), n = 0, ++e.pqState) : e.pqState === 1 ? e.num.bitLength() > u ? e.pqState = 0 : e.num.isProbablePrime(zS(e.num.bitLength())) ? ++e.pqState : e.num.dAddOffset(RS[n++ % 8], 0) : e.pqState === 2 ? e.pqState = e.num.subtract(Ii.ONE).gcd(e.e).compareTo(Ii.ONE) === 0 ? 3 : 0 : e.pqState === 3 && (e.pqState = 0, e.p === null ? e.p = e.num : e.q = e.num, e.p !== null && e.q !== null && ++e.state, e.num = null)
            } else if (e.state === 1) e.p.compareTo(e.q) < 0 && (e.num = e.p, e.p = e.q, e.q = e.num), ++e.state;
            else if (e.state === 2) e.p1 = e.p.subtract(Ii.ONE), e.q1 = e.q.subtract(Ii.ONE), e.phi = e.p1.multiply(e.q1), ++e.state;
            else if (e.state === 3) e.phi.gcd(e.e).compareTo(Ii.ONE) === 0 ? ++e.state : (e.p = null, e.q = null, e.state = 0);
            else if (e.state === 4) e.n = e.p.multiply(e.q), e.n.bitLength() === e.bits ? ++e.state : (e.q = null, e.state = 0);
            else if (e.state === 5) {
                var d = e.e.modInverse(e.phi);
                e.keys = {
                    privateKey: ri.rsa.setPrivateKey(e.n, e.e, d, e.p, e.q, d.mod(e.p1), d.mod(e.q1), e.q.modInverse(e.p)),
                    publicKey: ri.rsa.setPublicKey(e.n, e.e)
                }
            }
            s = +new Date, l += s - a, a = s
        }
        return e.keys !== null
    };
    ri.rsa.generateKeyPair = function(e, t, i, n) {
        if (arguments.length === 1 ? typeof e == "object" ? (i = e, e = void 0) : typeof e == "function" && (n = e, e = void 0) : arguments.length === 2 ? typeof e == "number" ? typeof t == "function" ? (n = t, t = void 0) : typeof t != "number" && (i = t, t = void 0) : (i = e, n = t, e = void 0, t = void 0) : arguments.length === 3 && (typeof t == "number" ? typeof i == "function" && (n = i, i = void 0) : (n = i, i = t, t = void 0)), i = i || {}, e === void 0 && (e = i.bits || 2048), t === void 0 && (t = i.e || 65537), !Ot.options.usePureJavaScript && !i.prng && e >= 256 && e <= 16384 && (t === 65537 || t === 3)) {
            if (n) {
                if (lv("generateKeyPair")) return Rh.generateKeyPair("rsa", {
                    modulusLength: e,
                    publicExponent: t,
                    publicKeyEncoding: {
                        type: "spki",
                        format: "pem"
                    },
                    privateKeyEncoding: {
                        type: "pkcs8",
                        format: "pem"
                    }
                }, function(l, u, f) {
                    if (l) return n(l);
                    n(null, {
                        privateKey: ri.privateKeyFromPem(f),
                        publicKey: ri.publicKeyFromPem(u)
                    })
                });
                if (uv("generateKey") && uv("exportKey")) return Aa.globalScope.crypto.subtle.generateKey({
                    name: "RSASSA-PKCS1-v1_5",
                    modulusLength: e,
                    publicExponent: fv(t),
                    hash: {
                        name: "SHA-256"
                    }
                }, !0, ["sign", "verify"]).then(function(l) {
                    return Aa.globalScope.crypto.subtle.exportKey("pkcs8", l.privateKey)
                }).then(void 0, function(l) {
                    n(l)
                }).then(function(l) {
                    if (l) {
                        var u = ri.privateKeyFromAsn1(Be.fromDer(Ot.util.createBuffer(l)));
                        n(null, {
                            privateKey: u,
                            publicKey: ri.setRsaPublicKey(u.n, u.e)
                        })
                    }
                });
                if (cv("generateKey") && cv("exportKey")) {
                    var r = Aa.globalScope.msCrypto.subtle.generateKey({
                        name: "RSASSA-PKCS1-v1_5",
                        modulusLength: e,
                        publicExponent: fv(t),
                        hash: {
                            name: "SHA-256"
                        }
                    }, !0, ["sign", "verify"]);
                    r.oncomplete = function(l) {
                        var u = l.target.result,
                            f = Aa.globalScope.msCrypto.subtle.exportKey("pkcs8", u.privateKey);
                        f.oncomplete = function(d) {
                            var m = d.target.result,
                                T = ri.privateKeyFromAsn1(Be.fromDer(Ot.util.createBuffer(m)));
                            n(null, {
                                privateKey: T,
                                publicKey: ri.setRsaPublicKey(T.n, T.e)
                            })
                        }, f.onerror = function(d) {
                            n(d)
                        }
                    }, r.onerror = function(l) {
                        n(l)
                    };
                    return
                }
            } else if (lv("generateKeyPairSync")) {
                var a = Rh.generateKeyPairSync("rsa", {
                    modulusLength: e,
                    publicExponent: t,
                    publicKeyEncoding: {
                        type: "spki",
                        format: "pem"
                    },
                    privateKeyEncoding: {
                        type: "pkcs8",
                        format: "pem"
                    }
                });
                return {
                    privateKey: ri.privateKeyFromPem(a.privateKey),
                    publicKey: ri.publicKeyFromPem(a.publicKey)
                }
            }
        }
        var s = ri.rsa.createKeyPairGenerationState(e, t, i);
        if (!n) return ri.rsa.stepKeyPairGenerationState(s, 0), s.keys;
        VS(s, i, n)
    };
    ri.setRsaPublicKey = ri.rsa.setPublicKey = function(e, t) {
        var i = {
            n: e,
            e: t
        };
        return i.encrypt = function(n, r, a) {
            if (typeof r == "string" ? r = r.toUpperCase() : r === void 0 && (r = "RSAES-PKCS1-V1_5"), r === "RSAES-PKCS1-V1_5") r = {
                encode: function(l, u, f) {
                    return dv(l, u, 2).getBytes()
                }
            };
            else if (r === "RSA-OAEP" || r === "RSAES-OAEP") r = {
                encode: function(l, u) {
                    return Ot.pkcs1.encode_rsa_oaep(u, l, a)
                }
            };
            else if (["RAW", "NONE", "NULL", null].indexOf(r) !== -1) r = {
                encode: function(l) {
                    return l
                }
            };
            else if (typeof r == "string") throw new Error('Unsupported encryption scheme: "' + r + '".');
            var s = r.encode(n, i, !0);
            return ri.rsa.encrypt(s, i, !0)
        }, i.verify = function(n, r, a, s) {
            typeof a == "string" ? a = a.toUpperCase() : a === void 0 && (a = "RSASSA-PKCS1-V1_5"), s === void 0 && (s = {
                _parseAllDigestBytes: !0
            }), "_parseAllDigestBytes" in s || (s._parseAllDigestBytes = !0), a === "RSASSA-PKCS1-V1_5" ? a = {
                verify: function(u, f) {
                    f = Oc(f, i, !0);
                    var d = Be.fromDer(f, {
                            parseAllBytes: s._parseAllDigestBytes
                        }),
                        m = {},
                        T = [];
                    if (!Be.validate(d, FS, m, T)) {
                        var x = new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value.");
                        throw x.errors = T, x
                    }
                    var C = Be.derToOid(m.algorithmIdentifier);
                    if (!(C === Ot.oids.md2 || C === Ot.oids.md5 || C === Ot.oids.sha1 || C === Ot.oids.sha224 || C === Ot.oids.sha256 || C === Ot.oids.sha384 || C === Ot.oids.sha512 || C === Ot.oids["sha512-224"] || C === Ot.oids["sha512-256"])) {
                        var x = new Error("Unknown RSASSA-PKCS1-v1_5 DigestAlgorithm identifier.");
                        throw x.oid = C, x
                    }
                    if ((C === Ot.oids.md2 || C === Ot.oids.md5) && !("parameters" in m)) throw new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value. Missing algorithm identifer NULL parameters.");
                    return u === m.digest
                }
            } : (a === "NONE" || a === "NULL" || a === null) && (a = {
                verify: function(u, f) {
                    return f = Oc(f, i, !0), u === f
                }
            });
            var l = ri.rsa.decrypt(r, i, !0, !1);
            return a.verify(n, l, i.n.bitLength())
        }, i
    };
    ri.setRsaPrivateKey = ri.rsa.setPrivateKey = function(e, t, i, n, r, a, s, l) {
        var u = {
            n: e,
            e: t,
            d: i,
            p: n,
            q: r,
            dP: a,
            dQ: s,
            qInv: l
        };
        return u.decrypt = function(f, d, m) {
            typeof d == "string" ? d = d.toUpperCase() : d === void 0 && (d = "RSAES-PKCS1-V1_5");
            var T = ri.rsa.decrypt(f, u, !1, !1);
            if (d === "RSAES-PKCS1-V1_5") d = {
                decode: Oc
            };
            else if (d === "RSA-OAEP" || d === "RSAES-OAEP") d = {
                decode: function(x, C) {
                    return Ot.pkcs1.decode_rsa_oaep(C, x, m)
                }
            };
            else if (["RAW", "NONE", "NULL", null].indexOf(d) !== -1) d = {
                decode: function(x) {
                    return x
                }
            };
            else throw new Error('Unsupported encryption scheme: "' + d + '".');
            return d.decode(T, u, !1)
        }, u.sign = function(f, d) {
            var m = !1;
            typeof d == "string" && (d = d.toUpperCase()), d === void 0 || d === "RSASSA-PKCS1-V1_5" ? (d = {
                encode: qS
            }, m = 1) : (d === "NONE" || d === "NULL" || d === null) && (d = {
                encode: function() {
                    return f
                }
            }, m = 1);
            var T = d.encode(f, u.n.bitLength());
            return ri.rsa.encrypt(T, u, m)
        }, u
    };
    ri.wrapRsaPrivateKey = function(e) {
        return Be.create(Be.Class.UNIVERSAL, Be.Type.SEQUENCE, !0, [Be.create(Be.Class.UNIVERSAL, Be.Type.INTEGER, !1, Be.integerToDer(0).getBytes()), Be.create(Be.Class.UNIVERSAL, Be.Type.SEQUENCE, !0, [Be.create(Be.Class.UNIVERSAL, Be.Type.OID, !1, Be.oidToDer(ri.oids.rsaEncryption).getBytes()), Be.create(Be.Class.UNIVERSAL, Be.Type.NULL, !1, "")]), Be.create(Be.Class.UNIVERSAL, Be.Type.OCTETSTRING, !1, Be.toDer(e).getBytes())])
    };
    ri.privateKeyFromAsn1 = function(e) {
        var t = {},
            i = [];
        if (Be.validate(e, BS, t, i) && (e = Be.fromDer(Ot.util.createBuffer(t.privateKey))), t = {}, i = [], !Be.validate(e, MS, t, i)) {
            var n = new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");
            throw n.errors = i, n
        }
        var r, a, s, l, u, f, d, m;
        return r = Ot.util.createBuffer(t.privateKeyModulus).toHex(), a = Ot.util.createBuffer(t.privateKeyPublicExponent).toHex(), s = Ot.util.createBuffer(t.privateKeyPrivateExponent).toHex(), l = Ot.util.createBuffer(t.privateKeyPrime1).toHex(), u = Ot.util.createBuffer(t.privateKeyPrime2).toHex(), f = Ot.util.createBuffer(t.privateKeyExponent1).toHex(), d = Ot.util.createBuffer(t.privateKeyExponent2).toHex(), m = Ot.util.createBuffer(t.privateKeyCoefficient).toHex(), ri.setRsaPrivateKey(new Ii(r, 16), new Ii(a, 16), new Ii(s, 16), new Ii(l, 16), new Ii(u, 16), new Ii(f, 16), new Ii(d, 16), new Ii(m, 16))
    };
    ri.privateKeyToAsn1 = ri.privateKeyToRSAPrivateKey = function(e) {
        return Be.create(Be.Class.UNIVERSAL, Be.Type.SEQUENCE, !0, [Be.create(Be.Class.UNIVERSAL, Be.Type.INTEGER, !1, Be.integerToDer(0).getBytes()), Be.create(Be.Class.UNIVERSAL, Be.Type.INTEGER, !1, hs(e.n)), Be.create(Be.Class.UNIVERSAL, Be.Type.INTEGER, !1, hs(e.e)), Be.create(Be.Class.UNIVERSAL, Be.Type.INTEGER, !1, hs(e.d)), Be.create(Be.Class.UNIVERSAL, Be.Type.INTEGER, !1, hs(e.p)), Be.create(Be.Class.UNIVERSAL, Be.Type.INTEGER, !1, hs(e.q)), Be.create(Be.Class.UNIVERSAL, Be.Type.INTEGER, !1, hs(e.dP)), Be.create(Be.Class.UNIVERSAL, Be.Type.INTEGER, !1, hs(e.dQ)), Be.create(Be.Class.UNIVERSAL, Be.Type.INTEGER, !1, hs(e.qInv))])
    };
    ri.publicKeyFromAsn1 = function(e) {
        var t = {},
            i = [];
        if (Be.validate(e, US, t, i)) {
            var n = Be.derToOid(t.publicKeyOid);
            if (n !== ri.oids.rsaEncryption) {
                var r = new Error("Cannot read public key. Unknown OID.");
                throw r.oid = n, r
            }
            e = t.rsaPublicKey
        }
        if (i = [], !Be.validate(e, OS, t, i)) {
            var r = new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.");
            throw r.errors = i, r
        }
        var a = Ot.util.createBuffer(t.publicKeyModulus).toHex(),
            s = Ot.util.createBuffer(t.publicKeyExponent).toHex();
        return ri.setRsaPublicKey(new Ii(a, 16), new Ii(s, 16))
    };
    ri.publicKeyToAsn1 = ri.publicKeyToSubjectPublicKeyInfo = function(e) {
        return Be.create(Be.Class.UNIVERSAL, Be.Type.SEQUENCE, !0, [Be.create(Be.Class.UNIVERSAL, Be.Type.SEQUENCE, !0, [Be.create(Be.Class.UNIVERSAL, Be.Type.OID, !1, Be.oidToDer(ri.oids.rsaEncryption).getBytes()), Be.create(Be.Class.UNIVERSAL, Be.Type.NULL, !1, "")]), Be.create(Be.Class.UNIVERSAL, Be.Type.BITSTRING, !1, [ri.publicKeyToRSAPublicKey(e)])])
    };
    ri.publicKeyToRSAPublicKey = function(e) {
        return Be.create(Be.Class.UNIVERSAL, Be.Type.SEQUENCE, !0, [Be.create(Be.Class.UNIVERSAL, Be.Type.INTEGER, !1, hs(e.n)), Be.create(Be.Class.UNIVERSAL, Be.Type.INTEGER, !1, hs(e.e))])
    };

    function dv(e, t, i) {
        var n = Ot.util.createBuffer(),
            r = Math.ceil(t.n.bitLength() / 8);
        if (e.length > r - 11) {
            var a = new Error("Message is too long for PKCS#1 v1.5 padding.");
            throw a.length = e.length, a.max = r - 11, a
        }
        n.putByte(0), n.putByte(i);
        var s = r - 3 - e.length,
            l;
        if (i === 0 || i === 1) {
            l = i === 0 ? 0 : 255;
            for (var u = 0; u < s; ++u) n.putByte(l)
        } else
            for (; s > 0;) {
                for (var f = 0, d = Ot.random.getBytes(s), u = 0; u < s; ++u) l = d.charCodeAt(u), l === 0 ? ++f : n.putByte(l);
                s = f
            }
        return n.putByte(0), n.putBytes(e), n
    }

    function Oc(e, t, i, n) {
        var r = Math.ceil(t.n.bitLength() / 8),
            a = Ot.util.createBuffer(e),
            s = a.getByte(),
            l = a.getByte();
        if (s !== 0 || i && l !== 0 && l !== 1 || !i && l != 2 || i && l === 0 && typeof n > "u") throw new Error("Encryption block is invalid.");
        var u = 0;
        if (l === 0) {
            u = r - 3 - n;
            for (var f = 0; f < u; ++f)
                if (a.getByte() !== 0) throw new Error("Encryption block is invalid.")
        } else if (l === 1)
            for (u = 0; a.length() > 1;) {
                if (a.getByte() !== 255) {
                    --a.read;
                    break
                }++u
            } else if (l === 2)
                for (u = 0; a.length() > 1;) {
                    if (a.getByte() === 0) {
                        --a.read;
                        break
                    }++u
                }
        var d = a.getByte();
        if (d !== 0 || u !== r - 3 - a.length()) throw new Error("Encryption block is invalid.");
        return a.getBytes()
    }

    function VS(e, t, i) {
        typeof t == "function" && (i = t, t = {}), t = t || {};
        var n = {
            algorithm: {
                name: t.algorithm || "PRIMEINC",
                options: {
                    workers: t.workers || 2,
                    workLoad: t.workLoad || 100,
                    workerScript: t.workerScript
                }
            }
        };
        "prng" in t && (n.prng = t.prng), r();

        function r() {
            a(e.pBits, function(l, u) {
                if (l) return i(l);
                if (e.p = u, e.q !== null) return s(l, e.q);
                a(e.qBits, s)
            })
        }

        function a(l, u) {
            Ot.prime.generateProbablePrime(l, n, u)
        }

        function s(l, u) {
            if (l) return i(l);
            if (e.q = u, e.p.compareTo(e.q) < 0) {
                var f = e.p;
                e.p = e.q, e.q = f
            }
            if (e.p.subtract(Ii.ONE).gcd(e.e).compareTo(Ii.ONE) !== 0) {
                e.p = null, r();
                return
            }
            if (e.q.subtract(Ii.ONE).gcd(e.e).compareTo(Ii.ONE) !== 0) {
                e.q = null, a(e.qBits, s);
                return
            }
            if (e.p1 = e.p.subtract(Ii.ONE), e.q1 = e.q.subtract(Ii.ONE), e.phi = e.p1.multiply(e.q1), e.phi.gcd(e.e).compareTo(Ii.ONE) !== 0) {
                e.p = e.q = null, r();
                return
            }
            if (e.n = e.p.multiply(e.q), e.n.bitLength() !== e.bits) {
                e.q = null, a(e.qBits, s);
                return
            }
            var d = e.e.modInverse(e.phi);
            e.keys = {
                privateKey: ri.rsa.setPrivateKey(e.n, e.e, d, e.p, e.q, d.mod(e.p1), d.mod(e.q1), e.q.modInverse(e.p)),
                publicKey: ri.rsa.setPublicKey(e.n, e.e)
            }, i(null, e.keys)
        }
    }

    function hs(e) {
        var t = e.toString(16);
        t[0] >= "8" && (t = "00" + t);
        var i = Ot.util.hexToBytes(t);
        return i.length > 1 && (i.charCodeAt(0) === 0 && !(i.charCodeAt(1) & 128) || i.charCodeAt(0) === 255 && (i.charCodeAt(1) & 128) === 128) ? i.substr(1) : i
    }

    function zS(e) {
        return e <= 100 ? 27 : e <= 150 ? 18 : e <= 200 ? 15 : e <= 250 ? 12 : e <= 300 ? 9 : e <= 350 ? 8 : e <= 400 ? 7 : e <= 500 ? 6 : e <= 600 ? 5 : e <= 800 ? 4 : e <= 1250 ? 3 : 2
    }

    function lv(e) {
        return Ot.util.isNodejs && typeof Rh[e] == "function"
    }

    function uv(e) {
        return typeof Aa.globalScope < "u" && typeof Aa.globalScope.crypto == "object" && typeof Aa.globalScope.crypto.subtle == "object" && typeof Aa.globalScope.crypto.subtle[e] == "function"
    }

    function cv(e) {
        return typeof Aa.globalScope < "u" && typeof Aa.globalScope.msCrypto == "object" && typeof Aa.globalScope.msCrypto.subtle == "object" && typeof Aa.globalScope.msCrypto.subtle[e] == "function"
    }

    function fv(e) {
        for (var t = Ot.util.hexToBytes(e.toString(16)), i = new Uint8Array(t.length), n = 0; n < t.length; ++n) i[n] = t.charCodeAt(n);
        return i
    }
});
var Bh = Ke((FR, _v) => {
    var St = ui();
    to();
    Va();
    ou();
    as();
    io();
    Nc();
    Mo();
    ka();
    Th();
    cu();
    Pi();
    typeof gv > "u" && (gv = St.jsbn.BigInteger);
    var gv, $e = St.asn1,
        si = St.pki = St.pki || {};
    _v.exports = si.pbe = St.pbe = St.pbe || {};
    var Fo = si.oids,
        HS = {
            name: "EncryptedPrivateKeyInfo",
            tagClass: $e.Class.UNIVERSAL,
            type: $e.Type.SEQUENCE,
            constructed: !0,
            value: [{
                name: "EncryptedPrivateKeyInfo.encryptionAlgorithm",
                tagClass: $e.Class.UNIVERSAL,
                type: $e.Type.SEQUENCE,
                constructed: !0,
                value: [{
                    name: "AlgorithmIdentifier.algorithm",
                    tagClass: $e.Class.UNIVERSAL,
                    type: $e.Type.OID,
                    constructed: !1,
                    capture: "encryptionOid"
                }, {
                    name: "AlgorithmIdentifier.parameters",
                    tagClass: $e.Class.UNIVERSAL,
                    type: $e.Type.SEQUENCE,
                    constructed: !0,
                    captureAsn1: "encryptionParams"
                }]
            }, {
                name: "EncryptedPrivateKeyInfo.encryptedData",
                tagClass: $e.Class.UNIVERSAL,
                type: $e.Type.OCTETSTRING,
                constructed: !1,
                capture: "encryptedData"
            }]
        },
        $S = {
            name: "PBES2Algorithms",
            tagClass: $e.Class.UNIVERSAL,
            type: $e.Type.SEQUENCE,
            constructed: !0,
            value: [{
                name: "PBES2Algorithms.keyDerivationFunc",
                tagClass: $e.Class.UNIVERSAL,
                type: $e.Type.SEQUENCE,
                constructed: !0,
                value: [{
                    name: "PBES2Algorithms.keyDerivationFunc.oid",
                    tagClass: $e.Class.UNIVERSAL,
                    type: $e.Type.OID,
                    constructed: !1,
                    capture: "kdfOid"
                }, {
                    name: "PBES2Algorithms.params",
                    tagClass: $e.Class.UNIVERSAL,
                    type: $e.Type.SEQUENCE,
                    constructed: !0,
                    value: [{
                        name: "PBES2Algorithms.params.salt",
                        tagClass: $e.Class.UNIVERSAL,
                        type: $e.Type.OCTETSTRING,
                        constructed: !1,
                        capture: "kdfSalt"
                    }, {
                        name: "PBES2Algorithms.params.iterationCount",
                        tagClass: $e.Class.UNIVERSAL,
                        type: $e.Type.INTEGER,
                        constructed: !1,
                        capture: "kdfIterationCount"
                    }, {
                        name: "PBES2Algorithms.params.keyLength",
                        tagClass: $e.Class.UNIVERSAL,
                        type: $e.Type.INTEGER,
                        constructed: !1,
                        optional: !0,
                        capture: "keyLength"
                    }, {
                        name: "PBES2Algorithms.params.prf",
                        tagClass: $e.Class.UNIVERSAL,
                        type: $e.Type.SEQUENCE,
                        constructed: !0,
                        optional: !0,
                        value: [{
                            name: "PBES2Algorithms.params.prf.algorithm",
                            tagClass: $e.Class.UNIVERSAL,
                            type: $e.Type.OID,
                            constructed: !1,
                            capture: "prfOid"
                        }]
                    }]
                }]
            }, {
                name: "PBES2Algorithms.encryptionScheme",
                tagClass: $e.Class.UNIVERSAL,
                type: $e.Type.SEQUENCE,
                constructed: !0,
                value: [{
                    name: "PBES2Algorithms.encryptionScheme.oid",
                    tagClass: $e.Class.UNIVERSAL,
                    type: $e.Type.OID,
                    constructed: !1,
                    capture: "encOid"
                }, {
                    name: "PBES2Algorithms.encryptionScheme.iv",
                    tagClass: $e.Class.UNIVERSAL,
                    type: $e.Type.OCTETSTRING,
                    constructed: !1,
                    capture: "encIv"
                }]
            }]
        },
        jS = {
            name: "pkcs-12PbeParams",
            tagClass: $e.Class.UNIVERSAL,
            type: $e.Type.SEQUENCE,
            constructed: !0,
            value: [{
                name: "pkcs-12PbeParams.salt",
                tagClass: $e.Class.UNIVERSAL,
                type: $e.Type.OCTETSTRING,
                constructed: !1,
                capture: "salt"
            }, {
                name: "pkcs-12PbeParams.iterations",
                tagClass: $e.Class.UNIVERSAL,
                type: $e.Type.INTEGER,
                constructed: !1,
                capture: "iterations"
            }]
        };
    si.encryptPrivateKeyInfo = function(e, t, i) {
        i = i || {}, i.saltSize = i.saltSize || 8, i.count = i.count || 2048, i.algorithm = i.algorithm || "aes128", i.prfAlgorithm = i.prfAlgorithm || "sha1";
        var n = St.random.getBytesSync(i.saltSize),
            r = i.count,
            a = $e.integerToDer(r),
            s, l, u;
        if (i.algorithm.indexOf("aes") === 0 || i.algorithm === "des") {
            var f, d, m;
            switch (i.algorithm) {
                case "aes128":
                    s = 16, f = 16, d = Fo["aes128-CBC"], m = St.aes.createEncryptionCipher;
                    break;
                case "aes192":
                    s = 24, f = 16, d = Fo["aes192-CBC"], m = St.aes.createEncryptionCipher;
                    break;
                case "aes256":
                    s = 32, f = 16, d = Fo["aes256-CBC"], m = St.aes.createEncryptionCipher;
                    break;
                case "des":
                    s = 8, f = 8, d = Fo.desCBC, m = St.des.createEncryptionCipher;
                    break;
                default:
                    var T = new Error("Cannot encrypt private key. Unknown encryption algorithm.");
                    throw T.algorithm = i.algorithm, T
            }
            var x = "hmacWith" + i.prfAlgorithm.toUpperCase(),
                C = yv(x),
                N = St.pkcs5.pbkdf2(t, n, r, s, C),
                E = St.random.getBytesSync(f),
                O = m(N);
            O.start(E), O.update($e.toDer(e)), O.finish(), u = O.output.getBytes();
            var D = WS(n, a, s, x);
            l = $e.create($e.Class.UNIVERSAL, $e.Type.SEQUENCE, !0, [$e.create($e.Class.UNIVERSAL, $e.Type.OID, !1, $e.oidToDer(Fo.pkcs5PBES2).getBytes()), $e.create($e.Class.UNIVERSAL, $e.Type.SEQUENCE, !0, [$e.create($e.Class.UNIVERSAL, $e.Type.SEQUENCE, !0, [$e.create($e.Class.UNIVERSAL, $e.Type.OID, !1, $e.oidToDer(Fo.pkcs5PBKDF2).getBytes()), D]), $e.create($e.Class.UNIVERSAL, $e.Type.SEQUENCE, !0, [$e.create($e.Class.UNIVERSAL, $e.Type.OID, !1, $e.oidToDer(d).getBytes()), $e.create($e.Class.UNIVERSAL, $e.Type.OCTETSTRING, !1, E)])])])
        } else if (i.algorithm === "3des") {
            s = 24;
            var I = new St.util.ByteBuffer(n),
                N = si.pbe.generatePkcs12Key(t, I, 1, r, s),
                E = si.pbe.generatePkcs12Key(t, I, 2, r, s),
                O = St.des.createEncryptionCipher(N);
            O.start(E), O.update($e.toDer(e)), O.finish(), u = O.output.getBytes(), l = $e.create($e.Class.UNIVERSAL, $e.Type.SEQUENCE, !0, [$e.create($e.Class.UNIVERSAL, $e.Type.OID, !1, $e.oidToDer(Fo["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()), $e.create($e.Class.UNIVERSAL, $e.Type.SEQUENCE, !0, [$e.create($e.Class.UNIVERSAL, $e.Type.OCTETSTRING, !1, n), $e.create($e.Class.UNIVERSAL, $e.Type.INTEGER, !1, a.getBytes())])])
        } else {
            var T = new Error("Cannot encrypt private key. Unknown encryption algorithm.");
            throw T.algorithm = i.algorithm, T
        }
        var H = $e.create($e.Class.UNIVERSAL, $e.Type.SEQUENCE, !0, [l, $e.create($e.Class.UNIVERSAL, $e.Type.OCTETSTRING, !1, u)]);
        return H
    };
    si.decryptPrivateKeyInfo = function(e, t) {
        var i = null,
            n = {},
            r = [];
        if (!$e.validate(e, HS, n, r)) {
            var a = new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");
            throw a.errors = r, a
        }
        var s = $e.derToOid(n.encryptionOid),
            l = si.pbe.getCipher(s, n.encryptionParams, t),
            u = St.util.createBuffer(n.encryptedData);
        return l.update(u), l.finish() && (i = $e.fromDer(l.output)), i
    };
    si.encryptedPrivateKeyToPem = function(e, t) {
        var i = {
            type: "ENCRYPTED PRIVATE KEY",
            body: $e.toDer(e).getBytes()
        };
        return St.pem.encode(i, {
            maxline: t
        })
    };
    si.encryptedPrivateKeyFromPem = function(e) {
        var t = St.pem.decode(e)[0];
        if (t.type !== "ENCRYPTED PRIVATE KEY") {
            var i = new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');
            throw i.headerType = t.type, i
        }
        if (t.procType && t.procType.type === "ENCRYPTED") throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");
        return $e.fromDer(t.body)
    };
    si.encryptRsaPrivateKey = function(e, t, i) {
        if (i = i || {}, !i.legacy) {
            var n = si.wrapRsaPrivateKey(si.privateKeyToAsn1(e));
            return n = si.encryptPrivateKeyInfo(n, t, i), si.encryptedPrivateKeyToPem(n)
        }
        var r, a, s, l;
        switch (i.algorithm) {
            case "aes128":
                r = "AES-128-CBC", s = 16, a = St.random.getBytesSync(16), l = St.aes.createEncryptionCipher;
                break;
            case "aes192":
                r = "AES-192-CBC", s = 24, a = St.random.getBytesSync(16), l = St.aes.createEncryptionCipher;
                break;
            case "aes256":
                r = "AES-256-CBC", s = 32, a = St.random.getBytesSync(16), l = St.aes.createEncryptionCipher;
                break;
            case "3des":
                r = "DES-EDE3-CBC", s = 24, a = St.random.getBytesSync(8), l = St.des.createEncryptionCipher;
                break;
            case "des":
                r = "DES-CBC", s = 8, a = St.random.getBytesSync(8), l = St.des.createEncryptionCipher;
                break;
            default:
                var u = new Error('Could not encrypt RSA private key; unsupported encryption algorithm "' + i.algorithm + '".');
                throw u.algorithm = i.algorithm, u
        }
        var f = St.pbe.opensslDeriveBytes(t, a.substr(0, 8), s),
            d = l(f);
        d.start(a), d.update($e.toDer(si.privateKeyToAsn1(e))), d.finish();
        var m = {
            type: "RSA PRIVATE KEY",
            procType: {
                version: "4",
                type: "ENCRYPTED"
            },
            dekInfo: {
                algorithm: r,
                parameters: St.util.bytesToHex(a).toUpperCase()
            },
            body: d.output.getBytes()
        };
        return St.pem.encode(m)
    };
    si.decryptRsaPrivateKey = function(e, t) {
        var i = null,
            n = St.pem.decode(e)[0];
        if (n.type !== "ENCRYPTED PRIVATE KEY" && n.type !== "PRIVATE KEY" && n.type !== "RSA PRIVATE KEY") {
            var r = new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".');
            throw r.headerType = r, r
        }
        if (n.procType && n.procType.type === "ENCRYPTED") {
            var a, s;
            switch (n.dekInfo.algorithm) {
                case "DES-CBC":
                    a = 8, s = St.des.createDecryptionCipher;
                    break;
                case "DES-EDE3-CBC":
                    a = 24, s = St.des.createDecryptionCipher;
                    break;
                case "AES-128-CBC":
                    a = 16, s = St.aes.createDecryptionCipher;
                    break;
                case "AES-192-CBC":
                    a = 24, s = St.aes.createDecryptionCipher;
                    break;
                case "AES-256-CBC":
                    a = 32, s = St.aes.createDecryptionCipher;
                    break;
                case "RC2-40-CBC":
                    a = 5, s = function(m) {
                        return St.rc2.createDecryptionCipher(m, 40)
                    };
                    break;
                case "RC2-64-CBC":
                    a = 8, s = function(m) {
                        return St.rc2.createDecryptionCipher(m, 64)
                    };
                    break;
                case "RC2-128-CBC":
                    a = 16, s = function(m) {
                        return St.rc2.createDecryptionCipher(m, 128)
                    };
                    break;
                default:
                    var r = new Error('Could not decrypt private key; unsupported encryption algorithm "' + n.dekInfo.algorithm + '".');
                    throw r.algorithm = n.dekInfo.algorithm, r
            }
            var l = St.util.hexToBytes(n.dekInfo.parameters),
                u = St.pbe.opensslDeriveBytes(t, l.substr(0, 8), a),
                f = s(u);
            if (f.start(l), f.update(St.util.createBuffer(n.body)), f.finish()) i = f.output.getBytes();
            else return i
        } else i = n.body;
        return n.type === "ENCRYPTED PRIVATE KEY" ? i = si.decryptPrivateKeyInfo($e.fromDer(i), t) : i = $e.fromDer(i), i !== null && (i = si.privateKeyFromAsn1(i)), i
    };
    si.pbe.generatePkcs12Key = function(e, t, i, n, r, a) {
        var s, l;
        if (typeof a > "u" || a === null) {
            if (!("sha1" in St.md)) throw new Error('"sha1" hash algorithm unavailable.');
            a = St.md.sha1.create()
        }
        var u = a.digestLength,
            f = a.blockLength,
            d = new St.util.ByteBuffer,
            m = new St.util.ByteBuffer;
        if (e != null) {
            for (l = 0; l < e.length; l++) m.putInt16(e.charCodeAt(l));
            m.putInt16(0)
        }
        var T = m.length(),
            x = t.length(),
            C = new St.util.ByteBuffer;
        C.fillWithByte(i, f);
        var N = f * Math.ceil(x / f),
            E = new St.util.ByteBuffer;
        for (l = 0; l < N; l++) E.putByte(t.at(l % x));
        var O = f * Math.ceil(T / f),
            D = new St.util.ByteBuffer;
        for (l = 0; l < O; l++) D.putByte(m.at(l % T));
        var I = E;
        I.putBuffer(D);
        for (var H = Math.ceil(r / u), y = 1; y <= H; y++) {
            var w = new St.util.ByteBuffer;
            w.putBytes(C.bytes()), w.putBytes(I.bytes());
            for (var X = 0; X < n; X++) a.start(), a.update(w.getBytes()), w = a.digest();
            var oe = new St.util.ByteBuffer;
            for (l = 0; l < f; l++) oe.putByte(w.at(l % u));
            var me = Math.ceil(x / f) + Math.ceil(T / f),
                V = new St.util.ByteBuffer;
            for (s = 0; s < me; s++) {
                var W = new St.util.ByteBuffer(I.getBytes(f)),
                    P = 511;
                for (l = oe.length() - 1; l >= 0; l--) P = P >> 8, P += oe.at(l) + W.at(l), W.setAt(l, P & 255);
                V.putBuffer(W)
            }
            I = V, d.putBuffer(w)
        }
        return d.truncate(d.length() - r), d
    };
    si.pbe.getCipher = function(e, t, i) {
        switch (e) {
            case si.oids.pkcs5PBES2:
                return si.pbe.getCipherForPBES2(e, t, i);
            case si.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:
            case si.oids["pbewithSHAAnd40BitRC2-CBC"]:
                return si.pbe.getCipherForPKCS12PBE(e, t, i);
            default:
                var n = new Error("Cannot read encrypted PBE data block. Unsupported OID.");
                throw n.oid = e, n.supportedOids = ["pkcs5PBES2", "pbeWithSHAAnd3-KeyTripleDES-CBC", "pbewithSHAAnd40BitRC2-CBC"], n
        }
    };
    si.pbe.getCipherForPBES2 = function(e, t, i) {
        var n = {},
            r = [];
        if (!$e.validate(t, $S, n, r)) {
            var a = new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");
            throw a.errors = r, a
        }
        if (e = $e.derToOid(n.kdfOid), e !== si.oids.pkcs5PBKDF2) {
            var a = new Error("Cannot read encrypted private key. Unsupported key derivation function OID.");
            throw a.oid = e, a.supportedOids = ["pkcs5PBKDF2"], a
        }
        if (e = $e.derToOid(n.encOid), e !== si.oids["aes128-CBC"] && e !== si.oids["aes192-CBC"] && e !== si.oids["aes256-CBC"] && e !== si.oids["des-EDE3-CBC"] && e !== si.oids.desCBC) {
            var a = new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.");
            throw a.oid = e, a.supportedOids = ["aes128-CBC", "aes192-CBC", "aes256-CBC", "des-EDE3-CBC", "desCBC"], a
        }
        var s = n.kdfSalt,
            l = St.util.createBuffer(n.kdfIterationCount);
        l = l.getInt(l.length() << 3);
        var u, f;
        switch (si.oids[e]) {
            case "aes128-CBC":
                u = 16, f = St.aes.createDecryptionCipher;
                break;
            case "aes192-CBC":
                u = 24, f = St.aes.createDecryptionCipher;
                break;
            case "aes256-CBC":
                u = 32, f = St.aes.createDecryptionCipher;
                break;
            case "des-EDE3-CBC":
                u = 24, f = St.des.createDecryptionCipher;
                break;
            case "desCBC":
                u = 8, f = St.des.createDecryptionCipher;
                break
        }
        var d = vv(n.prfOid),
            m = St.pkcs5.pbkdf2(i, s, l, u, d),
            T = n.encIv,
            x = f(m);
        return x.start(T), x
    };
    si.pbe.getCipherForPKCS12PBE = function(e, t, i) {
        var n = {},
            r = [];
        if (!$e.validate(t, jS, n, r)) {
            var a = new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");
            throw a.errors = r, a
        }
        var s = St.util.createBuffer(n.salt),
            l = St.util.createBuffer(n.iterations);
        l = l.getInt(l.length() << 3);
        var u, f, d;
        switch (e) {
            case si.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:
                u = 24, f = 8, d = St.des.startDecrypting;
                break;
            case si.oids["pbewithSHAAnd40BitRC2-CBC"]:
                u = 5, f = 8, d = function(N, E) {
                    var O = St.rc2.createDecryptionCipher(N, 40);
                    return O.start(E, null), O
                };
                break;
            default:
                var a = new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.");
                throw a.oid = e, a
        }
        var m = vv(n.prfOid),
            T = si.pbe.generatePkcs12Key(i, s, 1, l, u, m);
        m.start();
        var x = si.pbe.generatePkcs12Key(i, s, 2, l, f, m);
        return d(T, x)
    };
    si.pbe.opensslDeriveBytes = function(e, t, i, n) {
        if (typeof n > "u" || n === null) {
            if (!("md5" in St.md)) throw new Error('"md5" hash algorithm unavailable.');
            n = St.md.md5.create()
        }
        t === null && (t = "");
        for (var r = [mv(n, e + t)], a = 16, s = 1; a < i; ++s, a += 16) r.push(mv(n, r[s - 1] + e + t));
        return r.join("").substr(0, i)
    };

    function mv(e, t) {
        return e.start().update(t).digest().getBytes()
    }

    function vv(e) {
        var t;
        if (!e) t = "hmacWithSHA1";
        else if (t = si.oids[$e.derToOid(e)], !t) {
            var i = new Error("Unsupported PRF OID.");
            throw i.oid = e, i.supported = ["hmacWithSHA1", "hmacWithSHA224", "hmacWithSHA256", "hmacWithSHA384", "hmacWithSHA512"], i
        }
        return yv(t)
    }

    function yv(e) {
        var t = St.md;
        switch (e) {
            case "hmacWithSHA224":
                t = St.md.sha512;
            case "hmacWithSHA1":
            case "hmacWithSHA256":
            case "hmacWithSHA384":
            case "hmacWithSHA512":
                e = e.substr(8).toLowerCase();
                break;
            default:
                var i = new Error("Unsupported PRF algorithm.");
                throw i.algorithm = e, i.supported = ["hmacWithSHA1", "hmacWithSHA224", "hmacWithSHA256", "hmacWithSHA384", "hmacWithSHA512"], i
        }
        if (!t || !(e in t)) throw new Error("Unknown hash algorithm: " + e);
        return t[e].create()
    }

    function WS(e, t, i, n) {
        var r = $e.create($e.Class.UNIVERSAL, $e.Type.SEQUENCE, !0, [$e.create($e.Class.UNIVERSAL, $e.Type.OCTETSTRING, !1, e), $e.create($e.Class.UNIVERSAL, $e.Type.INTEGER, !1, t.getBytes())]);
        return n !== "hmacWithSHA1" && r.value.push($e.create($e.Class.UNIVERSAL, $e.Type.INTEGER, !1, St.util.hexToBytes(i.toString(16))), $e.create($e.Class.UNIVERSAL, $e.Type.SEQUENCE, !0, [$e.create($e.Class.UNIVERSAL, $e.Type.OID, !1, $e.oidToDer(si.oids[n]).getBytes()), $e.create($e.Class.UNIVERSAL, $e.Type.NULL, !1, "")])), r
    }
});
var Mh = Ke((qR, wv) => {
    var yl = ui();
    Va();
    Pi();
    var wt = yl.asn1,
        _l = wv.exports = yl.pkcs7asn1 = yl.pkcs7asn1 || {};
    yl.pkcs7 = yl.pkcs7 || {};
    yl.pkcs7.asn1 = _l;
    var bv = {
        name: "ContentInfo",
        tagClass: wt.Class.UNIVERSAL,
        type: wt.Type.SEQUENCE,
        constructed: !0,
        value: [{
            name: "ContentInfo.ContentType",
            tagClass: wt.Class.UNIVERSAL,
            type: wt.Type.OID,
            constructed: !1,
            capture: "contentType"
        }, {
            name: "ContentInfo.content",
            tagClass: wt.Class.CONTEXT_SPECIFIC,
            type: 0,
            constructed: !0,
            optional: !0,
            captureAsn1: "content"
        }]
    };
    _l.contentInfoValidator = bv;
    var xv = {
        name: "EncryptedContentInfo",
        tagClass: wt.Class.UNIVERSAL,
        type: wt.Type.SEQUENCE,
        constructed: !0,
        value: [{
            name: "EncryptedContentInfo.contentType",
            tagClass: wt.Class.UNIVERSAL,
            type: wt.Type.OID,
            constructed: !1,
            capture: "contentType"
        }, {
            name: "EncryptedContentInfo.contentEncryptionAlgorithm",
            tagClass: wt.Class.UNIVERSAL,
            type: wt.Type.SEQUENCE,
            constructed: !0,
            value: [{
                name: "EncryptedContentInfo.contentEncryptionAlgorithm.algorithm",
                tagClass: wt.Class.UNIVERSAL,
                type: wt.Type.OID,
                constructed: !1,
                capture: "encAlgorithm"
            }, {
                name: "EncryptedContentInfo.contentEncryptionAlgorithm.parameter",
                tagClass: wt.Class.UNIVERSAL,
                captureAsn1: "encParameter"
            }]
        }, {
            name: "EncryptedContentInfo.encryptedContent",
            tagClass: wt.Class.CONTEXT_SPECIFIC,
            type: 0,
            capture: "encryptedContent",
            captureAsn1: "encryptedContentAsn1"
        }]
    };
    _l.envelopedDataValidator = {
        name: "EnvelopedData",
        tagClass: wt.Class.UNIVERSAL,
        type: wt.Type.SEQUENCE,
        constructed: !0,
        value: [{
            name: "EnvelopedData.Version",
            tagClass: wt.Class.UNIVERSAL,
            type: wt.Type.INTEGER,
            constructed: !1,
            capture: "version"
        }, {
            name: "EnvelopedData.RecipientInfos",
            tagClass: wt.Class.UNIVERSAL,
            type: wt.Type.SET,
            constructed: !0,
            captureAsn1: "recipientInfos"
        }].concat(xv)
    };
    _l.encryptedDataValidator = {
        name: "EncryptedData",
        tagClass: wt.Class.UNIVERSAL,
        type: wt.Type.SEQUENCE,
        constructed: !0,
        value: [{
            name: "EncryptedData.Version",
            tagClass: wt.Class.UNIVERSAL,
            type: wt.Type.INTEGER,
            constructed: !1,
            capture: "version"
        }].concat(xv)
    };
    var KS = {
        name: "SignerInfo",
        tagClass: wt.Class.UNIVERSAL,
        type: wt.Type.SEQUENCE,
        constructed: !0,
        value: [{
            name: "SignerInfo.version",
            tagClass: wt.Class.UNIVERSAL,
            type: wt.Type.INTEGER,
            constructed: !1
        }, {
            name: "SignerInfo.issuerAndSerialNumber",
            tagClass: wt.Class.UNIVERSAL,
            type: wt.Type.SEQUENCE,
            constructed: !0,
            value: [{
                name: "SignerInfo.issuerAndSerialNumber.issuer",
                tagClass: wt.Class.UNIVERSAL,
                type: wt.Type.SEQUENCE,
                constructed: !0,
                captureAsn1: "issuer"
            }, {
                name: "SignerInfo.issuerAndSerialNumber.serialNumber",
                tagClass: wt.Class.UNIVERSAL,
                type: wt.Type.INTEGER,
                constructed: !1,
                capture: "serial"
            }]
        }, {
            name: "SignerInfo.digestAlgorithm",
            tagClass: wt.Class.UNIVERSAL,
            type: wt.Type.SEQUENCE,
            constructed: !0,
            value: [{
                name: "SignerInfo.digestAlgorithm.algorithm",
                tagClass: wt.Class.UNIVERSAL,
                type: wt.Type.OID,
                constructed: !1,
                capture: "digestAlgorithm"
            }, {
                name: "SignerInfo.digestAlgorithm.parameter",
                tagClass: wt.Class.UNIVERSAL,
                constructed: !1,
                captureAsn1: "digestParameter",
                optional: !0
            }]
        }, {
            name: "SignerInfo.authenticatedAttributes",
            tagClass: wt.Class.CONTEXT_SPECIFIC,
            type: 0,
            constructed: !0,
            optional: !0,
            capture: "authenticatedAttributes"
        }, {
            name: "SignerInfo.digestEncryptionAlgorithm",
            tagClass: wt.Class.UNIVERSAL,
            type: wt.Type.SEQUENCE,
            constructed: !0,
            capture: "signatureAlgorithm"
        }, {
            name: "SignerInfo.encryptedDigest",
            tagClass: wt.Class.UNIVERSAL,
            type: wt.Type.OCTETSTRING,
            constructed: !1,
            capture: "signature"
        }, {
            name: "SignerInfo.unauthenticatedAttributes",
            tagClass: wt.Class.CONTEXT_SPECIFIC,
            type: 1,
            constructed: !0,
            optional: !0,
            capture: "unauthenticatedAttributes"
        }]
    };
    _l.signedDataValidator = {
        name: "SignedData",
        tagClass: wt.Class.UNIVERSAL,
        type: wt.Type.SEQUENCE,
        constructed: !0,
        value: [{
            name: "SignedData.Version",
            tagClass: wt.Class.UNIVERSAL,
            type: wt.Type.INTEGER,
            constructed: !1,
            capture: "version"
        }, {
            name: "SignedData.DigestAlgorithms",
            tagClass: wt.Class.UNIVERSAL,
            type: wt.Type.SET,
            constructed: !0,
            captureAsn1: "digestAlgorithms"
        }, bv, {
            name: "SignedData.Certificates",
            tagClass: wt.Class.CONTEXT_SPECIFIC,
            type: 0,
            optional: !0,
            captureAsn1: "certificates"
        }, {
            name: "SignedData.CertificateRevocationLists",
            tagClass: wt.Class.CONTEXT_SPECIFIC,
            type: 1,
            optional: !0,
            captureAsn1: "crls"
        }, {
            name: "SignedData.SignerInfos",
            tagClass: wt.Class.UNIVERSAL,
            type: wt.Type.SET,
            capture: "signerInfos",
            optional: !0,
            value: [KS]
        }]
    };
    _l.recipientInfoValidator = {
        name: "RecipientInfo",
        tagClass: wt.Class.UNIVERSAL,
        type: wt.Type.SEQUENCE,
        constructed: !0,
        value: [{
            name: "RecipientInfo.version",
            tagClass: wt.Class.UNIVERSAL,
            type: wt.Type.INTEGER,
            constructed: !1,
            capture: "version"
        }, {
            name: "RecipientInfo.issuerAndSerial",
            tagClass: wt.Class.UNIVERSAL,
            type: wt.Type.SEQUENCE,
            constructed: !0,
            value: [{
                name: "RecipientInfo.issuerAndSerial.issuer",
                tagClass: wt.Class.UNIVERSAL,
                type: wt.Type.SEQUENCE,
                constructed: !0,
                captureAsn1: "issuer"
            }, {
                name: "RecipientInfo.issuerAndSerial.serialNumber",
                tagClass: wt.Class.UNIVERSAL,
                type: wt.Type.INTEGER,
                constructed: !1,
                capture: "serial"
            }]
        }, {
            name: "RecipientInfo.keyEncryptionAlgorithm",
            tagClass: wt.Class.UNIVERSAL,
            type: wt.Type.SEQUENCE,
            constructed: !0,
            value: [{
                name: "RecipientInfo.keyEncryptionAlgorithm.algorithm",
                tagClass: wt.Class.UNIVERSAL,
                type: wt.Type.OID,
                constructed: !1,
                capture: "encAlgorithm"
            }, {
                name: "RecipientInfo.keyEncryptionAlgorithm.parameter",
                tagClass: wt.Class.UNIVERSAL,
                constructed: !1,
                captureAsn1: "encParameter",
                optional: !0
            }]
        }, {
            name: "RecipientInfo.encryptedKey",
            tagClass: wt.Class.UNIVERSAL,
            type: wt.Type.OCTETSTRING,
            constructed: !1,
            capture: "encKey"
        }]
    }
});
var Oh = Ke((VR, Ev) => {
    var qo = ui();
    Pi();
    qo.mgf = qo.mgf || {};
    var GS = Ev.exports = qo.mgf.mgf1 = qo.mgf1 = qo.mgf1 || {};
    GS.create = function(e) {
        var t = {
            generate: function(i, n) {
                for (var r = new qo.util.ByteBuffer, a = Math.ceil(n / e.digestLength), s = 0; s < a; s++) {
                    var l = new qo.util.ByteBuffer;
                    l.putInt32(s), e.start(), e.update(i + l.getBytes()), r.putBuffer(e.digest())
                }
                return r.truncate(r.length() - n), r.getBytes()
            }
        };
        return t
    }
});
var Sv = Ke((zR, Cv) => {
    var Uc = ui();
    Oh();
    Cv.exports = Uc.mgf = Uc.mgf || {};
    Uc.mgf.mgf1 = Uc.mgf1
});
var Fc = Ke((HR, Tv) => {
    var Vo = ui();
    ka();
    Pi();
    var ZS = Tv.exports = Vo.pss = Vo.pss || {};
    ZS.create = function(e) {
        arguments.length === 3 && (e = {
            md: arguments[0],
            mgf: arguments[1],
            saltLength: arguments[2]
        });
        var t = e.md,
            i = e.mgf,
            n = t.digestLength,
            r = e.salt || null;
        typeof r == "string" && (r = Vo.util.createBuffer(r));
        var a;
        if ("saltLength" in e) a = e.saltLength;
        else if (r !== null) a = r.length();
        else throw new Error("Salt length not specified or specific salt not given.");
        if (r !== null && r.length() !== a) throw new Error("Given salt length does not match length of given salt.");
        var s = e.prng || Vo.random,
            l = {};
        return l.encode = function(u, f) {
            var d, m = f - 1,
                T = Math.ceil(m / 8),
                x = u.digest().getBytes();
            if (T < n + a + 2) throw new Error("Message is too long to encrypt.");
            var C;
            r === null ? C = s.getBytesSync(a) : C = r.bytes();
            var N = new Vo.util.ByteBuffer;
            N.fillWithByte(0, 8), N.putBytes(x), N.putBytes(C), t.start(), t.update(N.getBytes());
            var E = t.digest().getBytes(),
                O = new Vo.util.ByteBuffer;
            O.fillWithByte(0, T - a - n - 2), O.putByte(1), O.putBytes(C);
            var D = O.getBytes(),
                I = T - n - 1,
                H = i.generate(E, I),
                y = "";
            for (d = 0; d < I; d++) y += String.fromCharCode(D.charCodeAt(d) ^ H.charCodeAt(d));
            var w = 65280 >> 8 * T - m & 255;
            return y = String.fromCharCode(y.charCodeAt(0) & ~w) + y.substr(1), y + E + String.fromCharCode(188)
        }, l.verify = function(u, f, d) {
            var m, T = d - 1,
                x = Math.ceil(T / 8);
            if (f = f.substr(-x), x < n + a + 2) throw new Error("Inconsistent parameters to PSS signature verification.");
            if (f.charCodeAt(x - 1) !== 188) throw new Error("Encoded message does not end in 0xBC.");
            var C = x - n - 1,
                N = f.substr(0, C),
                E = f.substr(C, n),
                O = 65280 >> 8 * x - T & 255;
            if (N.charCodeAt(0) & O) throw new Error("Bits beyond keysize not zero as expected.");
            var D = i.generate(E, C),
                I = "";
            for (m = 0; m < C; m++) I += String.fromCharCode(N.charCodeAt(m) ^ D.charCodeAt(m));
            I = String.fromCharCode(I.charCodeAt(0) & ~O) + I.substr(1);
            var H = x - n - a - 2;
            for (m = 0; m < H; m++)
                if (I.charCodeAt(m) !== 0) throw new Error("Leftmost octets not zero as expected");
            if (I.charCodeAt(H) !== 1) throw new Error("Inconsistent PSS signature, 0x01 marker not found");
            var y = I.substr(-a),
                w = new Vo.util.ByteBuffer;
            w.fillWithByte(0, 8), w.putBytes(u), w.putBytes(y), t.start(), t.update(w.getBytes());
            var X = t.digest().getBytes();
            return E === X
        }, l
    }
});
var zc = Ke(($R, Dv) => {
    var Ut = ui();
    to();
    Va();
    ou();
    as();
    Sv();
    io();
    Mo();
    Fc();
    cu();
    Pi();
    var K = Ut.asn1,
        ht = Dv.exports = Ut.pki = Ut.pki || {},
        Ai = ht.oids,
        In = {};
    In.CN = Ai.commonName;
    In.commonName = "CN";
    In.C = Ai.countryName;
    In.countryName = "C";
    In.L = Ai.localityName;
    In.localityName = "L";
    In.ST = Ai.stateOrProvinceName;
    In.stateOrProvinceName = "ST";
    In.O = Ai.organizationName;
    In.organizationName = "O";
    In.OU = Ai.organizationalUnitName;
    In.organizationalUnitName = "OU";
    In.E = Ai.emailAddress;
    In.emailAddress = "E";
    var kv = Ut.pki.rsa.publicKeyValidator,
        XS = {
            name: "Certificate",
            tagClass: K.Class.UNIVERSAL,
            type: K.Type.SEQUENCE,
            constructed: !0,
            value: [{
                name: "Certificate.TBSCertificate",
                tagClass: K.Class.UNIVERSAL,
                type: K.Type.SEQUENCE,
                constructed: !0,
                captureAsn1: "tbsCertificate",
                value: [{
                    name: "Certificate.TBSCertificate.version",
                    tagClass: K.Class.CONTEXT_SPECIFIC,
                    type: 0,
                    constructed: !0,
                    optional: !0,
                    value: [{
                        name: "Certificate.TBSCertificate.version.integer",
                        tagClass: K.Class.UNIVERSAL,
                        type: K.Type.INTEGER,
                        constructed: !1,
                        capture: "certVersion"
                    }]
                }, {
                    name: "Certificate.TBSCertificate.serialNumber",
                    tagClass: K.Class.UNIVERSAL,
                    type: K.Type.INTEGER,
                    constructed: !1,
                    capture: "certSerialNumber"
                }, {
                    name: "Certificate.TBSCertificate.signature",
                    tagClass: K.Class.UNIVERSAL,
                    type: K.Type.SEQUENCE,
                    constructed: !0,
                    value: [{
                        name: "Certificate.TBSCertificate.signature.algorithm",
                        tagClass: K.Class.UNIVERSAL,
                        type: K.Type.OID,
                        constructed: !1,
                        capture: "certinfoSignatureOid"
                    }, {
                        name: "Certificate.TBSCertificate.signature.parameters",
                        tagClass: K.Class.UNIVERSAL,
                        optional: !0,
                        captureAsn1: "certinfoSignatureParams"
                    }]
                }, {
                    name: "Certificate.TBSCertificate.issuer",
                    tagClass: K.Class.UNIVERSAL,
                    type: K.Type.SEQUENCE,
                    constructed: !0,
                    captureAsn1: "certIssuer"
                }, {
                    name: "Certificate.TBSCertificate.validity",
                    tagClass: K.Class.UNIVERSAL,
                    type: K.Type.SEQUENCE,
                    constructed: !0,
                    value: [{
                        name: "Certificate.TBSCertificate.validity.notBefore (utc)",
                        tagClass: K.Class.UNIVERSAL,
                        type: K.Type.UTCTIME,
                        constructed: !1,
                        optional: !0,
                        capture: "certValidity1UTCTime"
                    }, {
                        name: "Certificate.TBSCertificate.validity.notBefore (generalized)",
                        tagClass: K.Class.UNIVERSAL,
                        type: K.Type.GENERALIZEDTIME,
                        constructed: !1,
                        optional: !0,
                        capture: "certValidity2GeneralizedTime"
                    }, {
                        name: "Certificate.TBSCertificate.validity.notAfter (utc)",
                        tagClass: K.Class.UNIVERSAL,
                        type: K.Type.UTCTIME,
                        constructed: !1,
                        optional: !0,
                        capture: "certValidity3UTCTime"
                    }, {
                        name: "Certificate.TBSCertificate.validity.notAfter (generalized)",
                        tagClass: K.Class.UNIVERSAL,
                        type: K.Type.GENERALIZEDTIME,
                        constructed: !1,
                        optional: !0,
                        capture: "certValidity4GeneralizedTime"
                    }]
                }, {
                    name: "Certificate.TBSCertificate.subject",
                    tagClass: K.Class.UNIVERSAL,
                    type: K.Type.SEQUENCE,
                    constructed: !0,
                    captureAsn1: "certSubject"
                }, kv, {
                    name: "Certificate.TBSCertificate.issuerUniqueID",
                    tagClass: K.Class.CONTEXT_SPECIFIC,
                    type: 1,
                    constructed: !0,
                    optional: !0,
                    value: [{
                        name: "Certificate.TBSCertificate.issuerUniqueID.id",
                        tagClass: K.Class.UNIVERSAL,
                        type: K.Type.BITSTRING,
                        constructed: !1,
                        captureBitStringValue: "certIssuerUniqueId"
                    }]
                }, {
                    name: "Certificate.TBSCertificate.subjectUniqueID",
                    tagClass: K.Class.CONTEXT_SPECIFIC,
                    type: 2,
                    constructed: !0,
                    optional: !0,
                    value: [{
                        name: "Certificate.TBSCertificate.subjectUniqueID.id",
                        tagClass: K.Class.UNIVERSAL,
                        type: K.Type.BITSTRING,
                        constructed: !1,
                        captureBitStringValue: "certSubjectUniqueId"
                    }]
                }, {
                    name: "Certificate.TBSCertificate.extensions",
                    tagClass: K.Class.CONTEXT_SPECIFIC,
                    type: 3,
                    constructed: !0,
                    captureAsn1: "certExtensions",
                    optional: !0
                }]
            }, {
                name: "Certificate.signatureAlgorithm",
                tagClass: K.Class.UNIVERSAL,
                type: K.Type.SEQUENCE,
                constructed: !0,
                value: [{
                    name: "Certificate.signatureAlgorithm.algorithm",
                    tagClass: K.Class.UNIVERSAL,
                    type: K.Type.OID,
                    constructed: !1,
                    capture: "certSignatureOid"
                }, {
                    name: "Certificate.TBSCertificate.signature.parameters",
                    tagClass: K.Class.UNIVERSAL,
                    optional: !0,
                    captureAsn1: "certSignatureParams"
                }]
            }, {
                name: "Certificate.signatureValue",
                tagClass: K.Class.UNIVERSAL,
                type: K.Type.BITSTRING,
                constructed: !1,
                captureBitStringValue: "certSignature"
            }]
        },
        YS = {
            name: "rsapss",
            tagClass: K.Class.UNIVERSAL,
            type: K.Type.SEQUENCE,
            constructed: !0,
            value: [{
                name: "rsapss.hashAlgorithm",
                tagClass: K.Class.CONTEXT_SPECIFIC,
                type: 0,
                constructed: !0,
                value: [{
                    name: "rsapss.hashAlgorithm.AlgorithmIdentifier",
                    tagClass: K.Class.UNIVERSAL,
                    type: K.Class.SEQUENCE,
                    constructed: !0,
                    optional: !0,
                    value: [{
                        name: "rsapss.hashAlgorithm.AlgorithmIdentifier.algorithm",
                        tagClass: K.Class.UNIVERSAL,
                        type: K.Type.OID,
                        constructed: !1,
                        capture: "hashOid"
                    }]
                }]
            }, {
                name: "rsapss.maskGenAlgorithm",
                tagClass: K.Class.CONTEXT_SPECIFIC,
                type: 1,
                constructed: !0,
                value: [{
                    name: "rsapss.maskGenAlgorithm.AlgorithmIdentifier",
                    tagClass: K.Class.UNIVERSAL,
                    type: K.Class.SEQUENCE,
                    constructed: !0,
                    optional: !0,
                    value: [{
                        name: "rsapss.maskGenAlgorithm.AlgorithmIdentifier.algorithm",
                        tagClass: K.Class.UNIVERSAL,
                        type: K.Type.OID,
                        constructed: !1,
                        capture: "maskGenOid"
                    }, {
                        name: "rsapss.maskGenAlgorithm.AlgorithmIdentifier.params",
                        tagClass: K.Class.UNIVERSAL,
                        type: K.Type.SEQUENCE,
                        constructed: !0,
                        value: [{
                            name: "rsapss.maskGenAlgorithm.AlgorithmIdentifier.params.algorithm",
                            tagClass: K.Class.UNIVERSAL,
                            type: K.Type.OID,
                            constructed: !1,
                            capture: "maskGenHashOid"
                        }]
                    }]
                }]
            }, {
                name: "rsapss.saltLength",
                tagClass: K.Class.CONTEXT_SPECIFIC,
                type: 2,
                optional: !0,
                value: [{
                    name: "rsapss.saltLength.saltLength",
                    tagClass: K.Class.UNIVERSAL,
                    type: K.Class.INTEGER,
                    constructed: !1,
                    capture: "saltLength"
                }]
            }, {
                name: "rsapss.trailerField",
                tagClass: K.Class.CONTEXT_SPECIFIC,
                type: 3,
                optional: !0,
                value: [{
                    name: "rsapss.trailer.trailer",
                    tagClass: K.Class.UNIVERSAL,
                    type: K.Class.INTEGER,
                    constructed: !1,
                    capture: "trailer"
                }]
            }]
        },
        QS = {
            name: "CertificationRequestInfo",
            tagClass: K.Class.UNIVERSAL,
            type: K.Type.SEQUENCE,
            constructed: !0,
            captureAsn1: "certificationRequestInfo",
            value: [{
                name: "CertificationRequestInfo.integer",
                tagClass: K.Class.UNIVERSAL,
                type: K.Type.INTEGER,
                constructed: !1,
                capture: "certificationRequestInfoVersion"
            }, {
                name: "CertificationRequestInfo.subject",
                tagClass: K.Class.UNIVERSAL,
                type: K.Type.SEQUENCE,
                constructed: !0,
                captureAsn1: "certificationRequestInfoSubject"
            }, kv, {
                name: "CertificationRequestInfo.attributes",
                tagClass: K.Class.CONTEXT_SPECIFIC,
                type: 0,
                constructed: !0,
                optional: !0,
                capture: "certificationRequestInfoAttributes",
                value: [{
                    name: "CertificationRequestInfo.attributes",
                    tagClass: K.Class.UNIVERSAL,
                    type: K.Type.SEQUENCE,
                    constructed: !0,
                    value: [{
                        name: "CertificationRequestInfo.attributes.type",
                        tagClass: K.Class.UNIVERSAL,
                        type: K.Type.OID,
                        constructed: !1
                    }, {
                        name: "CertificationRequestInfo.attributes.value",
                        tagClass: K.Class.UNIVERSAL,
                        type: K.Type.SET,
                        constructed: !0
                    }]
                }]
            }]
        },
        JS = {
            name: "CertificationRequest",
            tagClass: K.Class.UNIVERSAL,
            type: K.Type.SEQUENCE,
            constructed: !0,
            captureAsn1: "csr",
            value: [QS, {
                name: "CertificationRequest.signatureAlgorithm",
                tagClass: K.Class.UNIVERSAL,
                type: K.Type.SEQUENCE,
                constructed: !0,
                value: [{
                    name: "CertificationRequest.signatureAlgorithm.algorithm",
                    tagClass: K.Class.UNIVERSAL,
                    type: K.Type.OID,
                    constructed: !1,
                    capture: "csrSignatureOid"
                }, {
                    name: "CertificationRequest.signatureAlgorithm.parameters",
                    tagClass: K.Class.UNIVERSAL,
                    optional: !0,
                    captureAsn1: "csrSignatureParams"
                }]
            }, {
                name: "CertificationRequest.signature",
                tagClass: K.Class.UNIVERSAL,
                type: K.Type.BITSTRING,
                constructed: !1,
                captureBitStringValue: "csrSignature"
            }]
        };
    ht.RDNAttributesAsArray = function(e, t) {
        for (var i = [], n, r, a, s = 0; s < e.value.length; ++s) {
            n = e.value[s];
            for (var l = 0; l < n.value.length; ++l) a = {}, r = n.value[l], a.type = K.derToOid(r.value[0].value), a.value = r.value[1].value, a.valueTagClass = r.value[1].type, a.type in Ai && (a.name = Ai[a.type], a.name in In && (a.shortName = In[a.name])), t && (t.update(a.type), t.update(a.value)), i.push(a)
        }
        return i
    };
    ht.CRIAttributesAsArray = function(e) {
        for (var t = [], i = 0; i < e.length; ++i)
            for (var n = e[i], r = K.derToOid(n.value[0].value), a = n.value[1].value, s = 0; s < a.length; ++s) {
                var l = {};
                if (l.type = r, l.value = a[s].value, l.valueTagClass = a[s].type, l.type in Ai && (l.name = Ai[l.type], l.name in In && (l.shortName = In[l.name])), l.type === Ai.extensionRequest) {
                    l.extensions = [];
                    for (var u = 0; u < l.value.length; ++u) l.extensions.push(ht.certificateExtensionFromAsn1(l.value[u]))
                }
                t.push(l)
            }
        return t
    };

    function ao(e, t) {
        typeof t == "string" && (t = {
            shortName: t
        });
        for (var i = null, n, r = 0; i === null && r < e.attributes.length; ++r) n = e.attributes[r], (t.type && t.type === n.type || t.name && t.name === n.name || t.shortName && t.shortName === n.shortName) && (i = n);
        return i
    }
    var qc = function(e, t, i) {
            var n = {};
            if (e !== Ai["RSASSA-PSS"]) return n;
            i && (n = {
                hash: {
                    algorithmOid: Ai.sha1
                },
                mgf: {
                    algorithmOid: Ai.mgf1,
                    hash: {
                        algorithmOid: Ai.sha1
                    }
                },
                saltLength: 20
            });
            var r = {},
                a = [];
            if (!K.validate(t, YS, r, a)) {
                var s = new Error("Cannot read RSASSA-PSS parameter block.");
                throw s.errors = a, s
            }
            return r.hashOid !== void 0 && (n.hash = n.hash || {}, n.hash.algorithmOid = K.derToOid(r.hashOid)), r.maskGenOid !== void 0 && (n.mgf = n.mgf || {}, n.mgf.algorithmOid = K.derToOid(r.maskGenOid), n.mgf.hash = n.mgf.hash || {}, n.mgf.hash.algorithmOid = K.derToOid(r.maskGenHashOid)), r.saltLength !== void 0 && (n.saltLength = r.saltLength.charCodeAt(0)), n
        },
        Vc = function(e) {
            switch (Ai[e.signatureOid]) {
                case "sha1WithRSAEncryption":
                case "sha1WithRSASignature":
                    return Ut.md.sha1.create();
                case "md5WithRSAEncryption":
                    return Ut.md.md5.create();
                case "sha256WithRSAEncryption":
                    return Ut.md.sha256.create();
                case "sha384WithRSAEncryption":
                    return Ut.md.sha384.create();
                case "sha512WithRSAEncryption":
                    return Ut.md.sha512.create();
                case "RSASSA-PSS":
                    return Ut.md.sha256.create();
                default:
                    var t = new Error("Could not compute " + e.type + " digest. Unknown signature OID.");
                    throw t.signatureOid = e.signatureOid, t
            }
        },
        Iv = function(e) {
            var t = e.certificate,
                i;
            switch (t.signatureOid) {
                case Ai.sha1WithRSAEncryption:
                case Ai.sha1WithRSASignature:
                    break;
                case Ai["RSASSA-PSS"]:
                    var n, r;
                    if (n = Ai[t.signatureParameters.mgf.hash.algorithmOid], n === void 0 || Ut.md[n] === void 0) {
                        var a = new Error("Unsupported MGF hash function.");
                        throw a.oid = t.signatureParameters.mgf.hash.algorithmOid, a.name = n, a
                    }
                    if (r = Ai[t.signatureParameters.mgf.algorithmOid], r === void 0 || Ut.mgf[r] === void 0) {
                        var a = new Error("Unsupported MGF function.");
                        throw a.oid = t.signatureParameters.mgf.algorithmOid, a.name = r, a
                    }
                    if (r = Ut.mgf[r].create(Ut.md[n].create()), n = Ai[t.signatureParameters.hash.algorithmOid], n === void 0 || Ut.md[n] === void 0) {
                        var a = new Error("Unsupported RSASSA-PSS hash function.");
                        throw a.oid = t.signatureParameters.hash.algorithmOid, a.name = n, a
                    }
                    i = Ut.pss.create(Ut.md[n].create(), r, t.signatureParameters.saltLength);
                    break
            }
            return t.publicKey.verify(e.md.digest().getBytes(), e.signature, i)
        };
    ht.certificateFromPem = function(e, t, i) {
        var n = Ut.pem.decode(e)[0];
        if (n.type !== "CERTIFICATE" && n.type !== "X509 CERTIFICATE" && n.type !== "TRUSTED CERTIFICATE") {
            var r = new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');
            throw r.headerType = n.type, r
        }
        if (n.procType && n.procType.type === "ENCRYPTED") throw new Error("Could not convert certificate from PEM; PEM is encrypted.");
        var a = K.fromDer(n.body, i);
        return ht.certificateFromAsn1(a, t)
    };
    ht.certificateToPem = function(e, t) {
        var i = {
            type: "CERTIFICATE",
            body: K.toDer(ht.certificateToAsn1(e)).getBytes()
        };
        return Ut.pem.encode(i, {
            maxline: t
        })
    };
    ht.publicKeyFromPem = function(e) {
        var t = Ut.pem.decode(e)[0];
        if (t.type !== "PUBLIC KEY" && t.type !== "RSA PUBLIC KEY") {
            var i = new Error('Could not convert public key from PEM; PEM header type is not "PUBLIC KEY" or "RSA PUBLIC KEY".');
            throw i.headerType = t.type, i
        }
        if (t.procType && t.procType.type === "ENCRYPTED") throw new Error("Could not convert public key from PEM; PEM is encrypted.");
        var n = K.fromDer(t.body);
        return ht.publicKeyFromAsn1(n)
    };
    ht.publicKeyToPem = function(e, t) {
        var i = {
            type: "PUBLIC KEY",
            body: K.toDer(ht.publicKeyToAsn1(e)).getBytes()
        };
        return Ut.pem.encode(i, {
            maxline: t
        })
    };
    ht.publicKeyToRSAPublicKeyPem = function(e, t) {
        var i = {
            type: "RSA PUBLIC KEY",
            body: K.toDer(ht.publicKeyToRSAPublicKey(e)).getBytes()
        };
        return Ut.pem.encode(i, {
            maxline: t
        })
    };
    ht.getPublicKeyFingerprint = function(e, t) {
        t = t || {};
        var i = t.md || Ut.md.sha1.create(),
            n = t.type || "RSAPublicKey",
            r;
        switch (n) {
            case "RSAPublicKey":
                r = K.toDer(ht.publicKeyToRSAPublicKey(e)).getBytes();
                break;
            case "SubjectPublicKeyInfo":
                r = K.toDer(ht.publicKeyToAsn1(e)).getBytes();
                break;
            default:
                throw new Error('Unknown fingerprint type "' + t.type + '".')
        }
        i.start(), i.update(r);
        var a = i.digest();
        if (t.encoding === "hex") {
            var s = a.toHex();
            return t.delimiter ? s.match(/.{2}/g).join(t.delimiter) : s
        } else {
            if (t.encoding === "binary") return a.getBytes();
            if (t.encoding) throw new Error('Unknown encoding "' + t.encoding + '".')
        }
        return a
    };
    ht.certificationRequestFromPem = function(e, t, i) {
        var n = Ut.pem.decode(e)[0];
        if (n.type !== "CERTIFICATE REQUEST") {
            var r = new Error('Could not convert certification request from PEM; PEM header type is not "CERTIFICATE REQUEST".');
            throw r.headerType = n.type, r
        }
        if (n.procType && n.procType.type === "ENCRYPTED") throw new Error("Could not convert certification request from PEM; PEM is encrypted.");
        var a = K.fromDer(n.body, i);
        return ht.certificationRequestFromAsn1(a, t)
    };
    ht.certificationRequestToPem = function(e, t) {
        var i = {
            type: "CERTIFICATE REQUEST",
            body: K.toDer(ht.certificationRequestToAsn1(e)).getBytes()
        };
        return Ut.pem.encode(i, {
            maxline: t
        })
    };
    ht.createCertificate = function() {
        var e = {};
        return e.version = 2, e.serialNumber = "00", e.signatureOid = null, e.signature = null, e.siginfo = {}, e.siginfo.algorithmOid = null, e.validity = {}, e.validity.notBefore = new Date, e.validity.notAfter = new Date, e.issuer = {}, e.issuer.getField = function(t) {
            return ao(e.issuer, t)
        }, e.issuer.addField = function(t) {
            Da([t]), e.issuer.attributes.push(t)
        }, e.issuer.attributes = [], e.issuer.hash = null, e.subject = {}, e.subject.getField = function(t) {
            return ao(e.subject, t)
        }, e.subject.addField = function(t) {
            Da([t]), e.subject.attributes.push(t)
        }, e.subject.attributes = [], e.subject.hash = null, e.extensions = [], e.publicKey = null, e.md = null, e.setSubject = function(t, i) {
            Da(t), e.subject.attributes = t, delete e.subject.uniqueId, i && (e.subject.uniqueId = i), e.subject.hash = null
        }, e.setIssuer = function(t, i) {
            Da(t), e.issuer.attributes = t, delete e.issuer.uniqueId, i && (e.issuer.uniqueId = i), e.issuer.hash = null
        }, e.setExtensions = function(t) {
            for (var i = 0; i < t.length; ++i) Av(t[i], {
                cert: e
            });
            e.extensions = t
        }, e.getExtension = function(t) {
            typeof t == "string" && (t = {
                name: t
            });
            for (var i = null, n, r = 0; i === null && r < e.extensions.length; ++r) n = e.extensions[r], (t.id && n.id === t.id || t.name && n.name === t.name) && (i = n);
            return i
        }, e.sign = function(t, i) {
            e.md = i || Ut.md.sha1.create();
            var n = Ai[e.md.algorithm + "WithRSAEncryption"];
            if (!n) {
                var r = new Error("Could not compute certificate digest. Unknown message digest algorithm OID.");
                throw r.algorithm = e.md.algorithm, r
            }
            e.signatureOid = e.siginfo.algorithmOid = n, e.tbsCertificate = ht.getTBSCertificate(e);
            var a = K.toDer(e.tbsCertificate);
            e.md.update(a.getBytes()), e.signature = t.sign(e.md)
        }, e.verify = function(t) {
            var i = !1;
            if (!e.issued(t)) {
                var n = t.issuer,
                    r = e.subject,
                    a = new Error("The parent certificate did not issue the given child certificate; the child certificate's issuer does not match the parent's subject.");
                throw a.expectedIssuer = r.attributes, a.actualIssuer = n.attributes, a
            }
            var s = t.md;
            if (s === null) {
                s = Vc({
                    signatureOid: t.signatureOid,
                    type: "certificate"
                });
                var l = t.tbsCertificate || ht.getTBSCertificate(t),
                    u = K.toDer(l);
                s.update(u.getBytes())
            }
            return s !== null && (i = Iv({
                certificate: e,
                md: s,
                signature: t.signature
            })), i
        }, e.isIssuer = function(t) {
            var i = !1,
                n = e.issuer,
                r = t.subject;
            if (n.hash && r.hash) i = n.hash === r.hash;
            else if (n.attributes.length === r.attributes.length) {
                i = !0;
                for (var a, s, l = 0; i && l < n.attributes.length; ++l) a = n.attributes[l], s = r.attributes[l], (a.type !== s.type || a.value !== s.value) && (i = !1)
            }
            return i
        }, e.issued = function(t) {
            return t.isIssuer(e)
        }, e.generateSubjectKeyIdentifier = function() {
            return ht.getPublicKeyFingerprint(e.publicKey, {
                type: "RSAPublicKey"
            })
        }, e.verifySubjectKeyIdentifier = function() {
            for (var t = Ai.subjectKeyIdentifier, i = 0; i < e.extensions.length; ++i) {
                var n = e.extensions[i];
                if (n.id === t) {
                    var r = e.generateSubjectKeyIdentifier().getBytes();
                    return Ut.util.hexToBytes(n.subjectKeyIdentifier) === r
                }
            }
            return !1
        }, e
    };
    ht.certificateFromAsn1 = function(e, t) {
        var i = {},
            n = [];
        if (!K.validate(e, XS, i, n)) {
            var r = new Error("Cannot read X.509 certificate. ASN.1 object is not an X509v3 Certificate.");
            throw r.errors = n, r
        }
        var a = K.derToOid(i.publicKeyOid);
        if (a !== ht.oids.rsaEncryption) throw new Error("Cannot read public key. OID is not RSA.");
        var s = ht.createCertificate();
        s.version = i.certVersion ? i.certVersion.charCodeAt(0) : 0;
        var l = Ut.util.createBuffer(i.certSerialNumber);
        s.serialNumber = l.toHex(), s.signatureOid = Ut.asn1.derToOid(i.certSignatureOid), s.signatureParameters = qc(s.signatureOid, i.certSignatureParams, !0), s.siginfo.algorithmOid = Ut.asn1.derToOid(i.certinfoSignatureOid), s.siginfo.parameters = qc(s.siginfo.algorithmOid, i.certinfoSignatureParams, !1), s.signature = i.certSignature;
        var u = [];
        if (i.certValidity1UTCTime !== void 0 && u.push(K.utcTimeToDate(i.certValidity1UTCTime)), i.certValidity2GeneralizedTime !== void 0 && u.push(K.generalizedTimeToDate(i.certValidity2GeneralizedTime)), i.certValidity3UTCTime !== void 0 && u.push(K.utcTimeToDate(i.certValidity3UTCTime)), i.certValidity4GeneralizedTime !== void 0 && u.push(K.generalizedTimeToDate(i.certValidity4GeneralizedTime)), u.length > 2) throw new Error("Cannot read notBefore/notAfter validity times; more than two times were provided in the certificate.");
        if (u.length < 2) throw new Error("Cannot read notBefore/notAfter validity times; they were not provided as either UTCTime or GeneralizedTime.");
        if (s.validity.notBefore = u[0], s.validity.notAfter = u[1], s.tbsCertificate = i.tbsCertificate, t) {
            s.md = Vc({
                signatureOid: s.signatureOid,
                type: "certificate"
            });
            var f = K.toDer(s.tbsCertificate);
            s.md.update(f.getBytes())
        }
        var d = Ut.md.sha1.create(),
            m = K.toDer(i.certIssuer);
        d.update(m.getBytes()), s.issuer.getField = function(C) {
            return ao(s.issuer, C)
        }, s.issuer.addField = function(C) {
            Da([C]), s.issuer.attributes.push(C)
        }, s.issuer.attributes = ht.RDNAttributesAsArray(i.certIssuer), i.certIssuerUniqueId && (s.issuer.uniqueId = i.certIssuerUniqueId), s.issuer.hash = d.digest().toHex();
        var T = Ut.md.sha1.create(),
            x = K.toDer(i.certSubject);
        return T.update(x.getBytes()), s.subject.getField = function(C) {
            return ao(s.subject, C)
        }, s.subject.addField = function(C) {
            Da([C]), s.subject.attributes.push(C)
        }, s.subject.attributes = ht.RDNAttributesAsArray(i.certSubject), i.certSubjectUniqueId && (s.subject.uniqueId = i.certSubjectUniqueId), s.subject.hash = T.digest().toHex(), i.certExtensions ? s.extensions = ht.certificateExtensionsFromAsn1(i.certExtensions) : s.extensions = [], s.publicKey = ht.publicKeyFromAsn1(i.subjectPublicKeyInfo), s
    };
    ht.certificateExtensionsFromAsn1 = function(e) {
        for (var t = [], i = 0; i < e.value.length; ++i)
            for (var n = e.value[i], r = 0; r < n.value.length; ++r) t.push(ht.certificateExtensionFromAsn1(n.value[r]));
        return t
    };
    ht.certificateExtensionFromAsn1 = function(e) {
        var t = {};
        if (t.id = K.derToOid(e.value[0].value), t.critical = !1, e.value[1].type === K.Type.BOOLEAN ? (t.critical = e.value[1].value.charCodeAt(0) !== 0, t.value = e.value[2].value) : t.value = e.value[1].value, t.id in Ai) {
            if (t.name = Ai[t.id], t.name === "keyUsage") {
                var i = K.fromDer(t.value),
                    n = 0,
                    r = 0;
                i.value.length > 1 && (n = i.value.charCodeAt(1), r = i.value.length > 2 ? i.value.charCodeAt(2) : 0), t.digitalSignature = (n & 128) === 128, t.nonRepudiation = (n & 64) === 64, t.keyEncipherment = (n & 32) === 32, t.dataEncipherment = (n & 16) === 16, t.keyAgreement = (n & 8) === 8, t.keyCertSign = (n & 4) === 4, t.cRLSign = (n & 2) === 2, t.encipherOnly = (n & 1) === 1, t.decipherOnly = (r & 128) === 128
            } else if (t.name === "basicConstraints") {
                var i = K.fromDer(t.value);
                i.value.length > 0 && i.value[0].type === K.Type.BOOLEAN ? t.cA = i.value[0].value.charCodeAt(0) !== 0 : t.cA = !1;
                var a = null;
                i.value.length > 0 && i.value[0].type === K.Type.INTEGER ? a = i.value[0].value : i.value.length > 1 && (a = i.value[1].value), a !== null && (t.pathLenConstraint = K.derToInteger(a))
            } else if (t.name === "extKeyUsage")
                for (var i = K.fromDer(t.value), s = 0; s < i.value.length; ++s) {
                    var l = K.derToOid(i.value[s].value);
                    l in Ai ? t[Ai[l]] = !0 : t[l] = !0
                } else if (t.name === "nsCertType") {
                    var i = K.fromDer(t.value),
                        n = 0;
                    i.value.length > 1 && (n = i.value.charCodeAt(1)), t.client = (n & 128) === 128, t.server = (n & 64) === 64, t.email = (n & 32) === 32, t.objsign = (n & 16) === 16, t.reserved = (n & 8) === 8, t.sslCA = (n & 4) === 4, t.emailCA = (n & 2) === 2, t.objCA = (n & 1) === 1
                } else if (t.name === "subjectAltName" || t.name === "issuerAltName") {
                t.altNames = [];
                for (var u, i = K.fromDer(t.value), f = 0; f < i.value.length; ++f) {
                    u = i.value[f];
                    var d = {
                        type: u.type,
                        value: u.value
                    };
                    switch (t.altNames.push(d), u.type) {
                        case 1:
                        case 2:
                        case 6:
                            break;
                        case 7:
                            d.ip = Ut.util.bytesToIP(u.value);
                            break;
                        case 8:
                            d.oid = K.derToOid(u.value);
                            break;
                        default:
                    }
                }
            } else if (t.name === "subjectKeyIdentifier") {
                var i = K.fromDer(t.value);
                t.subjectKeyIdentifier = Ut.util.bytesToHex(i.value)
            }
        }
        return t
    };
    ht.certificationRequestFromAsn1 = function(e, t) {
        var i = {},
            n = [];
        if (!K.validate(e, JS, i, n)) {
            var r = new Error("Cannot read PKCS#10 certificate request. ASN.1 object is not a PKCS#10 CertificationRequest.");
            throw r.errors = n, r
        }
        var a = K.derToOid(i.publicKeyOid);
        if (a !== ht.oids.rsaEncryption) throw new Error("Cannot read public key. OID is not RSA.");
        var s = ht.createCertificationRequest();
        if (s.version = i.csrVersion ? i.csrVersion.charCodeAt(0) : 0, s.signatureOid = Ut.asn1.derToOid(i.csrSignatureOid), s.signatureParameters = qc(s.signatureOid, i.csrSignatureParams, !0), s.siginfo.algorithmOid = Ut.asn1.derToOid(i.csrSignatureOid), s.siginfo.parameters = qc(s.siginfo.algorithmOid, i.csrSignatureParams, !1), s.signature = i.csrSignature, s.certificationRequestInfo = i.certificationRequestInfo, t) {
            s.md = Vc({
                signatureOid: s.signatureOid,
                type: "certification request"
            });
            var l = K.toDer(s.certificationRequestInfo);
            s.md.update(l.getBytes())
        }
        var u = Ut.md.sha1.create();
        return s.subject.getField = function(f) {
            return ao(s.subject, f)
        }, s.subject.addField = function(f) {
            Da([f]), s.subject.attributes.push(f)
        }, s.subject.attributes = ht.RDNAttributesAsArray(i.certificationRequestInfoSubject, u), s.subject.hash = u.digest().toHex(), s.publicKey = ht.publicKeyFromAsn1(i.subjectPublicKeyInfo), s.getAttribute = function(f) {
            return ao(s, f)
        }, s.addAttribute = function(f) {
            Da([f]), s.attributes.push(f)
        }, s.attributes = ht.CRIAttributesAsArray(i.certificationRequestInfoAttributes || []), s
    };
    ht.createCertificationRequest = function() {
        var e = {};
        return e.version = 0, e.signatureOid = null, e.signature = null, e.siginfo = {}, e.siginfo.algorithmOid = null, e.subject = {}, e.subject.getField = function(t) {
            return ao(e.subject, t)
        }, e.subject.addField = function(t) {
            Da([t]), e.subject.attributes.push(t)
        }, e.subject.attributes = [], e.subject.hash = null, e.publicKey = null, e.attributes = [], e.getAttribute = function(t) {
            return ao(e, t)
        }, e.addAttribute = function(t) {
            Da([t]), e.attributes.push(t)
        }, e.md = null, e.setSubject = function(t) {
            Da(t), e.subject.attributes = t, e.subject.hash = null
        }, e.setAttributes = function(t) {
            Da(t), e.attributes = t
        }, e.sign = function(t, i) {
            e.md = i || Ut.md.sha1.create();
            var n = Ai[e.md.algorithm + "WithRSAEncryption"];
            if (!n) {
                var r = new Error("Could not compute certification request digest. Unknown message digest algorithm OID.");
                throw r.algorithm = e.md.algorithm, r
            }
            e.signatureOid = e.siginfo.algorithmOid = n, e.certificationRequestInfo = ht.getCertificationRequestInfo(e);
            var a = K.toDer(e.certificationRequestInfo);
            e.md.update(a.getBytes()), e.signature = t.sign(e.md)
        }, e.verify = function() {
            var t = !1,
                i = e.md;
            if (i === null) {
                i = Vc({
                    signatureOid: e.signatureOid,
                    type: "certification request"
                });
                var n = e.certificationRequestInfo || ht.getCertificationRequestInfo(e),
                    r = K.toDer(n);
                i.update(r.getBytes())
            }
            return i !== null && (t = Iv({
                certificate: e,
                md: i,
                signature: e.signature
            })), t
        }, e
    };

    function bl(e) {
        for (var t = K.create(K.Class.UNIVERSAL, K.Type.SEQUENCE, !0, []), i, n, r = e.attributes, a = 0; a < r.length; ++a) {
            i = r[a];
            var s = i.value,
                l = K.Type.PRINTABLESTRING;
            "valueTagClass" in i && (l = i.valueTagClass, l === K.Type.UTF8 && (s = Ut.util.encodeUtf8(s))), n = K.create(K.Class.UNIVERSAL, K.Type.SET, !0, [K.create(K.Class.UNIVERSAL, K.Type.SEQUENCE, !0, [K.create(K.Class.UNIVERSAL, K.Type.OID, !1, K.oidToDer(i.type).getBytes()), K.create(K.Class.UNIVERSAL, l, !1, s)])]), t.value.push(n)
        }
        return t
    }

    function Da(e) {
        for (var t, i = 0; i < e.length; ++i) {
            if (t = e[i], typeof t.name > "u" && (t.type && t.type in ht.oids ? t.name = ht.oids[t.type] : t.shortName && t.shortName in In && (t.name = ht.oids[In[t.shortName]])), typeof t.type > "u")
                if (t.name && t.name in ht.oids) t.type = ht.oids[t.name];
                else {
                    var n = new Error("Attribute type not specified.");
                    throw n.attribute = t, n
                }
            if (typeof t.shortName > "u" && t.name && t.name in In && (t.shortName = In[t.name]), t.type === Ai.extensionRequest && (t.valueConstructed = !0, t.valueTagClass = K.Type.SEQUENCE, !t.value && t.extensions)) {
                t.value = [];
                for (var r = 0; r < t.extensions.length; ++r) t.value.push(ht.certificateExtensionToAsn1(Av(t.extensions[r])))
            }
            if (typeof t.value > "u") {
                var n = new Error("Attribute value not specified.");
                throw n.attribute = t, n
            }
        }
    }

    function Av(e, t) {
        if (t = t || {}, typeof e.name > "u" && e.id && e.id in ht.oids && (e.name = ht.oids[e.id]), typeof e.id > "u")
            if (e.name && e.name in ht.oids) e.id = ht.oids[e.name];
            else {
                var i = new Error("Extension ID not specified.");
                throw i.extension = e, i
            }
        if (typeof e.value < "u") return e;
        if (e.name === "keyUsage") {
            var n = 0,
                r = 0,
                a = 0;
            e.digitalSignature && (r |= 128, n = 7), e.nonRepudiation && (r |= 64, n = 6), e.keyEncipherment && (r |= 32, n = 5), e.dataEncipherment && (r |= 16, n = 4), e.keyAgreement && (r |= 8, n = 3), e.keyCertSign && (r |= 4, n = 2), e.cRLSign && (r |= 2, n = 1), e.encipherOnly && (r |= 1, n = 0), e.decipherOnly && (a |= 128, n = 7);
            var s = String.fromCharCode(n);
            a !== 0 ? s += String.fromCharCode(r) + String.fromCharCode(a) : r !== 0 && (s += String.fromCharCode(r)), e.value = K.create(K.Class.UNIVERSAL, K.Type.BITSTRING, !1, s)
        } else if (e.name === "basicConstraints") e.value = K.create(K.Class.UNIVERSAL, K.Type.SEQUENCE, !0, []), e.cA && e.value.value.push(K.create(K.Class.UNIVERSAL, K.Type.BOOLEAN, !1, String.fromCharCode(255))), "pathLenConstraint" in e && e.value.value.push(K.create(K.Class.UNIVERSAL, K.Type.INTEGER, !1, K.integerToDer(e.pathLenConstraint).getBytes()));
        else if (e.name === "extKeyUsage") {
            e.value = K.create(K.Class.UNIVERSAL, K.Type.SEQUENCE, !0, []);
            var l = e.value.value;
            for (var u in e) e[u] === !0 && (u in Ai ? l.push(K.create(K.Class.UNIVERSAL, K.Type.OID, !1, K.oidToDer(Ai[u]).getBytes())) : u.indexOf(".") !== -1 && l.push(K.create(K.Class.UNIVERSAL, K.Type.OID, !1, K.oidToDer(u).getBytes())))
        } else if (e.name === "nsCertType") {
            var n = 0,
                r = 0;
            e.client && (r |= 128, n = 7), e.server && (r |= 64, n = 6), e.email && (r |= 32, n = 5), e.objsign && (r |= 16, n = 4), e.reserved && (r |= 8, n = 3), e.sslCA && (r |= 4, n = 2), e.emailCA && (r |= 2, n = 1), e.objCA && (r |= 1, n = 0);
            var s = String.fromCharCode(n);
            r !== 0 && (s += String.fromCharCode(r)), e.value = K.create(K.Class.UNIVERSAL, K.Type.BITSTRING, !1, s)
        } else if (e.name === "subjectAltName" || e.name === "issuerAltName") {
            e.value = K.create(K.Class.UNIVERSAL, K.Type.SEQUENCE, !0, []);
            for (var f, d = 0; d < e.altNames.length; ++d) {
                f = e.altNames[d];
                var s = f.value;
                if (f.type === 7 && f.ip) {
                    if (s = Ut.util.bytesFromIP(f.ip), s === null) {
                        var i = new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');
                        throw i.extension = e, i
                    }
                } else f.type === 8 && (f.oid ? s = K.oidToDer(K.oidToDer(f.oid)) : s = K.oidToDer(s));
                e.value.value.push(K.create(K.Class.CONTEXT_SPECIFIC, f.type, !1, s))
            }
        } else if (e.name === "nsComment" && t.cert) {
            if (!/^[\x00-\x7F]*$/.test(e.comment) || e.comment.length < 1 || e.comment.length > 128) throw new Error('Invalid "nsComment" content.');
            e.value = K.create(K.Class.UNIVERSAL, K.Type.IA5STRING, !1, e.comment)
        } else if (e.name === "subjectKeyIdentifier" && t.cert) {
            var m = t.cert.generateSubjectKeyIdentifier();
            e.subjectKeyIdentifier = m.toHex(), e.value = K.create(K.Class.UNIVERSAL, K.Type.OCTETSTRING, !1, m.getBytes())
        } else if (e.name === "authorityKeyIdentifier" && t.cert) {
            e.value = K.create(K.Class.UNIVERSAL, K.Type.SEQUENCE, !0, []);
            var l = e.value.value;
            if (e.keyIdentifier) {
                var T = e.keyIdentifier === !0 ? t.cert.generateSubjectKeyIdentifier().getBytes() : e.keyIdentifier;
                l.push(K.create(K.Class.CONTEXT_SPECIFIC, 0, !1, T))
            }
            if (e.authorityCertIssuer) {
                var x = [K.create(K.Class.CONTEXT_SPECIFIC, 4, !0, [bl(e.authorityCertIssuer === !0 ? t.cert.issuer : e.authorityCertIssuer)])];
                l.push(K.create(K.Class.CONTEXT_SPECIFIC, 1, !0, x))
            }
            if (e.serialNumber) {
                var C = Ut.util.hexToBytes(e.serialNumber === !0 ? t.cert.serialNumber : e.serialNumber);
                l.push(K.create(K.Class.CONTEXT_SPECIFIC, 2, !1, C))
            }
        } else if (e.name === "cRLDistributionPoints") {
            e.value = K.create(K.Class.UNIVERSAL, K.Type.SEQUENCE, !0, []);
            for (var l = e.value.value, N = K.create(K.Class.UNIVERSAL, K.Type.SEQUENCE, !0, []), E = K.create(K.Class.CONTEXT_SPECIFIC, 0, !0, []), f, d = 0; d < e.altNames.length; ++d) {
                f = e.altNames[d];
                var s = f.value;
                if (f.type === 7 && f.ip) {
                    if (s = Ut.util.bytesFromIP(f.ip), s === null) {
                        var i = new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');
                        throw i.extension = e, i
                    }
                } else f.type === 8 && (f.oid ? s = K.oidToDer(K.oidToDer(f.oid)) : s = K.oidToDer(s));
                E.value.push(K.create(K.Class.CONTEXT_SPECIFIC, f.type, !1, s))
            }
            N.value.push(K.create(K.Class.CONTEXT_SPECIFIC, 0, !0, [E])), l.push(N)
        }
        if (typeof e.value > "u") {
            var i = new Error("Extension value not specified.");
            throw i.extension = e, i
        }
        return e
    }

    function Uh(e, t) {
        switch (e) {
            case Ai["RSASSA-PSS"]:
                var i = [];
                return t.hash.algorithmOid !== void 0 && i.push(K.create(K.Class.CONTEXT_SPECIFIC, 0, !0, [K.create(K.Class.UNIVERSAL, K.Type.SEQUENCE, !0, [K.create(K.Class.UNIVERSAL, K.Type.OID, !1, K.oidToDer(t.hash.algorithmOid).getBytes()), K.create(K.Class.UNIVERSAL, K.Type.NULL, !1, "")])])), t.mgf.algorithmOid !== void 0 && i.push(K.create(K.Class.CONTEXT_SPECIFIC, 1, !0, [K.create(K.Class.UNIVERSAL, K.Type.SEQUENCE, !0, [K.create(K.Class.UNIVERSAL, K.Type.OID, !1, K.oidToDer(t.mgf.algorithmOid).getBytes()), K.create(K.Class.UNIVERSAL, K.Type.SEQUENCE, !0, [K.create(K.Class.UNIVERSAL, K.Type.OID, !1, K.oidToDer(t.mgf.hash.algorithmOid).getBytes()), K.create(K.Class.UNIVERSAL, K.Type.NULL, !1, "")])])])), t.saltLength !== void 0 && i.push(K.create(K.Class.CONTEXT_SPECIFIC, 2, !0, [K.create(K.Class.UNIVERSAL, K.Type.INTEGER, !1, K.integerToDer(t.saltLength).getBytes())])), K.create(K.Class.UNIVERSAL, K.Type.SEQUENCE, !0, i);
            default:
                return K.create(K.Class.UNIVERSAL, K.Type.NULL, !1, "")
        }
    }

    function eT(e) {
        var t = K.create(K.Class.CONTEXT_SPECIFIC, 0, !0, []);
        if (e.attributes.length === 0) return t;
        for (var i = e.attributes, n = 0; n < i.length; ++n) {
            var r = i[n],
                a = r.value,
                s = K.Type.UTF8;
            "valueTagClass" in r && (s = r.valueTagClass), s === K.Type.UTF8 && (a = Ut.util.encodeUtf8(a));
            var l = !1;
            "valueConstructed" in r && (l = r.valueConstructed);
            var u = K.create(K.Class.UNIVERSAL, K.Type.SEQUENCE, !0, [K.create(K.Class.UNIVERSAL, K.Type.OID, !1, K.oidToDer(r.type).getBytes()), K.create(K.Class.UNIVERSAL, K.Type.SET, !0, [K.create(K.Class.UNIVERSAL, s, l, a)])]);
            t.value.push(u)
        }
        return t
    }
    var tT = new Date("1950-01-01T00:00:00Z"),
        iT = new Date("2050-01-01T00:00:00Z");

    function Lv(e) {
        return e >= tT && e < iT ? K.create(K.Class.UNIVERSAL, K.Type.UTCTIME, !1, K.dateToUtcTime(e)) : K.create(K.Class.UNIVERSAL, K.Type.GENERALIZEDTIME, !1, K.dateToGeneralizedTime(e))
    }
    ht.getTBSCertificate = function(e) {
        var t = Lv(e.validity.notBefore),
            i = Lv(e.validity.notAfter),
            n = K.create(K.Class.UNIVERSAL, K.Type.SEQUENCE, !0, [K.create(K.Class.CONTEXT_SPECIFIC, 0, !0, [K.create(K.Class.UNIVERSAL, K.Type.INTEGER, !1, K.integerToDer(e.version).getBytes())]), K.create(K.Class.UNIVERSAL, K.Type.INTEGER, !1, Ut.util.hexToBytes(e.serialNumber)), K.create(K.Class.UNIVERSAL, K.Type.SEQUENCE, !0, [K.create(K.Class.UNIVERSAL, K.Type.OID, !1, K.oidToDer(e.siginfo.algorithmOid).getBytes()), Uh(e.siginfo.algorithmOid, e.siginfo.parameters)]), bl(e.issuer), K.create(K.Class.UNIVERSAL, K.Type.SEQUENCE, !0, [t, i]), bl(e.subject), ht.publicKeyToAsn1(e.publicKey)]);
        return e.issuer.uniqueId && n.value.push(K.create(K.Class.CONTEXT_SPECIFIC, 1, !0, [K.create(K.Class.UNIVERSAL, K.Type.BITSTRING, !1, String.fromCharCode(0) + e.issuer.uniqueId)])), e.subject.uniqueId && n.value.push(K.create(K.Class.CONTEXT_SPECIFIC, 2, !0, [K.create(K.Class.UNIVERSAL, K.Type.BITSTRING, !1, String.fromCharCode(0) + e.subject.uniqueId)])), e.extensions.length > 0 && n.value.push(ht.certificateExtensionsToAsn1(e.extensions)), n
    };
    ht.getCertificationRequestInfo = function(e) {
        var t = K.create(K.Class.UNIVERSAL, K.Type.SEQUENCE, !0, [K.create(K.Class.UNIVERSAL, K.Type.INTEGER, !1, K.integerToDer(e.version).getBytes()), bl(e.subject), ht.publicKeyToAsn1(e.publicKey), eT(e)]);
        return t
    };
    ht.distinguishedNameToAsn1 = function(e) {
        return bl(e)
    };
    ht.certificateToAsn1 = function(e) {
        var t = e.tbsCertificate || ht.getTBSCertificate(e);
        return K.create(K.Class.UNIVERSAL, K.Type.SEQUENCE, !0, [t, K.create(K.Class.UNIVERSAL, K.Type.SEQUENCE, !0, [K.create(K.Class.UNIVERSAL, K.Type.OID, !1, K.oidToDer(e.signatureOid).getBytes()), Uh(e.signatureOid, e.signatureParameters)]), K.create(K.Class.UNIVERSAL, K.Type.BITSTRING, !1, String.fromCharCode(0) + e.signature)])
    };
    ht.certificateExtensionsToAsn1 = function(e) {
        var t = K.create(K.Class.CONTEXT_SPECIFIC, 3, !0, []),
            i = K.create(K.Class.UNIVERSAL, K.Type.SEQUENCE, !0, []);
        t.value.push(i);
        for (var n = 0; n < e.length; ++n) i.value.push(ht.certificateExtensionToAsn1(e[n]));
        return t
    };
    ht.certificateExtensionToAsn1 = function(e) {
        var t = K.create(K.Class.UNIVERSAL, K.Type.SEQUENCE, !0, []);
        t.value.push(K.create(K.Class.UNIVERSAL, K.Type.OID, !1, K.oidToDer(e.id).getBytes())), e.critical && t.value.push(K.create(K.Class.UNIVERSAL, K.Type.BOOLEAN, !1, String.fromCharCode(255)));
        var i = e.value;
        return typeof e.value != "string" && (i = K.toDer(i).getBytes()), t.value.push(K.create(K.Class.UNIVERSAL, K.Type.OCTETSTRING, !1, i)), t
    };
    ht.certificationRequestToAsn1 = function(e) {
        var t = e.certificationRequestInfo || ht.getCertificationRequestInfo(e);
        return K.create(K.Class.UNIVERSAL, K.Type.SEQUENCE, !0, [t, K.create(K.Class.UNIVERSAL, K.Type.SEQUENCE, !0, [K.create(K.Class.UNIVERSAL, K.Type.OID, !1, K.oidToDer(e.signatureOid).getBytes()), Uh(e.signatureOid, e.signatureParameters)]), K.create(K.Class.UNIVERSAL, K.Type.BITSTRING, !1, String.fromCharCode(0) + e.signature)])
    };
    ht.createCaStore = function(e) {
        var t = {
            certs: {}
        };
        t.getIssuer = function(s) {
            var l = i(s.issuer);
            return l
        }, t.addCertificate = function(s) {
            if (typeof s == "string" && (s = Ut.pki.certificateFromPem(s)), n(s.subject), !t.hasCertificate(s))
                if (s.subject.hash in t.certs) {
                    var l = t.certs[s.subject.hash];
                    Ut.util.isArray(l) || (l = [l]), l.push(s), t.certs[s.subject.hash] = l
                } else t.certs[s.subject.hash] = s
        }, t.hasCertificate = function(s) {
            typeof s == "string" && (s = Ut.pki.certificateFromPem(s));
            var l = i(s.subject);
            if (!l) return !1;
            Ut.util.isArray(l) || (l = [l]);
            for (var u = K.toDer(ht.certificateToAsn1(s)).getBytes(), f = 0; f < l.length; ++f) {
                var d = K.toDer(ht.certificateToAsn1(l[f])).getBytes();
                if (u === d) return !0
            }
            return !1
        }, t.listAllCertificates = function() {
            var s = [];
            for (var l in t.certs)
                if (t.certs.hasOwnProperty(l)) {
                    var u = t.certs[l];
                    if (!Ut.util.isArray(u)) s.push(u);
                    else
                        for (var f = 0; f < u.length; ++f) s.push(u[f])
                }
            return s
        }, t.removeCertificate = function(s) {
            var l;
            if (typeof s == "string" && (s = Ut.pki.certificateFromPem(s)), n(s.subject), !t.hasCertificate(s)) return null;
            var u = i(s.subject);
            if (!Ut.util.isArray(u)) return l = t.certs[s.subject.hash], delete t.certs[s.subject.hash], l;
            for (var f = K.toDer(ht.certificateToAsn1(s)).getBytes(), d = 0; d < u.length; ++d) {
                var m = K.toDer(ht.certificateToAsn1(u[d])).getBytes();
                f === m && (l = u[d], u.splice(d, 1))
            }
            return u.length === 0 && delete t.certs[s.subject.hash], l
        };

        function i(s) {
            return n(s), t.certs[s.hash] || null
        }

        function n(s) {
            if (!s.hash) {
                var l = Ut.md.sha1.create();
                s.attributes = ht.RDNAttributesAsArray(bl(s), l), s.hash = l.digest().toHex()
            }
        }
        if (e)
            for (var r = 0; r < e.length; ++r) {
                var a = e[r];
                t.addCertificate(a)
            }
        return t
    };
    ht.certificateError = {
        bad_certificate: "forge.pki.BadCertificate",
        unsupported_certificate: "forge.pki.UnsupportedCertificate",
        certificate_revoked: "forge.pki.CertificateRevoked",
        certificate_expired: "forge.pki.CertificateExpired",
        certificate_unknown: "forge.pki.CertificateUnknown",
        unknown_ca: "forge.pki.UnknownCertificateAuthority"
    };
    ht.verifyCertificateChain = function(e, t, i) {
        typeof i == "function" && (i = {
            verify: i
        }), i = i || {}, t = t.slice(0);
        var n = t.slice(0),
            r = i.validityCheckDate;
        typeof r > "u" && (r = new Date);
        var a = !0,
            s = null,
            l = 0;
        do {
            var u = t.shift(),
                f = null,
                d = !1;
            if (r && (r < u.validity.notBefore || r > u.validity.notAfter) && (s = {
                    message: "Certificate is not valid yet or has expired.",
                    error: ht.certificateError.certificate_expired,
                    notBefore: u.validity.notBefore,
                    notAfter: u.validity.notAfter,
                    now: r
                }), s === null) {
                if (f = t[0] || e.getIssuer(u), f === null && u.isIssuer(u) && (d = !0, f = u), f) {
                    var m = f;
                    Ut.util.isArray(m) || (m = [m]);
                    for (var T = !1; !T && m.length > 0;) {
                        f = m.shift();
                        try {
                            T = f.verify(u)
                        } catch {}
                    }
                    T || (s = {
                        message: "Certificate signature is invalid.",
                        error: ht.certificateError.bad_certificate
                    })
                }
                s === null && (!f || d) && !e.hasCertificate(u) && (s = {
                    message: "Certificate is not trusted.",
                    error: ht.certificateError.unknown_ca
                })
            }
            if (s === null && f && !u.isIssuer(f) && (s = {
                    message: "Certificate issuer is invalid.",
                    error: ht.certificateError.bad_certificate
                }), s === null)
                for (var x = {
                        keyUsage: !0,
                        basicConstraints: !0
                    }, C = 0; s === null && C < u.extensions.length; ++C) {
                    var N = u.extensions[C];
                    N.critical && !(N.name in x) && (s = {
                        message: "Certificate has an unsupported critical extension.",
                        error: ht.certificateError.unsupported_certificate
                    })
                }
            if (s === null && (!a || t.length === 0 && (!f || d))) {
                var E = u.getExtension("basicConstraints"),
                    O = u.getExtension("keyUsage");
                if (O !== null && (!O.keyCertSign || E === null) && (s = {
                        message: "Certificate keyUsage or basicConstraints conflict or indicate that the certificate is not a CA. If the certificate is the only one in the chain or isn't the first then the certificate must be a valid CA.",
                        error: ht.certificateError.bad_certificate
                    }), s === null && E !== null && !E.cA && (s = {
                        message: "Certificate basicConstraints indicates the certificate is not a CA.",
                        error: ht.certificateError.bad_certificate
                    }), s === null && O !== null && "pathLenConstraint" in E) {
                    var D = l - 1;
                    D > E.pathLenConstraint && (s = {
                        message: "Certificate basicConstraints pathLenConstraint violated.",
                        error: ht.certificateError.bad_certificate
                    })
                }
            }
            var I = s === null ? !0 : s.error,
                H = i.verify ? i.verify(I, l, n) : I;
            if (H === !0) s = null;
            else throw I === !0 && (s = {
                message: "The application rejected the certificate.",
                error: ht.certificateError.bad_certificate
            }), (H || H === 0) && (typeof H == "object" && !Ut.util.isArray(H) ? (H.message && (s.message = H.message), H.error && (s.error = H.error)) : typeof H == "string" && (s.error = H)), s;
            a = !1, ++l
        } while (t.length > 0);
        return !0
    }
});
var qh = Ke((jR, Pv) => {
    var rn = ui();
    Va();
    dl();
    io();
    Mh();
    Bh();
    ka();
    cu();
    vl();
    Pi();
    zc();
    var pe = rn.asn1,
        _i = rn.pki,
        hu = Pv.exports = rn.pkcs12 = rn.pkcs12 || {},
        Nv = {
            name: "ContentInfo",
            tagClass: pe.Class.UNIVERSAL,
            type: pe.Type.SEQUENCE,
            constructed: !0,
            value: [{
                name: "ContentInfo.contentType",
                tagClass: pe.Class.UNIVERSAL,
                type: pe.Type.OID,
                constructed: !1,
                capture: "contentType"
            }, {
                name: "ContentInfo.content",
                tagClass: pe.Class.CONTEXT_SPECIFIC,
                constructed: !0,
                captureAsn1: "content"
            }]
        },
        nT = {
            name: "PFX",
            tagClass: pe.Class.UNIVERSAL,
            type: pe.Type.SEQUENCE,
            constructed: !0,
            value: [{
                name: "PFX.version",
                tagClass: pe.Class.UNIVERSAL,
                type: pe.Type.INTEGER,
                constructed: !1,
                capture: "version"
            }, Nv, {
                name: "PFX.macData",
                tagClass: pe.Class.UNIVERSAL,
                type: pe.Type.SEQUENCE,
                constructed: !0,
                optional: !0,
                captureAsn1: "mac",
                value: [{
                    name: "PFX.macData.mac",
                    tagClass: pe.Class.UNIVERSAL,
                    type: pe.Type.SEQUENCE,
                    constructed: !0,
                    value: [{
                        name: "PFX.macData.mac.digestAlgorithm",
                        tagClass: pe.Class.UNIVERSAL,
                        type: pe.Type.SEQUENCE,
                        constructed: !0,
                        value: [{
                            name: "PFX.macData.mac.digestAlgorithm.algorithm",
                            tagClass: pe.Class.UNIVERSAL,
                            type: pe.Type.OID,
                            constructed: !1,
                            capture: "macAlgorithm"
                        }, {
                            name: "PFX.macData.mac.digestAlgorithm.parameters",
                            tagClass: pe.Class.UNIVERSAL,
                            captureAsn1: "macAlgorithmParameters"
                        }]
                    }, {
                        name: "PFX.macData.mac.digest",
                        tagClass: pe.Class.UNIVERSAL,
                        type: pe.Type.OCTETSTRING,
                        constructed: !1,
                        capture: "macDigest"
                    }]
                }, {
                    name: "PFX.macData.macSalt",
                    tagClass: pe.Class.UNIVERSAL,
                    type: pe.Type.OCTETSTRING,
                    constructed: !1,
                    capture: "macSalt"
                }, {
                    name: "PFX.macData.iterations",
                    tagClass: pe.Class.UNIVERSAL,
                    type: pe.Type.INTEGER,
                    constructed: !1,
                    optional: !0,
                    capture: "macIterations"
                }]
            }]
        },
        rT = {
            name: "SafeBag",
            tagClass: pe.Class.UNIVERSAL,
            type: pe.Type.SEQUENCE,
            constructed: !0,
            value: [{
                name: "SafeBag.bagId",
                tagClass: pe.Class.UNIVERSAL,
                type: pe.Type.OID,
                constructed: !1,
                capture: "bagId"
            }, {
                name: "SafeBag.bagValue",
                tagClass: pe.Class.CONTEXT_SPECIFIC,
                constructed: !0,
                captureAsn1: "bagValue"
            }, {
                name: "SafeBag.bagAttributes",
                tagClass: pe.Class.UNIVERSAL,
                type: pe.Type.SET,
                constructed: !0,
                optional: !0,
                capture: "bagAttributes"
            }]
        },
        aT = {
            name: "Attribute",
            tagClass: pe.Class.UNIVERSAL,
            type: pe.Type.SEQUENCE,
            constructed: !0,
            value: [{
                name: "Attribute.attrId",
                tagClass: pe.Class.UNIVERSAL,
                type: pe.Type.OID,
                constructed: !1,
                capture: "oid"
            }, {
                name: "Attribute.attrValues",
                tagClass: pe.Class.UNIVERSAL,
                type: pe.Type.SET,
                constructed: !0,
                capture: "values"
            }]
        },
        sT = {
            name: "CertBag",
            tagClass: pe.Class.UNIVERSAL,
            type: pe.Type.SEQUENCE,
            constructed: !0,
            value: [{
                name: "CertBag.certId",
                tagClass: pe.Class.UNIVERSAL,
                type: pe.Type.OID,
                constructed: !1,
                capture: "certId"
            }, {
                name: "CertBag.certValue",
                tagClass: pe.Class.CONTEXT_SPECIFIC,
                constructed: !0,
                value: [{
                    name: "CertBag.certValue[0]",
                    tagClass: pe.Class.UNIVERSAL,
                    type: pe.Class.OCTETSTRING,
                    constructed: !1,
                    capture: "cert"
                }]
            }]
        };

    function fu(e, t, i, n) {
        for (var r = [], a = 0; a < e.length; a++)
            for (var s = 0; s < e[a].safeBags.length; s++) {
                var l = e[a].safeBags[s];
                if (!(n !== void 0 && l.type !== n)) {
                    if (t === null) {
                        r.push(l);
                        continue
                    }
                    l.attributes[t] !== void 0 && l.attributes[t].indexOf(i) >= 0 && r.push(l)
                }
            }
        return r
    }
    hu.pkcs12FromAsn1 = function(e, t, i) {
        typeof t == "string" ? (i = t, t = !0) : t === void 0 && (t = !0);
        var n = {},
            r = [];
        if (!pe.validate(e, nT, n, r)) {
            var a = new Error("Cannot read PKCS#12 PFX. ASN.1 object is not an PKCS#12 PFX.");
            throw a.errors = a, a
        }
        var s = {
            version: n.version.charCodeAt(0),
            safeContents: [],
            getBags: function(E) {
                var O = {},
                    D;
                return "localKeyId" in E ? D = E.localKeyId : "localKeyIdHex" in E && (D = rn.util.hexToBytes(E.localKeyIdHex)), D === void 0 && !("friendlyName" in E) && "bagType" in E && (O[E.bagType] = fu(s.safeContents, null, null, E.bagType)), D !== void 0 && (O.localKeyId = fu(s.safeContents, "localKeyId", D, E.bagType)), "friendlyName" in E && (O.friendlyName = fu(s.safeContents, "friendlyName", E.friendlyName, E.bagType)), O
            },
            getBagsByFriendlyName: function(E, O) {
                return fu(s.safeContents, "friendlyName", E, O)
            },
            getBagsByLocalKeyId: function(E, O) {
                return fu(s.safeContents, "localKeyId", E, O)
            }
        };
        if (n.version.charCodeAt(0) !== 3) {
            var a = new Error("PKCS#12 PFX of version other than 3 not supported.");
            throw a.version = n.version.charCodeAt(0), a
        }
        if (pe.derToOid(n.contentType) !== _i.oids.data) {
            var a = new Error("Only PKCS#12 PFX in password integrity mode supported.");
            throw a.oid = pe.derToOid(n.contentType), a
        }
        var l = n.content.value[0];
        if (l.tagClass !== pe.Class.UNIVERSAL || l.type !== pe.Type.OCTETSTRING) throw new Error("PKCS#12 authSafe content data is not an OCTET STRING.");
        if (l = Fh(l), n.mac) {
            var u = null,
                f = 0,
                d = pe.derToOid(n.macAlgorithm);
            switch (d) {
                case _i.oids.sha1:
                    u = rn.md.sha1.create(), f = 20;
                    break;
                case _i.oids.sha256:
                    u = rn.md.sha256.create(), f = 32;
                    break;
                case _i.oids.sha384:
                    u = rn.md.sha384.create(), f = 48;
                    break;
                case _i.oids.sha512:
                    u = rn.md.sha512.create(), f = 64;
                    break;
                case _i.oids.md5:
                    u = rn.md.md5.create(), f = 16;
                    break
            }
            if (u === null) throw new Error("PKCS#12 uses unsupported MAC algorithm: " + d);
            var m = new rn.util.ByteBuffer(n.macSalt),
                T = "macIterations" in n ? parseInt(rn.util.bytesToHex(n.macIterations), 16) : 1,
                x = hu.generateKey(i, m, 3, T, f, u),
                C = rn.hmac.create();
            C.start(u, x), C.update(l.value);
            var N = C.getMac();
            if (N.getBytes() !== n.macDigest) throw new Error("PKCS#12 MAC could not be verified. Invalid password?")
        }
        return oT(s, l.value, t, i), s
    };

    function Fh(e) {
        if (e.composed || e.constructed) {
            for (var t = rn.util.createBuffer(), i = 0; i < e.value.length; ++i) t.putBytes(e.value[i].value);
            e.composed = e.constructed = !1, e.value = t.getBytes()
        }
        return e
    }

    function oT(e, t, i, n) {
        if (t = pe.fromDer(t, i), t.tagClass !== pe.Class.UNIVERSAL || t.type !== pe.Type.SEQUENCE || t.constructed !== !0) throw new Error("PKCS#12 AuthenticatedSafe expected to be a SEQUENCE OF ContentInfo");
        for (var r = 0; r < t.value.length; r++) {
            var a = t.value[r],
                s = {},
                l = [];
            if (!pe.validate(a, Nv, s, l)) {
                var u = new Error("Cannot read ContentInfo.");
                throw u.errors = l, u
            }
            var f = {
                    encrypted: !1
                },
                d = null,
                m = s.content.value[0];
            switch (pe.derToOid(s.contentType)) {
                case _i.oids.data:
                    if (m.tagClass !== pe.Class.UNIVERSAL || m.type !== pe.Type.OCTETSTRING) throw new Error("PKCS#12 SafeContents Data is not an OCTET STRING.");
                    d = Fh(m).value;
                    break;
                case _i.oids.encryptedData:
                    d = lT(m, n), f.encrypted = !0;
                    break;
                default:
                    var u = new Error("Unsupported PKCS#12 contentType.");
                    throw u.contentType = pe.derToOid(s.contentType), u
            }
            f.safeBags = uT(d, i, n), e.safeContents.push(f)
        }
    }

    function lT(e, t) {
        var i = {},
            n = [];
        if (!pe.validate(e, rn.pkcs7.asn1.encryptedDataValidator, i, n)) {
            var r = new Error("Cannot read EncryptedContentInfo.");
            throw r.errors = n, r
        }
        var a = pe.derToOid(i.contentType);
        if (a !== _i.oids.data) {
            var r = new Error("PKCS#12 EncryptedContentInfo ContentType is not Data.");
            throw r.oid = a, r
        }
        a = pe.derToOid(i.encAlgorithm);
        var s = _i.pbe.getCipher(a, i.encParameter, t),
            l = Fh(i.encryptedContentAsn1),
            u = rn.util.createBuffer(l.value);
        if (s.update(u), !s.finish()) throw new Error("Failed to decrypt PKCS#12 SafeContents.");
        return s.output.getBytes()
    }

    function uT(e, t, i) {
        if (!t && e.length === 0) return [];
        if (e = pe.fromDer(e, t), e.tagClass !== pe.Class.UNIVERSAL || e.type !== pe.Type.SEQUENCE || e.constructed !== !0) throw new Error("PKCS#12 SafeContents expected to be a SEQUENCE OF SafeBag.");
        for (var n = [], r = 0; r < e.value.length; r++) {
            var a = e.value[r],
                s = {},
                l = [];
            if (!pe.validate(a, rT, s, l)) {
                var u = new Error("Cannot read SafeBag.");
                throw u.errors = l, u
            }
            var f = {
                type: pe.derToOid(s.bagId),
                attributes: cT(s.bagAttributes)
            };
            n.push(f);
            var d, m, T = s.bagValue.value[0];
            switch (f.type) {
                case _i.oids.pkcs8ShroudedKeyBag:
                    if (T = _i.decryptPrivateKeyInfo(T, i), T === null) throw new Error("Unable to decrypt PKCS#8 ShroudedKeyBag, wrong password?");
                case _i.oids.keyBag:
                    try {
                        f.key = _i.privateKeyFromAsn1(T)
                    } catch {
                        f.key = null, f.asn1 = T
                    }
                    continue;
                case _i.oids.certBag:
                    d = sT, m = function() {
                        if (pe.derToOid(s.certId) !== _i.oids.x509Certificate) {
                            var C = new Error("Unsupported certificate type, only X.509 supported.");
                            throw C.oid = pe.derToOid(s.certId), C
                        }
                        var N = pe.fromDer(s.cert, t);
                        try {
                            f.cert = _i.certificateFromAsn1(N, !0)
                        } catch {
                            f.cert = null, f.asn1 = N
                        }
                    };
                    break;
                default:
                    var u = new Error("Unsupported PKCS#12 SafeBag type.");
                    throw u.oid = f.type, u
            }
            if (d !== void 0 && !pe.validate(T, d, s, l)) {
                var u = new Error("Cannot read PKCS#12 " + d.name);
                throw u.errors = l, u
            }
            m()
        }
        return n
    }

    function cT(e) {
        var t = {};
        if (e !== void 0)
            for (var i = 0; i < e.length; ++i) {
                var n = {},
                    r = [];
                if (!pe.validate(e[i], aT, n, r)) {
                    var a = new Error("Cannot read PKCS#12 BagAttribute.");
                    throw a.errors = r, a
                }
                var s = pe.derToOid(n.oid);
                if (_i.oids[s] !== void 0) {
                    t[_i.oids[s]] = [];
                    for (var l = 0; l < n.values.length; ++l) t[_i.oids[s]].push(n.values[l].value)
                }
            }
        return t
    }
    hu.toPkcs12Asn1 = function(e, t, i, n) {
        n = n || {}, n.saltSize = n.saltSize || 8, n.count = n.count || 2048, n.algorithm = n.algorithm || n.encAlgorithm || "aes128", "useMac" in n || (n.useMac = !0), "localKeyId" in n || (n.localKeyId = null), "generateLocalKeyId" in n || (n.generateLocalKeyId = !0);
        var r = n.localKeyId,
            a;
        if (r !== null) r = rn.util.hexToBytes(r);
        else if (n.generateLocalKeyId)
            if (t) {
                var s = rn.util.isArray(t) ? t[0] : t;
                typeof s == "string" && (s = _i.certificateFromPem(s));
                var l = rn.md.sha1.create();
                l.update(pe.toDer(_i.certificateToAsn1(s)).getBytes()), r = l.digest().getBytes()
            } else r = rn.random.getBytes(20);
        var u = [];
        r !== null && u.push(pe.create(pe.Class.UNIVERSAL, pe.Type.SEQUENCE, !0, [pe.create(pe.Class.UNIVERSAL, pe.Type.OID, !1, pe.oidToDer(_i.oids.localKeyId).getBytes()), pe.create(pe.Class.UNIVERSAL, pe.Type.SET, !0, [pe.create(pe.Class.UNIVERSAL, pe.Type.OCTETSTRING, !1, r)])])), "friendlyName" in n && u.push(pe.create(pe.Class.UNIVERSAL, pe.Type.SEQUENCE, !0, [pe.create(pe.Class.UNIVERSAL, pe.Type.OID, !1, pe.oidToDer(_i.oids.friendlyName).getBytes()), pe.create(pe.Class.UNIVERSAL, pe.Type.SET, !0, [pe.create(pe.Class.UNIVERSAL, pe.Type.BMPSTRING, !1, n.friendlyName)])])), u.length > 0 && (a = pe.create(pe.Class.UNIVERSAL, pe.Type.SET, !0, u));
        var f = [],
            d = [];
        t !== null && (rn.util.isArray(t) ? d = t : d = [t]);
        for (var m = [], T = 0; T < d.length; ++T) {
            t = d[T], typeof t == "string" && (t = _i.certificateFromPem(t));
            var x = T === 0 ? a : void 0,
                C = _i.certificateToAsn1(t),
                N = pe.create(pe.Class.UNIVERSAL, pe.Type.SEQUENCE, !0, [pe.create(pe.Class.UNIVERSAL, pe.Type.OID, !1, pe.oidToDer(_i.oids.certBag).getBytes()), pe.create(pe.Class.CONTEXT_SPECIFIC, 0, !0, [pe.create(pe.Class.UNIVERSAL, pe.Type.SEQUENCE, !0, [pe.create(pe.Class.UNIVERSAL, pe.Type.OID, !1, pe.oidToDer(_i.oids.x509Certificate).getBytes()), pe.create(pe.Class.CONTEXT_SPECIFIC, 0, !0, [pe.create(pe.Class.UNIVERSAL, pe.Type.OCTETSTRING, !1, pe.toDer(C).getBytes())])])]), x]);
            m.push(N)
        }
        if (m.length > 0) {
            var E = pe.create(pe.Class.UNIVERSAL, pe.Type.SEQUENCE, !0, m),
                O = pe.create(pe.Class.UNIVERSAL, pe.Type.SEQUENCE, !0, [pe.create(pe.Class.UNIVERSAL, pe.Type.OID, !1, pe.oidToDer(_i.oids.data).getBytes()), pe.create(pe.Class.CONTEXT_SPECIFIC, 0, !0, [pe.create(pe.Class.UNIVERSAL, pe.Type.OCTETSTRING, !1, pe.toDer(E).getBytes())])]);
            f.push(O)
        }
        var D = null;
        if (e !== null) {
            var I = _i.wrapRsaPrivateKey(_i.privateKeyToAsn1(e));
            i === null ? D = pe.create(pe.Class.UNIVERSAL, pe.Type.SEQUENCE, !0, [pe.create(pe.Class.UNIVERSAL, pe.Type.OID, !1, pe.oidToDer(_i.oids.keyBag).getBytes()), pe.create(pe.Class.CONTEXT_SPECIFIC, 0, !0, [I]), a]) : D = pe.create(pe.Class.UNIVERSAL, pe.Type.SEQUENCE, !0, [pe.create(pe.Class.UNIVERSAL, pe.Type.OID, !1, pe.oidToDer(_i.oids.pkcs8ShroudedKeyBag).getBytes()), pe.create(pe.Class.CONTEXT_SPECIFIC, 0, !0, [_i.encryptPrivateKeyInfo(I, i, n)]), a]);
            var H = pe.create(pe.Class.UNIVERSAL, pe.Type.SEQUENCE, !0, [D]),
                y = pe.create(pe.Class.UNIVERSAL, pe.Type.SEQUENCE, !0, [pe.create(pe.Class.UNIVERSAL, pe.Type.OID, !1, pe.oidToDer(_i.oids.data).getBytes()), pe.create(pe.Class.CONTEXT_SPECIFIC, 0, !0, [pe.create(pe.Class.UNIVERSAL, pe.Type.OCTETSTRING, !1, pe.toDer(H).getBytes())])]);
            f.push(y)
        }
        var w = pe.create(pe.Class.UNIVERSAL, pe.Type.SEQUENCE, !0, f),
            X;
        if (n.useMac) {
            var l = rn.md.sha1.create(),
                oe = new rn.util.ByteBuffer(rn.random.getBytes(n.saltSize)),
                me = n.count,
                e = hu.generateKey(i, oe, 3, me, 20),
                V = rn.hmac.create();
            V.start(l, e), V.update(pe.toDer(w).getBytes());
            var W = V.getMac();
            X = pe.create(pe.Class.UNIVERSAL, pe.Type.SEQUENCE, !0, [pe.create(pe.Class.UNIVERSAL, pe.Type.SEQUENCE, !0, [pe.create(pe.Class.UNIVERSAL, pe.Type.SEQUENCE, !0, [pe.create(pe.Class.UNIVERSAL, pe.Type.OID, !1, pe.oidToDer(_i.oids.sha1).getBytes()), pe.create(pe.Class.UNIVERSAL, pe.Type.NULL, !1, "")]), pe.create(pe.Class.UNIVERSAL, pe.Type.OCTETSTRING, !1, W.getBytes())]), pe.create(pe.Class.UNIVERSAL, pe.Type.OCTETSTRING, !1, oe.getBytes()), pe.create(pe.Class.UNIVERSAL, pe.Type.INTEGER, !1, pe.integerToDer(me).getBytes())])
        }
        return pe.create(pe.Class.UNIVERSAL, pe.Type.SEQUENCE, !0, [pe.create(pe.Class.UNIVERSAL, pe.Type.INTEGER, !1, pe.integerToDer(3).getBytes()), pe.create(pe.Class.UNIVERSAL, pe.Type.SEQUENCE, !0, [pe.create(pe.Class.UNIVERSAL, pe.Type.OID, !1, pe.oidToDer(_i.oids.data).getBytes()), pe.create(pe.Class.CONTEXT_SPECIFIC, 0, !0, [pe.create(pe.Class.UNIVERSAL, pe.Type.OCTETSTRING, !1, pe.toDer(w).getBytes())])]), X])
    };
    hu.generateKey = rn.pbe.generatePkcs12Key
});
var zh = Ke((WR, Rv) => {
    var so = ui();
    Va();
    io();
    Bh();
    Mo();
    Nc();
    qh();
    Fc();
    cu();
    Pi();
    zc();
    var Vh = so.asn1,
        xl = Rv.exports = so.pki = so.pki || {};
    xl.pemToDer = function(e) {
        var t = so.pem.decode(e)[0];
        if (t.procType && t.procType.type === "ENCRYPTED") throw new Error("Could not convert PEM to DER; PEM is encrypted.");
        return so.util.createBuffer(t.body)
    };
    xl.privateKeyFromPem = function(e) {
        var t = so.pem.decode(e)[0];
        if (t.type !== "PRIVATE KEY" && t.type !== "RSA PRIVATE KEY") {
            var i = new Error('Could not convert private key from PEM; PEM header type is not "PRIVATE KEY" or "RSA PRIVATE KEY".');
            throw i.headerType = t.type, i
        }
        if (t.procType && t.procType.type === "ENCRYPTED") throw new Error("Could not convert private key from PEM; PEM is encrypted.");
        var n = Vh.fromDer(t.body);
        return xl.privateKeyFromAsn1(n)
    };
    xl.privateKeyToPem = function(e, t) {
        var i = {
            type: "RSA PRIVATE KEY",
            body: Vh.toDer(xl.privateKeyToAsn1(e)).getBytes()
        };
        return so.pem.encode(i, {
            maxline: t
        })
    };
    xl.privateKeyInfoToPem = function(e, t) {
        var i = {
            type: "PRIVATE KEY",
            body: Vh.toDer(e).getBytes()
        };
        return so.pem.encode(i, {
            maxline: t
        })
    }
});
var Gh = Ke((KR, zv) => {
    var nt = ui();
    Va();
    dl();
    kc();
    Mo();
    zh();
    ka();
    vl();
    Pi();
    var Wc = function(e, t, i, n) {
            var r = nt.util.createBuffer(),
                a = e.length >> 1,
                s = a + (e.length & 1),
                l = e.substr(0, s),
                u = e.substr(a, s),
                f = nt.util.createBuffer(),
                d = nt.hmac.create();
            i = t + i;
            var m = Math.ceil(n / 16),
                T = Math.ceil(n / 20);
            d.start("MD5", l);
            var x = nt.util.createBuffer();
            f.putBytes(i);
            for (var C = 0; C < m; ++C) d.start(null, null), d.update(f.getBytes()), f.putBuffer(d.digest()), d.start(null, null), d.update(f.bytes() + i), x.putBuffer(d.digest());
            d.start("SHA1", u);
            var N = nt.util.createBuffer();
            f.clear(), f.putBytes(i);
            for (var C = 0; C < T; ++C) d.start(null, null), d.update(f.getBytes()), f.putBuffer(d.digest()), d.start(null, null), d.update(f.bytes() + i), N.putBuffer(d.digest());
            return r.putBytes(nt.util.xorBytes(x.getBytes(), N.getBytes(), n)), r
        },
        fT = function(e, t, i) {
            var n = nt.hmac.create();
            n.start("SHA1", e);
            var r = nt.util.createBuffer();
            return r.putInt32(t[0]), r.putInt32(t[1]), r.putByte(i.type), r.putByte(i.version.major), r.putByte(i.version.minor), r.putInt16(i.length), r.putBytes(i.fragment.bytes()), n.update(r.getBytes()), n.digest().getBytes()
        },
        hT = function(e, t, i) {
            var n = !1;
            try {
                var r = e.deflate(t.fragment.getBytes());
                t.fragment = nt.util.createBuffer(r), t.length = r.length, n = !0
            } catch {}
            return n
        },
        dT = function(e, t, i) {
            var n = !1;
            try {
                var r = e.inflate(t.fragment.getBytes());
                t.fragment = nt.util.createBuffer(r), t.length = r.length, n = !0
            } catch {}
            return n
        },
        ga = function(e, t) {
            var i = 0;
            switch (t) {
                case 1:
                    i = e.getByte();
                    break;
                case 2:
                    i = e.getInt16();
                    break;
                case 3:
                    i = e.getInt24();
                    break;
                case 4:
                    i = e.getInt32();
                    break
            }
            return nt.util.createBuffer(e.getBytes(i))
        },
        Na = function(e, t, i) {
            e.putInt(i.length(), t << 3), e.putBuffer(i)
        },
        Y = {};
    Y.Versions = {
        TLS_1_0: {
            major: 3,
            minor: 1
        },
        TLS_1_1: {
            major: 3,
            minor: 2
        },
        TLS_1_2: {
            major: 3,
            minor: 3
        }
    };
    Y.SupportedVersions = [Y.Versions.TLS_1_1, Y.Versions.TLS_1_0];
    Y.Version = Y.SupportedVersions[0];
    Y.MaxFragment = 16384 - 1024;
    Y.ConnectionEnd = {
        server: 0,
        client: 1
    };
    Y.PRFAlgorithm = {
        tls_prf_sha256: 0
    };
    Y.BulkCipherAlgorithm = {
        none: null,
        rc4: 0,
        des3: 1,
        aes: 2
    };
    Y.CipherType = {
        stream: 0,
        block: 1,
        aead: 2
    };
    Y.MACAlgorithm = {
        none: null,
        hmac_md5: 0,
        hmac_sha1: 1,
        hmac_sha256: 2,
        hmac_sha384: 3,
        hmac_sha512: 4
    };
    Y.CompressionMethod = {
        none: 0,
        deflate: 1
    };
    Y.ContentType = {
        change_cipher_spec: 20,
        alert: 21,
        handshake: 22,
        application_data: 23,
        heartbeat: 24
    };
    Y.HandshakeType = {
        hello_request: 0,
        client_hello: 1,
        server_hello: 2,
        certificate: 11,
        server_key_exchange: 12,
        certificate_request: 13,
        server_hello_done: 14,
        certificate_verify: 15,
        client_key_exchange: 16,
        finished: 20
    };
    Y.Alert = {};
    Y.Alert.Level = {
        warning: 1,
        fatal: 2
    };
    Y.Alert.Description = {
        close_notify: 0,
        unexpected_message: 10,
        bad_record_mac: 20,
        decryption_failed: 21,
        record_overflow: 22,
        decompression_failure: 30,
        handshake_failure: 40,
        bad_certificate: 42,
        unsupported_certificate: 43,
        certificate_revoked: 44,
        certificate_expired: 45,
        certificate_unknown: 46,
        illegal_parameter: 47,
        unknown_ca: 48,
        access_denied: 49,
        decode_error: 50,
        decrypt_error: 51,
        export_restriction: 60,
        protocol_version: 70,
        insufficient_security: 71,
        internal_error: 80,
        user_canceled: 90,
        no_renegotiation: 100
    };
    Y.HeartbeatMessageType = {
        heartbeat_request: 1,
        heartbeat_response: 2
    };
    Y.CipherSuites = {};
    Y.getCipherSuite = function(e) {
        var t = null;
        for (var i in Y.CipherSuites) {
            var n = Y.CipherSuites[i];
            if (n.id[0] === e.charCodeAt(0) && n.id[1] === e.charCodeAt(1)) {
                t = n;
                break
            }
        }
        return t
    };
    Y.handleUnexpected = function(e, t) {
        var i = !e.open && e.entity === Y.ConnectionEnd.client;
        i || e.error(e, {
            message: "Unexpected message. Received TLS record out of order.",
            send: !0,
            alert: {
                level: Y.Alert.Level.fatal,
                description: Y.Alert.Description.unexpected_message
            }
        })
    };
    Y.handleHelloRequest = function(e, t, i) {
        !e.handshaking && e.handshakes > 0 && (Y.queue(e, Y.createAlert(e, {
            level: Y.Alert.Level.warning,
            description: Y.Alert.Description.no_renegotiation
        })), Y.flush(e)), e.process()
    };
    Y.parseHelloMessage = function(e, t, i) {
        var n = null,
            r = e.entity === Y.ConnectionEnd.client;
        if (i < 38) e.error(e, {
            message: r ? "Invalid ServerHello message. Message too short." : "Invalid ClientHello message. Message too short.",
            send: !0,
            alert: {
                level: Y.Alert.Level.fatal,
                description: Y.Alert.Description.illegal_parameter
            }
        });
        else {
            var a = t.fragment,
                s = a.length();
            if (n = {
                    version: {
                        major: a.getByte(),
                        minor: a.getByte()
                    },
                    random: nt.util.createBuffer(a.getBytes(32)),
                    session_id: ga(a, 1),
                    extensions: []
                }, r ? (n.cipher_suite = a.getBytes(2), n.compression_method = a.getByte()) : (n.cipher_suites = ga(a, 2), n.compression_methods = ga(a, 1)), s = i - (s - a.length()), s > 0) {
                for (var l = ga(a, 2); l.length() > 0;) n.extensions.push({
                    type: [l.getByte(), l.getByte()],
                    data: ga(l, 2)
                });
                if (!r)
                    for (var u = 0; u < n.extensions.length; ++u) {
                        var f = n.extensions[u];
                        if (f.type[0] === 0 && f.type[1] === 0)
                            for (var d = ga(f.data, 2); d.length() > 0;) {
                                var m = d.getByte();
                                if (m !== 0) break;
                                e.session.extensions.server_name.serverNameList.push(ga(d, 2).getBytes())
                            }
                    }
            }
            if (e.session.version && (n.version.major !== e.session.version.major || n.version.minor !== e.session.version.minor)) return e.error(e, {
                message: "TLS version change is disallowed during renegotiation.",
                send: !0,
                alert: {
                    level: Y.Alert.Level.fatal,
                    description: Y.Alert.Description.protocol_version
                }
            });
            if (r) e.session.cipherSuite = Y.getCipherSuite(n.cipher_suite);
            else
                for (var T = nt.util.createBuffer(n.cipher_suites.bytes()); T.length() > 0 && (e.session.cipherSuite = Y.getCipherSuite(T.getBytes(2)), e.session.cipherSuite === null););
            if (e.session.cipherSuite === null) return e.error(e, {
                message: "No cipher suites in common.",
                send: !0,
                alert: {
                    level: Y.Alert.Level.fatal,
                    description: Y.Alert.Description.handshake_failure
                },
                cipherSuite: nt.util.bytesToHex(n.cipher_suite)
            });
            r ? e.session.compressionMethod = n.compression_method : e.session.compressionMethod = Y.CompressionMethod.none
        }
        return n
    };
    Y.createSecurityParameters = function(e, t) {
        var i = e.entity === Y.ConnectionEnd.client,
            n = t.random.bytes(),
            r = i ? e.session.sp.client_random : n,
            a = i ? n : Y.createRandom().getBytes();
        e.session.sp = {
            entity: e.entity,
            prf_algorithm: Y.PRFAlgorithm.tls_prf_sha256,
            bulk_cipher_algorithm: null,
            cipher_type: null,
            enc_key_length: null,
            block_length: null,
            fixed_iv_length: null,
            record_iv_length: null,
            mac_algorithm: null,
            mac_length: null,
            mac_key_length: null,
            compression_algorithm: e.session.compressionMethod,
            pre_master_secret: null,
            master_secret: null,
            client_random: r,
            server_random: a
        }
    };
    Y.handleServerHello = function(e, t, i) {
        var n = Y.parseHelloMessage(e, t, i);
        if (!e.fail) {
            if (n.version.minor <= e.version.minor) e.version.minor = n.version.minor;
            else return e.error(e, {
                message: "Incompatible TLS version.",
                send: !0,
                alert: {
                    level: Y.Alert.Level.fatal,
                    description: Y.Alert.Description.protocol_version
                }
            });
            e.session.version = e.version;
            var r = n.session_id.bytes();
            r.length > 0 && r === e.session.id ? (e.expect = Ov, e.session.resuming = !0, e.session.sp.server_random = n.random.bytes()) : (e.expect = gT, e.session.resuming = !1, Y.createSecurityParameters(e, n)), e.session.id = r, e.process()
        }
    };
    Y.handleClientHello = function(e, t, i) {
        var n = Y.parseHelloMessage(e, t, i);
        if (!e.fail) {
            var r = n.session_id.bytes(),
                a = null;
            if (e.sessionCache && (a = e.sessionCache.getSession(r), a === null ? r = "" : (a.version.major !== n.version.major || a.version.minor > n.version.minor) && (a = null, r = "")), r.length === 0 && (r = nt.random.getBytes(32)), e.session.id = r, e.session.clientHelloVersion = n.version, e.session.sp = {}, a) e.version = e.session.version = a.version, e.session.sp = a.sp;
            else {
                for (var s, l = 1; l < Y.SupportedVersions.length && (s = Y.SupportedVersions[l], !(s.minor <= n.version.minor)); ++l);
                e.version = {
                    major: s.major,
                    minor: s.minor
                }, e.session.version = e.version
            }
            a !== null ? (e.expect = Wh, e.session.resuming = !0, e.session.sp.client_random = n.random.bytes()) : (e.expect = e.verifyClient !== !1 ? wT : jh, e.session.resuming = !1, Y.createSecurityParameters(e, n)), e.open = !0, Y.queue(e, Y.createRecord(e, {
                type: Y.ContentType.handshake,
                data: Y.createServerHello(e)
            })), e.session.resuming ? (Y.queue(e, Y.createRecord(e, {
                type: Y.ContentType.change_cipher_spec,
                data: Y.createChangeCipherSpec()
            })), e.state.pending = Y.createConnectionState(e), e.state.current.write = e.state.pending.write, Y.queue(e, Y.createRecord(e, {
                type: Y.ContentType.handshake,
                data: Y.createFinished(e)
            }))) : (Y.queue(e, Y.createRecord(e, {
                type: Y.ContentType.handshake,
                data: Y.createCertificate(e)
            })), e.fail || (Y.queue(e, Y.createRecord(e, {
                type: Y.ContentType.handshake,
                data: Y.createServerKeyExchange(e)
            })), e.verifyClient !== !1 && Y.queue(e, Y.createRecord(e, {
                type: Y.ContentType.handshake,
                data: Y.createCertificateRequest(e)
            })), Y.queue(e, Y.createRecord(e, {
                type: Y.ContentType.handshake,
                data: Y.createServerHelloDone(e)
            })))), Y.flush(e), e.process()
        }
    };
    Y.handleCertificate = function(e, t, i) {
        if (i < 3) return e.error(e, {
            message: "Invalid Certificate message. Message too short.",
            send: !0,
            alert: {
                level: Y.Alert.Level.fatal,
                description: Y.Alert.Description.illegal_parameter
            }
        });
        var n = t.fragment,
            r = {
                certificate_list: ga(n, 3)
            },
            a, s, l = [];
        try {
            for (; r.certificate_list.length() > 0;) a = ga(r.certificate_list, 3), s = nt.asn1.fromDer(a), a = nt.pki.certificateFromAsn1(s, !0), l.push(a)
        } catch (f) {
            return e.error(e, {
                message: "Could not parse certificate list.",
                cause: f,
                send: !0,
                alert: {
                    level: Y.Alert.Level.fatal,
                    description: Y.Alert.Description.bad_certificate
                }
            })
        }
        var u = e.entity === Y.ConnectionEnd.client;
        (u || e.verifyClient === !0) && l.length === 0 ? e.error(e, {
            message: u ? "No server certificate provided." : "No client certificate provided.",
            send: !0,
            alert: {
                level: Y.Alert.Level.fatal,
                description: Y.Alert.Description.illegal_parameter
            }
        }) : l.length === 0 ? e.expect = u ? Bv : jh : (u ? e.session.serverCertificate = l[0] : e.session.clientCertificate = l[0], Y.verifyCertificateChain(e, l) && (e.expect = u ? Bv : jh)), e.process()
    };
    Y.handleServerKeyExchange = function(e, t, i) {
        if (i > 0) return e.error(e, {
            message: "Invalid key parameters. Only RSA is supported.",
            send: !0,
            alert: {
                level: Y.Alert.Level.fatal,
                description: Y.Alert.Description.unsupported_certificate
            }
        });
        e.expect = mT, e.process()
    };
    Y.handleClientKeyExchange = function(e, t, i) {
        if (i < 48) return e.error(e, {
            message: "Invalid key parameters. Only RSA is supported.",
            send: !0,
            alert: {
                level: Y.Alert.Level.fatal,
                description: Y.Alert.Description.unsupported_certificate
            }
        });
        var n = t.fragment,
            r = {
                enc_pre_master_secret: ga(n, 2).getBytes()
            },
            a = null;
        if (e.getPrivateKey) try {
            a = e.getPrivateKey(e, e.session.serverCertificate), a = nt.pki.privateKeyFromPem(a)
        } catch (u) {
            e.error(e, {
                message: "Could not get private key.",
                cause: u,
                send: !0,
                alert: {
                    level: Y.Alert.Level.fatal,
                    description: Y.Alert.Description.internal_error
                }
            })
        }
        if (a === null) return e.error(e, {
            message: "No private key set.",
            send: !0,
            alert: {
                level: Y.Alert.Level.fatal,
                description: Y.Alert.Description.internal_error
            }
        });
        try {
            var s = e.session.sp;
            s.pre_master_secret = a.decrypt(r.enc_pre_master_secret);
            var l = e.session.clientHelloVersion;
            if (l.major !== s.pre_master_secret.charCodeAt(0) || l.minor !== s.pre_master_secret.charCodeAt(1)) throw new Error("TLS version rollback attack detected.")
        } catch {
            s.pre_master_secret = nt.random.getBytes(48)
        }
        e.expect = Wh, e.session.clientCertificate !== null && (e.expect = ET), e.process()
    };
    Y.handleCertificateRequest = function(e, t, i) {
        if (i < 3) return e.error(e, {
            message: "Invalid CertificateRequest. Message too short.",
            send: !0,
            alert: {
                level: Y.Alert.Level.fatal,
                description: Y.Alert.Description.illegal_parameter
            }
        });
        var n = t.fragment,
            r = {
                certificate_types: ga(n, 1),
                certificate_authorities: ga(n, 2)
            };
        e.session.certificateRequest = r, e.expect = vT, e.process()
    };
    Y.handleCertificateVerify = function(e, t, i) {
        if (i < 2) return e.error(e, {
            message: "Invalid CertificateVerify. Message too short.",
            send: !0,
            alert: {
                level: Y.Alert.Level.fatal,
                description: Y.Alert.Description.illegal_parameter
            }
        });
        var n = t.fragment;
        n.read -= 4;
        var r = n.bytes();
        n.read += 4;
        var a = {
                signature: ga(n, 2).getBytes()
            },
            s = nt.util.createBuffer();
        s.putBuffer(e.session.md5.digest()), s.putBuffer(e.session.sha1.digest()), s = s.getBytes();
        try {
            var l = e.session.clientCertificate;
            if (!l.publicKey.verify(s, a.signature, "NONE")) throw new Error("CertificateVerify signature does not match.");
            e.session.md5.update(r), e.session.sha1.update(r)
        } catch {
            return e.error(e, {
                message: "Bad signature in CertificateVerify.",
                send: !0,
                alert: {
                    level: Y.Alert.Level.fatal,
                    description: Y.Alert.Description.handshake_failure
                }
            })
        }
        e.expect = Wh, e.process()
    };
    Y.handleServerHelloDone = function(e, t, i) {
        if (i > 0) return e.error(e, {
            message: "Invalid ServerHelloDone message. Invalid length.",
            send: !0,
            alert: {
                level: Y.Alert.Level.fatal,
                description: Y.Alert.Description.record_overflow
            }
        });
        if (e.serverCertificate === null) {
            var n = {
                    message: "No server certificate provided. Not enough security.",
                    send: !0,
                    alert: {
                        level: Y.Alert.Level.fatal,
                        description: Y.Alert.Description.insufficient_security
                    }
                },
                r = 0,
                a = e.verify(e, n.alert.description, r, []);
            if (a !== !0) return (a || a === 0) && (typeof a == "object" && !nt.util.isArray(a) ? (a.message && (n.message = a.message), a.alert && (n.alert.description = a.alert)) : typeof a == "number" && (n.alert.description = a)), e.error(e, n)
        }
        e.session.certificateRequest !== null && (t = Y.createRecord(e, {
            type: Y.ContentType.handshake,
            data: Y.createCertificate(e)
        }), Y.queue(e, t)), t = Y.createRecord(e, {
            type: Y.ContentType.handshake,
            data: Y.createClientKeyExchange(e)
        }), Y.queue(e, t), e.expect = bT;
        var s = function(l, u) {
            l.session.certificateRequest !== null && l.session.clientCertificate !== null && Y.queue(l, Y.createRecord(l, {
                type: Y.ContentType.handshake,
                data: Y.createCertificateVerify(l, u)
            })), Y.queue(l, Y.createRecord(l, {
                type: Y.ContentType.change_cipher_spec,
                data: Y.createChangeCipherSpec()
            })), l.state.pending = Y.createConnectionState(l), l.state.current.write = l.state.pending.write, Y.queue(l, Y.createRecord(l, {
                type: Y.ContentType.handshake,
                data: Y.createFinished(l)
            })), l.expect = Ov, Y.flush(l), l.process()
        };
        if (e.session.certificateRequest === null || e.session.clientCertificate === null) return s(e, null);
        Y.getClientSignature(e, s)
    };
    Y.handleChangeCipherSpec = function(e, t) {
        if (t.fragment.getByte() !== 1) return e.error(e, {
            message: "Invalid ChangeCipherSpec message received.",
            send: !0,
            alert: {
                level: Y.Alert.Level.fatal,
                description: Y.Alert.Description.illegal_parameter
            }
        });
        var i = e.entity === Y.ConnectionEnd.client;
        (e.session.resuming && i || !e.session.resuming && !i) && (e.state.pending = Y.createConnectionState(e)), e.state.current.read = e.state.pending.read, (!e.session.resuming && i || e.session.resuming && !i) && (e.state.pending = null), e.expect = i ? yT : CT, e.process()
    };
    Y.handleFinished = function(e, t, i) {
        var n = t.fragment;
        n.read -= 4;
        var r = n.bytes();
        n.read += 4;
        var a = t.fragment.getBytes();
        n = nt.util.createBuffer(), n.putBuffer(e.session.md5.digest()), n.putBuffer(e.session.sha1.digest());
        var s = e.entity === Y.ConnectionEnd.client,
            l = s ? "server finished" : "client finished",
            u = e.session.sp,
            f = 12,
            d = Wc;
        if (n = d(u.master_secret, l, n.getBytes(), f), n.getBytes() !== a) return e.error(e, {
            message: "Invalid verify_data in Finished message.",
            send: !0,
            alert: {
                level: Y.Alert.Level.fatal,
                description: Y.Alert.Description.decrypt_error
            }
        });
        e.session.md5.update(r), e.session.sha1.update(r), (e.session.resuming && s || !e.session.resuming && !s) && (Y.queue(e, Y.createRecord(e, {
            type: Y.ContentType.change_cipher_spec,
            data: Y.createChangeCipherSpec()
        })), e.state.current.write = e.state.pending.write, e.state.pending = null, Y.queue(e, Y.createRecord(e, {
            type: Y.ContentType.handshake,
            data: Y.createFinished(e)
        }))), e.expect = s ? _T : ST, e.handshaking = !1, ++e.handshakes, e.peerCertificate = s ? e.session.serverCertificate : e.session.clientCertificate, Y.flush(e), e.isConnected = !0, e.connected(e), e.process()
    };
    Y.handleAlert = function(e, t) {
        var i = t.fragment,
            n = {
                level: i.getByte(),
                description: i.getByte()
            },
            r;
        switch (n.description) {
            case Y.Alert.Description.close_notify:
                r = "Connection closed.";
                break;
            case Y.Alert.Description.unexpected_message:
                r = "Unexpected message.";
                break;
            case Y.Alert.Description.bad_record_mac:
                r = "Bad record MAC.";
                break;
            case Y.Alert.Description.decryption_failed:
                r = "Decryption failed.";
                break;
            case Y.Alert.Description.record_overflow:
                r = "Record overflow.";
                break;
            case Y.Alert.Description.decompression_failure:
                r = "Decompression failed.";
                break;
            case Y.Alert.Description.handshake_failure:
                r = "Handshake failure.";
                break;
            case Y.Alert.Description.bad_certificate:
                r = "Bad certificate.";
                break;
            case Y.Alert.Description.unsupported_certificate:
                r = "Unsupported certificate.";
                break;
            case Y.Alert.Description.certificate_revoked:
                r = "Certificate revoked.";
                break;
            case Y.Alert.Description.certificate_expired:
                r = "Certificate expired.";
                break;
            case Y.Alert.Description.certificate_unknown:
                r = "Certificate unknown.";
                break;
            case Y.Alert.Description.illegal_parameter:
                r = "Illegal parameter.";
                break;
            case Y.Alert.Description.unknown_ca:
                r = "Unknown certificate authority.";
                break;
            case Y.Alert.Description.access_denied:
                r = "Access denied.";
                break;
            case Y.Alert.Description.decode_error:
                r = "Decode error.";
                break;
            case Y.Alert.Description.decrypt_error:
                r = "Decrypt error.";
                break;
            case Y.Alert.Description.export_restriction:
                r = "Export restriction.";
                break;
            case Y.Alert.Description.protocol_version:
                r = "Unsupported protocol version.";
                break;
            case Y.Alert.Description.insufficient_security:
                r = "Insufficient security.";
                break;
            case Y.Alert.Description.internal_error:
                r = "Internal error.";
                break;
            case Y.Alert.Description.user_canceled:
                r = "User canceled.";
                break;
            case Y.Alert.Description.no_renegotiation:
                r = "Renegotiation not supported.";
                break;
            default:
                r = "Unknown error.";
                break
        }
        if (n.description === Y.Alert.Description.close_notify) return e.close();
        e.error(e, {
            message: r,
            send: !1,
            origin: e.entity === Y.ConnectionEnd.client ? "server" : "client",
            alert: n
        }), e.process()
    };
    Y.handleHandshake = function(e, t) {
        var i = t.fragment,
            n = i.getByte(),
            r = i.getInt24();
        if (r > i.length()) return e.fragmented = t, t.fragment = nt.util.createBuffer(), i.read -= 4, e.process();
        e.fragmented = null, i.read -= 4;
        var a = i.bytes(r + 4);
        i.read += 4, n in jc[e.entity][e.expect] ? (e.entity === Y.ConnectionEnd.server && !e.open && !e.fail && (e.handshaking = !0, e.session = {
            version: null,
            extensions: {
                server_name: {
                    serverNameList: []
                }
            },
            cipherSuite: null,
            compressionMethod: null,
            serverCertificate: null,
            clientCertificate: null,
            md5: nt.md.md5.create(),
            sha1: nt.md.sha1.create()
        }), n !== Y.HandshakeType.hello_request && n !== Y.HandshakeType.certificate_verify && n !== Y.HandshakeType.finished && (e.session.md5.update(a), e.session.sha1.update(a)), jc[e.entity][e.expect][n](e, t, r)) : Y.handleUnexpected(e, t)
    };
    Y.handleApplicationData = function(e, t) {
        e.data.putBuffer(t.fragment), e.dataReady(e), e.process()
    };
    Y.handleHeartbeat = function(e, t) {
        var i = t.fragment,
            n = i.getByte(),
            r = i.getInt16(),
            a = i.getBytes(r);
        if (n === Y.HeartbeatMessageType.heartbeat_request) {
            if (e.handshaking || r > a.length) return e.process();
            Y.queue(e, Y.createRecord(e, {
                type: Y.ContentType.heartbeat,
                data: Y.createHeartbeat(Y.HeartbeatMessageType.heartbeat_response, a)
            })), Y.flush(e)
        } else if (n === Y.HeartbeatMessageType.heartbeat_response) {
            if (a !== e.expectedHeartbeatPayload) return e.process();
            e.heartbeatReceived && e.heartbeatReceived(e, nt.util.createBuffer(a))
        }
        e.process()
    };
    var pT = 0,
        gT = 1,
        Bv = 2,
        mT = 3,
        vT = 4,
        Ov = 5,
        yT = 6,
        _T = 7,
        bT = 8,
        xT = 0,
        wT = 1,
        jh = 2,
        ET = 3,
        Wh = 4,
        CT = 5,
        ST = 6,
        G = Y.handleUnexpected,
        Uv = Y.handleChangeCipherSpec,
        mr = Y.handleAlert,
        Vr = Y.handleHandshake,
        Fv = Y.handleApplicationData,
        vr = Y.handleHeartbeat,
        Kh = [];
    Kh[Y.ConnectionEnd.client] = [
        [G, mr, Vr, G, vr],
        [G, mr, Vr, G, vr],
        [G, mr, Vr, G, vr],
        [G, mr, Vr, G, vr],
        [G, mr, Vr, G, vr],
        [Uv, mr, G, G, vr],
        [G, mr, Vr, G, vr],
        [G, mr, Vr, Fv, vr],
        [G, mr, Vr, G, vr]
    ];
    Kh[Y.ConnectionEnd.server] = [
        [G, mr, Vr, G, vr],
        [G, mr, Vr, G, vr],
        [G, mr, Vr, G, vr],
        [G, mr, Vr, G, vr],
        [Uv, mr, G, G, vr],
        [G, mr, Vr, G, vr],
        [G, mr, Vr, Fv, vr],
        [G, mr, Vr, G, vr]
    ];
    var oo = Y.handleHelloRequest,
        TT = Y.handleServerHello,
        qv = Y.handleCertificate,
        Mv = Y.handleServerKeyExchange,
        Hh = Y.handleCertificateRequest,
        Hc = Y.handleServerHelloDone,
        Vv = Y.handleFinished,
        jc = [];
    jc[Y.ConnectionEnd.client] = [
        [G, G, TT, G, G, G, G, G, G, G, G, G, G, G, G, G, G, G, G, G, G],
        [oo, G, G, G, G, G, G, G, G, G, G, qv, Mv, Hh, Hc, G, G, G, G, G, G],
        [oo, G, G, G, G, G, G, G, G, G, G, G, Mv, Hh, Hc, G, G, G, G, G, G],
        [oo, G, G, G, G, G, G, G, G, G, G, G, G, Hh, Hc, G, G, G, G, G, G],
        [oo, G, G, G, G, G, G, G, G, G, G, G, G, G, Hc, G, G, G, G, G, G],
        [oo, G, G, G, G, G, G, G, G, G, G, G, G, G, G, G, G, G, G, G, G],
        [oo, G, G, G, G, G, G, G, G, G, G, G, G, G, G, G, G, G, G, G, Vv],
        [oo, G, G, G, G, G, G, G, G, G, G, G, G, G, G, G, G, G, G, G, G],
        [oo, G, G, G, G, G, G, G, G, G, G, G, G, G, G, G, G, G, G, G, G]
    ];
    var LT = Y.handleClientHello,
        kT = Y.handleClientKeyExchange,
        IT = Y.handleCertificateVerify;
    jc[Y.ConnectionEnd.server] = [
        [G, LT, G, G, G, G, G, G, G, G, G, G, G, G, G, G, G, G, G, G, G],
        [G, G, G, G, G, G, G, G, G, G, G, qv, G, G, G, G, G, G, G, G, G],
        [G, G, G, G, G, G, G, G, G, G, G, G, G, G, G, G, kT, G, G, G, G],
        [G, G, G, G, G, G, G, G, G, G, G, G, G, G, G, IT, G, G, G, G, G],
        [G, G, G, G, G, G, G, G, G, G, G, G, G, G, G, G, G, G, G, G, G],
        [G, G, G, G, G, G, G, G, G, G, G, G, G, G, G, G, G, G, G, G, Vv],
        [G, G, G, G, G, G, G, G, G, G, G, G, G, G, G, G, G, G, G, G, G],
        [G, G, G, G, G, G, G, G, G, G, G, G, G, G, G, G, G, G, G, G, G]
    ];
    Y.generateKeys = function(e, t) {
        var i = Wc,
            n = t.client_random + t.server_random;
        e.session.resuming || (t.master_secret = i(t.pre_master_secret, "master secret", n, 48).bytes(), t.pre_master_secret = null), n = t.server_random + t.client_random;
        var r = 2 * t.mac_key_length + 2 * t.enc_key_length,
            a = e.version.major === Y.Versions.TLS_1_0.major && e.version.minor === Y.Versions.TLS_1_0.minor;
        a && (r += 2 * t.fixed_iv_length);
        var s = i(t.master_secret, "key expansion", n, r),
            l = {
                client_write_MAC_key: s.getBytes(t.mac_key_length),
                server_write_MAC_key: s.getBytes(t.mac_key_length),
                client_write_key: s.getBytes(t.enc_key_length),
                server_write_key: s.getBytes(t.enc_key_length)
            };
        return a && (l.client_write_IV = s.getBytes(t.fixed_iv_length), l.server_write_IV = s.getBytes(t.fixed_iv_length)), l
    };
    Y.createConnectionState = function(e) {
        var t = e.entity === Y.ConnectionEnd.client,
            i = function() {
                var a = {
                    sequenceNumber: [0, 0],
                    macKey: null,
                    macLength: 0,
                    macFunction: null,
                    cipherState: null,
                    cipherFunction: function(s) {
                        return !0
                    },
                    compressionState: null,
                    compressFunction: function(s) {
                        return !0
                    },
                    updateSequenceNumber: function() {
                        a.sequenceNumber[1] === 4294967295 ? (a.sequenceNumber[1] = 0, ++a.sequenceNumber[0]) : ++a.sequenceNumber[1]
                    }
                };
                return a
            },
            n = {
                read: i(),
                write: i()
            };
        if (n.read.update = function(a, s) {
                return n.read.cipherFunction(s, n.read) ? n.read.compressFunction(a, s, n.read) || a.error(a, {
                    message: "Could not decompress record.",
                    send: !0,
                    alert: {
                        level: Y.Alert.Level.fatal,
                        description: Y.Alert.Description.decompression_failure
                    }
                }) : a.error(a, {
                    message: "Could not decrypt record or bad MAC.",
                    send: !0,
                    alert: {
                        level: Y.Alert.Level.fatal,
                        description: Y.Alert.Description.bad_record_mac
                    }
                }), !a.fail
            }, n.write.update = function(a, s) {
                return n.write.compressFunction(a, s, n.write) ? n.write.cipherFunction(s, n.write) || a.error(a, {
                    message: "Could not encrypt record.",
                    send: !1,
                    alert: {
                        level: Y.Alert.Level.fatal,
                        description: Y.Alert.Description.internal_error
                    }
                }) : a.error(a, {
                    message: "Could not compress record.",
                    send: !1,
                    alert: {
                        level: Y.Alert.Level.fatal,
                        description: Y.Alert.Description.internal_error
                    }
                }), !a.fail
            }, e.session) {
            var r = e.session.sp;
            switch (e.session.cipherSuite.initSecurityParameters(r), r.keys = Y.generateKeys(e, r), n.read.macKey = t ? r.keys.server_write_MAC_key : r.keys.client_write_MAC_key, n.write.macKey = t ? r.keys.client_write_MAC_key : r.keys.server_write_MAC_key, e.session.cipherSuite.initConnectionState(n, e, r), r.compression_algorithm) {
                case Y.CompressionMethod.none:
                    break;
                case Y.CompressionMethod.deflate:
                    n.read.compressFunction = dT, n.write.compressFunction = hT;
                    break;
                default:
                    throw new Error("Unsupported compression algorithm.")
            }
        }
        return n
    };
    Y.createRandom = function() {
        var e = new Date,
            t = +e + e.getTimezoneOffset() * 6e4,
            i = nt.util.createBuffer();
        return i.putInt32(t), i.putBytes(nt.random.getBytes(28)), i
    };
    Y.createRecord = function(e, t) {
        if (!t.data) return null;
        var i = {
            type: t.type,
            version: {
                major: e.version.major,
                minor: e.version.minor
            },
            length: t.data.length(),
            fragment: t.data
        };
        return i
    };
    Y.createAlert = function(e, t) {
        var i = nt.util.createBuffer();
        return i.putByte(t.level), i.putByte(t.description), Y.createRecord(e, {
            type: Y.ContentType.alert,
            data: i
        })
    };
    Y.createClientHello = function(e) {
        e.session.clientHelloVersion = {
            major: e.version.major,
            minor: e.version.minor
        };
        for (var t = nt.util.createBuffer(), i = 0; i < e.cipherSuites.length; ++i) {
            var n = e.cipherSuites[i];
            t.putByte(n.id[0]), t.putByte(n.id[1])
        }
        var r = t.length(),
            a = nt.util.createBuffer();
        a.putByte(Y.CompressionMethod.none);
        var s = a.length(),
            l = nt.util.createBuffer();
        if (e.virtualHost) {
            var u = nt.util.createBuffer();
            u.putByte(0), u.putByte(0);
            var f = nt.util.createBuffer();
            f.putByte(0), Na(f, 2, nt.util.createBuffer(e.virtualHost));
            var d = nt.util.createBuffer();
            Na(d, 2, f), Na(u, 2, d), l.putBuffer(u)
        }
        var m = l.length();
        m > 0 && (m += 2);
        var T = e.session.id,
            x = T.length + 1 + 2 + 4 + 28 + 2 + r + 1 + s + m,
            C = nt.util.createBuffer();
        return C.putByte(Y.HandshakeType.client_hello), C.putInt24(x), C.putByte(e.version.major), C.putByte(e.version.minor), C.putBytes(e.session.sp.client_random), Na(C, 1, nt.util.createBuffer(T)), Na(C, 2, t), Na(C, 1, a), m > 0 && Na(C, 2, l), C
    };
    Y.createServerHello = function(e) {
        var t = e.session.id,
            i = t.length + 1 + 2 + 4 + 28 + 2 + 1,
            n = nt.util.createBuffer();
        return n.putByte(Y.HandshakeType.server_hello), n.putInt24(i), n.putByte(e.version.major), n.putByte(e.version.minor), n.putBytes(e.session.sp.server_random), Na(n, 1, nt.util.createBuffer(t)), n.putByte(e.session.cipherSuite.id[0]), n.putByte(e.session.cipherSuite.id[1]), n.putByte(e.session.compressionMethod), n
    };
    Y.createCertificate = function(e) {
        var t = e.entity === Y.ConnectionEnd.client,
            i = null;
        if (e.getCertificate) {
            var n;
            t ? n = e.session.certificateRequest : n = e.session.extensions.server_name.serverNameList, i = e.getCertificate(e, n)
        }
        var r = nt.util.createBuffer();
        if (i !== null) try {
            nt.util.isArray(i) || (i = [i]);
            for (var a = null, s = 0; s < i.length; ++s) {
                var l = nt.pem.decode(i[s])[0];
                if (l.type !== "CERTIFICATE" && l.type !== "X509 CERTIFICATE" && l.type !== "TRUSTED CERTIFICATE") {
                    var u = new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');
                    throw u.headerType = l.type, u
                }
                if (l.procType && l.procType.type === "ENCRYPTED") throw new Error("Could not convert certificate from PEM; PEM is encrypted.");
                var f = nt.util.createBuffer(l.body);
                a === null && (a = nt.asn1.fromDer(f.bytes(), !1));
                var d = nt.util.createBuffer();
                Na(d, 3, f), r.putBuffer(d)
            }
            i = nt.pki.certificateFromAsn1(a), t ? e.session.clientCertificate = i : e.session.serverCertificate = i
        } catch (x) {
            return e.error(e, {
                message: "Could not send certificate list.",
                cause: x,
                send: !0,
                alert: {
                    level: Y.Alert.Level.fatal,
                    description: Y.Alert.Description.bad_certificate
                }
            })
        }
        var m = 3 + r.length(),
            T = nt.util.createBuffer();
        return T.putByte(Y.HandshakeType.certificate), T.putInt24(m), Na(T, 3, r), T
    };
    Y.createClientKeyExchange = function(e) {
        var t = nt.util.createBuffer();
        t.putByte(e.session.clientHelloVersion.major), t.putByte(e.session.clientHelloVersion.minor), t.putBytes(nt.random.getBytes(46));
        var i = e.session.sp;
        i.pre_master_secret = t.getBytes();
        var n = e.session.serverCertificate.publicKey;
        t = n.encrypt(i.pre_master_secret);
        var r = t.length + 2,
            a = nt.util.createBuffer();
        return a.putByte(Y.HandshakeType.client_key_exchange), a.putInt24(r), a.putInt16(t.length), a.putBytes(t), a
    };
    Y.createServerKeyExchange = function(e) {
        var t = 0,
            i = nt.util.createBuffer();
        return t > 0 && (i.putByte(Y.HandshakeType.server_key_exchange), i.putInt24(t)), i
    };
    Y.getClientSignature = function(e, t) {
        var i = nt.util.createBuffer();
        i.putBuffer(e.session.md5.digest()), i.putBuffer(e.session.sha1.digest()), i = i.getBytes(), e.getSignature = e.getSignature || function(n, r, a) {
            var s = null;
            if (n.getPrivateKey) try {
                s = n.getPrivateKey(n, n.session.clientCertificate), s = nt.pki.privateKeyFromPem(s)
            } catch (l) {
                n.error(n, {
                    message: "Could not get private key.",
                    cause: l,
                    send: !0,
                    alert: {
                        level: Y.Alert.Level.fatal,
                        description: Y.Alert.Description.internal_error
                    }
                })
            }
            s === null ? n.error(n, {
                message: "No private key set.",
                send: !0,
                alert: {
                    level: Y.Alert.Level.fatal,
                    description: Y.Alert.Description.internal_error
                }
            }) : r = s.sign(r, null), a(n, r)
        }, e.getSignature(e, i, t)
    };
    Y.createCertificateVerify = function(e, t) {
        var i = t.length + 2,
            n = nt.util.createBuffer();
        return n.putByte(Y.HandshakeType.certificate_verify), n.putInt24(i), n.putInt16(t.length), n.putBytes(t), n
    };
    Y.createCertificateRequest = function(e) {
        var t = nt.util.createBuffer();
        t.putByte(1);
        var i = nt.util.createBuffer();
        for (var n in e.caStore.certs) {
            var r = e.caStore.certs[n],
                a = nt.pki.distinguishedNameToAsn1(r.subject),
                s = nt.asn1.toDer(a);
            i.putInt16(s.length()), i.putBuffer(s)
        }
        var l = 1 + t.length() + 2 + i.length(),
            u = nt.util.createBuffer();
        return u.putByte(Y.HandshakeType.certificate_request), u.putInt24(l), Na(u, 1, t), Na(u, 2, i), u
    };
    Y.createServerHelloDone = function(e) {
        var t = nt.util.createBuffer();
        return t.putByte(Y.HandshakeType.server_hello_done), t.putInt24(0), t
    };
    Y.createChangeCipherSpec = function() {
        var e = nt.util.createBuffer();
        return e.putByte(1), e
    };
    Y.createFinished = function(e) {
        var t = nt.util.createBuffer();
        t.putBuffer(e.session.md5.digest()), t.putBuffer(e.session.sha1.digest());
        var i = e.entity === Y.ConnectionEnd.client,
            n = e.session.sp,
            r = 12,
            a = Wc,
            s = i ? "client finished" : "server finished";
        t = a(n.master_secret, s, t.getBytes(), r);
        var l = nt.util.createBuffer();
        return l.putByte(Y.HandshakeType.finished), l.putInt24(t.length()), l.putBuffer(t), l
    };
    Y.createHeartbeat = function(e, t, i) {
        typeof i > "u" && (i = t.length);
        var n = nt.util.createBuffer();
        n.putByte(e), n.putInt16(i), n.putBytes(t);
        var r = n.length(),
            a = Math.max(16, r - i - 3);
        return n.putBytes(nt.random.getBytes(a)), n
    };
    Y.queue = function(e, t) {
        if (t && !(t.fragment.length() === 0 && (t.type === Y.ContentType.handshake || t.type === Y.ContentType.alert || t.type === Y.ContentType.change_cipher_spec))) {
            if (t.type === Y.ContentType.handshake) {
                var i = t.fragment.bytes();
                e.session.md5.update(i), e.session.sha1.update(i), i = null
            }
            var n;
            if (t.fragment.length() <= Y.MaxFragment) n = [t];
            else {
                n = [];
                for (var r = t.fragment.bytes(); r.length > Y.MaxFragment;) n.push(Y.createRecord(e, {
                    type: t.type,
                    data: nt.util.createBuffer(r.slice(0, Y.MaxFragment))
                })), r = r.slice(Y.MaxFragment);
                r.length > 0 && n.push(Y.createRecord(e, {
                    type: t.type,
                    data: nt.util.createBuffer(r)
                }))
            }
            for (var a = 0; a < n.length && !e.fail; ++a) {
                var s = n[a],
                    l = e.state.current.write;
                l.update(e, s) && e.records.push(s)
            }
        }
    };
    Y.flush = function(e) {
        for (var t = 0; t < e.records.length; ++t) {
            var i = e.records[t];
            e.tlsData.putByte(i.type), e.tlsData.putByte(i.version.major), e.tlsData.putByte(i.version.minor), e.tlsData.putInt16(i.fragment.length()), e.tlsData.putBuffer(e.records[t].fragment)
        }
        return e.records = [], e.tlsDataReady(e)
    };
    var $h = function(e) {
            switch (e) {
                case !0:
                    return !0;
                case nt.pki.certificateError.bad_certificate:
                    return Y.Alert.Description.bad_certificate;
                case nt.pki.certificateError.unsupported_certificate:
                    return Y.Alert.Description.unsupported_certificate;
                case nt.pki.certificateError.certificate_revoked:
                    return Y.Alert.Description.certificate_revoked;
                case nt.pki.certificateError.certificate_expired:
                    return Y.Alert.Description.certificate_expired;
                case nt.pki.certificateError.certificate_unknown:
                    return Y.Alert.Description.certificate_unknown;
                case nt.pki.certificateError.unknown_ca:
                    return Y.Alert.Description.unknown_ca;
                default:
                    return Y.Alert.Description.bad_certificate
            }
        },
        AT = function(e) {
            switch (e) {
                case !0:
                    return !0;
                case Y.Alert.Description.bad_certificate:
                    return nt.pki.certificateError.bad_certificate;
                case Y.Alert.Description.unsupported_certificate:
                    return nt.pki.certificateError.unsupported_certificate;
                case Y.Alert.Description.certificate_revoked:
                    return nt.pki.certificateError.certificate_revoked;
                case Y.Alert.Description.certificate_expired:
                    return nt.pki.certificateError.certificate_expired;
                case Y.Alert.Description.certificate_unknown:
                    return nt.pki.certificateError.certificate_unknown;
                case Y.Alert.Description.unknown_ca:
                    return nt.pki.certificateError.unknown_ca;
                default:
                    return nt.pki.certificateError.bad_certificate
            }
        };
    Y.verifyCertificateChain = function(e, t) {
        try {
            var i = {};
            for (var n in e.verifyOptions) i[n] = e.verifyOptions[n];
            i.verify = function(a, s, l) {
                var u = $h(a),
                    f = e.verify(e, a, s, l);
                if (f !== !0) {
                    if (typeof f == "object" && !nt.util.isArray(f)) {
                        var d = new Error("The application rejected the certificate.");
                        throw d.send = !0, d.alert = {
                            level: Y.Alert.Level.fatal,
                            description: Y.Alert.Description.bad_certificate
                        }, f.message && (d.message = f.message), f.alert && (d.alert.description = f.alert), d
                    }
                    f !== a && (f = AT(f))
                }
                return f
            }, nt.pki.verifyCertificateChain(e.caStore, t, i)
        } catch (a) {
            var r = a;
            (typeof r != "object" || nt.util.isArray(r)) && (r = {
                send: !0,
                alert: {
                    level: Y.Alert.Level.fatal,
                    description: $h(a)
                }
            }), "send" in r || (r.send = !0), "alert" in r || (r.alert = {
                level: Y.Alert.Level.fatal,
                description: $h(r.error)
            }), e.error(e, r)
        }
        return !e.fail
    };
    Y.createSessionCache = function(e, t) {
        var i = null;
        if (e && e.getSession && e.setSession && e.order) i = e;
        else {
            i = {}, i.cache = e || {}, i.capacity = Math.max(t || 100, 1), i.order = [];
            for (var n in e) i.order.length <= t ? i.order.push(n) : delete e[n];
            i.getSession = function(r) {
                var a = null,
                    s = null;
                if (r ? s = nt.util.bytesToHex(r) : i.order.length > 0 && (s = i.order[0]), s !== null && s in i.cache) {
                    a = i.cache[s], delete i.cache[s];
                    for (var l in i.order)
                        if (i.order[l] === s) {
                            i.order.splice(l, 1);
                            break
                        }
                }
                return a
            }, i.setSession = function(r, a) {
                if (i.order.length === i.capacity) {
                    var s = i.order.shift();
                    delete i.cache[s]
                }
                var s = nt.util.bytesToHex(r);
                i.order.push(s), i.cache[s] = a
            }
        }
        return i
    };
    Y.createConnection = function(e) {
        var t = null;
        e.caStore ? nt.util.isArray(e.caStore) ? t = nt.pki.createCaStore(e.caStore) : t = e.caStore : t = nt.pki.createCaStore();
        var i = e.cipherSuites || null;
        if (i === null) {
            i = [];
            for (var n in Y.CipherSuites) i.push(Y.CipherSuites[n])
        }
        var r = e.server ? Y.ConnectionEnd.server : Y.ConnectionEnd.client,
            a = e.sessionCache ? Y.createSessionCache(e.sessionCache) : null,
            s = {
                version: {
                    major: Y.Version.major,
                    minor: Y.Version.minor
                },
                entity: r,
                sessionId: e.sessionId,
                caStore: t,
                sessionCache: a,
                cipherSuites: i,
                connected: e.connected,
                virtualHost: e.virtualHost || null,
                verifyClient: e.verifyClient || !1,
                verify: e.verify || function(d, m, T, x) {
                    return m
                },
                verifyOptions: e.verifyOptions || {},
                getCertificate: e.getCertificate || null,
                getPrivateKey: e.getPrivateKey || null,
                getSignature: e.getSignature || null,
                input: nt.util.createBuffer(),
                tlsData: nt.util.createBuffer(),
                data: nt.util.createBuffer(),
                tlsDataReady: e.tlsDataReady,
                dataReady: e.dataReady,
                heartbeatReceived: e.heartbeatReceived,
                closed: e.closed,
                error: function(d, m) {
                    m.origin = m.origin || (d.entity === Y.ConnectionEnd.client ? "client" : "server"), m.send && (Y.queue(d, Y.createAlert(d, m.alert)), Y.flush(d));
                    var T = m.fatal !== !1;
                    T && (d.fail = !0), e.error(d, m), T && d.close(!1)
                },
                deflate: e.deflate || null,
                inflate: e.inflate || null
            };
        s.reset = function(d) {
            s.version = {
                major: Y.Version.major,
                minor: Y.Version.minor
            }, s.record = null, s.session = null, s.peerCertificate = null, s.state = {
                pending: null,
                current: null
            }, s.expect = s.entity === Y.ConnectionEnd.client ? pT : xT, s.fragmented = null, s.records = [], s.open = !1, s.handshakes = 0, s.handshaking = !1, s.isConnected = !1, s.fail = !(d || typeof d > "u"), s.input.clear(), s.tlsData.clear(), s.data.clear(), s.state.current = Y.createConnectionState(s)
        }, s.reset();
        var l = function(d, m) {
                var T = m.type - Y.ContentType.change_cipher_spec,
                    x = Kh[d.entity][d.expect];
                T in x ? x[T](d, m) : Y.handleUnexpected(d, m)
            },
            u = function(d) {
                var m = 0,
                    T = d.input,
                    x = T.length();
                if (x < 5) m = 5 - x;
                else {
                    d.record = {
                        type: T.getByte(),
                        version: {
                            major: T.getByte(),
                            minor: T.getByte()
                        },
                        length: T.getInt16(),
                        fragment: nt.util.createBuffer(),
                        ready: !1
                    };
                    var C = d.record.version.major === d.version.major;
                    C && d.session && d.session.version && (C = d.record.version.minor === d.version.minor), C || d.error(d, {
                        message: "Incompatible TLS version.",
                        send: !0,
                        alert: {
                            level: Y.Alert.Level.fatal,
                            description: Y.Alert.Description.protocol_version
                        }
                    })
                }
                return m
            },
            f = function(d) {
                var m = 0,
                    T = d.input,
                    x = T.length();
                if (x < d.record.length) m = d.record.length - x;
                else {
                    d.record.fragment.putBytes(T.getBytes(d.record.length)), T.compact();
                    var C = d.state.current.read;
                    C.update(d, d.record) && (d.fragmented !== null && (d.fragmented.type === d.record.type ? (d.fragmented.fragment.putBuffer(d.record.fragment), d.record = d.fragmented) : d.error(d, {
                        message: "Invalid fragmented record.",
                        send: !0,
                        alert: {
                            level: Y.Alert.Level.fatal,
                            description: Y.Alert.Description.unexpected_message
                        }
                    })), d.record.ready = !0)
                }
                return m
            };
        return s.handshake = function(d) {
            if (s.entity !== Y.ConnectionEnd.client) s.error(s, {
                message: "Cannot initiate handshake as a server.",
                fatal: !1
            });
            else if (s.handshaking) s.error(s, {
                message: "Handshake already in progress.",
                fatal: !1
            });
            else {
                s.fail && !s.open && s.handshakes === 0 && (s.fail = !1), s.handshaking = !0, d = d || "";
                var m = null;
                d.length > 0 && (s.sessionCache && (m = s.sessionCache.getSession(d)), m === null && (d = "")), d.length === 0 && s.sessionCache && (m = s.sessionCache.getSession(), m !== null && (d = m.id)), s.session = {
                    id: d,
                    version: null,
                    cipherSuite: null,
                    compressionMethod: null,
                    serverCertificate: null,
                    certificateRequest: null,
                    clientCertificate: null,
                    sp: {},
                    md5: nt.md.md5.create(),
                    sha1: nt.md.sha1.create()
                }, m && (s.version = m.version, s.session.sp = m.sp), s.session.sp.client_random = Y.createRandom().getBytes(), s.open = !0, Y.queue(s, Y.createRecord(s, {
                    type: Y.ContentType.handshake,
                    data: Y.createClientHello(s)
                })), Y.flush(s)
            }
        }, s.process = function(d) {
            var m = 0;
            return d && s.input.putBytes(d), s.fail || (s.record !== null && s.record.ready && s.record.fragment.isEmpty() && (s.record = null), s.record === null && (m = u(s)), !s.fail && s.record !== null && !s.record.ready && (m = f(s)), !s.fail && s.record !== null && s.record.ready && l(s, s.record)), m
        }, s.prepare = function(d) {
            return Y.queue(s, Y.createRecord(s, {
                type: Y.ContentType.application_data,
                data: nt.util.createBuffer(d)
            })), Y.flush(s)
        }, s.prepareHeartbeatRequest = function(d, m) {
            return d instanceof nt.util.ByteBuffer && (d = d.bytes()), typeof m > "u" && (m = d.length), s.expectedHeartbeatPayload = d, Y.queue(s, Y.createRecord(s, {
                type: Y.ContentType.heartbeat,
                data: Y.createHeartbeat(Y.HeartbeatMessageType.heartbeat_request, d, m)
            })), Y.flush(s)
        }, s.close = function(d) {
            if (!s.fail && s.sessionCache && s.session) {
                var m = {
                    id: s.session.id,
                    version: s.session.version,
                    sp: s.session.sp
                };
                m.sp.keys = null, s.sessionCache.setSession(m.id, m)
            }
            s.open && (s.open = !1, s.input.clear(), (s.isConnected || s.handshaking) && (s.isConnected = s.handshaking = !1, Y.queue(s, Y.createAlert(s, {
                level: Y.Alert.Level.warning,
                description: Y.Alert.Description.close_notify
            })), Y.flush(s)), s.closed(s)), s.reset(d)
        }, s
    };
    zv.exports = nt.tls = nt.tls || {};
    for ($c in Y) typeof Y[$c] != "function" && (nt.tls[$c] = Y[$c]);
    var $c;
    nt.tls.prf_tls1 = Wc;
    nt.tls.hmac_sha1 = fT;
    nt.tls.createSessionCache = Y.createSessionCache;
    nt.tls.createConnection = Y.createConnection
});
var jv = Ke((GR, $v) => {
    var lo = ui();
    to();
    Gh();
    var Pa = $v.exports = lo.tls;
    Pa.CipherSuites.TLS_RSA_WITH_AES_128_CBC_SHA = {
        id: [0, 47],
        name: "TLS_RSA_WITH_AES_128_CBC_SHA",
        initSecurityParameters: function(e) {
            e.bulk_cipher_algorithm = Pa.BulkCipherAlgorithm.aes, e.cipher_type = Pa.CipherType.block, e.enc_key_length = 16, e.block_length = 16, e.fixed_iv_length = 16, e.record_iv_length = 16, e.mac_algorithm = Pa.MACAlgorithm.hmac_sha1, e.mac_length = 20, e.mac_key_length = 20
        },
        initConnectionState: Hv
    };
    Pa.CipherSuites.TLS_RSA_WITH_AES_256_CBC_SHA = {
        id: [0, 53],
        name: "TLS_RSA_WITH_AES_256_CBC_SHA",
        initSecurityParameters: function(e) {
            e.bulk_cipher_algorithm = Pa.BulkCipherAlgorithm.aes, e.cipher_type = Pa.CipherType.block, e.enc_key_length = 32, e.block_length = 16, e.fixed_iv_length = 16, e.record_iv_length = 16, e.mac_algorithm = Pa.MACAlgorithm.hmac_sha1, e.mac_length = 20, e.mac_key_length = 20
        },
        initConnectionState: Hv
    };

    function Hv(e, t, i) {
        var n = t.entity === lo.tls.ConnectionEnd.client;
        e.read.cipherState = {
            init: !1,
            cipher: lo.cipher.createDecipher("AES-CBC", n ? i.keys.server_write_key : i.keys.client_write_key),
            iv: n ? i.keys.server_write_IV : i.keys.client_write_IV
        }, e.write.cipherState = {
            init: !1,
            cipher: lo.cipher.createCipher("AES-CBC", n ? i.keys.client_write_key : i.keys.server_write_key),
            iv: n ? i.keys.client_write_IV : i.keys.server_write_IV
        }, e.read.cipherFunction = RT, e.write.cipherFunction = DT, e.read.macLength = e.write.macLength = i.mac_length, e.read.macFunction = e.write.macFunction = Pa.hmac_sha1
    }

    function DT(e, t) {
        var i = !1,
            n = t.macFunction(t.macKey, t.sequenceNumber, e);
        e.fragment.putBytes(n), t.updateSequenceNumber();
        var r;
        e.version.minor === Pa.Versions.TLS_1_0.minor ? r = t.cipherState.init ? null : t.cipherState.iv : r = lo.random.getBytesSync(16), t.cipherState.init = !0;
        var a = t.cipherState.cipher;
        return a.start({
            iv: r
        }), e.version.minor >= Pa.Versions.TLS_1_1.minor && a.output.putBytes(r), a.update(e.fragment), a.finish(NT) && (e.fragment = a.output, e.length = e.fragment.length(), i = !0), i
    }

    function NT(e, t, i) {
        if (!i) {
            var n = e - t.length() % e;
            t.fillWithByte(n - 1, n)
        }
        return !0
    }

    function PT(e, t, i) {
        var n = !0;
        if (i) {
            for (var r = t.length(), a = t.last(), s = r - 1 - a; s < r - 1; ++s) n = n && t.at(s) == a;
            n && t.truncate(a + 1)
        }
        return n
    }

    function RT(e, t) {
        var i = !1,
            n;
        e.version.minor === Pa.Versions.TLS_1_0.minor ? n = t.cipherState.init ? null : t.cipherState.iv : n = e.fragment.getBytes(16), t.cipherState.init = !0;
        var r = t.cipherState.cipher;
        r.start({
            iv: n
        }), r.update(e.fragment), i = r.finish(PT);
        var a = t.macLength,
            s = lo.random.getBytesSync(a),
            l = r.output.length();
        l >= a ? (e.fragment = r.output.getBytes(l - a), s = r.output.getBytes(a)) : e.fragment = r.output.getBytes(), e.fragment = lo.util.createBuffer(e.fragment), e.length = e.fragment.length();
        var u = t.macFunction(t.macKey, t.sequenceNumber, e);
        return t.updateSequenceNumber(), i = BT(t.macKey, s, u) && i, i
    }

    function BT(e, t, i) {
        var n = lo.hmac.create();
        return n.start("SHA1", e), n.update(t), t = n.digest().getBytes(), n.start(null, null), n.update(i), i = n.digest().getBytes(), t === i
    }
});
var Yh = Ke((ZR, Zv) => {
    var fn = ui();
    as();
    Pi();
    var du = Zv.exports = fn.sha512 = fn.sha512 || {};
    fn.md.sha512 = fn.md.algorithms.sha512 = du;
    var Kv = fn.sha384 = fn.sha512.sha384 = fn.sha512.sha384 || {};
    Kv.create = function() {
        return du.create("SHA-384")
    };
    fn.md.sha384 = fn.md.algorithms.sha384 = Kv;
    fn.sha512.sha256 = fn.sha512.sha256 || {
        create: function() {
            return du.create("SHA-512/256")
        }
    };
    fn.md["sha512/256"] = fn.md.algorithms["sha512/256"] = fn.sha512.sha256;
    fn.sha512.sha224 = fn.sha512.sha224 || {
        create: function() {
            return du.create("SHA-512/224")
        }
    };
    fn.md["sha512/224"] = fn.md.algorithms["sha512/224"] = fn.sha512.sha224;
    du.create = function(e) {
        if (Gv || MT(), typeof e > "u" && (e = "SHA-512"), !(e in zo)) throw new Error("Invalid SHA-512 algorithm: " + e);
        for (var t = zo[e], i = null, n = fn.util.createBuffer(), r = new Array(80), a = 0; a < 80; ++a) r[a] = new Array(2);
        var s = 64;
        switch (e) {
            case "SHA-384":
                s = 48;
                break;
            case "SHA-512/256":
                s = 32;
                break;
            case "SHA-512/224":
                s = 28;
                break
        }
        var l = {
            algorithm: e.replace("-", "").toLowerCase(),
            blockLength: 128,
            digestLength: s,
            messageLength: 0,
            fullMessageLength: null,
            messageLengthSize: 16
        };
        return l.start = function() {
            l.messageLength = 0, l.fullMessageLength = l.messageLength128 = [];
            for (var u = l.messageLengthSize / 4, f = 0; f < u; ++f) l.fullMessageLength.push(0);
            n = fn.util.createBuffer(), i = new Array(t.length);
            for (var f = 0; f < t.length; ++f) i[f] = t[f].slice(0);
            return l
        }, l.start(), l.update = function(u, f) {
            f === "utf8" && (u = fn.util.encodeUtf8(u));
            var d = u.length;
            l.messageLength += d, d = [d / 4294967296 >>> 0, d >>> 0];
            for (var m = l.fullMessageLength.length - 1; m >= 0; --m) l.fullMessageLength[m] += d[1], d[1] = d[0] + (l.fullMessageLength[m] / 4294967296 >>> 0), l.fullMessageLength[m] = l.fullMessageLength[m] >>> 0, d[0] = d[1] / 4294967296 >>> 0;
            return n.putBytes(u), Wv(i, r, n), (n.read > 2048 || n.length() === 0) && n.compact(), l
        }, l.digest = function() {
            var u = fn.util.createBuffer();
            u.putBytes(n.bytes());
            var f = l.fullMessageLength[l.fullMessageLength.length - 1] + l.messageLengthSize,
                d = f & l.blockLength - 1;
            u.putBytes(Zh.substr(0, l.blockLength - d));
            for (var m, T, x = l.fullMessageLength[0] * 8, C = 0; C < l.fullMessageLength.length - 1; ++C) m = l.fullMessageLength[C + 1] * 8, T = m / 4294967296 >>> 0, x += T, u.putInt32(x >>> 0), x = m >>> 0;
            u.putInt32(x);
            for (var N = new Array(i.length), C = 0; C < i.length; ++C) N[C] = i[C].slice(0);
            Wv(N, r, u);
            var E = fn.util.createBuffer(),
                O;
            e === "SHA-512" ? O = N.length : e === "SHA-384" ? O = N.length - 2 : O = N.length - 4;
            for (var C = 0; C < O; ++C) E.putInt32(N[C][0]), (C !== O - 1 || e !== "SHA-512/224") && E.putInt32(N[C][1]);
            return E
        }, l
    };
    var Zh = null,
        Gv = !1,
        Xh = null,
        zo = null;

    function MT() {
        Zh = String.fromCharCode(128), Zh += fn.util.fillString(String.fromCharCode(0), 128), Xh = [
            [1116352408, 3609767458],
            [1899447441, 602891725],
            [3049323471, 3964484399],
            [3921009573, 2173295548],
            [961987163, 4081628472],
            [1508970993, 3053834265],
            [2453635748, 2937671579],
            [2870763221, 3664609560],
            [3624381080, 2734883394],
            [310598401, 1164996542],
            [607225278, 1323610764],
            [1426881987, 3590304994],
            [1925078388, 4068182383],
            [2162078206, 991336113],
            [2614888103, 633803317],
            [3248222580, 3479774868],
            [3835390401, 2666613458],
            [4022224774, 944711139],
            [264347078, 2341262773],
            [604807628, 2007800933],
            [770255983, 1495990901],
            [1249150122, 1856431235],
            [1555081692, 3175218132],
            [1996064986, 2198950837],
            [2554220882, 3999719339],
            [2821834349, 766784016],
            [2952996808, 2566594879],
            [3210313671, 3203337956],
            [3336571891, 1034457026],
            [3584528711, 2466948901],
            [113926993, 3758326383],
            [338241895, 168717936],
            [666307205, 1188179964],
            [773529912, 1546045734],
            [1294757372, 1522805485],
            [1396182291, 2643833823],
            [1695183700, 2343527390],
            [1986661051, 1014477480],
            [2177026350, 1206759142],
            [2456956037, 344077627],
            [2730485921, 1290863460],
            [2820302411, 3158454273],
            [3259730800, 3505952657],
            [3345764771, 106217008],
            [3516065817, 3606008344],
            [3600352804, 1432725776],
            [4094571909, 1467031594],
            [275423344, 851169720],
            [430227734, 3100823752],
            [506948616, 1363258195],
            [659060556, 3750685593],
            [883997877, 3785050280],
            [958139571, 3318307427],
            [1322822218, 3812723403],
            [1537002063, 2003034995],
            [1747873779, 3602036899],
            [1955562222, 1575990012],
            [2024104815, 1125592928],
            [2227730452, 2716904306],
            [2361852424, 442776044],
            [2428436474, 593698344],
            [2756734187, 3733110249],
            [3204031479, 2999351573],
            [3329325298, 3815920427],
            [3391569614, 3928383900],
            [3515267271, 566280711],
            [3940187606, 3454069534],
            [4118630271, 4000239992],
            [116418474, 1914138554],
            [174292421, 2731055270],
            [289380356, 3203993006],
            [460393269, 320620315],
            [685471733, 587496836],
            [852142971, 1086792851],
            [1017036298, 365543100],
            [1126000580, 2618297676],
            [1288033470, 3409855158],
            [1501505948, 4234509866],
            [1607167915, 987167468],
            [1816402316, 1246189591]
        ], zo = {}, zo["SHA-512"] = [
            [1779033703, 4089235720],
            [3144134277, 2227873595],
            [1013904242, 4271175723],
            [2773480762, 1595750129],
            [1359893119, 2917565137],
            [2600822924, 725511199],
            [528734635, 4215389547],
            [1541459225, 327033209]
        ], zo["SHA-384"] = [
            [3418070365, 3238371032],
            [1654270250, 914150663],
            [2438529370, 812702999],
            [355462360, 4144912697],
            [1731405415, 4290775857],
            [2394180231, 1750603025],
            [3675008525, 1694076839],
            [1203062813, 3204075428]
        ], zo["SHA-512/256"] = [
            [573645204, 4230739756],
            [2673172387, 3360449730],
            [596883563, 1867755857],
            [2520282905, 1497426621],
            [2519219938, 2827943907],
            [3193839141, 1401305490],
            [721525244, 746961066],
            [246885852, 2177182882]
        ], zo["SHA-512/224"] = [
            [2352822216, 424955298],
            [1944164710, 2312950998],
            [502970286, 855612546],
            [1738396948, 1479516111],
            [258812777, 2077511080],
            [2011393907, 79989058],
            [1067287976, 1780299464],
            [286451373, 2446758561]
        ], Gv = !0
    }

    function Wv(e, t, i) {
        for (var n, r, a, s, l, u, f, d, m, T, x, C, N, E, O, D, I, H, y, w, X, oe, me, V, W, P, se, ce, ne, re, J, ue, ie, te, we, De = i.length(); De >= 128;) {
            for (ne = 0; ne < 16; ++ne) t[ne][0] = i.getInt32() >>> 0, t[ne][1] = i.getInt32() >>> 0;
            for (; ne < 80; ++ne) ue = t[ne - 2], re = ue[0], J = ue[1], n = ((re >>> 19 | J << 13) ^ (J >>> 29 | re << 3) ^ re >>> 6) >>> 0, r = ((re << 13 | J >>> 19) ^ (J << 3 | re >>> 29) ^ (re << 26 | J >>> 6)) >>> 0, te = t[ne - 15], re = te[0], J = te[1], a = ((re >>> 1 | J << 31) ^ (re >>> 8 | J << 24) ^ re >>> 7) >>> 0, s = ((re << 31 | J >>> 1) ^ (re << 24 | J >>> 8) ^ (re << 25 | J >>> 7)) >>> 0, ie = t[ne - 7], we = t[ne - 16], J = r + ie[1] + s + we[1], t[ne][0] = n + ie[0] + a + we[0] + (J / 4294967296 >>> 0) >>> 0, t[ne][1] = J >>> 0;
            for (N = e[0][0], E = e[0][1], O = e[1][0], D = e[1][1], I = e[2][0], H = e[2][1], y = e[3][0], w = e[3][1], X = e[4][0], oe = e[4][1], me = e[5][0], V = e[5][1], W = e[6][0], P = e[6][1], se = e[7][0], ce = e[7][1], ne = 0; ne < 80; ++ne) f = ((X >>> 14 | oe << 18) ^ (X >>> 18 | oe << 14) ^ (oe >>> 9 | X << 23)) >>> 0, d = ((X << 18 | oe >>> 14) ^ (X << 14 | oe >>> 18) ^ (oe << 23 | X >>> 9)) >>> 0, m = (W ^ X & (me ^ W)) >>> 0, T = (P ^ oe & (V ^ P)) >>> 0, l = ((N >>> 28 | E << 4) ^ (E >>> 2 | N << 30) ^ (E >>> 7 | N << 25)) >>> 0, u = ((N << 4 | E >>> 28) ^ (E << 30 | N >>> 2) ^ (E << 25 | N >>> 7)) >>> 0, x = (N & O | I & (N ^ O)) >>> 0, C = (E & D | H & (E ^ D)) >>> 0, J = ce + d + T + Xh[ne][1] + t[ne][1], n = se + f + m + Xh[ne][0] + t[ne][0] + (J / 4294967296 >>> 0) >>> 0, r = J >>> 0, J = u + C, a = l + x + (J / 4294967296 >>> 0) >>> 0, s = J >>> 0, se = W, ce = P, W = me, P = V, me = X, V = oe, J = w + r, X = y + n + (J / 4294967296 >>> 0) >>> 0, oe = J >>> 0, y = I, w = H, I = O, H = D, O = N, D = E, J = r + s, N = n + a + (J / 4294967296 >>> 0) >>> 0, E = J >>> 0;
            J = e[0][1] + E, e[0][0] = e[0][0] + N + (J / 4294967296 >>> 0) >>> 0, e[0][1] = J >>> 0, J = e[1][1] + D, e[1][0] = e[1][0] + O + (J / 4294967296 >>> 0) >>> 0, e[1][1] = J >>> 0, J = e[2][1] + H, e[2][0] = e[2][0] + I + (J / 4294967296 >>> 0) >>> 0, e[2][1] = J >>> 0, J = e[3][1] + w, e[3][0] = e[3][0] + y + (J / 4294967296 >>> 0) >>> 0, e[3][1] = J >>> 0, J = e[4][1] + oe, e[4][0] = e[4][0] + X + (J / 4294967296 >>> 0) >>> 0, e[4][1] = J >>> 0, J = e[5][1] + V, e[5][0] = e[5][0] + me + (J / 4294967296 >>> 0) >>> 0, e[5][1] = J >>> 0, J = e[6][1] + P, e[6][0] = e[6][0] + W + (J / 4294967296 >>> 0) >>> 0, e[6][1] = J >>> 0, J = e[7][1] + ce, e[7][0] = e[7][0] + se + (J / 4294967296 >>> 0) >>> 0, e[7][1] = J >>> 0, De -= 128
        }
    }
});
var Xv = Ke(Qh => {
    var OT = ui();
    Va();
    var lr = OT.asn1;
    Qh.privateKeyValidator = {
        name: "PrivateKeyInfo",
        tagClass: lr.Class.UNIVERSAL,
        type: lr.Type.SEQUENCE,
        constructed: !0,
        value: [{
            name: "PrivateKeyInfo.version",
            tagClass: lr.Class.UNIVERSAL,
            type: lr.Type.INTEGER,
            constructed: !1,
            capture: "privateKeyVersion"
        }, {
            name: "PrivateKeyInfo.privateKeyAlgorithm",
            tagClass: lr.Class.UNIVERSAL,
            type: lr.Type.SEQUENCE,
            constructed: !0,
            value: [{
                name: "AlgorithmIdentifier.algorithm",
                tagClass: lr.Class.UNIVERSAL,
                type: lr.Type.OID,
                constructed: !1,
                capture: "privateKeyOid"
            }]
        }, {
            name: "PrivateKeyInfo",
            tagClass: lr.Class.UNIVERSAL,
            type: lr.Type.OCTETSTRING,
            constructed: !1,
            capture: "privateKey"
        }]
    };
    Qh.publicKeyValidator = {
        name: "SubjectPublicKeyInfo",
        tagClass: lr.Class.UNIVERSAL,
        type: lr.Type.SEQUENCE,
        constructed: !0,
        captureAsn1: "subjectPublicKeyInfo",
        value: [{
            name: "SubjectPublicKeyInfo.AlgorithmIdentifier",
            tagClass: lr.Class.UNIVERSAL,
            type: lr.Type.SEQUENCE,
            constructed: !0,
            value: [{
                name: "AlgorithmIdentifier.algorithm",
                tagClass: lr.Class.UNIVERSAL,
                type: lr.Type.OID,
                constructed: !1,
                capture: "publicKeyOid"
            }]
        }, {
            tagClass: lr.Class.UNIVERSAL,
            type: lr.Type.BITSTRING,
            constructed: !1,
            composed: !0,
            captureBitStringValue: "ed25519PublicKey"
        }]
    }
});
var u0 = Ke((YR, l0) => {
    var yr = ui();
    uu();
    ka();
    Yh();
    Pi();
    var i0 = Xv(),
        UT = i0.publicKeyValidator,
        FT = i0.privateKeyValidator;
    typeof Yv > "u" && (Yv = yr.jsbn.BigInteger);
    var Yv, td = yr.util.ByteBuffer,
        ia = typeof Buffer > "u" ? Uint8Array : Buffer;
    yr.pki = yr.pki || {};
    l0.exports = yr.pki.ed25519 = yr.ed25519 = yr.ed25519 || {};
    var bi = yr.ed25519;
    bi.constants = {};
    bi.constants.PUBLIC_KEY_BYTE_LENGTH = 32;
    bi.constants.PRIVATE_KEY_BYTE_LENGTH = 64;
    bi.constants.SEED_BYTE_LENGTH = 32;
    bi.constants.SIGN_BYTE_LENGTH = 64;
    bi.constants.HASH_BYTE_LENGTH = 64;
    bi.generateKeyPair = function(e) {
        e = e || {};
        var t = e.seed;
        if (t === void 0) t = yr.random.getBytesSync(bi.constants.SEED_BYTE_LENGTH);
        else if (typeof t == "string") {
            if (t.length !== bi.constants.SEED_BYTE_LENGTH) throw new TypeError('"seed" must be ' + bi.constants.SEED_BYTE_LENGTH + " bytes in length.")
        } else if (!(t instanceof Uint8Array)) throw new TypeError('"seed" must be a node.js Buffer, Uint8Array, or a binary string.');
        t = Ps({
            message: t,
            encoding: "binary"
        });
        for (var i = new ia(bi.constants.PUBLIC_KEY_BYTE_LENGTH), n = new ia(bi.constants.PRIVATE_KEY_BYTE_LENGTH), r = 0; r < 32; ++r) n[r] = t[r];
        return HT(i, n), {
            publicKey: i,
            privateKey: n
        }
    };
    bi.privateKeyFromAsn1 = function(e) {
        var t = {},
            i = [],
            n = yr.asn1.validate(e, FT, t, i);
        if (!n) {
            var r = new Error("Invalid Key.");
            throw r.errors = i, r
        }
        var a = yr.asn1.derToOid(t.privateKeyOid),
            s = yr.oids.EdDSA25519;
        if (a !== s) throw new Error('Invalid OID "' + a + '"; OID must be "' + s + '".');
        var l = t.privateKey,
            u = Ps({
                message: yr.asn1.fromDer(l).value,
                encoding: "binary"
            });
        return {
            privateKeyBytes: u
        }
    };
    bi.publicKeyFromAsn1 = function(e) {
        var t = {},
            i = [],
            n = yr.asn1.validate(e, UT, t, i);
        if (!n) {
            var r = new Error("Invalid Key.");
            throw r.errors = i, r
        }
        var a = yr.asn1.derToOid(t.publicKeyOid),
            s = yr.oids.EdDSA25519;
        if (a !== s) throw new Error('Invalid OID "' + a + '"; OID must be "' + s + '".');
        var l = t.ed25519PublicKey;
        if (l.length !== bi.constants.PUBLIC_KEY_BYTE_LENGTH) throw new Error("Key length is invalid.");
        return Ps({
            message: l,
            encoding: "binary"
        })
    };
    bi.publicKeyFromPrivateKey = function(e) {
        e = e || {};
        var t = Ps({
            message: e.privateKey,
            encoding: "binary"
        });
        if (t.length !== bi.constants.PRIVATE_KEY_BYTE_LENGTH) throw new TypeError('"options.privateKey" must have a byte length of ' + bi.constants.PRIVATE_KEY_BYTE_LENGTH);
        for (var i = new ia(bi.constants.PUBLIC_KEY_BYTE_LENGTH), n = 0; n < i.length; ++n) i[n] = t[32 + n];
        return i
    };
    bi.sign = function(e) {
        e = e || {};
        var t = Ps(e),
            i = Ps({
                message: e.privateKey,
                encoding: "binary"
            });
        if (i.length === bi.constants.SEED_BYTE_LENGTH) {
            var n = bi.generateKeyPair({
                seed: i
            });
            i = n.privateKey
        } else if (i.length !== bi.constants.PRIVATE_KEY_BYTE_LENGTH) throw new TypeError('"options.privateKey" must have a byte length of ' + bi.constants.SEED_BYTE_LENGTH + " or " + bi.constants.PRIVATE_KEY_BYTE_LENGTH);
        var r = new ia(bi.constants.SIGN_BYTE_LENGTH + t.length);
        $T(r, t, t.length, i);
        for (var a = new ia(bi.constants.SIGN_BYTE_LENGTH), s = 0; s < a.length; ++s) a[s] = r[s];
        return a
    };
    bi.verify = function(e) {
        e = e || {};
        var t = Ps(e);
        if (e.signature === void 0) throw new TypeError('"options.signature" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a binary string.');
        var i = Ps({
            message: e.signature,
            encoding: "binary"
        });
        if (i.length !== bi.constants.SIGN_BYTE_LENGTH) throw new TypeError('"options.signature" must have a byte length of ' + bi.constants.SIGN_BYTE_LENGTH);
        var n = Ps({
            message: e.publicKey,
            encoding: "binary"
        });
        if (n.length !== bi.constants.PUBLIC_KEY_BYTE_LENGTH) throw new TypeError('"options.publicKey" must have a byte length of ' + bi.constants.PUBLIC_KEY_BYTE_LENGTH);
        var r = new ia(bi.constants.SIGN_BYTE_LENGTH + t.length),
            a = new ia(bi.constants.SIGN_BYTE_LENGTH + t.length),
            s;
        for (s = 0; s < bi.constants.SIGN_BYTE_LENGTH; ++s) r[s] = i[s];
        for (s = 0; s < t.length; ++s) r[s + bi.constants.SIGN_BYTE_LENGTH] = t[s];
        return jT(a, r, r.length, n) >= 0
    };

    function Ps(e) {
        var t = e.message;
        if (t instanceof Uint8Array || t instanceof ia) return t;
        var i = e.encoding;
        if (t === void 0)
            if (e.md) t = e.md.digest().getBytes(), i = "binary";
            else throw new TypeError('"options.message" or "options.md" not specified.');
        if (typeof t == "string" && !i) throw new TypeError('"options.encoding" must be "binary" or "utf8".');
        if (typeof t == "string") {
            if (typeof Buffer < "u") return Buffer.from(t, i);
            t = new td(t, i)
        } else if (!(t instanceof td)) throw new TypeError('"options.message" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a string with "options.encoding" specifying its encoding.');
        for (var n = new ia(t.length()), r = 0; r < n.length; ++r) n[r] = t.at(r);
        return n
    }
    var id = Wt(),
        Kc = Wt([1]),
        qT = Wt([30883, 4953, 19914, 30187, 55467, 16705, 2637, 112, 59544, 30585, 16505, 36039, 65139, 11119, 27886, 20995]),
        VT = Wt([61785, 9906, 39828, 60374, 45398, 33411, 5274, 224, 53552, 61171, 33010, 6542, 64743, 22239, 55772, 9222]),
        Qv = Wt([54554, 36645, 11616, 51542, 42930, 38181, 51040, 26924, 56412, 64982, 57905, 49316, 21502, 52590, 14035, 8553]),
        Jv = Wt([26200, 26214, 26214, 26214, 26214, 26214, 26214, 26214, 26214, 26214, 26214, 26214, 26214, 26214, 26214, 26214]),
        Jh = new Float64Array([237, 211, 245, 92, 26, 99, 18, 88, 214, 156, 247, 162, 222, 249, 222, 20, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 16]),
        zT = Wt([41136, 18958, 6951, 50414, 58488, 44335, 6150, 12099, 55207, 15867, 153, 11085, 57099, 20417, 9344, 11139]);

    function pu(e, t) {
        var i = yr.md.sha512.create(),
            n = new td(e);
        i.update(n.getBytes(t), "binary");
        var r = i.digest().getBytes();
        if (typeof Buffer < "u") return Buffer.from(r, "binary");
        for (var a = new ia(bi.constants.HASH_BYTE_LENGTH), s = 0; s < 64; ++s) a[s] = r.charCodeAt(s);
        return a
    }

    function HT(e, t) {
        var i = [Wt(), Wt(), Wt(), Wt()],
            n, r = pu(t, 32);
        for (r[0] &= 248, r[31] &= 127, r[31] |= 64, sd(i, r), ad(e, i), n = 0; n < 32; ++n) t[n + 32] = e[n];
        return 0
    }

    function $T(e, t, i, n) {
        var r, a, s = new Float64Array(64),
            l = [Wt(), Wt(), Wt(), Wt()],
            u = pu(n, 32);
        u[0] &= 248, u[31] &= 127, u[31] |= 64;
        var f = i + 64;
        for (r = 0; r < i; ++r) e[64 + r] = t[r];
        for (r = 0; r < 32; ++r) e[32 + r] = u[32 + r];
        var d = pu(e.subarray(32), i + 32);
        for (nd(d), sd(l, d), ad(e, l), r = 32; r < 64; ++r) e[r] = n[r];
        var m = pu(e, i + 64);
        for (nd(m), r = 32; r < 64; ++r) s[r] = 0;
        for (r = 0; r < 32; ++r) s[r] = d[r];
        for (r = 0; r < 32; ++r)
            for (a = 0; a < 32; a++) s[r + a] += m[r] * u[a];
        return n0(e.subarray(32), s), f
    }

    function jT(e, t, i, n) {
        var r, a, s = new ia(32),
            l = [Wt(), Wt(), Wt(), Wt()],
            u = [Wt(), Wt(), Wt(), Wt()];
        if (a = -1, i < 64 || WT(u, n)) return -1;
        for (r = 0; r < i; ++r) e[r] = t[r];
        for (r = 0; r < 32; ++r) e[r + 32] = n[r];
        var f = pu(e, i);
        if (nd(f), s0(l, u, f), sd(u, t.subarray(32)), rd(l, u), ad(s, l), i -= 64, r0(t, 0, s, 0)) {
            for (r = 0; r < i; ++r) e[r] = 0;
            return -1
        }
        for (r = 0; r < i; ++r) e[r] = t[r + 64];
        return a = i, a
    }

    function n0(e, t) {
        var i, n, r, a;
        for (n = 63; n >= 32; --n) {
            for (i = 0, r = n - 32, a = n - 12; r < a; ++r) t[r] += i - 16 * t[n] * Jh[r - (n - 32)], i = t[r] + 128 >> 8, t[r] -= i * 256;
            t[r] += i, t[n] = 0
        }
        for (i = 0, r = 0; r < 32; ++r) t[r] += i - (t[31] >> 4) * Jh[r], i = t[r] >> 8, t[r] &= 255;
        for (r = 0; r < 32; ++r) t[r] -= i * Jh[r];
        for (n = 0; n < 32; ++n) t[n + 1] += t[n] >> 8, e[n] = t[n] & 255
    }

    function nd(e) {
        for (var t = new Float64Array(64), i = 0; i < 64; ++i) t[i] = e[i], e[i] = 0;
        n0(e, t)
    }

    function rd(e, t) {
        var i = Wt(),
            n = Wt(),
            r = Wt(),
            a = Wt(),
            s = Wt(),
            l = Wt(),
            u = Wt(),
            f = Wt(),
            d = Wt();
        El(i, e[1], e[0]), El(d, t[1], t[0]), Yi(i, i, d), wl(n, e[0], e[1]), wl(d, t[0], t[1]), Yi(n, n, d), Yi(r, e[3], t[3]), Yi(r, r, VT), Yi(a, e[2], t[2]), wl(a, a, a), El(s, n, i), El(l, a, r), wl(u, a, r), wl(f, n, i), Yi(e[0], s, l), Yi(e[1], f, u), Yi(e[2], u, l), Yi(e[3], s, f)
    }

    function e0(e, t, i) {
        for (var n = 0; n < 4; ++n) o0(e[n], t[n], i)
    }

    function ad(e, t) {
        var i = Wt(),
            n = Wt(),
            r = Wt();
        XT(r, t[2]), Yi(i, t[0], r), Yi(n, t[1], r), Gc(e, n), e[31] ^= a0(i) << 7
    }

    function Gc(e, t) {
        var i, n, r, a = Wt(),
            s = Wt();
        for (i = 0; i < 16; ++i) s[i] = t[i];
        for (ed(s), ed(s), ed(s), n = 0; n < 2; ++n) {
            for (a[0] = s[0] - 65517, i = 1; i < 15; ++i) a[i] = s[i] - 65535 - (a[i - 1] >> 16 & 1), a[i - 1] &= 65535;
            a[15] = s[15] - 32767 - (a[14] >> 16 & 1), r = a[15] >> 16 & 1, a[14] &= 65535, o0(s, a, 1 - r)
        }
        for (i = 0; i < 16; i++) e[2 * i] = s[i] & 255, e[2 * i + 1] = s[i] >> 8
    }

    function WT(e, t) {
        var i = Wt(),
            n = Wt(),
            r = Wt(),
            a = Wt(),
            s = Wt(),
            l = Wt(),
            u = Wt();
        return uo(e[2], Kc), KT(e[1], t), Ho(r, e[1]), Yi(a, r, qT), El(r, r, e[2]), wl(a, e[2], a), Ho(s, a), Ho(l, s), Yi(u, l, s), Yi(i, u, r), Yi(i, i, a), GT(i, i), Yi(i, i, r), Yi(i, i, a), Yi(i, i, a), Yi(e[0], i, a), Ho(n, e[0]), Yi(n, n, a), t0(n, r) && Yi(e[0], e[0], zT), Ho(n, e[0]), Yi(n, n, a), t0(n, r) ? -1 : (a0(e[0]) === t[31] >> 7 && El(e[0], id, e[0]), Yi(e[3], e[0], e[1]), 0)
    }

    function KT(e, t) {
        var i;
        for (i = 0; i < 16; ++i) e[i] = t[2 * i] + (t[2 * i + 1] << 8);
        e[15] &= 32767
    }

    function GT(e, t) {
        var i = Wt(),
            n;
        for (n = 0; n < 16; ++n) i[n] = t[n];
        for (n = 250; n >= 0; --n) Ho(i, i), n !== 1 && Yi(i, i, t);
        for (n = 0; n < 16; ++n) e[n] = i[n]
    }

    function t0(e, t) {
        var i = new ia(32),
            n = new ia(32);
        return Gc(i, e), Gc(n, t), r0(i, 0, n, 0)
    }

    function r0(e, t, i, n) {
        return ZT(e, t, i, n, 32)
    }

    function ZT(e, t, i, n, r) {
        var a, s = 0;
        for (a = 0; a < r; ++a) s |= e[t + a] ^ i[n + a];
        return (1 & s - 1 >>> 8) - 1
    }

    function a0(e) {
        var t = new ia(32);
        return Gc(t, e), t[0] & 1
    }

    function s0(e, t, i) {
        var n, r;
        for (uo(e[0], id), uo(e[1], Kc), uo(e[2], Kc), uo(e[3], id), r = 255; r >= 0; --r) n = i[r / 8 | 0] >> (r & 7) & 1, e0(e, t, n), rd(t, e), rd(e, e), e0(e, t, n)
    }

    function sd(e, t) {
        var i = [Wt(), Wt(), Wt(), Wt()];
        uo(i[0], Qv), uo(i[1], Jv), uo(i[2], Kc), Yi(i[3], Qv, Jv), s0(e, i, t)
    }

    function uo(e, t) {
        var i;
        for (i = 0; i < 16; i++) e[i] = t[i] | 0
    }

    function XT(e, t) {
        var i = Wt(),
            n;
        for (n = 0; n < 16; ++n) i[n] = t[n];
        for (n = 253; n >= 0; --n) Ho(i, i), n !== 2 && n !== 4 && Yi(i, i, t);
        for (n = 0; n < 16; ++n) e[n] = i[n]
    }

    function ed(e) {
        var t, i, n = 1;
        for (t = 0; t < 16; ++t) i = e[t] + n + 65535, n = Math.floor(i / 65536), e[t] = i - n * 65536;
        e[0] += n - 1 + 37 * (n - 1)
    }

    function o0(e, t, i) {
        for (var n, r = ~(i - 1), a = 0; a < 16; ++a) n = r & (e[a] ^ t[a]), e[a] ^= n, t[a] ^= n
    }

    function Wt(e) {
        var t, i = new Float64Array(16);
        if (e)
            for (t = 0; t < e.length; ++t) i[t] = e[t];
        return i
    }

    function wl(e, t, i) {
        for (var n = 0; n < 16; ++n) e[n] = t[n] + i[n]
    }

    function El(e, t, i) {
        for (var n = 0; n < 16; ++n) e[n] = t[n] - i[n]
    }

    function Ho(e, t) {
        Yi(e, t, t)
    }

    function Yi(e, t, i) {
        var n, r, a = 0,
            s = 0,
            l = 0,
            u = 0,
            f = 0,
            d = 0,
            m = 0,
            T = 0,
            x = 0,
            C = 0,
            N = 0,
            E = 0,
            O = 0,
            D = 0,
            I = 0,
            H = 0,
            y = 0,
            w = 0,
            X = 0,
            oe = 0,
            me = 0,
            V = 0,
            W = 0,
            P = 0,
            se = 0,
            ce = 0,
            ne = 0,
            re = 0,
            J = 0,
            ue = 0,
            ie = 0,
            te = i[0],
            we = i[1],
            De = i[2],
            ye = i[3],
            Ue = i[4],
            Qe = i[5],
            at = i[6],
            pt = i[7],
            lt = i[8],
            xt = i[9],
            Bt = i[10],
            At = i[11],
            F = i[12],
            ke = i[13],
            Ce = i[14],
            ee = i[15];
        n = t[0], a += n * te, s += n * we, l += n * De, u += n * ye, f += n * Ue, d += n * Qe, m += n * at, T += n * pt, x += n * lt, C += n * xt, N += n * Bt, E += n * At, O += n * F, D += n * ke, I += n * Ce, H += n * ee, n = t[1], s += n * te, l += n * we, u += n * De, f += n * ye, d += n * Ue, m += n * Qe, T += n * at, x += n * pt, C += n * lt, N += n * xt, E += n * Bt, O += n * At, D += n * F, I += n * ke, H += n * Ce, y += n * ee, n = t[2], l += n * te, u += n * we, f += n * De, d += n * ye, m += n * Ue, T += n * Qe, x += n * at, C += n * pt, N += n * lt, E += n * xt, O += n * Bt, D += n * At, I += n * F, H += n * ke, y += n * Ce, w += n * ee, n = t[3], u += n * te, f += n * we, d += n * De, m += n * ye, T += n * Ue, x += n * Qe, C += n * at, N += n * pt, E += n * lt, O += n * xt, D += n * Bt, I += n * At, H += n * F, y += n * ke, w += n * Ce, X += n * ee, n = t[4], f += n * te, d += n * we, m += n * De, T += n * ye, x += n * Ue, C += n * Qe, N += n * at, E += n * pt, O += n * lt, D += n * xt, I += n * Bt, H += n * At, y += n * F, w += n * ke, X += n * Ce, oe += n * ee, n = t[5], d += n * te, m += n * we, T += n * De, x += n * ye, C += n * Ue, N += n * Qe, E += n * at, O += n * pt, D += n * lt, I += n * xt, H += n * Bt, y += n * At, w += n * F, X += n * ke, oe += n * Ce, me += n * ee, n = t[6], m += n * te, T += n * we, x += n * De, C += n * ye, N += n * Ue, E += n * Qe, O += n * at, D += n * pt, I += n * lt, H += n * xt, y += n * Bt, w += n * At, X += n * F, oe += n * ke, me += n * Ce, V += n * ee, n = t[7], T += n * te, x += n * we, C += n * De, N += n * ye, E += n * Ue, O += n * Qe, D += n * at, I += n * pt, H += n * lt, y += n * xt, w += n * Bt, X += n * At, oe += n * F, me += n * ke, V += n * Ce, W += n * ee, n = t[8], x += n * te, C += n * we, N += n * De, E += n * ye, O += n * Ue, D += n * Qe, I += n * at, H += n * pt, y += n * lt, w += n * xt, X += n * Bt, oe += n * At, me += n * F, V += n * ke, W += n * Ce, P += n * ee, n = t[9], C += n * te, N += n * we, E += n * De, O += n * ye, D += n * Ue, I += n * Qe, H += n * at, y += n * pt, w += n * lt, X += n * xt, oe += n * Bt, me += n * At, V += n * F, W += n * ke, P += n * Ce, se += n * ee, n = t[10], N += n * te, E += n * we, O += n * De, D += n * ye, I += n * Ue, H += n * Qe, y += n * at, w += n * pt, X += n * lt, oe += n * xt, me += n * Bt, V += n * At, W += n * F, P += n * ke, se += n * Ce, ce += n * ee, n = t[11], E += n * te, O += n * we, D += n * De, I += n * ye, H += n * Ue, y += n * Qe, w += n * at, X += n * pt, oe += n * lt, me += n * xt, V += n * Bt, W += n * At, P += n * F, se += n * ke, ce += n * Ce, ne += n * ee, n = t[12], O += n * te, D += n * we, I += n * De, H += n * ye, y += n * Ue, w += n * Qe, X += n * at, oe += n * pt, me += n * lt, V += n * xt, W += n * Bt, P += n * At, se += n * F, ce += n * ke, ne += n * Ce, re += n * ee, n = t[13], D += n * te, I += n * we, H += n * De, y += n * ye, w += n * Ue, X += n * Qe, oe += n * at, me += n * pt, V += n * lt, W += n * xt, P += n * Bt, se += n * At, ce += n * F, ne += n * ke, re += n * Ce, J += n * ee, n = t[14], I += n * te, H += n * we, y += n * De, w += n * ye, X += n * Ue, oe += n * Qe, me += n * at, V += n * pt, W += n * lt, P += n * xt, se += n * Bt, ce += n * At, ne += n * F, re += n * ke, J += n * Ce, ue += n * ee, n = t[15], H += n * te, y += n * we, w += n * De, X += n * ye, oe += n * Ue, me += n * Qe, V += n * at, W += n * pt, P += n * lt, se += n * xt, ce += n * Bt, ne += n * At, re += n * F, J += n * ke, ue += n * Ce, ie += n * ee, a += 38 * y, s += 38 * w, l += 38 * X, u += 38 * oe, f += 38 * me, d += 38 * V, m += 38 * W, T += 38 * P, x += 38 * se, C += 38 * ce, N += 38 * ne, E += 38 * re, O += 38 * J, D += 38 * ue, I += 38 * ie, r = 1, n = a + r + 65535, r = Math.floor(n / 65536), a = n - r * 65536, n = s + r + 65535, r = Math.floor(n / 65536), s = n - r * 65536, n = l + r + 65535, r = Math.floor(n / 65536), l = n - r * 65536, n = u + r + 65535, r = Math.floor(n / 65536), u = n - r * 65536, n = f + r + 65535, r = Math.floor(n / 65536), f = n - r * 65536, n = d + r + 65535, r = Math.floor(n / 65536), d = n - r * 65536, n = m + r + 65535, r = Math.floor(n / 65536), m = n - r * 65536, n = T + r + 65535, r = Math.floor(n / 65536), T = n - r * 65536, n = x + r + 65535, r = Math.floor(n / 65536), x = n - r * 65536, n = C + r + 65535, r = Math.floor(n / 65536), C = n - r * 65536, n = N + r + 65535, r = Math.floor(n / 65536), N = n - r * 65536, n = E + r + 65535, r = Math.floor(n / 65536), E = n - r * 65536, n = O + r + 65535, r = Math.floor(n / 65536), O = n - r * 65536, n = D + r + 65535, r = Math.floor(n / 65536), D = n - r * 65536, n = I + r + 65535, r = Math.floor(n / 65536), I = n - r * 65536, n = H + r + 65535, r = Math.floor(n / 65536), H = n - r * 65536, a += r - 1 + 37 * (r - 1), r = 1, n = a + r + 65535, r = Math.floor(n / 65536), a = n - r * 65536, n = s + r + 65535, r = Math.floor(n / 65536), s = n - r * 65536, n = l + r + 65535, r = Math.floor(n / 65536), l = n - r * 65536, n = u + r + 65535, r = Math.floor(n / 65536), u = n - r * 65536, n = f + r + 65535, r = Math.floor(n / 65536), f = n - r * 65536, n = d + r + 65535, r = Math.floor(n / 65536), d = n - r * 65536, n = m + r + 65535, r = Math.floor(n / 65536), m = n - r * 65536, n = T + r + 65535, r = Math.floor(n / 65536), T = n - r * 65536, n = x + r + 65535, r = Math.floor(n / 65536), x = n - r * 65536, n = C + r + 65535, r = Math.floor(n / 65536), C = n - r * 65536, n = N + r + 65535, r = Math.floor(n / 65536), N = n - r * 65536, n = E + r + 65535, r = Math.floor(n / 65536), E = n - r * 65536, n = O + r + 65535, r = Math.floor(n / 65536), O = n - r * 65536, n = D + r + 65535, r = Math.floor(n / 65536), D = n - r * 65536, n = I + r + 65535, r = Math.floor(n / 65536), I = n - r * 65536, n = H + r + 65535, r = Math.floor(n / 65536), H = n - r * 65536, a += r - 1 + 37 * (r - 1), e[0] = a, e[1] = s, e[2] = l, e[3] = u, e[4] = f, e[5] = d, e[6] = m, e[7] = T, e[8] = x, e[9] = C, e[10] = N, e[11] = E, e[12] = O, e[13] = D, e[14] = I, e[15] = H
    }
});
var d0 = Ke((QR, h0) => {
    var ma = ui();
    Pi();
    ka();
    uu();
    h0.exports = ma.kem = ma.kem || {};
    var c0 = ma.jsbn.BigInteger;
    ma.kem.rsa = {};
    ma.kem.rsa.create = function(e, t) {
        t = t || {};
        var i = t.prng || ma.random,
            n = {};
        return n.encrypt = function(r, a) {
            var s = Math.ceil(r.n.bitLength() / 8),
                l;
            do l = new c0(ma.util.bytesToHex(i.getBytesSync(s)), 16).mod(r.n); while (l.compareTo(c0.ONE) <= 0);
            l = ma.util.hexToBytes(l.toString(16));
            var u = s - l.length;
            u > 0 && (l = ma.util.fillString(String.fromCharCode(0), u) + l);
            var f = r.encrypt(l, "NONE"),
                d = e.generate(l, a);
            return {
                encapsulation: f,
                key: d
            }
        }, n.decrypt = function(r, a, s) {
            var l = r.decrypt(a, "NONE");
            return e.generate(l, s)
        }, n
    };
    ma.kem.kdf1 = function(e, t) {
        f0(this, e, 0, t || e.digestLength)
    };
    ma.kem.kdf2 = function(e, t) {
        f0(this, e, 1, t || e.digestLength)
    };

    function f0(e, t, i, n) {
        e.generate = function(r, a) {
            for (var s = new ma.util.ByteBuffer, l = Math.ceil(a / n) + i, u = new ma.util.ByteBuffer, f = i; f < l; ++f) {
                u.putInt32(f), t.start(), t.update(r + u.getBytes());
                var d = t.digest();
                s.putBytes(d.getBytes(n))
            }
            return s.truncate(s.length() - a), s.getBytes()
        }
    }
});
var v0 = Ke((JR, m0) => {
    var Si = ui();
    Pi();
    m0.exports = Si.log = Si.log || {};
    Si.log.levels = ["none", "error", "warning", "info", "debug", "verbose", "max"];
    var Zc = {},
        ud = [],
        mu = null;
    Si.log.LEVEL_LOCKED = 1 << 1;
    Si.log.NO_LEVEL_CHECK = 1 << 2;
    Si.log.INTERPOLATE = 1 << 3;
    for (ds = 0; ds < Si.log.levels.length; ++ds) od = Si.log.levels[ds], Zc[od] = {
        index: ds,
        name: od.toUpperCase()
    };
    var od, ds;
    Si.log.logMessage = function(e) {
        for (var t = Zc[e.level].index, i = 0; i < ud.length; ++i) {
            var n = ud[i];
            if (n.flags & Si.log.NO_LEVEL_CHECK) n.f(e);
            else {
                var r = Zc[n.level].index;
                t <= r && n.f(n, e)
            }
        }
    };
    Si.log.prepareStandard = function(e) {
        "standard" in e || (e.standard = Zc[e.level].name + " [" + e.category + "] " + e.message)
    };
    Si.log.prepareFull = function(e) {
        if (!("full" in e)) {
            var t = [e.message];
            t = t.concat([]), e.full = Si.util.format.apply(this, t)
        }
    };
    Si.log.prepareStandardFull = function(e) {
        "standardFull" in e || (Si.log.prepareStandard(e), e.standardFull = e.standard)
    };
    for (ld = ["error", "warning", "info", "debug", "verbose"], ds = 0; ds < ld.length; ++ds)(function(t) {
        Si.log[t] = function(i, n) {
            var r = Array.prototype.slice.call(arguments).slice(2),
                a = {
                    timestamp: new Date,
                    level: t,
                    category: i,
                    message: n,
                    arguments: r
                };
            Si.log.logMessage(a)
        }
    })(ld[ds]);
    var ld, ds;
    Si.log.makeLogger = function(e) {
        var t = {
            flags: 0,
            f: e
        };
        return Si.log.setLevel(t, "none"), t
    };
    Si.log.setLevel = function(e, t) {
        var i = !1;
        if (e && !(e.flags & Si.log.LEVEL_LOCKED))
            for (var n = 0; n < Si.log.levels.length; ++n) {
                var r = Si.log.levels[n];
                if (t == r) {
                    e.level = t, i = !0;
                    break
                }
            }
        return i
    };
    Si.log.lock = function(e, t) {
        typeof t > "u" || t ? e.flags |= Si.log.LEVEL_LOCKED : e.flags &= ~Si.log.LEVEL_LOCKED
    };
    Si.log.addLogger = function(e) {
        ud.push(e)
    };
    typeof console < "u" && "log" in console ? (console.error && console.warn && console.info && console.debug ? (p0 = {
        error: console.error,
        warning: console.warn,
        info: console.info,
        debug: console.debug,
        verbose: console.debug
    }, vu = function(e, t) {
        Si.log.prepareStandard(t);
        var i = p0[t.level],
            n = [t.standard];
        n = n.concat(t.arguments.slice()), i.apply(console, n)
    }, Cl = Si.log.makeLogger(vu)) : (vu = function(t, i) {
        Si.log.prepareStandardFull(i), console.log(i.standardFull)
    }, Cl = Si.log.makeLogger(vu)), Si.log.setLevel(Cl, "debug"), Si.log.addLogger(Cl), mu = Cl) : console = {
        log: function() {}
    };
    var Cl, p0, vu;
    mu !== null && typeof window < "u" && window.location && (gu = new URL(window.location.href).searchParams, gu.has("console.level") && Si.log.setLevel(mu, gu.get("console.level").slice(-1)[0]), gu.has("console.lock") && (g0 = gu.get("console.lock").slice(-1)[0], g0 == "true" && Si.log.lock(mu)));
    var gu, g0;
    Si.log.consoleLogger = mu
});
var _0 = Ke((eB, y0) => {
    y0.exports = as();
    kc();
    vl();
    wh();
    Yh()
});
var w0 = Ke((tB, x0) => {
    var yt = ui();
    to();
    Va();
    ou();
    io();
    Mo();
    Mh();
    ka();
    Pi();
    zc();
    var _e = yt.asn1,
        zr = x0.exports = yt.pkcs7 = yt.pkcs7 || {};
    zr.messageFromPem = function(e) {
        var t = yt.pem.decode(e)[0];
        if (t.type !== "PKCS7") {
            var i = new Error('Could not convert PKCS#7 message from PEM; PEM header type is not "PKCS#7".');
            throw i.headerType = t.type, i
        }
        if (t.procType && t.procType.type === "ENCRYPTED") throw new Error("Could not convert PKCS#7 message from PEM; PEM is encrypted.");
        var n = _e.fromDer(t.body);
        return zr.messageFromAsn1(n)
    };
    zr.messageToPem = function(e, t) {
        var i = {
            type: "PKCS7",
            body: _e.toDer(e.toAsn1()).getBytes()
        };
        return yt.pem.encode(i, {
            maxline: t
        })
    };
    zr.messageFromAsn1 = function(e) {
        var t = {},
            i = [];
        if (!_e.validate(e, zr.asn1.contentInfoValidator, t, i)) {
            var n = new Error("Cannot read PKCS#7 message. ASN.1 object is not an PKCS#7 ContentInfo.");
            throw n.errors = i, n
        }
        var r = _e.derToOid(t.contentType),
            a;
        switch (r) {
            case yt.pki.oids.envelopedData:
                a = zr.createEnvelopedData();
                break;
            case yt.pki.oids.encryptedData:
                a = zr.createEncryptedData();
                break;
            case yt.pki.oids.signedData:
                a = zr.createSignedData();
                break;
            default:
                throw new Error("Cannot read PKCS#7 message. ContentType with OID " + r + " is not (yet) supported.")
        }
        return a.fromAsn1(t.content.value[0]), a
    };
    zr.createSignedData = function() {
        var e = null;
        return e = {
            type: yt.pki.oids.signedData,
            version: 1,
            certificates: [],
            crls: [],
            signers: [],
            digestAlgorithmIdentifiers: [],
            contentInfo: null,
            signerInfos: [],
            fromAsn1: function(n) {
                if (fd(e, n, zr.asn1.signedDataValidator), e.certificates = [], e.crls = [], e.digestAlgorithmIdentifiers = [], e.contentInfo = null, e.signerInfos = [], e.rawCapture.certificates)
                    for (var r = e.rawCapture.certificates.value, a = 0; a < r.length; ++a) e.certificates.push(yt.pki.certificateFromAsn1(r[a]))
            },
            toAsn1: function() {
                e.contentInfo || e.sign();
                for (var n = [], r = 0; r < e.certificates.length; ++r) n.push(yt.pki.certificateToAsn1(e.certificates[r]));
                var a = [],
                    s = _e.create(_e.Class.CONTEXT_SPECIFIC, 0, !0, [_e.create(_e.Class.UNIVERSAL, _e.Type.SEQUENCE, !0, [_e.create(_e.Class.UNIVERSAL, _e.Type.INTEGER, !1, _e.integerToDer(e.version).getBytes()), _e.create(_e.Class.UNIVERSAL, _e.Type.SET, !0, e.digestAlgorithmIdentifiers), e.contentInfo])]);
                return n.length > 0 && s.value[0].value.push(_e.create(_e.Class.CONTEXT_SPECIFIC, 0, !0, n)), a.length > 0 && s.value[0].value.push(_e.create(_e.Class.CONTEXT_SPECIFIC, 1, !0, a)), s.value[0].value.push(_e.create(_e.Class.UNIVERSAL, _e.Type.SET, !0, e.signerInfos)), _e.create(_e.Class.UNIVERSAL, _e.Type.SEQUENCE, !0, [_e.create(_e.Class.UNIVERSAL, _e.Type.OID, !1, _e.oidToDer(e.type).getBytes()), s])
            },
            addSigner: function(n) {
                var r = n.issuer,
                    a = n.serialNumber;
                if (n.certificate) {
                    var s = n.certificate;
                    typeof s == "string" && (s = yt.pki.certificateFromPem(s)), r = s.issuer.attributes, a = s.serialNumber
                }
                var l = n.key;
                if (!l) throw new Error("Could not add PKCS#7 signer; no private key specified.");
                typeof l == "string" && (l = yt.pki.privateKeyFromPem(l));
                var u = n.digestAlgorithm || yt.pki.oids.sha1;
                switch (u) {
                    case yt.pki.oids.sha1:
                    case yt.pki.oids.sha256:
                    case yt.pki.oids.sha384:
                    case yt.pki.oids.sha512:
                    case yt.pki.oids.md5:
                        break;
                    default:
                        throw new Error("Could not add PKCS#7 signer; unknown message digest algorithm: " + u)
                }
                var f = n.authenticatedAttributes || [];
                if (f.length > 0) {
                    for (var d = !1, m = !1, T = 0; T < f.length; ++T) {
                        var x = f[T];
                        if (!d && x.type === yt.pki.oids.contentType) {
                            if (d = !0, m) break;
                            continue
                        }
                        if (!m && x.type === yt.pki.oids.messageDigest) {
                            if (m = !0, d) break;
                            continue
                        }
                    }
                    if (!d || !m) throw new Error("Invalid signer.authenticatedAttributes. If signer.authenticatedAttributes is specified, then it must contain at least two attributes, PKCS #9 content-type and PKCS #9 message-digest.")
                }
                e.signers.push({
                    key: l,
                    version: 1,
                    issuer: r,
                    serialNumber: a,
                    digestAlgorithm: u,
                    signatureAlgorithm: yt.pki.oids.rsaEncryption,
                    signature: null,
                    authenticatedAttributes: f,
                    unauthenticatedAttributes: []
                })
            },
            sign: function(n) {
                if (n = n || {}, (typeof e.content != "object" || e.contentInfo === null) && (e.contentInfo = _e.create(_e.Class.UNIVERSAL, _e.Type.SEQUENCE, !0, [_e.create(_e.Class.UNIVERSAL, _e.Type.OID, !1, _e.oidToDer(yt.pki.oids.data).getBytes())]), "content" in e)) {
                    var r;
                    e.content instanceof yt.util.ByteBuffer ? r = e.content.bytes() : typeof e.content == "string" && (r = yt.util.encodeUtf8(e.content)), n.detached ? e.detachedContent = _e.create(_e.Class.UNIVERSAL, _e.Type.OCTETSTRING, !1, r) : e.contentInfo.value.push(_e.create(_e.Class.CONTEXT_SPECIFIC, 0, !0, [_e.create(_e.Class.UNIVERSAL, _e.Type.OCTETSTRING, !1, r)]))
                }
                if (e.signers.length !== 0) {
                    var a = t();
                    i(a)
                }
            },
            verify: function() {
                throw new Error("PKCS#7 signature verification not yet implemented.")
            },
            addCertificate: function(n) {
                typeof n == "string" && (n = yt.pki.certificateFromPem(n)), e.certificates.push(n)
            },
            addCertificateRevokationList: function(n) {
                throw new Error("PKCS#7 CRL support not yet implemented.")
            }
        }, e;

        function t() {
            for (var n = {}, r = 0; r < e.signers.length; ++r) {
                var a = e.signers[r],
                    s = a.digestAlgorithm;
                s in n || (n[s] = yt.md[yt.pki.oids[s]].create()), a.authenticatedAttributes.length === 0 ? a.md = n[s] : a.md = yt.md[yt.pki.oids[s]].create()
            }
            e.digestAlgorithmIdentifiers = [];
            for (var s in n) e.digestAlgorithmIdentifiers.push(_e.create(_e.Class.UNIVERSAL, _e.Type.SEQUENCE, !0, [_e.create(_e.Class.UNIVERSAL, _e.Type.OID, !1, _e.oidToDer(s).getBytes()), _e.create(_e.Class.UNIVERSAL, _e.Type.NULL, !1, "")]));
            return n
        }

        function i(n) {
            var r;
            if (e.detachedContent ? r = e.detachedContent : (r = e.contentInfo.value[1], r = r.value[0]), !r) throw new Error("Could not sign PKCS#7 message; there is no content to sign.");
            var a = _e.derToOid(e.contentInfo.value[0].value),
                s = _e.toDer(r);
            s.getByte(), _e.getBerValueLength(s), s = s.getBytes();
            for (var l in n) n[l].start().update(s);
            for (var u = new Date, f = 0; f < e.signers.length; ++f) {
                var d = e.signers[f];
                if (d.authenticatedAttributes.length === 0) {
                    if (a !== yt.pki.oids.data) throw new Error("Invalid signer; authenticatedAttributes must be present when the ContentInfo content type is not PKCS#7 Data.")
                } else {
                    d.authenticatedAttributesAsn1 = _e.create(_e.Class.CONTEXT_SPECIFIC, 0, !0, []);
                    for (var m = _e.create(_e.Class.UNIVERSAL, _e.Type.SET, !0, []), T = 0; T < d.authenticatedAttributes.length; ++T) {
                        var x = d.authenticatedAttributes[T];
                        x.type === yt.pki.oids.messageDigest ? x.value = n[d.digestAlgorithm].digest() : x.type === yt.pki.oids.signingTime && (x.value || (x.value = u)), m.value.push(cd(x)), d.authenticatedAttributesAsn1.value.push(cd(x))
                    }
                    s = _e.toDer(m).getBytes(), d.md.start().update(s)
                }
                d.signature = d.key.sign(d.md, "RSASSA-PKCS1-V1_5")
            }
            e.signerInfos = iL(e.signers)
        }
    };
    zr.createEncryptedData = function() {
        var e = null;
        return e = {
            type: yt.pki.oids.encryptedData,
            version: 0,
            encryptedContent: {
                algorithm: yt.pki.oids["aes256-CBC"]
            },
            fromAsn1: function(t) {
                fd(e, t, zr.asn1.encryptedDataValidator)
            },
            decrypt: function(t) {
                t !== void 0 && (e.encryptedContent.key = t), b0(e)
            }
        }, e
    };
    zr.createEnvelopedData = function() {
        var e = null;
        return e = {
            type: yt.pki.oids.envelopedData,
            version: 0,
            recipients: [],
            encryptedContent: {
                algorithm: yt.pki.oids["aes256-CBC"]
            },
            fromAsn1: function(t) {
                var i = fd(e, t, zr.asn1.envelopedDataValidator);
                e.recipients = JT(i.recipientInfos.value)
            },
            toAsn1: function() {
                return _e.create(_e.Class.UNIVERSAL, _e.Type.SEQUENCE, !0, [_e.create(_e.Class.UNIVERSAL, _e.Type.OID, !1, _e.oidToDer(e.type).getBytes()), _e.create(_e.Class.CONTEXT_SPECIFIC, 0, !0, [_e.create(_e.Class.UNIVERSAL, _e.Type.SEQUENCE, !0, [_e.create(_e.Class.UNIVERSAL, _e.Type.INTEGER, !1, _e.integerToDer(e.version).getBytes()), _e.create(_e.Class.UNIVERSAL, _e.Type.SET, !0, eL(e.recipients)), _e.create(_e.Class.UNIVERSAL, _e.Type.SEQUENCE, !0, nL(e.encryptedContent))])])])
            },
            findRecipient: function(t) {
                for (var i = t.issuer.attributes, n = 0; n < e.recipients.length; ++n) {
                    var r = e.recipients[n],
                        a = r.issuer;
                    if (r.serialNumber === t.serialNumber && a.length === i.length) {
                        for (var s = !0, l = 0; l < i.length; ++l)
                            if (a[l].type !== i[l].type || a[l].value !== i[l].value) {
                                s = !1;
                                break
                            }
                        if (s) return r
                    }
                }
                return null
            },
            decrypt: function(t, i) {
                if (e.encryptedContent.key === void 0 && t !== void 0 && i !== void 0) switch (t.encryptedContent.algorithm) {
                    case yt.pki.oids.rsaEncryption:
                    case yt.pki.oids.desCBC:
                        var n = i.decrypt(t.encryptedContent.content);
                        e.encryptedContent.key = yt.util.createBuffer(n);
                        break;
                    default:
                        throw new Error("Unsupported asymmetric cipher, OID " + t.encryptedContent.algorithm)
                }
                b0(e)
            },
            addRecipient: function(t) {
                e.recipients.push({
                    version: 0,
                    issuer: t.issuer.attributes,
                    serialNumber: t.serialNumber,
                    encryptedContent: {
                        algorithm: yt.pki.oids.rsaEncryption,
                        key: t.publicKey
                    }
                })
            },
            encrypt: function(t, i) {
                if (e.encryptedContent.content === void 0) {
                    i = i || e.encryptedContent.algorithm, t = t || e.encryptedContent.key;
                    var n, r, a;
                    switch (i) {
                        case yt.pki.oids["aes128-CBC"]:
                            n = 16, r = 16, a = yt.aes.createEncryptionCipher;
                            break;
                        case yt.pki.oids["aes192-CBC"]:
                            n = 24, r = 16, a = yt.aes.createEncryptionCipher;
                            break;
                        case yt.pki.oids["aes256-CBC"]:
                            n = 32, r = 16, a = yt.aes.createEncryptionCipher;
                            break;
                        case yt.pki.oids["des-EDE3-CBC"]:
                            n = 24, r = 8, a = yt.des.createEncryptionCipher;
                            break;
                        default:
                            throw new Error("Unsupported symmetric cipher, OID " + i)
                    }
                    if (t === void 0) t = yt.util.createBuffer(yt.random.getBytes(n));
                    else if (t.length() != n) throw new Error("Symmetric key has wrong length; got " + t.length() + " bytes, expected " + n + ".");
                    e.encryptedContent.algorithm = i, e.encryptedContent.key = t, e.encryptedContent.parameter = yt.util.createBuffer(yt.random.getBytes(r));
                    var s = a(t);
                    if (s.start(e.encryptedContent.parameter.copy()), s.update(e.content), !s.finish()) throw new Error("Symmetric encryption failed.");
                    e.encryptedContent.content = s.output
                }
                for (var l = 0; l < e.recipients.length; ++l) {
                    var u = e.recipients[l];
                    if (u.encryptedContent.content === void 0) switch (u.encryptedContent.algorithm) {
                        case yt.pki.oids.rsaEncryption:
                            u.encryptedContent.content = u.encryptedContent.key.encrypt(e.encryptedContent.key.data);
                            break;
                        default:
                            throw new Error("Unsupported asymmetric cipher, OID " + u.encryptedContent.algorithm)
                    }
                }
            }
        }, e
    };

    function YT(e) {
        var t = {},
            i = [];
        if (!_e.validate(e, zr.asn1.recipientInfoValidator, t, i)) {
            var n = new Error("Cannot read PKCS#7 RecipientInfo. ASN.1 object is not an PKCS#7 RecipientInfo.");
            throw n.errors = i, n
        }
        return {
            version: t.version.charCodeAt(0),
            issuer: yt.pki.RDNAttributesAsArray(t.issuer),
            serialNumber: yt.util.createBuffer(t.serial).toHex(),
            encryptedContent: {
                algorithm: _e.derToOid(t.encAlgorithm),
                parameter: t.encParameter ? t.encParameter.value : void 0,
                content: t.encKey
            }
        }
    }

    function QT(e) {
        return _e.create(_e.Class.UNIVERSAL, _e.Type.SEQUENCE, !0, [_e.create(_e.Class.UNIVERSAL, _e.Type.INTEGER, !1, _e.integerToDer(e.version).getBytes()), _e.create(_e.Class.UNIVERSAL, _e.Type.SEQUENCE, !0, [yt.pki.distinguishedNameToAsn1({
            attributes: e.issuer
        }), _e.create(_e.Class.UNIVERSAL, _e.Type.INTEGER, !1, yt.util.hexToBytes(e.serialNumber))]), _e.create(_e.Class.UNIVERSAL, _e.Type.SEQUENCE, !0, [_e.create(_e.Class.UNIVERSAL, _e.Type.OID, !1, _e.oidToDer(e.encryptedContent.algorithm).getBytes()), _e.create(_e.Class.UNIVERSAL, _e.Type.NULL, !1, "")]), _e.create(_e.Class.UNIVERSAL, _e.Type.OCTETSTRING, !1, e.encryptedContent.content)])
    }

    function JT(e) {
        for (var t = [], i = 0; i < e.length; ++i) t.push(YT(e[i]));
        return t
    }

    function eL(e) {
        for (var t = [], i = 0; i < e.length; ++i) t.push(QT(e[i]));
        return t
    }

    function tL(e) {
        var t = _e.create(_e.Class.UNIVERSAL, _e.Type.SEQUENCE, !0, [_e.create(_e.Class.UNIVERSAL, _e.Type.INTEGER, !1, _e.integerToDer(e.version).getBytes()), _e.create(_e.Class.UNIVERSAL, _e.Type.SEQUENCE, !0, [yt.pki.distinguishedNameToAsn1({
            attributes: e.issuer
        }), _e.create(_e.Class.UNIVERSAL, _e.Type.INTEGER, !1, yt.util.hexToBytes(e.serialNumber))]), _e.create(_e.Class.UNIVERSAL, _e.Type.SEQUENCE, !0, [_e.create(_e.Class.UNIVERSAL, _e.Type.OID, !1, _e.oidToDer(e.digestAlgorithm).getBytes()), _e.create(_e.Class.UNIVERSAL, _e.Type.NULL, !1, "")])]);
        if (e.authenticatedAttributesAsn1 && t.value.push(e.authenticatedAttributesAsn1), t.value.push(_e.create(_e.Class.UNIVERSAL, _e.Type.SEQUENCE, !0, [_e.create(_e.Class.UNIVERSAL, _e.Type.OID, !1, _e.oidToDer(e.signatureAlgorithm).getBytes()), _e.create(_e.Class.UNIVERSAL, _e.Type.NULL, !1, "")])), t.value.push(_e.create(_e.Class.UNIVERSAL, _e.Type.OCTETSTRING, !1, e.signature)), e.unauthenticatedAttributes.length > 0) {
            for (var i = _e.create(_e.Class.CONTEXT_SPECIFIC, 1, !0, []), n = 0; n < e.unauthenticatedAttributes.length; ++n) {
                var r = e.unauthenticatedAttributes[n];
                i.values.push(cd(r))
            }
            t.value.push(i)
        }
        return t
    }

    function iL(e) {
        for (var t = [], i = 0; i < e.length; ++i) t.push(tL(e[i]));
        return t
    }

    function cd(e) {
        var t;
        if (e.type === yt.pki.oids.contentType) t = _e.create(_e.Class.UNIVERSAL, _e.Type.OID, !1, _e.oidToDer(e.value).getBytes());
        else if (e.type === yt.pki.oids.messageDigest) t = _e.create(_e.Class.UNIVERSAL, _e.Type.OCTETSTRING, !1, e.value.bytes());
        else if (e.type === yt.pki.oids.signingTime) {
            var i = new Date("1950-01-01T00:00:00Z"),
                n = new Date("2050-01-01T00:00:00Z"),
                r = e.value;
            if (typeof r == "string") {
                var a = Date.parse(r);
                isNaN(a) ? r.length === 13 ? r = _e.utcTimeToDate(r) : r = _e.generalizedTimeToDate(r) : r = new Date(a)
            }
            r >= i && r < n ? t = _e.create(_e.Class.UNIVERSAL, _e.Type.UTCTIME, !1, _e.dateToUtcTime(r)) : t = _e.create(_e.Class.UNIVERSAL, _e.Type.GENERALIZEDTIME, !1, _e.dateToGeneralizedTime(r))
        }
        return _e.create(_e.Class.UNIVERSAL, _e.Type.SEQUENCE, !0, [_e.create(_e.Class.UNIVERSAL, _e.Type.OID, !1, _e.oidToDer(e.type).getBytes()), _e.create(_e.Class.UNIVERSAL, _e.Type.SET, !0, [t])])
    }

    function nL(e) {
        return [_e.create(_e.Class.UNIVERSAL, _e.Type.OID, !1, _e.oidToDer(yt.pki.oids.data).getBytes()), _e.create(_e.Class.UNIVERSAL, _e.Type.SEQUENCE, !0, [_e.create(_e.Class.UNIVERSAL, _e.Type.OID, !1, _e.oidToDer(e.algorithm).getBytes()), e.parameter ? _e.create(_e.Class.UNIVERSAL, _e.Type.OCTETSTRING, !1, e.parameter.getBytes()) : void 0]), _e.create(_e.Class.CONTEXT_SPECIFIC, 0, !0, [_e.create(_e.Class.UNIVERSAL, _e.Type.OCTETSTRING, !1, e.content.getBytes())])]
    }

    function fd(e, t, i) {
        var n = {},
            r = [];
        if (!_e.validate(t, i, n, r)) {
            var a = new Error("Cannot read PKCS#7 message. ASN.1 object is not a supported PKCS#7 message.");
            throw a.errors = a, a
        }
        var s = _e.derToOid(n.contentType);
        if (s !== yt.pki.oids.data) throw new Error("Unsupported PKCS#7 message. Only wrapped ContentType Data supported.");
        if (n.encryptedContent) {
            var l = "";
            if (yt.util.isArray(n.encryptedContent))
                for (var u = 0; u < n.encryptedContent.length; ++u) {
                    if (n.encryptedContent[u].type !== _e.Type.OCTETSTRING) throw new Error("Malformed PKCS#7 message, expecting encrypted content constructed of only OCTET STRING objects.");
                    l += n.encryptedContent[u].value
                } else l = n.encryptedContent;
            e.encryptedContent = {
                algorithm: _e.derToOid(n.encAlgorithm),
                parameter: yt.util.createBuffer(n.encParameter.value),
                content: yt.util.createBuffer(l)
            }
        }
        if (n.content) {
            var l = "";
            if (yt.util.isArray(n.content))
                for (var u = 0; u < n.content.length; ++u) {
                    if (n.content[u].type !== _e.Type.OCTETSTRING) throw new Error("Malformed PKCS#7 message, expecting content constructed of only OCTET STRING objects.");
                    l += n.content[u].value
                } else l = n.content;
            e.content = yt.util.createBuffer(l)
        }
        return e.version = n.version.charCodeAt(0), e.rawCapture = n, n
    }

    function b0(e) {
        if (e.encryptedContent.key === void 0) throw new Error("Symmetric key not available.");
        if (e.content === void 0) {
            var t;
            switch (e.encryptedContent.algorithm) {
                case yt.pki.oids["aes128-CBC"]:
                case yt.pki.oids["aes192-CBC"]:
                case yt.pki.oids["aes256-CBC"]:
                    t = yt.aes.createDecryptionCipher(e.encryptedContent.key);
                    break;
                case yt.pki.oids.desCBC:
                case yt.pki.oids["des-EDE3-CBC"]:
                    t = yt.des.createDecryptionCipher(e.encryptedContent.key);
                    break;
                default:
                    throw new Error("Unsupported symmetric cipher, OID " + e.encryptedContent.algorithm)
            }
            if (t.start(e.encryptedContent.parameter), t.update(e.encryptedContent.content), !t.finish()) throw new Error("Symmetric decryption failed.");
            e.content = t.output
        }
    }
});
var C0 = Ke((iB, E0) => {
    var zn = ui();
    to();
    dl();
    kc();
    vl();
    Pi();
    var Yc = E0.exports = zn.ssh = zn.ssh || {};
    Yc.privateKeyToPutty = function(e, t, i) {
        i = i || "", t = t || "";
        var n = "ssh-rsa",
            r = t === "" ? "none" : "aes256-cbc",
            a = "PuTTY-User-Key-File-2: " + n + `\r
`;
        a += "Encryption: " + r + `\r
`, a += "Comment: " + i + `\r
`;
        var s = zn.util.createBuffer();
        Sl(s, n), ps(s, e.e), ps(s, e.n);
        var l = zn.util.encode64(s.bytes(), 64),
            u = Math.floor(l.length / 66) + 1;
        a += "Public-Lines: " + u + `\r
`, a += l;
        var f = zn.util.createBuffer();
        ps(f, e.d), ps(f, e.p), ps(f, e.q), ps(f, e.qInv);
        var d;
        if (!t) d = zn.util.encode64(f.bytes(), 64);
        else {
            var m = f.length() + 16 - 1;
            m -= m % 16;
            var T = Xc(f.bytes());
            T.truncate(T.length() - m + f.length()), f.putBuffer(T);
            var x = zn.util.createBuffer();
            x.putBuffer(Xc("\0\0\0\0", t)), x.putBuffer(Xc("\0\0\0", t));
            var C = zn.aes.createEncryptionCipher(x.truncate(8), "CBC");
            C.start(zn.util.createBuffer().fillWithByte(0, 16)), C.update(f.copy()), C.finish();
            var N = C.output;
            N.truncate(16), d = zn.util.encode64(N.bytes(), 64)
        }
        u = Math.floor(d.length / 66) + 1, a += `\r
Private-Lines: ` + u + `\r
`, a += d;
        var E = Xc("putty-private-key-file-mac-key", t),
            O = zn.util.createBuffer();
        Sl(O, n), Sl(O, r), Sl(O, i), O.putInt32(s.length()), O.putBuffer(s), O.putInt32(f.length()), O.putBuffer(f);
        var D = zn.hmac.create();
        return D.start("sha1", E), D.update(O.bytes()), a += `\r
Private-MAC: ` + D.digest().toHex() + `\r
`, a
    };
    Yc.publicKeyToOpenSSH = function(e, t) {
        var i = "ssh-rsa";
        t = t || "";
        var n = zn.util.createBuffer();
        return Sl(n, i), ps(n, e.e), ps(n, e.n), i + " " + zn.util.encode64(n.bytes()) + " " + t
    };
    Yc.privateKeyToOpenSSH = function(e, t) {
        return t ? zn.pki.encryptRsaPrivateKey(e, t, {
            legacy: !0,
            algorithm: "aes128"
        }) : zn.pki.privateKeyToPem(e)
    };
    Yc.getPublicKeyFingerprint = function(e, t) {
        t = t || {};
        var i = t.md || zn.md.md5.create(),
            n = "ssh-rsa",
            r = zn.util.createBuffer();
        Sl(r, n), ps(r, e.e), ps(r, e.n), i.start(), i.update(r.getBytes());
        var a = i.digest();
        if (t.encoding === "hex") {
            var s = a.toHex();
            return t.delimiter ? s.match(/.{2}/g).join(t.delimiter) : s
        } else {
            if (t.encoding === "binary") return a.getBytes();
            if (t.encoding) throw new Error('Unknown encoding "' + t.encoding + '".')
        }
        return a
    };

    function ps(e, t) {
        var i = t.toString(16);
        i[0] >= "8" && (i = "00" + i);
        var n = zn.util.hexToBytes(i);
        e.putInt32(n.length), e.putBytes(n)
    }

    function Sl(e, t) {
        e.putInt32(t.length), e.putString(t)
    }

    function Xc() {
        for (var e = zn.md.sha1.create(), t = arguments.length, i = 0; i < t; ++i) e.update(arguments[i]);
        return e.digest()
    }
});
var hd = Ke((nB, S0) => {
    S0.exports = ui();
    to();
    jv();
    Va();
    xc();
    ou();
    u0();
    dl();
    d0();
    v0();
    _0();
    Oh();
    Nc();
    Mo();
    Dh();
    qh();
    w0();
    zh();
    Ph();
    Eh();
    Fc();
    ka();
    Th();
    C0();
    Gh();
    Pi()
});
var L0 = Ke((rB, T0) => {
    T0.exports = (e, t, i) => {
        let n;
        try {
            n = hd()
        } catch {
            throw new Error("Cannot find module 'node-forge'; this is required to use the digest() function.")
        }
        if (e = e.v, t = t && t.v && t.v.toLowerCase(), i = i && i.v && i.v.toLowerCase() || "base64", !t || !/^(md5|sha-1|sha-256|sha-384|sha-512)$/.test(t)) throw new Error("Invalid algo.");
        if (!/^(base64|hex)$/.test(i)) throw new Error("Invalid encoding.");
        let r = n.md[t.replace("-", "")].create();
        r.update(e);
        let a = r.digest();
        return !i || i === "base64" ? n.util.encode64(a.bytes()) : r.digest().toHex()
    }
});
var I0 = Ke((aB, k0) => {
    function rL() {
        return Math.random().toString(16).substring(2)
    }

    function aL(e) {
        let t = Math.ceil(e / 13);
        return new Array(t).fill(rL).reduce((i, n) => i + n(), "").substring(0, e)
    }
    k0.exports = {
        randomToken: aL
    }
});
var D0 = Ke((sB, A0) => {
    function sL(e, t) {
        let i, n = [];
        if (typeof t < "u") {
            if (!Number.isInteger(t)) throw new Error(`Invalid seed argument. Integer required, but got: ${t}`);
            let r = new dd(t);
            i = r.nextFloat.bind(r)
        } else i = Math.random;
        for (let r = 0; r < e.length; ++r) {
            let a = Math.floor(i() * (r + 1));
            a !== r && (n[r] = n[a]), n[a] = e[r]
        }
        return n
    }

    function dd(e) {
        this._seed = e % 2147483647, this._seed <= 0 && (this._seed += 2147483647 - 1)
    }
    dd.prototype.next = function() {
        return this._seed = this._seed * 16807 % 2147483647, this._seed
    };
    dd.prototype.nextFloat = function() {
        return (this.next() - 1) / (2147483647 - 1)
    };
    A0.exports = sL
});
var U0 = Ke((oB, O0) => {
    var {
        BlankDate: oL,
        getTimezoneOffsetAsTime: lL
    } = Po(), {
        asGeopoints: N0,
        area: uL,
        distance: cL
    } = cm(), fL = L0(), {
        randomToken: hL
    } = I0(), {
        DATE_STRING: jo,
        dateStringToDays: $o,
        dateToDays: P0,
        isValidDate: dL
    } = th(), pL = D0(), {
        asBoolean: yu,
        asNumber: Ti,
        asString: Bi
    } = Ro(), gL = sh(), bt = gc(), mL = /^-?[0-9]+(\.[0-9]+)?$/, vL = 8, yL = 15, pd = 16, _L = 17, bL = function() {
        let e = new Error("too many args"),
            t = new Error("too few args"),
            i = function(l) {
                return l < 0 ? -Math.round(-l) : Math.round(l)
            },
            n = function(l, u) {
                var O;
                if (l = Qc(l), u = Bi(u), l.toString() === "" || Number.isNaN(Number(l))) return "";
                let f, d, m = "",
                    T = 1900 + l.getYear(),
                    x = 1 + l.getMonth(),
                    C = l.getDate(),
                    N = l.getHours(),
                    E = (O = globalThis.window) == null ? void 0 : O.enketoFormLocale;
                for (d = 0; d < u.length; ++d)
                    if (f = u.charAt(d), f === "%") {
                        if (++d >= u.length) throw new Error("date format string ends with %");
                        if (f = u.charAt(d), f === "%") m += "%";
                        else if (f === "Y") m += va(T, 4);
                        else if (f === "y") m += va(T, 4).substring(2);
                        else if (f === "m") m += va(x, 2);
                        else if (f === "n") m += x;
                        else if (f === "b") m += l.toLocaleDateString(E, {
                            month: "short"
                        });
                        else if (f === "d") m += va(C, 2);
                        else if (f === "e") m += C;
                        else if (f === "H") m += va(N, 2);
                        else if (f === "h") m += N;
                        else if (f === "M") m += va(l.getMinutes(), 2);
                        else if (f === "S") m += va(l.getSeconds(), 2);
                        else if (f === "3") m += va(l.getMilliseconds(), 3);
                        else if (f === "a") m += l.toLocaleDateString(E, {
                            weekday: "short"
                        });
                        else throw f === "Z" || f === "A" || f === "B" ? new Error(`unsupported escape in date format string [%${f}]`) : new Error(`unrecognized escape in date format string [%${f}]`)
                    } else m += f;
                return m
            },
            r = {},
            a = {
                abs(l) {
                    return bt.number(Math.abs(Ti(l)))
                },
                acos(l) {
                    return bt.number(Math.acos(Ti(l)))
                },
                asin(l) {
                    return bt.number(Math.asin(Ti(l)))
                },
                atan(l) {
                    return bt.number(Math.atan(Ti(l)))
                },
                atan2(l, ...u) {
                    if (u.length > 0) {
                        let f = Ti(l),
                            d = Ti(u[0]);
                        return bt.number(Math.atan2(f, d))
                    }
                    return bt.number(Math.atan2(Ti(l)))
                },
                boolean(l) {
                    if (arguments.length === 0) throw new Error("too few args");
                    if (arguments.length > 1) throw new Error("too few args");
                    return bt.boolean(yu(l))
                },
                "boolean-from-string": function(l) {
                    return l.t === "num" && l.v > 0 && !l.decimal ? bt.boolean(!0) : (l = Bi(l), bt.boolean(l === "1" || l === "true"))
                },
                area(l) {
                    if (arguments.length === 0) throw t;
                    return bt.number(uL(N0(l)))
                },
                checklist(l, u, ...f) {
                    l = Ti(l), u = Ti(u);
                    let d = co(yu, ...f).reduce((m, T) => T ? m + 1 : m, 0);
                    return bt.boolean((l < 0 || d >= l) && (u < 0 || d <= u))
                },
                coalesce(l, u) {
                    return bt.string(Bi(l) || Bi(u))
                },
                concat(...l) {
                    return bt.string(co(Bi, ...l).join(""))
                },
                cos(l) {
                    return bt.number(Math.cos(Ti(l)))
                },
                count(l) {
                    if (arguments.length === 0) throw new Error("too few args");
                    if (arguments.length > 1) throw new Error("too few args");
                    if (l.t !== "arr") throw new Error(`Unpexpected arg type: '${l.t}'`);
                    return bt.number(l.v.length)
                },
                "count-non-empty": function(l) {
                    if (!arguments.length === 0) throw new Error("too few args");
                    if (arguments.length > 1) throw new Error("too many args");
                    if (l.t !== "arr") throw new Error(`wrong arg type:${JSON.stringify(l)}`);
                    return bt.number(co(Bi, l).reduce((u, f) => f ? u + 1 : u, 0))
                },
                "count-selected": function(l) {
                    let u = Bi(l).split(" "),
                        f = u.length,
                        d = 0;
                    for (; --f >= 0;) u[f].length && ++d;
                    return bt.number(d)
                },
                date(l) {
                    return bt.date(Qc(l))
                },
                "decimal-date-time": function(l) {
                    if (arguments.length > 1) throw e;
                    let u = l.t === "num" ? Ti(l) : $o(Bi(l));
                    return bt.number(u)
                },
                "decimal-time": function(l) {
                    if (arguments.length > 1) throw e;
                    if (l.t === "num") return bt.number(NaN);
                    let u = Bi(l),
                        f = u.match(/^(\d\d):(\d\d):(\d\d)(\.\d\d?\d?)?(\+|-)(\d\d):(\d\d)$/),
                        d;
                    if (f && f[1] < 24 && f[1] >= 0 && f[2] < 60 && f[2] >= 0 && f[3] < 60 && f[3] >= 0 && f[6] < 24 && f[6] >= 0 && f[7] < 60 && f[7] >= 0) {
                        let m = new Date,
                            T = new Date(`${m.getFullYear()}-${va(m.getMonth()+1)}-${va(m.getDate())}T${u}`);
                        T.toString() === "Invalid Date" ? d = NaN : d = (T.getSeconds() / 3600 + T.getMinutes() / 60 + T.getHours()) / 24
                    } else d = NaN;
                    return bt.number(d)
                },
                digest(l, u, f) {
                    return bt.string(fL(l, u, f))
                },
                distance(...l) {
                    if (arguments.length === 0) throw t;
                    return bt.number(cL(N0(...l)))
                },
                exp(l) {
                    return bt.number(Math.exp(Ti(l)))
                },
                exp10(l) {
                    return bt.number(10 ** Ti(l))
                },
                false() {
                    if (arguments.length) throw e;
                    return bt.boolean(!1)
                },
                "format-date": function(l, u) {
                    if (arguments.length < 2) throw new Error("format-date() :: not enough args");
                    return bt.string(n(l, u))
                },
                if (l, u, f) {
                    return yu(l) ? u : f
                },
                "ends-with": function(l, u) {
                    if (arguments.length > 2) throw e;
                    if (arguments.length < 2) throw t;
                    return bt.boolean(Bi(l).endsWith(Bi(u)))
                },
                int(l) {
                    return bt.number(gd(l))
                },
                join(l, ...u) {
                    return bt.string(co(Bi, ...u).join(Bi(l)))
                },
                last() {
                    if (arguments.length) throw new Error("last() does not take arguments");
                    return bt.number(this.contextSize)
                },
                "local-name": function(l) {
                    let u = R0(this, l);
                    return bt.string(u.match(/^(?:[^:]*:)?(.*)/)[1])
                },
                name(l) {
                    return bt.string(R0(this, l))
                },
                log(l) {
                    return bt.number(Math.log(Ti(l)))
                },
                log10(l) {
                    return bt.number(Math.log10(Ti(l)))
                },
                max(...l) {
                    let u = co(Ti, ...l);
                    return !u.length || u.some(f => Number.isNaN(Number(f))) ? bt.number(NaN) : bt.number(Math.max(...u))
                },
                min(...l) {
                    let u = co(Ti, ...l);
                    return !u.length || u.some(f => Number.isNaN(Number(f))) ? bt.number(NaN) : bt.number(Math.min(...u))
                },
                "namespace-uri": function(l) {
                    let u = M0(this, l);
                    return bt.string(u && u.namespaceURI || "")
                },
                "normalize-space": function(l) {
                    if (arguments.length > 1) throw new Error("too many args");
                    let u = Bi(l || this.cN);
                    return u = u.replace(/\f/g, "\\f"), u = u.replace(/\r\v/g, "\v"), u = u.replace(/\v/g, "\\v"), u = u.replace(/\s+/g, " "), u = u.replace(/^\s+|\s+$/g, ""), u = u.replace(/\\v/g, "\v"), u = u.replace(/\\f/g, "\f"), bt.string(u)
                },
                not(l) {
                    if (arguments.length === 0) throw t;
                    if (arguments.length > 1) throw e;
                    return bt.boolean(!yu(l))
                },
                now() {
                    return bt.date(new Date)
                },
                number(l) {
                    if (arguments.length > 1) throw new Error(`number() passed wrong arg count (expected 0 or 1, but got ${arguments.length})`);
                    let u = arguments.length ? l : this.cN,
                        f = Bi(u);
                    return jo.test(f) ? bt.number($o(f)) : bt.number(Ti(u))
                },
                today() {
                    return bt.date(r._now())
                },
                once(l) {
                    let u = Bi(this.cN);
                    return bt.string(u || Bi(l))
                },
                pi() {
                    return bt.number(Math.PI)
                },
                position(l) {
                    if (arguments.length > 1) throw new Error("too many args");
                    if (l && l.t !== "arr") throw new Error(`wrong arg type for position() - expected nodeset, but got: ${l.t}`);
                    if (l && !l.v.length) throw new Error("cannot call position() on an empty nodeset");
                    if (!l) return bt.number(this.contextPosition);
                    let u = 1,
                        f = l.v[0],
                        d = f.tagName;
                    for (; f.previousElementSibling && f.previousElementSibling.tagName === d;) f = f.previousElementSibling, u++;
                    return bt.number(u)
                },
                pow(l, u) {
                    return bt.number(Ti(l) ** Ti(u))
                },
                random() {
                    return bt.number(parseFloat(Math.random().toFixed(15)))
                },
                randomize(l, u) {
                    if (!arguments.length) throw t;
                    if (arguments.length > 2) throw e;
                    if (!l || l.t !== "arr") throw new Error("randomize() must be called on a nodeset");
                    return u = u && Ti(u), {
                        t: "arr",
                        v: pL(l.v, u)
                    }
                },
                regex(l, u) {
                    return bt.boolean(new RegExp(Bi(u)).test(Bi(l)))
                },
                round(l, u) {
                    if (arguments.length === 0) throw t;
                    if (arguments.length > 2) throw e;
                    if (l = Ti(l), !u) return bt.number(i(l));
                    u = gd(u);
                    let f = 10 ** Math.abs(u);
                    return u > 0 ? bt.number(i(l * f) / f) : bt.number(f * i(l / f))
                },
                selected(l, u) {
                    return bt.boolean(Bi(l).split(" ").indexOf(Bi(u).trim()) !== -1)
                },
                "selected-at": function(l, u) {
                    if (!u) throw new Error(`No index provided for selected-at() [index=${u}; list=${JSON.stringify(l)}`);
                    return bt.string(Bi(l).split(" ")[gd(u)] || "")
                },
                sin(l) {
                    return bt.number(Math.sin(Ti(l)))
                },
                sqrt(l) {
                    return bt.number(Math.sqrt(Ti(l)))
                },
                string(l) {
                    if (arguments.length > 1) throw new Error(`string() passed wrong arg count (expected 0 or 1, but got ${arguments.length})`);
                    return bt.string(Bi(l || this.cN))
                },
                "string-length": function(l) {
                    if (arguments.length > 1) throw new Error("too many args");
                    let u = Bi(l || this.cN);
                    return bt.number(u.length)
                },
                substr(l, u, f) {
                    return bt.string(Bi(l).slice(Ti(u), f && Ti(f)))
                },
                sum(l) {
                    if (!l || l.t !== "arr") throw new Error("sum() must be called on a nodeset");
                    let u = 0,
                        f = l.v.length;
                    for (; f--;) u += Ti(l.v[f]);
                    return bt.number(u)
                },
                tan(l) {
                    return bt.number(Math.tan(Ti(l)))
                },
                true() {
                    if (arguments.length) throw e;
                    return bt.boolean(!0)
                },
                uuid(l) {
                    return l ? bt.string(hL(Ti(l))) : bt.string(wL())
                },
                "weighted-checklist": function(l, u, ...f) {
                    l = Ti(l), u = Ti(u);
                    let d = [],
                        m = [],
                        T = 0;
                    for (let x = 0; x < f.length; x += 2) {
                        let C = f[x],
                            N = f[x + 1];
                        C && N && (d = d.concat(co(yu, C)), m = m.concat(co(Ti, N)))
                    }
                    for (let x = 0; x < d.length; x++) d[x] && (T += m[x] || 0);
                    return bt.boolean((l < 0 || T >= l) && (u < 0 || T <= u))
                }
            };
        a["date-time"] = a.date, a["format-date-time"] = a["format-date"];
        let s = {
            toExternalResult(l, u) {
                if (l.t === "arr" && u === XPathResult.NUMBER_TYPE) {
                    let f = Bi(l);
                    if (jo.test(f)) return {
                        resultType: u,
                        numberValue: $o(f)
                    }
                }
                if (l.t === "date") switch (u) {
                    case XPathResult.BOOLEAN_TYPE:
                        return {
                            resultType: u,
                            booleanValue: !Number.isNaN(Number(l.v))
                        };
                    case XPathResult.NUMBER_TYPE:
                        return {
                            resultType: u,
                            numberValue: Ti(l)
                        };
                    case XPathResult.ANY_TYPE:
                    case XPathResult.STRING_TYPE:
                        return {
                            resultType: u,
                            stringValue: Bi(l)
                        };
                    default:
                        throw new Error(`toExternalResult() doesn't know how to convert a date to ${u}`)
                }
            },
            typefor(l) {
                if (l instanceof Date) return "date"
            },
            handleInfix(l, u, f, d) {
                if (u.t === "date" || d.t === "date") return u.t === "bool" || d.t === "bool" ? void 0 : ((u.t === "arr" || u.t === "str") && (u = bt.date(Qc(u))), (d.t === "arr" || d.t === "str") && (d = bt.date(Qc(d))), u.t === "date" && (u = {
                    t: "num",
                    v: P0(u.v)
                }), d.t === "date" && (d = {
                    t: "num",
                    v: P0(d.v)
                }), {
                    t: "continue",
                    lhs: u,
                    op: f,
                    rhs: d
                });
                if (f === pd || f === _L) {
                    let m = Bi(u);
                    if (jo.test(m)) {
                        let x = $o(m),
                            C = Ti(d);
                        return f === pd ? x + C : x - C
                    }
                    let T = Bi(d);
                    if (jo.test(T)) {
                        let x = $o(T),
                            C = Ti(u);
                        return f === pd ? C + x : C - x
                    }
                } else if (f >= vL && f <= yL) {
                    let m = Bi(u);
                    jo.test(m) && (u = bt.number($o(m)));
                    let T = Bi(d);
                    return jo.test(T) && (d = bt.number($o(T))), {
                        t: "continue",
                        lhs: u,
                        op: f,
                        rhs: d
                    }
                }
            }
        };
        return r.func = a, r.process = s, r.XPR = bt, r._now = function() {
            let l = new Date;
            return new Date(l.getFullYear(), l.getMonth(), l.getDate())
        }, r
    };
    O0.exports = bL;

    function co(e, ...t) {
        let i = [];
        for (let n = 0; n < t.length; ++n)
            if (t[n].t === "arr")
                for (let r = 0; r < t[n].v.length; ++r) i.push(e(t[n].v[r]));
            else i.push(e(t[n]));
        return i
    }

    function gd(e) {
        let t = Ti(e);
        return t > 0 ? Math.floor(t) : Math.ceil(t)
    }

    function Qc(e) {
        let t, i;
        switch (e.t) {
            case "bool":
                return new Date(NaN);
            case "date":
                return e.v;
            case "num":
                return t = new Date(0), t.setTime(t.getTime() + e.v * 24 * 60 * 60 * 1e3), t;
            case "arr":
            case "str":
                if (e = Bi(e), e.length === 0) return new oL;
                if (mL.test(e)) return t = new Date(0), t.setTime(t.getTime() + parseInt(e, 10) * 24 * 60 * 60 * 1e3), t;
                if (jo.test(e) && (t = e.indexOf("T"), t !== -1 && (i = e.substring(t), e = e.substring(0, t)), t = e.split("-"), dL(t[0], t[1], t[2]))) {
                    i = i || `T00:00:00.000${lL(new Date(e))}`;
                    let n = `${va(t[0])}-${va(t[1])}-${va(t[2])}${i}`;
                    return new Date(n)
                }
                return new Date(e);
            default:
                throw new Error(`asDate() can't handle ${e.t}s yet :-(`)
        }
    }

    function va(e, t) {
        for (t = t || 2, e = e.toString(); e.length < t;) e = `0${e}`;
        return e
    }

    function R0(e, t) {
        let i = M0(e, t);
        return i ? i.nodeName : ""
    }

    function M0(e, t) {
        if (arguments.length > 2) throw new Error("too many args");
        if (!t) return B0(e.cN) ? e.cN : null;
        if (t.t !== "arr") throw new Error("wrong arg type");
        if (t.v.length) return gL({
            t: "arr",
            v: t.v.filter(B0)
        }), t.v[0]
    }
    var xL = {
        [Node.ELEMENT_NODE]: !0,
        [Node.ATTRIBUTE_NODE]: !0,
        [Node.PROCESSING_INSTRUCTION_NODE]: !0,
        [Node.DOCUMENT_TYPE_NODE]: !0
    };

    function B0({
        nodeType: e
    }) {
        return xL[e]
    }

    function wL() {
        return ([1e7] + -1e3 + -4e3 + -8e3 + -1e11).replace(/[018]/g, e => (e ^ crypto.getRandomValues(new Uint8Array(1))[0] & 15 >> e / 4).toString(16))
    }
});
var z0 = Ke((lB, V0) => {
    Po();
    var EL = sm(),
        CL = U0(),
        F0 = gc(),
        {
            asBoolean: SL,
            asNumber: TL,
            asString: LL
        } = Ro(),
        q0 = {
            string: LL,
            boolean: SL,
            number: TL
        };
    V0.exports = function() {
        let e = CL(),
            t = new EL(new XPathEvaluator, e);
        return t.customXPathFunction = {
            add: (i, {
                fn: n,
                args: r,
                ret: a
            }) => {
                if (Object.prototype.hasOwnProperty.call(e.func, i)) throw new Error(`There is already a function with the name: '${i}'`);
                let s = r.map(d => d.t),
                    l = Object.keys(q0),
                    u = s.filter(d => !l.includes(d));
                if (u.length) {
                    let d = u.map(m => `'${m}'`);
                    throw new Error(`Unsupported arg type(s): ${d.join(",")}`)
                }
                if (!Object.keys(F0).includes(a)) throw new Error(`Unsupported return type: '${a}'`);
                e.func[i] = (...d) => {
                    if (d.length !== s.length) throw new Error(`Function "${i}" expected ${s.length} arg(s), but got ${d.length}`);
                    let m = s.map((T, x) => q0[T](d[x]));
                    return F0[a](n(...m))
                }
            }
        }, t
    }
});
var an = Ke((ty, rf) => {
    (function(e, t) {
        "use strict";
        typeof rf == "object" && typeof rf.exports == "object" ? rf.exports = e.document ? t(e, !0) : function(i) {
            if (!i.document) throw new Error("jQuery requires a window with a document");
            return t(i)
        } : t(e)
    })(typeof window < "u" ? window : ty, function(e, t) {
        "use strict";
        var i = [],
            n = Object.getPrototypeOf,
            r = i.slice,
            a = i.flat ? function(c) {
                return i.flat.call(c)
            } : function(c) {
                return i.concat.apply([], c)
            },
            s = i.push,
            l = i.indexOf,
            u = {},
            f = u.toString,
            d = u.hasOwnProperty,
            m = d.toString,
            T = m.call(Object),
            x = {},
            C = function(p) {
                return typeof p == "function" && typeof p.nodeType != "number" && typeof p.item != "function"
            },
            N = function(p) {
                return p != null && p === p.window
            },
            E = e.document,
            O = {
                type: !0,
                src: !0,
                nonce: !0,
                noModule: !0
            };

        function D(c, p, _) {
            _ = _ || E;
            var S, R, M = _.createElement("script");
            if (M.text = c, p)
                for (S in O) R = p[S] || p.getAttribute && p.getAttribute(S), R && M.setAttribute(S, R);
            _.head.appendChild(M).parentNode.removeChild(M)
        }

        function I(c) {
            return c == null ? c + "" : typeof c == "object" || typeof c == "function" ? u[f.call(c)] || "object" : typeof c
        }
        var H = "3.7.1",
            y = /HTML$/i,
            w = function(c, p) {
                return new w.fn.init(c, p)
            };
        w.fn = w.prototype = {
            jquery: H,
            constructor: w,
            length: 0,
            toArray: function() {
                return r.call(this)
            },
            get: function(c) {
                return c == null ? r.call(this) : c < 0 ? this[c + this.length] : this[c]
            },
            pushStack: function(c) {
                var p = w.merge(this.constructor(), c);
                return p.prevObject = this, p
            },
            each: function(c) {
                return w.each(this, c)
            },
            map: function(c) {
                return this.pushStack(w.map(this, function(p, _) {
                    return c.call(p, _, p)
                }))
            },
            slice: function() {
                return this.pushStack(r.apply(this, arguments))
            },
            first: function() {
                return this.eq(0)
            },
            last: function() {
                return this.eq(-1)
            },
            even: function() {
                return this.pushStack(w.grep(this, function(c, p) {
                    return (p + 1) % 2
                }))
            },
            odd: function() {
                return this.pushStack(w.grep(this, function(c, p) {
                    return p % 2
                }))
            },
            eq: function(c) {
                var p = this.length,
                    _ = +c + (c < 0 ? p : 0);
                return this.pushStack(_ >= 0 && _ < p ? [this[_]] : [])
            },
            end: function() {
                return this.prevObject || this.constructor()
            },
            push: s,
            sort: i.sort,
            splice: i.splice
        }, w.extend = w.fn.extend = function() {
            var c, p, _, S, R, M, q = arguments[0] || {},
                j = 1,
                $ = arguments.length,
                he = !1;
            for (typeof q == "boolean" && (he = q, q = arguments[j] || {}, j++), typeof q != "object" && !C(q) && (q = {}), j === $ && (q = this, j--); j < $; j++)
                if ((c = arguments[j]) != null)
                    for (p in c) S = c[p], !(p === "__proto__" || q === S) && (he && S && (w.isPlainObject(S) || (R = Array.isArray(S))) ? (_ = q[p], R && !Array.isArray(_) ? M = [] : !R && !w.isPlainObject(_) ? M = {} : M = _, R = !1, q[p] = w.extend(he, M, S)) : S !== void 0 && (q[p] = S));
            return q
        }, w.extend({
            expando: "jQuery" + (H + Math.random()).replace(/\D/g, ""),
            isReady: !0,
            error: function(c) {
                throw new Error(c)
            },
            noop: function() {},
            isPlainObject: function(c) {
                var p, _;
                return !c || f.call(c) !== "[object Object]" ? !1 : (p = n(c), p ? (_ = d.call(p, "constructor") && p.constructor, typeof _ == "function" && m.call(_) === T) : !0)
            },
            isEmptyObject: function(c) {
                var p;
                for (p in c) return !1;
                return !0
            },
            globalEval: function(c, p, _) {
                D(c, {
                    nonce: p && p.nonce
                }, _)
            },
            each: function(c, p) {
                var _, S = 0;
                if (X(c))
                    for (_ = c.length; S < _ && p.call(c[S], S, c[S]) !== !1; S++);
                else
                    for (S in c)
                        if (p.call(c[S], S, c[S]) === !1) break;
                return c
            },
            text: function(c) {
                var p, _ = "",
                    S = 0,
                    R = c.nodeType;
                if (!R)
                    for (; p = c[S++];) _ += w.text(p);
                return R === 1 || R === 11 ? c.textContent : R === 9 ? c.documentElement.textContent : R === 3 || R === 4 ? c.nodeValue : _
            },
            makeArray: function(c, p) {
                var _ = p || [];
                return c != null && (X(Object(c)) ? w.merge(_, typeof c == "string" ? [c] : c) : s.call(_, c)), _
            },
            inArray: function(c, p, _) {
                return p == null ? -1 : l.call(p, c, _)
            },
            isXMLDoc: function(c) {
                var p = c && c.namespaceURI,
                    _ = c && (c.ownerDocument || c).documentElement;
                return !y.test(p || _ && _.nodeName || "HTML")
            },
            merge: function(c, p) {
                for (var _ = +p.length, S = 0, R = c.length; S < _; S++) c[R++] = p[S];
                return c.length = R, c
            },
            grep: function(c, p, _) {
                for (var S, R = [], M = 0, q = c.length, j = !_; M < q; M++) S = !p(c[M], M), S !== j && R.push(c[M]);
                return R
            },
            map: function(c, p, _) {
                var S, R, M = 0,
                    q = [];
                if (X(c))
                    for (S = c.length; M < S; M++) R = p(c[M], M, _), R != null && q.push(R);
                else
                    for (M in c) R = p(c[M], M, _), R != null && q.push(R);
                return a(q)
            },
            guid: 1,
            support: x
        }), typeof Symbol == "function" && (w.fn[Symbol.iterator] = i[Symbol.iterator]), w.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "), function(c, p) {
            u["[object " + p + "]"] = p.toLowerCase()
        });

        function X(c) {
            var p = !!c && "length" in c && c.length,
                _ = I(c);
            return C(c) || N(c) ? !1 : _ === "array" || p === 0 || typeof p == "number" && p > 0 && p - 1 in c
        }

        function oe(c, p) {
            return c.nodeName && c.nodeName.toLowerCase() === p.toLowerCase()
        }
        var me = i.pop,
            V = i.sort,
            W = i.splice,
            P = "[\\x20\\t\\r\\n\\f]",
            se = new RegExp("^" + P + "+|((?:^|[^\\\\])(?:\\\\.)*)" + P + "+$", "g");
        w.contains = function(c, p) {
            var _ = p && p.parentNode;
            return c === _ || !!(_ && _.nodeType === 1 && (c.contains ? c.contains(_) : c.compareDocumentPosition && c.compareDocumentPosition(_) & 16))
        };
        var ce = /([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;

        function ne(c, p) {
            return p ? c === "\0" ? "\uFFFD" : c.slice(0, -1) + "\\" + c.charCodeAt(c.length - 1).toString(16) + " " : "\\" + c
        }
        w.escapeSelector = function(c) {
            return (c + "").replace(ce, ne)
        };
        var re = E,
            J = s;
        (function() {
            var c, p, _, S, R, M = J,
                q, j, $, he, Te, Le = w.expando,
                Ie = 0,
                Ge = 0,
                Dt = da(),
                kt = da(),
                ct = da(),
                wi = da(),
                Mt = function(le, ve) {
                    return le === ve && (R = !0), 0
                },
                vi = "checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",
                Xn = "(?:\\\\[\\da-fA-F]{1,6}" + P + "?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",
                Yt = "\\[" + P + "*(" + Xn + ")(?:" + P + "*([*^$|!~]?=)" + P + `*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(` + Xn + "))|)" + P + "*\\]",
                $i = ":(" + Xn + `)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|` + Yt + ")*)|.*)\\)|)",
                ii = new RegExp(P + "+", "g"),
                Ei = new RegExp("^" + P + "*," + P + "*"),
                Di = new RegExp("^" + P + "*([>+~]|" + P + ")" + P + "*"),
                Mr = new RegExp(P + "|>"),
                tn = new RegExp($i),
                Cr = new RegExp("^" + Xn + "$"),
                dr = {
                    ID: new RegExp("^#(" + Xn + ")"),
                    CLASS: new RegExp("^\\.(" + Xn + ")"),
                    TAG: new RegExp("^(" + Xn + "|[*])"),
                    ATTR: new RegExp("^" + Yt),
                    PSEUDO: new RegExp("^" + $i),
                    CHILD: new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(" + P + "*(even|odd|(([+-]|)(\\d*)n|)" + P + "*(?:([+-]|)" + P + "*(\\d+)|))" + P + "*\\)|)", "i"),
                    bool: new RegExp("^(?:" + vi + ")$", "i"),
                    needsContext: new RegExp("^" + P + "*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(" + P + "*((?:-\\d)?\\d*)" + P + "*\\)|)(?=[^-]|$)", "i")
                },
                qn = /^(?:input|select|textarea|button)$/i,
                Gr = /^h\d$/i,
                Qt = /^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,
                Zr = /[+~]/,
                Xr = new RegExp("\\\\[\\da-fA-F]{1,6}" + P + "?|\\\\([^\\r\\n\\f])", "g"),
                un = function(le, ve) {
                    var Ne = "0x" + le.slice(1) - 65536;
                    return ve || (Ne < 0 ? String.fromCharCode(Ne + 65536) : String.fromCharCode(Ne >> 10 | 55296, Ne & 1023 | 56320))
                },
                ts = function() {
                    Ta()
                },
                Zs = ks(function(le) {
                    return le.disabled === !0 && oe(le, "fieldset")
                }, {
                    dir: "parentNode",
                    next: "legend"
                });

            function ha() {
                try {
                    return q.activeElement
                } catch {}
            }
            try {
                M.apply(i = r.call(re.childNodes), re.childNodes), i[re.childNodes.length].nodeType
            } catch {
                M = {
                    apply: function(ve, Ne) {
                        J.apply(ve, r.call(Ne))
                    },
                    call: function(ve) {
                        J.apply(ve, r.call(arguments, 1))
                    }
                }
            }

            function ki(le, ve, Ne, Me) {
                var Ve, ut, gt, Lt, mt, ni, qt, $t = ve && ve.ownerDocument,
                    jt = ve ? ve.nodeType : 9;
                if (Ne = Ne || [], typeof le != "string" || !le || jt !== 1 && jt !== 9 && jt !== 11) return Ne;
                if (!Me && (Ta(ve), ve = ve || q, $)) {
                    if (jt !== 11 && (mt = Qt.exec(le)))
                        if (Ve = mt[1]) {
                            if (jt === 9)
                                if (gt = ve.getElementById(Ve)) {
                                    if (gt.id === Ve) return M.call(Ne, gt), Ne
                                } else return Ne;
                            else if ($t && (gt = $t.getElementById(Ve)) && ki.contains(ve, gt) && gt.id === Ve) return M.call(Ne, gt), Ne
                        } else {
                            if (mt[2]) return M.apply(Ne, ve.getElementsByTagName(le)), Ne;
                            if ((Ve = mt[3]) && ve.getElementsByClassName) return M.apply(Ne, ve.getElementsByClassName(Ve)), Ne
                        }
                    if (!wi[le + " "] && (!he || !he.test(le))) {
                        if (qt = le, $t = ve, jt === 1 && (Mr.test(le) || Di.test(le))) {
                            for ($t = Zr.test(le) && Qr(ve.parentNode) || ve, ($t != ve || !x.scope) && ((Lt = ve.getAttribute("id")) ? Lt = w.escapeSelector(Lt) : ve.setAttribute("id", Lt = Le)), ni = pr(le), ut = ni.length; ut--;) ni[ut] = (Lt ? "#" + Lt : ":scope") + " " + gn(ni[ut]);
                            qt = ni.join(",")
                        }
                        try {
                            return M.apply(Ne, $t.querySelectorAll(qt)), Ne
                        } catch {
                            wi(le, !0)
                        } finally {
                            Lt === Le && ve.removeAttribute("id")
                        }
                    }
                }
                return ns(le.replace(se, "$1"), ve, Ne, Me)
            }

            function da() {
                var le = [];

                function ve(Ne, Me) {
                    return le.push(Ne + " ") > p.cacheLength && delete ve[le.shift()], ve[Ne + " "] = Me
                }
                return ve
            }

            function Or(le) {
                return le[Le] = !0, le
            }

            function Yr(le) {
                var ve = q.createElement("fieldset");
                try {
                    return !!le(ve)
                } catch {
                    return !1
                } finally {
                    ve.parentNode && ve.parentNode.removeChild(ve), ve = null
                }
            }

            function Ls(le) {
                return function(ve) {
                    return oe(ve, "input") && ve.type === le
                }
            }

            function Xs(le) {
                return function(ve) {
                    return (oe(ve, "input") || oe(ve, "button")) && ve.type === le
                }
            }

            function sl(le) {
                return function(ve) {
                    return "form" in ve ? ve.parentNode && ve.disabled === !1 ? "label" in ve ? "label" in ve.parentNode ? ve.parentNode.disabled === le : ve.disabled === le : ve.isDisabled === le || ve.isDisabled !== !le && Zs(ve) === le : ve.disabled === le : "label" in ve ? ve.disabled === le : !1
                }
            }

            function nr(le) {
                return Or(function(ve) {
                    return ve = +ve, Or(function(Ne, Me) {
                        for (var Ve, ut = le([], Ne.length, ve), gt = ut.length; gt--;) Ne[Ve = ut[gt]] && (Ne[Ve] = !(Me[Ve] = Ne[Ve]))
                    })
                })
            }

            function Qr(le) {
                return le && typeof le.getElementsByTagName < "u" && le
            }

            function Ta(le) {
                var ve, Ne = le ? le.ownerDocument || le : re;
                return Ne == q || Ne.nodeType !== 9 || !Ne.documentElement || (q = Ne, j = q.documentElement, $ = !w.isXMLDoc(q), Te = j.matches || j.webkitMatchesSelector || j.msMatchesSelector, j.msMatchesSelector && re != q && (ve = q.defaultView) && ve.top !== ve && ve.addEventListener("unload", ts), x.getById = Yr(function(Me) {
                    return j.appendChild(Me).id = w.expando, !q.getElementsByName || !q.getElementsByName(w.expando).length
                }), x.disconnectedMatch = Yr(function(Me) {
                    return Te.call(Me, "*")
                }), x.scope = Yr(function() {
                    return q.querySelectorAll(":scope")
                }), x.cssHas = Yr(function() {
                    try {
                        return q.querySelector(":has(*,:jqfake)"), !1
                    } catch {
                        return !0
                    }
                }), x.getById ? (p.filter.ID = function(Me) {
                    var Ve = Me.replace(Xr, un);
                    return function(ut) {
                        return ut.getAttribute("id") === Ve
                    }
                }, p.find.ID = function(Me, Ve) {
                    if (typeof Ve.getElementById < "u" && $) {
                        var ut = Ve.getElementById(Me);
                        return ut ? [ut] : []
                    }
                }) : (p.filter.ID = function(Me) {
                    var Ve = Me.replace(Xr, un);
                    return function(ut) {
                        var gt = typeof ut.getAttributeNode < "u" && ut.getAttributeNode("id");
                        return gt && gt.value === Ve
                    }
                }, p.find.ID = function(Me, Ve) {
                    if (typeof Ve.getElementById < "u" && $) {
                        var ut, gt, Lt, mt = Ve.getElementById(Me);
                        if (mt) {
                            if (ut = mt.getAttributeNode("id"), ut && ut.value === Me) return [mt];
                            for (Lt = Ve.getElementsByName(Me), gt = 0; mt = Lt[gt++];)
                                if (ut = mt.getAttributeNode("id"), ut && ut.value === Me) return [mt]
                        }
                        return []
                    }
                }), p.find.TAG = function(Me, Ve) {
                    return typeof Ve.getElementsByTagName < "u" ? Ve.getElementsByTagName(Me) : Ve.querySelectorAll(Me)
                }, p.find.CLASS = function(Me, Ve) {
                    if (typeof Ve.getElementsByClassName < "u" && $) return Ve.getElementsByClassName(Me)
                }, he = [], Yr(function(Me) {
                    var Ve;
                    j.appendChild(Me).innerHTML = "<a id='" + Le + "' href='' disabled='disabled'></a><select id='" + Le + "-\r\\' disabled='disabled'><option selected=''></option></select>", Me.querySelectorAll("[selected]").length || he.push("\\[" + P + "*(?:value|" + vi + ")"), Me.querySelectorAll("[id~=" + Le + "-]").length || he.push("~="), Me.querySelectorAll("a#" + Le + "+*").length || he.push(".#.+[+~]"), Me.querySelectorAll(":checked").length || he.push(":checked"), Ve = q.createElement("input"), Ve.setAttribute("type", "hidden"), Me.appendChild(Ve).setAttribute("name", "D"), j.appendChild(Me).disabled = !0, Me.querySelectorAll(":disabled").length !== 2 && he.push(":enabled", ":disabled"), Ve = q.createElement("input"), Ve.setAttribute("name", ""), Me.appendChild(Ve), Me.querySelectorAll("[name='']").length || he.push("\\[" + P + "*name" + P + "*=" + P + `*(?:''|"")`)
                }), x.cssHas || he.push(":has"), he = he.length && new RegExp(he.join("|")), Mt = function(Me, Ve) {
                    if (Me === Ve) return R = !0, 0;
                    var ut = !Me.compareDocumentPosition - !Ve.compareDocumentPosition;
                    return ut || (ut = (Me.ownerDocument || Me) == (Ve.ownerDocument || Ve) ? Me.compareDocumentPosition(Ve) : 1, ut & 1 || !x.sortDetached && Ve.compareDocumentPosition(Me) === ut ? Me === q || Me.ownerDocument == re && ki.contains(re, Me) ? -1 : Ve === q || Ve.ownerDocument == re && ki.contains(re, Ve) ? 1 : S ? l.call(S, Me) - l.call(S, Ve) : 0 : ut & 4 ? -1 : 1)
                }), q
            }
            ki.matches = function(le, ve) {
                return ki(le, null, null, ve)
            }, ki.matchesSelector = function(le, ve) {
                if (Ta(le), $ && !wi[ve + " "] && (!he || !he.test(ve))) try {
                    var Ne = Te.call(le, ve);
                    if (Ne || x.disconnectedMatch || le.document && le.document.nodeType !== 11) return Ne
                } catch {
                    wi(ve, !0)
                }
                return ki(ve, q, null, [le]).length > 0
            }, ki.contains = function(le, ve) {
                return (le.ownerDocument || le) != q && Ta(le), w.contains(le, ve)
            }, ki.attr = function(le, ve) {
                (le.ownerDocument || le) != q && Ta(le);
                var Ne = p.attrHandle[ve.toLowerCase()],
                    Me = Ne && d.call(p.attrHandle, ve.toLowerCase()) ? Ne(le, ve, !$) : void 0;
                return Me !== void 0 ? Me : le.getAttribute(ve)
            }, ki.error = function(le) {
                throw new Error("Syntax error, unrecognized expression: " + le)
            }, w.uniqueSort = function(le) {
                var ve, Ne = [],
                    Me = 0,
                    Ve = 0;
                if (R = !x.sortStable, S = !x.sortStable && r.call(le, 0), V.call(le, Mt), R) {
                    for (; ve = le[Ve++];) ve === le[Ve] && (Me = Ne.push(Ve));
                    for (; Me--;) W.call(le, Ne[Me], 1)
                }
                return S = null, le
            }, w.fn.uniqueSort = function() {
                return this.pushStack(w.uniqueSort(r.apply(this)))
            }, p = w.expr = {
                cacheLength: 50,
                createPseudo: Or,
                match: dr,
                attrHandle: {},
                find: {},
                relative: {
                    ">": {
                        dir: "parentNode",
                        first: !0
                    },
                    " ": {
                        dir: "parentNode"
                    },
                    "+": {
                        dir: "previousSibling",
                        first: !0
                    },
                    "~": {
                        dir: "previousSibling"
                    }
                },
                preFilter: {
                    ATTR: function(le) {
                        return le[1] = le[1].replace(Xr, un), le[3] = (le[3] || le[4] || le[5] || "").replace(Xr, un), le[2] === "~=" && (le[3] = " " + le[3] + " "), le.slice(0, 4)
                    },
                    CHILD: function(le) {
                        return le[1] = le[1].toLowerCase(), le[1].slice(0, 3) === "nth" ? (le[3] || ki.error(le[0]), le[4] = +(le[4] ? le[5] + (le[6] || 1) : 2 * (le[3] === "even" || le[3] === "odd")), le[5] = +(le[7] + le[8] || le[3] === "odd")) : le[3] && ki.error(le[0]), le
                    },
                    PSEUDO: function(le) {
                        var ve, Ne = !le[6] && le[2];
                        return dr.CHILD.test(le[0]) ? null : (le[3] ? le[2] = le[4] || le[5] || "" : Ne && tn.test(Ne) && (ve = pr(Ne, !0)) && (ve = Ne.indexOf(")", Ne.length - ve) - Ne.length) && (le[0] = le[0].slice(0, ve), le[2] = Ne.slice(0, ve)), le.slice(0, 3))
                    }
                },
                filter: {
                    TAG: function(le) {
                        var ve = le.replace(Xr, un).toLowerCase();
                        return le === "*" ? function() {
                            return !0
                        } : function(Ne) {
                            return oe(Ne, ve)
                        }
                    },
                    CLASS: function(le) {
                        var ve = Dt[le + " "];
                        return ve || (ve = new RegExp("(^|" + P + ")" + le + "(" + P + "|$)")) && Dt(le, function(Ne) {
                            return ve.test(typeof Ne.className == "string" && Ne.className || typeof Ne.getAttribute < "u" && Ne.getAttribute("class") || "")
                        })
                    },
                    ATTR: function(le, ve, Ne) {
                        return function(Me) {
                            var Ve = ki.attr(Me, le);
                            return Ve == null ? ve === "!=" : ve ? (Ve += "", ve === "=" ? Ve === Ne : ve === "!=" ? Ve !== Ne : ve === "^=" ? Ne && Ve.indexOf(Ne) === 0 : ve === "*=" ? Ne && Ve.indexOf(Ne) > -1 : ve === "$=" ? Ne && Ve.slice(-Ne.length) === Ne : ve === "~=" ? (" " + Ve.replace(ii, " ") + " ").indexOf(Ne) > -1 : ve === "|=" ? Ve === Ne || Ve.slice(0, Ne.length + 1) === Ne + "-" : !1) : !0
                        }
                    },
                    CHILD: function(le, ve, Ne, Me, Ve) {
                        var ut = le.slice(0, 3) !== "nth",
                            gt = le.slice(-4) !== "last",
                            Lt = ve === "of-type";
                        return Me === 1 && Ve === 0 ? function(mt) {
                            return !!mt.parentNode
                        } : function(mt, ni, qt) {
                            var $t, jt, Pt, Fi, Q, fe = ut !== gt ? "nextSibling" : "previousSibling",
                                ge = mt.parentNode,
                                Fe = Lt && mt.nodeName.toLowerCase(),
                                Se = !qt && !Lt,
                                qe = !1;
                            if (ge) {
                                if (ut) {
                                    for (; fe;) {
                                        for (Pt = mt; Pt = Pt[fe];)
                                            if (Lt ? oe(Pt, Fe) : Pt.nodeType === 1) return !1;
                                        Q = fe = le === "only" && !Q && "nextSibling"
                                    }
                                    return !0
                                }
                                if (Q = [gt ? ge.firstChild : ge.lastChild], gt && Se) {
                                    for (jt = ge[Le] || (ge[Le] = {}), $t = jt[le] || [], Fi = $t[0] === Ie && $t[1], qe = Fi && $t[2], Pt = Fi && ge.childNodes[Fi]; Pt = ++Fi && Pt && Pt[fe] || (qe = Fi = 0) || Q.pop();)
                                        if (Pt.nodeType === 1 && ++qe && Pt === mt) {
                                            jt[le] = [Ie, Fi, qe];
                                            break
                                        }
                                } else if (Se && (jt = mt[Le] || (mt[Le] = {}), $t = jt[le] || [], Fi = $t[0] === Ie && $t[1], qe = Fi), qe === !1)
                                    for (;
                                        (Pt = ++Fi && Pt && Pt[fe] || (qe = Fi = 0) || Q.pop()) && !((Lt ? oe(Pt, Fe) : Pt.nodeType === 1) && ++qe && (Se && (jt = Pt[Le] || (Pt[Le] = {}), jt[le] = [Ie, qe]), Pt === mt)););
                                return qe -= Ve, qe === Me || qe % Me === 0 && qe / Me >= 0
                            }
                        }
                    },
                    PSEUDO: function(le, ve) {
                        var Ne, Me = p.pseudos[le] || p.setFilters[le.toLowerCase()] || ki.error("unsupported pseudo: " + le);
                        return Me[Le] ? Me(ve) : Me.length > 1 ? (Ne = [le, le, "", ve], p.setFilters.hasOwnProperty(le.toLowerCase()) ? Or(function(Ve, ut) {
                            for (var gt, Lt = Me(Ve, ve), mt = Lt.length; mt--;) gt = l.call(Ve, Lt[mt]), Ve[gt] = !(ut[gt] = Lt[mt])
                        }) : function(Ve) {
                            return Me(Ve, 0, Ne)
                        }) : Me
                    }
                },
                pseudos: {
                    not: Or(function(le) {
                        var ve = [],
                            Ne = [],
                            Me = Mn(le.replace(se, "$1"));
                        return Me[Le] ? Or(function(Ve, ut, gt, Lt) {
                            for (var mt, ni = Me(Ve, null, Lt, []), qt = Ve.length; qt--;)(mt = ni[qt]) && (Ve[qt] = !(ut[qt] = mt))
                        }) : function(Ve, ut, gt) {
                            return ve[0] = Ve, Me(ve, null, gt, Ne), ve[0] = null, !Ne.pop()
                        }
                    }),
                    has: Or(function(le) {
                        return function(ve) {
                            return ki(le, ve).length > 0
                        }
                    }),
                    contains: Or(function(le) {
                        return le = le.replace(Xr, un),
                            function(ve) {
                                return (ve.textContent || w.text(ve)).indexOf(le) > -1
                            }
                    }),
                    lang: Or(function(le) {
                        return Cr.test(le || "") || ki.error("unsupported lang: " + le), le = le.replace(Xr, un).toLowerCase(),
                            function(ve) {
                                var Ne;
                                do
                                    if (Ne = $ ? ve.lang : ve.getAttribute("xml:lang") || ve.getAttribute("lang")) return Ne = Ne.toLowerCase(), Ne === le || Ne.indexOf(le + "-") === 0; while ((ve = ve.parentNode) && ve.nodeType === 1);
                                return !1
                            }
                    }),
                    target: function(le) {
                        var ve = e.location && e.location.hash;
                        return ve && ve.slice(1) === le.id
                    },
                    root: function(le) {
                        return le === j
                    },
                    focus: function(le) {
                        return le === ha() && q.hasFocus() && !!(le.type || le.href || ~le.tabIndex)
                    },
                    enabled: sl(!1),
                    disabled: sl(!0),
                    checked: function(le) {
                        return oe(le, "input") && !!le.checked || oe(le, "option") && !!le.selected
                    },
                    selected: function(le) {
                        return le.parentNode && le.parentNode.selectedIndex, le.selected === !0
                    },
                    empty: function(le) {
                        for (le = le.firstChild; le; le = le.nextSibling)
                            if (le.nodeType < 6) return !1;
                        return !0
                    },
                    parent: function(le) {
                        return !p.pseudos.empty(le)
                    },
                    header: function(le) {
                        return Gr.test(le.nodeName)
                    },
                    input: function(le) {
                        return qn.test(le.nodeName)
                    },
                    button: function(le) {
                        return oe(le, "input") && le.type === "button" || oe(le, "button")
                    },
                    text: function(le) {
                        var ve;
                        return oe(le, "input") && le.type === "text" && ((ve = le.getAttribute("type")) == null || ve.toLowerCase() === "text")
                    },
                    first: nr(function() {
                        return [0]
                    }),
                    last: nr(function(le, ve) {
                        return [ve - 1]
                    }),
                    eq: nr(function(le, ve, Ne) {
                        return [Ne < 0 ? Ne + ve : Ne]
                    }),
                    even: nr(function(le, ve) {
                        for (var Ne = 0; Ne < ve; Ne += 2) le.push(Ne);
                        return le
                    }),
                    odd: nr(function(le, ve) {
                        for (var Ne = 1; Ne < ve; Ne += 2) le.push(Ne);
                        return le
                    }),
                    lt: nr(function(le, ve, Ne) {
                        var Me;
                        for (Ne < 0 ? Me = Ne + ve : Ne > ve ? Me = ve : Me = Ne; --Me >= 0;) le.push(Me);
                        return le
                    }),
                    gt: nr(function(le, ve, Ne) {
                        for (var Me = Ne < 0 ? Ne + ve : Ne; ++Me < ve;) le.push(Me);
                        return le
                    })
                }
            }, p.pseudos.nth = p.pseudos.eq;
            for (c in {
                    radio: !0,
                    checkbox: !0,
                    file: !0,
                    password: !0,
                    image: !0
                }) p.pseudos[c] = Ls(c);
            for (c in {
                    submit: !0,
                    reset: !0
                }) p.pseudos[c] = Xs(c);

            function is() {}
            is.prototype = p.filters = p.pseudos, p.setFilters = new is;

            function pr(le, ve) {
                var Ne, Me, Ve, ut, gt, Lt, mt, ni = kt[le + " "];
                if (ni) return ve ? 0 : ni.slice(0);
                for (gt = le, Lt = [], mt = p.preFilter; gt;) {
                    (!Ne || (Me = Ei.exec(gt))) && (Me && (gt = gt.slice(Me[0].length) || gt), Lt.push(Ve = [])), Ne = !1, (Me = Di.exec(gt)) && (Ne = Me.shift(), Ve.push({
                        value: Ne,
                        type: Me[0].replace(se, " ")
                    }), gt = gt.slice(Ne.length));
                    for (ut in p.filter)(Me = dr[ut].exec(gt)) && (!mt[ut] || (Me = mt[ut](Me))) && (Ne = Me.shift(), Ve.push({
                        value: Ne,
                        type: ut,
                        matches: Me
                    }), gt = gt.slice(Ne.length));
                    if (!Ne) break
                }
                return ve ? gt.length : gt ? ki.error(le) : kt(le, Lt).slice(0)
            }

            function gn(le) {
                for (var ve = 0, Ne = le.length, Me = ""; ve < Ne; ve++) Me += le[ve].value;
                return Me
            }

            function ks(le, ve, Ne) {
                var Me = ve.dir,
                    Ve = ve.next,
                    ut = Ve || Me,
                    gt = Ne && ut === "parentNode",
                    Lt = Ge++;
                return ve.first ? function(mt, ni, qt) {
                    for (; mt = mt[Me];)
                        if (mt.nodeType === 1 || gt) return le(mt, ni, qt);
                    return !1
                } : function(mt, ni, qt) {
                    var $t, jt, Pt = [Ie, Lt];
                    if (qt) {
                        for (; mt = mt[Me];)
                            if ((mt.nodeType === 1 || gt) && le(mt, ni, qt)) return !0
                    } else
                        for (; mt = mt[Me];)
                            if (mt.nodeType === 1 || gt)
                                if (jt = mt[Le] || (mt[Le] = {}), Ve && oe(mt, Ve)) mt = mt[Me] || mt;
                                else {
                                    if (($t = jt[ut]) && $t[0] === Ie && $t[1] === Lt) return Pt[2] = $t[2];
                                    if (jt[ut] = Pt, Pt[2] = le(mt, ni, qt)) return !0
                                } return !1
                }
            }

            function pa(le) {
                return le.length > 1 ? function(ve, Ne, Me) {
                    for (var Ve = le.length; Ve--;)
                        if (!le[Ve](ve, Ne, Me)) return !1;
                    return !0
                } : le[0]
            }

            function ol(le, ve, Ne) {
                for (var Me = 0, Ve = ve.length; Me < Ve; Me++) ki(le, ve[Me], Ne);
                return Ne
            }

            function Sr(le, ve, Ne, Me, Ve) {
                for (var ut, gt = [], Lt = 0, mt = le.length, ni = ve != null; Lt < mt; Lt++)(ut = le[Lt]) && (!Ne || Ne(ut, Me, Ve)) && (gt.push(ut), ni && ve.push(Lt));
                return gt
            }

            function Ci(le, ve, Ne, Me, Ve, ut) {
                return Me && !Me[Le] && (Me = Ci(Me)), Ve && !Ve[Le] && (Ve = Ci(Ve, ut)), Or(function(gt, Lt, mt, ni) {
                    var qt, $t, jt, Pt, Fi = [],
                        Q = [],
                        fe = Lt.length,
                        ge = gt || ol(ve || "*", mt.nodeType ? [mt] : mt, []),
                        Fe = le && (gt || !ve) ? Sr(ge, Fi, le, mt, ni) : ge;
                    if (Ne ? (Pt = Ve || (gt ? le : fe || Me) ? [] : Lt, Ne(Fe, Pt, mt, ni)) : Pt = Fe, Me)
                        for (qt = Sr(Pt, Q), Me(qt, [], mt, ni), $t = qt.length; $t--;)(jt = qt[$t]) && (Pt[Q[$t]] = !(Fe[Q[$t]] = jt));
                    if (gt) {
                        if (Ve || le) {
                            if (Ve) {
                                for (qt = [], $t = Pt.length; $t--;)(jt = Pt[$t]) && qt.push(Fe[$t] = jt);
                                Ve(null, Pt = [], qt, ni)
                            }
                            for ($t = Pt.length; $t--;)(jt = Pt[$t]) && (qt = Ve ? l.call(gt, jt) : Fi[$t]) > -1 && (gt[qt] = !(Lt[qt] = jt))
                        }
                    } else Pt = Sr(Pt === Lt ? Pt.splice(fe, Pt.length) : Pt), Ve ? Ve(null, Lt, Pt, ni) : M.apply(Lt, Pt)
                })
            }

            function Fa(le) {
                for (var ve, Ne, Me, Ve = le.length, ut = p.relative[le[0].type], gt = ut || p.relative[" "], Lt = ut ? 1 : 0, mt = ks(function($t) {
                        return $t === ve
                    }, gt, !0), ni = ks(function($t) {
                        return l.call(ve, $t) > -1
                    }, gt, !0), qt = [function($t, jt, Pt) {
                        var Fi = !ut && (Pt || jt != _) || ((ve = jt).nodeType ? mt($t, jt, Pt) : ni($t, jt, Pt));
                        return ve = null, Fi
                    }]; Lt < Ve; Lt++)
                    if (Ne = p.relative[le[Lt].type]) qt = [ks(pa(qt), Ne)];
                    else {
                        if (Ne = p.filter[le[Lt].type].apply(null, le[Lt].matches), Ne[Le]) {
                            for (Me = ++Lt; Me < Ve && !p.relative[le[Me].type]; Me++);
                            return Ci(Lt > 1 && pa(qt), Lt > 1 && gn(le.slice(0, Lt - 1).concat({
                                value: le[Lt - 2].type === " " ? "*" : ""
                            })).replace(se, "$1"), Ne, Lt < Me && Fa(le.slice(Lt, Me)), Me < Ve && Fa(le = le.slice(Me)), Me < Ve && gn(le))
                        }
                        qt.push(Ne)
                    }
                return pa(qt)
            }

            function gr(le, ve) {
                var Ne = ve.length > 0,
                    Me = le.length > 0,
                    Ve = function(ut, gt, Lt, mt, ni) {
                        var qt, $t, jt, Pt = 0,
                            Fi = "0",
                            Q = ut && [],
                            fe = [],
                            ge = _,
                            Fe = ut || Me && p.find.TAG("*", ni),
                            Se = Ie += ge == null ? 1 : Math.random() || .1,
                            qe = Fe.length;
                        for (ni && (_ = gt == q || gt || ni); Fi !== qe && (qt = Fe[Fi]) != null; Fi++) {
                            if (Me && qt) {
                                for ($t = 0, !gt && qt.ownerDocument != q && (Ta(qt), Lt = !$); jt = le[$t++];)
                                    if (jt(qt, gt || q, Lt)) {
                                        M.call(mt, qt);
                                        break
                                    }
                                ni && (Ie = Se)
                            }
                            Ne && ((qt = !jt && qt) && Pt--, ut && Q.push(qt))
                        }
                        if (Pt += Fi, Ne && Fi !== Pt) {
                            for ($t = 0; jt = ve[$t++];) jt(Q, fe, gt, Lt);
                            if (ut) {
                                if (Pt > 0)
                                    for (; Fi--;) Q[Fi] || fe[Fi] || (fe[Fi] = me.call(mt));
                                fe = Sr(fe)
                            }
                            M.apply(mt, fe), ni && !ut && fe.length > 0 && Pt + ve.length > 1 && w.uniqueSort(mt)
                        }
                        return ni && (Ie = Se, _ = ge), Q
                    };
                return Ne ? Or(Ve) : Ve
            }

            function Mn(le, ve) {
                var Ne, Me = [],
                    Ve = [],
                    ut = ct[le + " "];
                if (!ut) {
                    for (ve || (ve = pr(le)), Ne = ve.length; Ne--;) ut = Fa(ve[Ne]), ut[Le] ? Me.push(ut) : Ve.push(ut);
                    ut = ct(le, gr(Ve, Me)), ut.selector = le
                }
                return ut
            }

            function ns(le, ve, Ne, Me) {
                var Ve, ut, gt, Lt, mt, ni = typeof le == "function" && le,
                    qt = !Me && pr(le = ni.selector || le);
                if (Ne = Ne || [], qt.length === 1) {
                    if (ut = qt[0] = qt[0].slice(0), ut.length > 2 && (gt = ut[0]).type === "ID" && ve.nodeType === 9 && $ && p.relative[ut[1].type]) {
                        if (ve = (p.find.ID(gt.matches[0].replace(Xr, un), ve) || [])[0], ve) ni && (ve = ve.parentNode);
                        else return Ne;
                        le = le.slice(ut.shift().value.length)
                    }
                    for (Ve = dr.needsContext.test(le) ? 0 : ut.length; Ve-- && (gt = ut[Ve], !p.relative[Lt = gt.type]);)
                        if ((mt = p.find[Lt]) && (Me = mt(gt.matches[0].replace(Xr, un), Zr.test(ut[0].type) && Qr(ve.parentNode) || ve))) {
                            if (ut.splice(Ve, 1), le = Me.length && gn(ut), !le) return M.apply(Ne, Me), Ne;
                            break
                        }
                }
                return (ni || Mn(le, qt))(Me, ve, !$, Ne, !ve || Zr.test(le) && Qr(ve.parentNode) || ve), Ne
            }
            x.sortStable = Le.split("").sort(Mt).join("") === Le, Ta(), x.sortDetached = Yr(function(le) {
                return le.compareDocumentPosition(q.createElement("fieldset")) & 1
            }), w.find = ki, w.expr[":"] = w.expr.pseudos, w.unique = w.uniqueSort, ki.compile = Mn, ki.select = ns, ki.setDocument = Ta, ki.tokenize = pr, ki.escape = w.escapeSelector, ki.getText = w.text, ki.isXML = w.isXMLDoc, ki.selectors = w.expr, ki.support = w.support, ki.uniqueSort = w.uniqueSort
        })();
        var ue = function(c, p, _) {
                for (var S = [], R = _ !== void 0;
                    (c = c[p]) && c.nodeType !== 9;)
                    if (c.nodeType === 1) {
                        if (R && w(c).is(_)) break;
                        S.push(c)
                    }
                return S
            },
            ie = function(c, p) {
                for (var _ = []; c; c = c.nextSibling) c.nodeType === 1 && c !== p && _.push(c);
                return _
            },
            te = w.expr.match.needsContext,
            we = /^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;

        function De(c, p, _) {
            return C(p) ? w.grep(c, function(S, R) {
                return !!p.call(S, R, S) !== _
            }) : p.nodeType ? w.grep(c, function(S) {
                return S === p !== _
            }) : typeof p != "string" ? w.grep(c, function(S) {
                return l.call(p, S) > -1 !== _
            }) : w.filter(p, c, _)
        }
        w.filter = function(c, p, _) {
            var S = p[0];
            return _ && (c = ":not(" + c + ")"), p.length === 1 && S.nodeType === 1 ? w.find.matchesSelector(S, c) ? [S] : [] : w.find.matches(c, w.grep(p, function(R) {
                return R.nodeType === 1
            }))
        }, w.fn.extend({
            find: function(c) {
                var p, _, S = this.length,
                    R = this;
                if (typeof c != "string") return this.pushStack(w(c).filter(function() {
                    for (p = 0; p < S; p++)
                        if (w.contains(R[p], this)) return !0
                }));
                for (_ = this.pushStack([]), p = 0; p < S; p++) w.find(c, R[p], _);
                return S > 1 ? w.uniqueSort(_) : _
            },
            filter: function(c) {
                return this.pushStack(De(this, c || [], !1))
            },
            not: function(c) {
                return this.pushStack(De(this, c || [], !0))
            },
            is: function(c) {
                return !!De(this, typeof c == "string" && te.test(c) ? w(c) : c || [], !1).length
            }
        });
        var ye, Ue = /^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,
            Qe = w.fn.init = function(c, p, _) {
                var S, R;
                if (!c) return this;
                if (_ = _ || ye, typeof c == "string")
                    if (c[0] === "<" && c[c.length - 1] === ">" && c.length >= 3 ? S = [null, c, null] : S = Ue.exec(c), S && (S[1] || !p))
                        if (S[1]) {
                            if (p = p instanceof w ? p[0] : p, w.merge(this, w.parseHTML(S[1], p && p.nodeType ? p.ownerDocument || p : E, !0)), we.test(S[1]) && w.isPlainObject(p))
                                for (S in p) C(this[S]) ? this[S](p[S]) : this.attr(S, p[S]);
                            return this
                        } else return R = E.getElementById(S[2]), R && (this[0] = R, this.length = 1), this;
                else return !p || p.jquery ? (p || _).find(c) : this.constructor(p).find(c);
                else {
                    if (c.nodeType) return this[0] = c, this.length = 1, this;
                    if (C(c)) return _.ready !== void 0 ? _.ready(c) : c(w)
                }
                return w.makeArray(c, this)
            };
        Qe.prototype = w.fn, ye = w(E);
        var at = /^(?:parents|prev(?:Until|All))/,
            pt = {
                children: !0,
                contents: !0,
                next: !0,
                prev: !0
            };
        w.fn.extend({
            has: function(c) {
                var p = w(c, this),
                    _ = p.length;
                return this.filter(function() {
                    for (var S = 0; S < _; S++)
                        if (w.contains(this, p[S])) return !0
                })
            },
            closest: function(c, p) {
                var _, S = 0,
                    R = this.length,
                    M = [],
                    q = typeof c != "string" && w(c);
                if (!te.test(c)) {
                    for (; S < R; S++)
                        for (_ = this[S]; _ && _ !== p; _ = _.parentNode)
                            if (_.nodeType < 11 && (q ? q.index(_) > -1 : _.nodeType === 1 && w.find.matchesSelector(_, c))) {
                                M.push(_);
                                break
                            }
                }
                return this.pushStack(M.length > 1 ? w.uniqueSort(M) : M)
            },
            index: function(c) {
                return c ? typeof c == "string" ? l.call(w(c), this[0]) : l.call(this, c.jquery ? c[0] : c) : this[0] && this[0].parentNode ? this.first().prevAll().length : -1
            },
            add: function(c, p) {
                return this.pushStack(w.uniqueSort(w.merge(this.get(), w(c, p))))
            },
            addBack: function(c) {
                return this.add(c == null ? this.prevObject : this.prevObject.filter(c))
            }
        });

        function lt(c, p) {
            for (;
                (c = c[p]) && c.nodeType !== 1;);
            return c
        }
        w.each({
            parent: function(c) {
                var p = c.parentNode;
                return p && p.nodeType !== 11 ? p : null
            },
            parents: function(c) {
                return ue(c, "parentNode")
            },
            parentsUntil: function(c, p, _) {
                return ue(c, "parentNode", _)
            },
            next: function(c) {
                return lt(c, "nextSibling")
            },
            prev: function(c) {
                return lt(c, "previousSibling")
            },
            nextAll: function(c) {
                return ue(c, "nextSibling")
            },
            prevAll: function(c) {
                return ue(c, "previousSibling")
            },
            nextUntil: function(c, p, _) {
                return ue(c, "nextSibling", _)
            },
            prevUntil: function(c, p, _) {
                return ue(c, "previousSibling", _)
            },
            siblings: function(c) {
                return ie((c.parentNode || {}).firstChild, c)
            },
            children: function(c) {
                return ie(c.firstChild)
            },
            contents: function(c) {
                return c.contentDocument != null && n(c.contentDocument) ? c.contentDocument : (oe(c, "template") && (c = c.content || c), w.merge([], c.childNodes))
            }
        }, function(c, p) {
            w.fn[c] = function(_, S) {
                var R = w.map(this, p, _);
                return c.slice(-5) !== "Until" && (S = _), S && typeof S == "string" && (R = w.filter(S, R)), this.length > 1 && (pt[c] || w.uniqueSort(R), at.test(c) && R.reverse()), this.pushStack(R)
            }
        });
        var xt = /[^\x20\t\r\n\f]+/g;

        function Bt(c) {
            var p = {};
            return w.each(c.match(xt) || [], function(_, S) {
                p[S] = !0
            }), p
        }
        w.Callbacks = function(c) {
            c = typeof c == "string" ? Bt(c) : w.extend({}, c);
            var p, _, S, R, M = [],
                q = [],
                j = -1,
                $ = function() {
                    for (R = R || c.once, S = p = !0; q.length; j = -1)
                        for (_ = q.shift(); ++j < M.length;) M[j].apply(_[0], _[1]) === !1 && c.stopOnFalse && (j = M.length, _ = !1);
                    c.memory || (_ = !1), p = !1, R && (_ ? M = [] : M = "")
                },
                he = {
                    add: function() {
                        return M && (_ && !p && (j = M.length - 1, q.push(_)), function Te(Le) {
                            w.each(Le, function(Ie, Ge) {
                                C(Ge) ? (!c.unique || !he.has(Ge)) && M.push(Ge) : Ge && Ge.length && I(Ge) !== "string" && Te(Ge)
                            })
                        }(arguments), _ && !p && $()), this
                    },
                    remove: function() {
                        return w.each(arguments, function(Te, Le) {
                            for (var Ie;
                                (Ie = w.inArray(Le, M, Ie)) > -1;) M.splice(Ie, 1), Ie <= j && j--
                        }), this
                    },
                    has: function(Te) {
                        return Te ? w.inArray(Te, M) > -1 : M.length > 0
                    },
                    empty: function() {
                        return M && (M = []), this
                    },
                    disable: function() {
                        return R = q = [], M = _ = "", this
                    },
                    disabled: function() {
                        return !M
                    },
                    lock: function() {
                        return R = q = [], !_ && !p && (M = _ = ""), this
                    },
                    locked: function() {
                        return !!R
                    },
                    fireWith: function(Te, Le) {
                        return R || (Le = Le || [], Le = [Te, Le.slice ? Le.slice() : Le], q.push(Le), p || $()), this
                    },
                    fire: function() {
                        return he.fireWith(this, arguments), this
                    },
                    fired: function() {
                        return !!S
                    }
                };
            return he
        };

        function At(c) {
            return c
        }

        function F(c) {
            throw c
        }

        function ke(c, p, _, S) {
            var R;
            try {
                c && C(R = c.promise) ? R.call(c).done(p).fail(_) : c && C(R = c.then) ? R.call(c, p, _) : p.apply(void 0, [c].slice(S))
            } catch (M) {
                _.apply(void 0, [M])
            }
        }
        w.extend({
            Deferred: function(c) {
                var p = [
                        ["notify", "progress", w.Callbacks("memory"), w.Callbacks("memory"), 2],
                        ["resolve", "done", w.Callbacks("once memory"), w.Callbacks("once memory"), 0, "resolved"],
                        ["reject", "fail", w.Callbacks("once memory"), w.Callbacks("once memory"), 1, "rejected"]
                    ],
                    _ = "pending",
                    S = {
                        state: function() {
                            return _
                        },
                        always: function() {
                            return R.done(arguments).fail(arguments), this
                        },
                        catch: function(M) {
                            return S.then(null, M)
                        },
                        pipe: function() {
                            var M = arguments;
                            return w.Deferred(function(q) {
                                w.each(p, function(j, $) {
                                    var he = C(M[$[4]]) && M[$[4]];
                                    R[$[1]](function() {
                                        var Te = he && he.apply(this, arguments);
                                        Te && C(Te.promise) ? Te.promise().progress(q.notify).done(q.resolve).fail(q.reject) : q[$[0] + "With"](this, he ? [Te] : arguments)
                                    })
                                }), M = null
                            }).promise()
                        },
                        then: function(M, q, j) {
                            var $ = 0;

                            function he(Te, Le, Ie, Ge) {
                                return function() {
                                    var Dt = this,
                                        kt = arguments,
                                        ct = function() {
                                            var Mt, vi;
                                            if (!(Te < $)) {
                                                if (Mt = Ie.apply(Dt, kt), Mt === Le.promise()) throw new TypeError("Thenable self-resolution");
                                                vi = Mt && (typeof Mt == "object" || typeof Mt == "function") && Mt.then, C(vi) ? Ge ? vi.call(Mt, he($, Le, At, Ge), he($, Le, F, Ge)) : ($++, vi.call(Mt, he($, Le, At, Ge), he($, Le, F, Ge), he($, Le, At, Le.notifyWith))) : (Ie !== At && (Dt = void 0, kt = [Mt]), (Ge || Le.resolveWith)(Dt, kt))
                                            }
                                        },
                                        wi = Ge ? ct : function() {
                                            try {
                                                ct()
                                            } catch (Mt) {
                                                w.Deferred.exceptionHook && w.Deferred.exceptionHook(Mt, wi.error), Te + 1 >= $ && (Ie !== F && (Dt = void 0, kt = [Mt]), Le.rejectWith(Dt, kt))
                                            }
                                        };
                                    Te ? wi() : (w.Deferred.getErrorHook ? wi.error = w.Deferred.getErrorHook() : w.Deferred.getStackHook && (wi.error = w.Deferred.getStackHook()), e.setTimeout(wi))
                                }
                            }
                            return w.Deferred(function(Te) {
                                p[0][3].add(he(0, Te, C(j) ? j : At, Te.notifyWith)), p[1][3].add(he(0, Te, C(M) ? M : At)), p[2][3].add(he(0, Te, C(q) ? q : F))
                            }).promise()
                        },
                        promise: function(M) {
                            return M != null ? w.extend(M, S) : S
                        }
                    },
                    R = {};
                return w.each(p, function(M, q) {
                    var j = q[2],
                        $ = q[5];
                    S[q[1]] = j.add, $ && j.add(function() {
                        _ = $
                    }, p[3 - M][2].disable, p[3 - M][3].disable, p[0][2].lock, p[0][3].lock), j.add(q[3].fire), R[q[0]] = function() {
                        return R[q[0] + "With"](this === R ? void 0 : this, arguments), this
                    }, R[q[0] + "With"] = j.fireWith
                }), S.promise(R), c && c.call(R, R), R
            },
            when: function(c) {
                var p = arguments.length,
                    _ = p,
                    S = Array(_),
                    R = r.call(arguments),
                    M = w.Deferred(),
                    q = function(j) {
                        return function($) {
                            S[j] = this, R[j] = arguments.length > 1 ? r.call(arguments) : $, --p || M.resolveWith(S, R)
                        }
                    };
                if (p <= 1 && (ke(c, M.done(q(_)).resolve, M.reject, !p), M.state() === "pending" || C(R[_] && R[_].then))) return M.then();
                for (; _--;) ke(R[_], q(_), M.reject);
                return M.promise()
            }
        });
        var Ce = /^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;
        w.Deferred.exceptionHook = function(c, p) {
            e.console && e.console.warn && c && Ce.test(c.name) && e.console.warn("jQuery.Deferred exception: " + c.message, c.stack, p)
        }, w.readyException = function(c) {
            e.setTimeout(function() {
                throw c
            })
        };
        var ee = w.Deferred();
        w.fn.ready = function(c) {
            return ee.then(c).catch(function(p) {
                w.readyException(p)
            }), this
        }, w.extend({
            isReady: !1,
            readyWait: 1,
            ready: function(c) {
                (c === !0 ? --w.readyWait : w.isReady) || (w.isReady = !0, !(c !== !0 && --w.readyWait > 0) && ee.resolveWith(E, [w]))
            }
        }), w.ready.then = ee.then;

        function ae() {
            E.removeEventListener("DOMContentLoaded", ae), e.removeEventListener("load", ae), w.ready()
        }
        E.readyState === "complete" || E.readyState !== "loading" && !E.documentElement.doScroll ? e.setTimeout(w.ready) : (E.addEventListener("DOMContentLoaded", ae), e.addEventListener("load", ae));
        var be = function(c, p, _, S, R, M, q) {
                var j = 0,
                    $ = c.length,
                    he = _ == null;
                if (I(_) === "object") {
                    R = !0;
                    for (j in _) be(c, p, j, _[j], !0, M, q)
                } else if (S !== void 0 && (R = !0, C(S) || (q = !0), he && (q ? (p.call(c, S), p = null) : (he = p, p = function(Te, Le, Ie) {
                        return he.call(w(Te), Ie)
                    })), p))
                    for (; j < $; j++) p(c[j], _, q ? S : S.call(c[j], j, p(c[j], _)));
                return R ? c : he ? p.call(c) : $ ? p(c[0], _) : M
            },
            je = /^-ms-/,
            Ze = /-([a-z])/g;

        function Re(c, p) {
            return p.toUpperCase()
        }

        function Je(c) {
            return c.replace(je, "ms-").replace(Ze, Re)
        }
        var dt = function(c) {
            return c.nodeType === 1 || c.nodeType === 9 || !+c.nodeType
        };

        function et() {
            this.expando = w.expando + et.uid++
        }
        et.uid = 1, et.prototype = {
            cache: function(c) {
                var p = c[this.expando];
                return p || (p = {}, dt(c) && (c.nodeType ? c[this.expando] = p : Object.defineProperty(c, this.expando, {
                    value: p,
                    configurable: !0
                }))), p
            },
            set: function(c, p, _) {
                var S, R = this.cache(c);
                if (typeof p == "string") R[Je(p)] = _;
                else
                    for (S in p) R[Je(S)] = p[S];
                return R
            },
            get: function(c, p) {
                return p === void 0 ? this.cache(c) : c[this.expando] && c[this.expando][Je(p)]
            },
            access: function(c, p, _) {
                return p === void 0 || p && typeof p == "string" && _ === void 0 ? this.get(c, p) : (this.set(c, p, _), _ !== void 0 ? _ : p)
            },
            remove: function(c, p) {
                var _, S = c[this.expando];
                if (S !== void 0) {
                    if (p !== void 0)
                        for (Array.isArray(p) ? p = p.map(Je) : (p = Je(p), p = p in S ? [p] : p.match(xt) || []), _ = p.length; _--;) delete S[p[_]];
                    (p === void 0 || w.isEmptyObject(S)) && (c.nodeType ? c[this.expando] = void 0 : delete c[this.expando])
                }
            },
            hasData: function(c) {
                var p = c[this.expando];
                return p !== void 0 && !w.isEmptyObject(p)
            }
        };
        var We = new et,
            Ft = new et,
            ti = /^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,
            _n = /[A-Z]/g;

        function Ar(c) {
            return c === "true" ? !0 : c === "false" ? !1 : c === "null" ? null : c === +c + "" ? +c : ti.test(c) ? JSON.parse(c) : c
        }

        function En(c, p, _) {
            var S;
            if (_ === void 0 && c.nodeType === 1)
                if (S = "data-" + p.replace(_n, "-$&").toLowerCase(), _ = c.getAttribute(S), typeof _ == "string") {
                    try {
                        _ = Ar(_)
                    } catch {}
                    Ft.set(c, p, _)
                } else _ = void 0;
            return _
        }
        w.extend({
            hasData: function(c) {
                return Ft.hasData(c) || We.hasData(c)
            },
            data: function(c, p, _) {
                return Ft.access(c, p, _)
            },
            removeData: function(c, p) {
                Ft.remove(c, p)
            },
            _data: function(c, p, _) {
                return We.access(c, p, _)
            },
            _removeData: function(c, p) {
                We.remove(c, p)
            }
        }), w.fn.extend({
            data: function(c, p) {
                var _, S, R, M = this[0],
                    q = M && M.attributes;
                if (c === void 0) {
                    if (this.length && (R = Ft.get(M), M.nodeType === 1 && !We.get(M, "hasDataAttrs"))) {
                        for (_ = q.length; _--;) q[_] && (S = q[_].name, S.indexOf("data-") === 0 && (S = Je(S.slice(5)), En(M, S, R[S])));
                        We.set(M, "hasDataAttrs", !0)
                    }
                    return R
                }
                return typeof c == "object" ? this.each(function() {
                    Ft.set(this, c)
                }) : be(this, function(j) {
                    var $;
                    if (M && j === void 0) return $ = Ft.get(M, c), $ !== void 0 || ($ = En(M, c), $ !== void 0) ? $ : void 0;
                    this.each(function() {
                        Ft.set(this, c, j)
                    })
                }, null, p, arguments.length > 1, null, !0)
            },
            removeData: function(c) {
                return this.each(function() {
                    Ft.remove(this, c)
                })
            }
        }), w.extend({
            queue: function(c, p, _) {
                var S;
                if (c) return p = (p || "fx") + "queue", S = We.get(c, p), _ && (!S || Array.isArray(_) ? S = We.access(c, p, w.makeArray(_)) : S.push(_)), S || []
            },
            dequeue: function(c, p) {
                p = p || "fx";
                var _ = w.queue(c, p),
                    S = _.length,
                    R = _.shift(),
                    M = w._queueHooks(c, p),
                    q = function() {
                        w.dequeue(c, p)
                    };
                R === "inprogress" && (R = _.shift(), S--), R && (p === "fx" && _.unshift("inprogress"), delete M.stop, R.call(c, q, M)), !S && M && M.empty.fire()
            },
            _queueHooks: function(c, p) {
                var _ = p + "queueHooks";
                return We.get(c, _) || We.access(c, _, {
                    empty: w.Callbacks("once memory").add(function() {
                        We.remove(c, [p + "queue", _])
                    })
                })
            }
        }), w.fn.extend({
            queue: function(c, p) {
                var _ = 2;
                return typeof c != "string" && (p = c, c = "fx", _--), arguments.length < _ ? w.queue(this[0], c) : p === void 0 ? this : this.each(function() {
                    var S = w.queue(this, c, p);
                    w._queueHooks(this, c), c === "fx" && S[0] !== "inprogress" && w.dequeue(this, c)
                })
            },
            dequeue: function(c) {
                return this.each(function() {
                    w.dequeue(this, c)
                })
            },
            clearQueue: function(c) {
                return this.queue(c || "fx", [])
            },
            promise: function(c, p) {
                var _, S = 1,
                    R = w.Deferred(),
                    M = this,
                    q = this.length,
                    j = function() {
                        --S || R.resolveWith(M, [M])
                    };
                for (typeof c != "string" && (p = c, c = void 0), c = c || "fx"; q--;) _ = We.get(M[q], c + "queueHooks"), _ && _.empty && (S++, _.empty.add(j));
                return j(), R.promise(p)
            }
        });
        var cr = /[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,
            ci = new RegExp("^(?:([+-])=|)(" + cr + ")([a-z%]*)$", "i"),
            Hi = ["Top", "Right", "Bottom", "Left"],
            Cn = E.documentElement,
            pn = function(c) {
                return w.contains(c.ownerDocument, c)
            },
            sn = {
                composed: !0
            };
        Cn.getRootNode && (pn = function(c) {
            return w.contains(c.ownerDocument, c) || c.getRootNode(sn) === c.ownerDocument
        });
        var on = function(c, p) {
            return c = p || c, c.style.display === "none" || c.style.display === "" && pn(c) && w.css(c, "display") === "none"
        };

        function aa(c, p, _, S) {
            var R, M, q = 20,
                j = S ? function() {
                    return S.cur()
                } : function() {
                    return w.css(c, p, "")
                },
                $ = j(),
                he = _ && _[3] || (w.cssNumber[p] ? "" : "px"),
                Te = c.nodeType && (w.cssNumber[p] || he !== "px" && +$) && ci.exec(w.css(c, p));
            if (Te && Te[3] !== he) {
                for ($ = $ / 2, he = he || Te[3], Te = +$ || 1; q--;) w.style(c, p, Te + he), (1 - M) * (1 - (M = j() / $ || .5)) <= 0 && (q = 0), Te = Te / M;
                Te = Te * 2, w.style(c, p, Te + he), _ = _ || []
            }
            return _ && (Te = +Te || +$ || 0, R = _[1] ? Te + (_[1] + 1) * _[2] : +_[2], S && (S.unit = he, S.start = Te, S.end = R)), R
        }
        var Ba = {};

        function Dr(c) {
            var p, _ = c.ownerDocument,
                S = c.nodeName,
                R = Ba[S];
            return R || (p = _.body.appendChild(_.createElement(S)), R = w.css(p, "display"), p.parentNode.removeChild(p), R === "none" && (R = "block"), Ba[S] = R, R)
        }

        function Pn(c, p) {
            for (var _, S, R = [], M = 0, q = c.length; M < q; M++) S = c[M], S.style && (_ = S.style.display, p ? (_ === "none" && (R[M] = We.get(S, "display") || null, R[M] || (S.style.display = "")), S.style.display === "" && on(S) && (R[M] = Dr(S))) : _ !== "none" && (R[M] = "none", We.set(S, "display", _)));
            for (M = 0; M < q; M++) R[M] != null && (c[M].style.display = R[M]);
            return c
        }
        w.fn.extend({
            show: function() {
                return Pn(this, !0)
            },
            hide: function() {
                return Pn(this)
            },
            toggle: function(c) {
                return typeof c == "boolean" ? c ? this.show() : this.hide() : this.each(function() {
                    on(this) ? w(this).show() : w(this).hide()
                })
            }
        });
        var bn = /^(?:checkbox|radio)$/i,
            sa = /<([a-z][^\/\0>\x20\t\r\n\f]*)/i,
            Fs = /^$|^module$|\/(?:java|ecma)script/i;
        (function() {
            var c = E.createDocumentFragment(),
                p = c.appendChild(E.createElement("div")),
                _ = E.createElement("input");
            _.setAttribute("type", "radio"), _.setAttribute("checked", "checked"), _.setAttribute("name", "t"), p.appendChild(_), x.checkClone = p.cloneNode(!0).cloneNode(!0).lastChild.checked, p.innerHTML = "<textarea>x</textarea>", x.noCloneChecked = !!p.cloneNode(!0).lastChild.defaultValue, p.innerHTML = "<option></option>", x.option = !!p.lastChild
        })();
        var er = {
            thead: [1, "<table>", "</table>"],
            col: [2, "<table><colgroup>", "</colgroup></table>"],
            tr: [2, "<table><tbody>", "</tbody></table>"],
            td: [3, "<table><tbody><tr>", "</tr></tbody></table>"],
            _default: [0, "", ""]
        };
        er.tbody = er.tfoot = er.colgroup = er.caption = er.thead, er.th = er.td, x.option || (er.optgroup = er.option = [1, "<select multiple='multiple'>", "</select>"]);

        function Sn(c, p) {
            var _;
            return typeof c.getElementsByTagName < "u" ? _ = c.getElementsByTagName(p || "*") : typeof c.querySelectorAll < "u" ? _ = c.querySelectorAll(p || "*") : _ = [], p === void 0 || p && oe(c, p) ? w.merge([c], _) : _
        }

        function oa(c, p) {
            for (var _ = 0, S = c.length; _ < S; _++) We.set(c[_], "globalEval", !p || We.get(p[_], "globalEval"))
        }
        var Nr = /<|&#?\w+;/;

        function qs(c, p, _, S, R) {
            for (var M, q, j, $, he, Te, Le = p.createDocumentFragment(), Ie = [], Ge = 0, Dt = c.length; Ge < Dt; Ge++)
                if (M = c[Ge], M || M === 0)
                    if (I(M) === "object") w.merge(Ie, M.nodeType ? [M] : M);
                    else if (!Nr.test(M)) Ie.push(p.createTextNode(M));
            else {
                for (q = q || Le.appendChild(p.createElement("div")), j = (sa.exec(M) || ["", ""])[1].toLowerCase(), $ = er[j] || er._default, q.innerHTML = $[1] + w.htmlPrefilter(M) + $[2], Te = $[0]; Te--;) q = q.lastChild;
                w.merge(Ie, q.childNodes), q = Le.firstChild, q.textContent = ""
            }
            for (Le.textContent = "", Ge = 0; M = Ie[Ge++];) {
                if (S && w.inArray(M, S) > -1) {
                    R && R.push(M);
                    continue
                }
                if (he = pn(M), q = Sn(Le.appendChild(M), "script"), he && oa(q), _)
                    for (Te = 0; M = q[Te++];) Fs.test(M.type || "") && _.push(M)
            }
            return Le
        }
        var Vs = /^([^.]*)(?:\.(.+)|)/;

        function la() {
            return !0
        }

        function Xe() {
            return !1
        }

        function Rn(c, p, _, S, R, M) {
            var q, j;
            if (typeof p == "object") {
                typeof _ != "string" && (S = S || _, _ = void 0);
                for (j in p) Rn(c, j, _, S, p[j], M);
                return c
            }
            if (S == null && R == null ? (R = _, S = _ = void 0) : R == null && (typeof _ == "string" ? (R = S, S = void 0) : (R = S, S = _, _ = void 0)), R === !1) R = Xe;
            else if (!R) return c;
            return M === 1 && (q = R, R = function($) {
                return w().off($), q.apply(this, arguments)
            }, R.guid = q.guid || (q.guid = w.guid++)), c.each(function() {
                w.event.add(this, p, R, S, _)
            })
        }
        w.event = {
            global: {},
            add: function(c, p, _, S, R) {
                var M, q, j, $, he, Te, Le, Ie, Ge, Dt, kt, ct = We.get(c);
                if (dt(c))
                    for (_.handler && (M = _, _ = M.handler, R = M.selector), R && w.find.matchesSelector(Cn, R), _.guid || (_.guid = w.guid++), ($ = ct.events) || ($ = ct.events = Object.create(null)), (q = ct.handle) || (q = ct.handle = function(wi) {
                            return typeof w < "u" && w.event.triggered !== wi.type ? w.event.dispatch.apply(c, arguments) : void 0
                        }), p = (p || "").match(xt) || [""], he = p.length; he--;) j = Vs.exec(p[he]) || [], Ge = kt = j[1], Dt = (j[2] || "").split(".").sort(), Ge && (Le = w.event.special[Ge] || {}, Ge = (R ? Le.delegateType : Le.bindType) || Ge, Le = w.event.special[Ge] || {}, Te = w.extend({
                        type: Ge,
                        origType: kt,
                        data: S,
                        handler: _,
                        guid: _.guid,
                        selector: R,
                        needsContext: R && w.expr.match.needsContext.test(R),
                        namespace: Dt.join(".")
                    }, M), (Ie = $[Ge]) || (Ie = $[Ge] = [], Ie.delegateCount = 0, (!Le.setup || Le.setup.call(c, S, Dt, q) === !1) && c.addEventListener && c.addEventListener(Ge, q)), Le.add && (Le.add.call(c, Te), Te.handler.guid || (Te.handler.guid = _.guid)), R ? Ie.splice(Ie.delegateCount++, 0, Te) : Ie.push(Te), w.event.global[Ge] = !0)
            },
            remove: function(c, p, _, S, R) {
                var M, q, j, $, he, Te, Le, Ie, Ge, Dt, kt, ct = We.hasData(c) && We.get(c);
                if (!(!ct || !($ = ct.events))) {
                    for (p = (p || "").match(xt) || [""], he = p.length; he--;) {
                        if (j = Vs.exec(p[he]) || [], Ge = kt = j[1], Dt = (j[2] || "").split(".").sort(), !Ge) {
                            for (Ge in $) w.event.remove(c, Ge + p[he], _, S, !0);
                            continue
                        }
                        for (Le = w.event.special[Ge] || {}, Ge = (S ? Le.delegateType : Le.bindType) || Ge, Ie = $[Ge] || [], j = j[2] && new RegExp("(^|\\.)" + Dt.join("\\.(?:.*\\.|)") + "(\\.|$)"), q = M = Ie.length; M--;) Te = Ie[M], (R || kt === Te.origType) && (!_ || _.guid === Te.guid) && (!j || j.test(Te.namespace)) && (!S || S === Te.selector || S === "**" && Te.selector) && (Ie.splice(M, 1), Te.selector && Ie.delegateCount--, Le.remove && Le.remove.call(c, Te));
                        q && !Ie.length && ((!Le.teardown || Le.teardown.call(c, Dt, ct.handle) === !1) && w.removeEvent(c, Ge, ct.handle), delete $[Ge])
                    }
                    w.isEmptyObject($) && We.remove(c, "handle events")
                }
            },
            dispatch: function(c) {
                var p, _, S, R, M, q, j = new Array(arguments.length),
                    $ = w.event.fix(c),
                    he = (We.get(this, "events") || Object.create(null))[$.type] || [],
                    Te = w.event.special[$.type] || {};
                for (j[0] = $, p = 1; p < arguments.length; p++) j[p] = arguments[p];
                if ($.delegateTarget = this, !(Te.preDispatch && Te.preDispatch.call(this, $) === !1)) {
                    for (q = w.event.handlers.call(this, $, he), p = 0;
                        (R = q[p++]) && !$.isPropagationStopped();)
                        for ($.currentTarget = R.elem, _ = 0;
                            (M = R.handlers[_++]) && !$.isImmediatePropagationStopped();)(!$.rnamespace || M.namespace === !1 || $.rnamespace.test(M.namespace)) && ($.handleObj = M, $.data = M.data, S = ((w.event.special[M.origType] || {}).handle || M.handler).apply(R.elem, j), S !== void 0 && ($.result = S) === !1 && ($.preventDefault(), $.stopPropagation()));
                    return Te.postDispatch && Te.postDispatch.call(this, $), $.result
                }
            },
            handlers: function(c, p) {
                var _, S, R, M, q, j = [],
                    $ = p.delegateCount,
                    he = c.target;
                if ($ && he.nodeType && !(c.type === "click" && c.button >= 1)) {
                    for (; he !== this; he = he.parentNode || this)
                        if (he.nodeType === 1 && !(c.type === "click" && he.disabled === !0)) {
                            for (M = [], q = {}, _ = 0; _ < $; _++) S = p[_], R = S.selector + " ", q[R] === void 0 && (q[R] = S.needsContext ? w(R, this).index(he) > -1 : w.find(R, this, null, [he]).length), q[R] && M.push(S);
                            M.length && j.push({
                                elem: he,
                                handlers: M
                            })
                        }
                }
                return he = this, $ < p.length && j.push({
                    elem: he,
                    handlers: p.slice($)
                }), j
            },
            addProp: function(c, p) {
                Object.defineProperty(w.Event.prototype, c, {
                    enumerable: !0,
                    configurable: !0,
                    get: C(p) ? function() {
                        if (this.originalEvent) return p(this.originalEvent)
                    } : function() {
                        if (this.originalEvent) return this.originalEvent[c]
                    },
                    set: function(_) {
                        Object.defineProperty(this, c, {
                            enumerable: !0,
                            configurable: !0,
                            writable: !0,
                            value: _
                        })
                    }
                })
            },
            fix: function(c) {
                return c[w.expando] ? c : new w.Event(c)
            },
            special: {
                load: {
                    noBubble: !0
                },
                click: {
                    setup: function(c) {
                        var p = this || c;
                        return bn.test(p.type) && p.click && oe(p, "input") && Tt(p, "click", !0), !1
                    },
                    trigger: function(c) {
                        var p = this || c;
                        return bn.test(p.type) && p.click && oe(p, "input") && Tt(p, "click"), !0
                    },
                    _default: function(c) {
                        var p = c.target;
                        return bn.test(p.type) && p.click && oe(p, "input") && We.get(p, "click") || oe(p, "a")
                    }
                },
                beforeunload: {
                    postDispatch: function(c) {
                        c.result !== void 0 && c.originalEvent && (c.originalEvent.returnValue = c.result)
                    }
                }
            }
        };

        function Tt(c, p, _) {
            if (!_) {
                We.get(c, p) === void 0 && w.event.add(c, p, la);
                return
            }
            We.set(c, p, !1), w.event.add(c, p, {
                namespace: !1,
                handler: function(S) {
                    var R, M = We.get(this, p);
                    if (S.isTrigger & 1 && this[p]) {
                        if (M)(w.event.special[p] || {}).delegateType && S.stopPropagation();
                        else if (M = r.call(arguments), We.set(this, p, M), this[p](), R = We.get(this, p), We.set(this, p, !1), M !== R) return S.stopImmediatePropagation(), S.preventDefault(), R
                    } else M && (We.set(this, p, w.event.trigger(M[0], M.slice(1), this)), S.stopPropagation(), S.isImmediatePropagationStopped = la)
                }
            })
        }
        w.removeEvent = function(c, p, _) {
            c.removeEventListener && c.removeEventListener(p, _)
        }, w.Event = function(c, p) {
            if (!(this instanceof w.Event)) return new w.Event(c, p);
            c && c.type ? (this.originalEvent = c, this.type = c.type, this.isDefaultPrevented = c.defaultPrevented || c.defaultPrevented === void 0 && c.returnValue === !1 ? la : Xe, this.target = c.target && c.target.nodeType === 3 ? c.target.parentNode : c.target, this.currentTarget = c.currentTarget, this.relatedTarget = c.relatedTarget) : this.type = c, p && w.extend(this, p), this.timeStamp = c && c.timeStamp || Date.now(), this[w.expando] = !0
        }, w.Event.prototype = {
            constructor: w.Event,
            isDefaultPrevented: Xe,
            isPropagationStopped: Xe,
            isImmediatePropagationStopped: Xe,
            isSimulated: !1,
            preventDefault: function() {
                var c = this.originalEvent;
                this.isDefaultPrevented = la, c && !this.isSimulated && c.preventDefault()
            },
            stopPropagation: function() {
                var c = this.originalEvent;
                this.isPropagationStopped = la, c && !this.isSimulated && c.stopPropagation()
            },
            stopImmediatePropagation: function() {
                var c = this.originalEvent;
                this.isImmediatePropagationStopped = la, c && !this.isSimulated && c.stopImmediatePropagation(), this.stopPropagation()
            }
        }, w.each({
            altKey: !0,
            bubbles: !0,
            cancelable: !0,
            changedTouches: !0,
            ctrlKey: !0,
            detail: !0,
            eventPhase: !0,
            metaKey: !0,
            pageX: !0,
            pageY: !0,
            shiftKey: !0,
            view: !0,
            char: !0,
            code: !0,
            charCode: !0,
            key: !0,
            keyCode: !0,
            button: !0,
            buttons: !0,
            clientX: !0,
            clientY: !0,
            offsetX: !0,
            offsetY: !0,
            pointerId: !0,
            pointerType: !0,
            screenX: !0,
            screenY: !0,
            targetTouches: !0,
            toElement: !0,
            touches: !0,
            which: !0
        }, w.event.addProp), w.each({
            focus: "focusin",
            blur: "focusout"
        }, function(c, p) {
            function _(S) {
                if (E.documentMode) {
                    var R = We.get(this, "handle"),
                        M = w.event.fix(S);
                    M.type = S.type === "focusin" ? "focus" : "blur", M.isSimulated = !0, R(S), M.target === M.currentTarget && R(M)
                } else w.event.simulate(p, S.target, w.event.fix(S))
            }
            w.event.special[c] = {
                setup: function() {
                    var S;
                    if (Tt(this, c, !0), E.documentMode) S = We.get(this, p), S || this.addEventListener(p, _), We.set(this, p, (S || 0) + 1);
                    else return !1
                },
                trigger: function() {
                    return Tt(this, c), !0
                },
                teardown: function() {
                    var S;
                    if (E.documentMode) S = We.get(this, p) - 1, S ? We.set(this, p, S) : (this.removeEventListener(p, _), We.remove(this, p));
                    else return !1
                },
                _default: function(S) {
                    return We.get(S.target, c)
                },
                delegateType: p
            }, w.event.special[p] = {
                setup: function() {
                    var S = this.ownerDocument || this.document || this,
                        R = E.documentMode ? this : S,
                        M = We.get(R, p);
                    M || (E.documentMode ? this.addEventListener(p, _) : S.addEventListener(c, _, !0)), We.set(R, p, (M || 0) + 1)
                },
                teardown: function() {
                    var S = this.ownerDocument || this.document || this,
                        R = E.documentMode ? this : S,
                        M = We.get(R, p) - 1;
                    M ? We.set(R, p, M) : (E.documentMode ? this.removeEventListener(p, _) : S.removeEventListener(c, _, !0), We.remove(R, p))
                }
            }
        }), w.each({
            mouseenter: "mouseover",
            mouseleave: "mouseout",
            pointerenter: "pointerover",
            pointerleave: "pointerout"
        }, function(c, p) {
            w.event.special[c] = {
                delegateType: p,
                bindType: p,
                handle: function(_) {
                    var S, R = this,
                        M = _.relatedTarget,
                        q = _.handleObj;
                    return (!M || M !== R && !w.contains(R, M)) && (_.type = q.origType, S = q.handler.apply(this, arguments), _.type = p), S
                }
            }
        }), w.fn.extend({
            on: function(c, p, _, S) {
                return Rn(this, c, p, _, S)
            },
            one: function(c, p, _, S) {
                return Rn(this, c, p, _, S, 1)
            },
            off: function(c, p, _) {
                var S, R;
                if (c && c.preventDefault && c.handleObj) return S = c.handleObj, w(c.delegateTarget).off(S.namespace ? S.origType + "." + S.namespace : S.origType, S.selector, S.handler), this;
                if (typeof c == "object") {
                    for (R in c) this.off(R, p, c[R]);
                    return this
                }
                return (p === !1 || typeof p == "function") && (_ = p, p = void 0), _ === !1 && (_ = Xe), this.each(function() {
                    w.event.remove(this, c, _, p)
                })
            }
        });
        var Ka = /<script|<style|<link/i,
            Pr = /checked\s*(?:[^=]|=\s*.checked.)/i,
            $r = /^\s*<!\[CDATA\[|\]\]>\s*$/g;

        function jr(c, p) {
            return oe(c, "table") && oe(p.nodeType !== 11 ? p : p.firstChild, "tr") && w(c).children("tbody")[0] || c
        }

        function Mi(c) {
            return c.type = (c.getAttribute("type") !== null) + "/" + c.type, c
        }

        function Wi(c) {
            return (c.type || "").slice(0, 5) === "true/" ? c.type = c.type.slice(5) : c.removeAttribute("type"), c
        }

        function Ki(c, p) {
            var _, S, R, M, q, j, $;
            if (p.nodeType === 1) {
                if (We.hasData(c) && (M = We.get(c), $ = M.events, $)) {
                    We.remove(p, "handle events");
                    for (R in $)
                        for (_ = 0, S = $[R].length; _ < S; _++) w.event.add(p, R, $[R][_])
                }
                Ft.hasData(c) && (q = Ft.access(c), j = w.extend({}, q), Ft.set(p, j))
            }
        }

        function Oi(c, p) {
            var _ = p.nodeName.toLowerCase();
            _ === "input" && bn.test(c.type) ? p.checked = c.checked : (_ === "input" || _ === "textarea") && (p.defaultValue = c.defaultValue)
        }

        function Kn(c, p, _, S) {
            p = a(p);
            var R, M, q, j, $, he, Te = 0,
                Le = c.length,
                Ie = Le - 1,
                Ge = p[0],
                Dt = C(Ge);
            if (Dt || Le > 1 && typeof Ge == "string" && !x.checkClone && Pr.test(Ge)) return c.each(function(kt) {
                var ct = c.eq(kt);
                Dt && (p[0] = Ge.call(this, kt, ct.html())), Kn(ct, p, _, S)
            });
            if (Le && (R = qs(p, c[0].ownerDocument, !1, c, S), M = R.firstChild, R.childNodes.length === 1 && (R = M), M || S)) {
                for (q = w.map(Sn(R, "script"), Mi), j = q.length; Te < Le; Te++) $ = R, Te !== Ie && ($ = w.clone($, !0, !0), j && w.merge(q, Sn($, "script"))), _.call(c[Te], $, Te);
                if (j)
                    for (he = q[q.length - 1].ownerDocument, w.map(q, Wi), Te = 0; Te < j; Te++) $ = q[Te], Fs.test($.type || "") && !We.access($, "globalEval") && w.contains(he, $) && ($.src && ($.type || "").toLowerCase() !== "module" ? w._evalUrl && !$.noModule && w._evalUrl($.src, {
                        nonce: $.nonce || $.getAttribute("nonce")
                    }, he) : D($.textContent.replace($r, ""), $, he))
            }
            return c
        }

        function Wr(c, p, _) {
            for (var S, R = p ? w.filter(p, c) : c, M = 0;
                (S = R[M]) != null; M++) !_ && S.nodeType === 1 && w.cleanData(Sn(S)), S.parentNode && (_ && pn(S) && oa(Sn(S, "script")), S.parentNode.removeChild(S));
            return c
        }
        w.extend({
            htmlPrefilter: function(c) {
                return c
            },
            clone: function(c, p, _) {
                var S, R, M, q, j = c.cloneNode(!0),
                    $ = pn(c);
                if (!x.noCloneChecked && (c.nodeType === 1 || c.nodeType === 11) && !w.isXMLDoc(c))
                    for (q = Sn(j), M = Sn(c), S = 0, R = M.length; S < R; S++) Oi(M[S], q[S]);
                if (p)
                    if (_)
                        for (M = M || Sn(c), q = q || Sn(j), S = 0, R = M.length; S < R; S++) Ki(M[S], q[S]);
                    else Ki(c, j);
                return q = Sn(j, "script"), q.length > 0 && oa(q, !$ && Sn(c, "script")), j
            },
            cleanData: function(c) {
                for (var p, _, S, R = w.event.special, M = 0;
                    (_ = c[M]) !== void 0; M++)
                    if (dt(_)) {
                        if (p = _[We.expando]) {
                            if (p.events)
                                for (S in p.events) R[S] ? w.event.remove(_, S) : w.removeEvent(_, S, p.handle);
                            _[We.expando] = void 0
                        }
                        _[Ft.expando] && (_[Ft.expando] = void 0)
                    }
            }
        }), w.fn.extend({
            detach: function(c) {
                return Wr(this, c, !0)
            },
            remove: function(c) {
                return Wr(this, c)
            },
            text: function(c) {
                return be(this, function(p) {
                    return p === void 0 ? w.text(this) : this.empty().each(function() {
                        (this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9) && (this.textContent = p)
                    })
                }, null, c, arguments.length)
            },
            append: function() {
                return Kn(this, arguments, function(c) {
                    if (this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9) {
                        var p = jr(this, c);
                        p.appendChild(c)
                    }
                })
            },
            prepend: function() {
                return Kn(this, arguments, function(c) {
                    if (this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9) {
                        var p = jr(this, c);
                        p.insertBefore(c, p.firstChild)
                    }
                })
            },
            before: function() {
                return Kn(this, arguments, function(c) {
                    this.parentNode && this.parentNode.insertBefore(c, this)
                })
            },
            after: function() {
                return Kn(this, arguments, function(c) {
                    this.parentNode && this.parentNode.insertBefore(c, this.nextSibling)
                })
            },
            empty: function() {
                for (var c, p = 0;
                    (c = this[p]) != null; p++) c.nodeType === 1 && (w.cleanData(Sn(c, !1)), c.textContent = "");
                return this
            },
            clone: function(c, p) {
                return c = c == null ? !1 : c, p = p == null ? c : p, this.map(function() {
                    return w.clone(this, c, p)
                })
            },
            html: function(c) {
                return be(this, function(p) {
                    var _ = this[0] || {},
                        S = 0,
                        R = this.length;
                    if (p === void 0 && _.nodeType === 1) return _.innerHTML;
                    if (typeof p == "string" && !Ka.test(p) && !er[(sa.exec(p) || ["", ""])[1].toLowerCase()]) {
                        p = w.htmlPrefilter(p);
                        try {
                            for (; S < R; S++) _ = this[S] || {}, _.nodeType === 1 && (w.cleanData(Sn(_, !1)), _.innerHTML = p);
                            _ = 0
                        } catch {}
                    }
                    _ && this.empty().append(p)
                }, null, c, arguments.length)
            },
            replaceWith: function() {
                var c = [];
                return Kn(this, arguments, function(p) {
                    var _ = this.parentNode;
                    w.inArray(this, c) < 0 && (w.cleanData(Sn(this)), _ && _.replaceChild(p, this))
                }, c)
            }
        }), w.each({
            appendTo: "append",
            prependTo: "prepend",
            insertBefore: "before",
            insertAfter: "after",
            replaceAll: "replaceWith"
        }, function(c, p) {
            w.fn[c] = function(_) {
                for (var S, R = [], M = w(_), q = M.length - 1, j = 0; j <= q; j++) S = j === q ? this : this.clone(!0), w(M[j])[p](S), s.apply(R, S.get());
                return this.pushStack(R)
            }
        });
        var Tn = new RegExp("^(" + cr + ")(?!px)[a-z%]+$", "i"),
            tr = /^--/,
            Un = function(c) {
                var p = c.ownerDocument.defaultView;
                return (!p || !p.opener) && (p = e), p.getComputedStyle(c)
            },
            Ea = function(c, p, _) {
                var S, R, M = {};
                for (R in p) M[R] = c.style[R], c.style[R] = p[R];
                S = _.call(c);
                for (R in p) c.style[R] = M[R];
                return S
            },
            Nt = new RegExp(Hi.join("|"), "i");
        (function() {
            function c() {
                if (he) {
                    $.style.cssText = "position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0", he.style.cssText = "position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%", Cn.appendChild($).appendChild(he);
                    var Te = e.getComputedStyle(he);
                    _ = Te.top !== "1%", j = p(Te.marginLeft) === 12, he.style.right = "60%", M = p(Te.right) === 36, S = p(Te.width) === 36, he.style.position = "absolute", R = p(he.offsetWidth / 3) === 12, Cn.removeChild($), he = null
                }
            }

            function p(Te) {
                return Math.round(parseFloat(Te))
            }
            var _, S, R, M, q, j, $ = E.createElement("div"),
                he = E.createElement("div");
            he.style && (he.style.backgroundClip = "content-box", he.cloneNode(!0).style.backgroundClip = "", x.clearCloneStyle = he.style.backgroundClip === "content-box", w.extend(x, {
                boxSizingReliable: function() {
                    return c(), S
                },
                pixelBoxStyles: function() {
                    return c(), M
                },
                pixelPosition: function() {
                    return c(), _
                },
                reliableMarginLeft: function() {
                    return c(), j
                },
                scrollboxSize: function() {
                    return c(), R
                },
                reliableTrDimensions: function() {
                    var Te, Le, Ie, Ge;
                    return q == null && (Te = E.createElement("table"), Le = E.createElement("tr"), Ie = E.createElement("div"), Te.style.cssText = "position:absolute;left:-11111px;border-collapse:separate", Le.style.cssText = "box-sizing:content-box;border:1px solid", Le.style.height = "1px", Ie.style.height = "9px", Ie.style.display = "block", Cn.appendChild(Te).appendChild(Le).appendChild(Ie), Ge = e.getComputedStyle(Le), q = parseInt(Ge.height, 10) + parseInt(Ge.borderTopWidth, 10) + parseInt(Ge.borderBottomWidth, 10) === Le.offsetHeight, Cn.removeChild(Te)), q
                }
            }))
        })();

        function fi(c, p, _) {
            var S, R, M, q, j = tr.test(p),
                $ = c.style;
            return _ = _ || Un(c), _ && (q = _.getPropertyValue(p) || _[p], j && q && (q = q.replace(se, "$1") || void 0), q === "" && !pn(c) && (q = w.style(c, p)), !x.pixelBoxStyles() && Tn.test(q) && Nt.test(p) && (S = $.width, R = $.minWidth, M = $.maxWidth, $.minWidth = $.maxWidth = $.width = q, q = _.width, $.width = S, $.minWidth = R, $.maxWidth = M)), q !== void 0 ? q + "" : q
        }

        function mi(c, p) {
            return {
                get: function() {
                    if (c()) {
                        delete this.get;
                        return
                    }
                    return (this.get = p).apply(this, arguments)
                }
            }
        }
        var xi = ["Webkit", "Moz", "ms"],
            Ga = E.createElement("div").style,
            Ca = {};

        function ua(c) {
            for (var p = c[0].toUpperCase() + c.slice(1), _ = xi.length; _--;)
                if (c = xi[_] + p, c in Ga) return c
        }

        function fr(c) {
            var p = w.cssProps[c] || Ca[c];
            return p || (c in Ga ? c : Ca[c] = ua(c) || c)
        }
        var Rr = /^(none|table(?!-c[ea]).+)/,
            ln = {
                position: "absolute",
                visibility: "hidden",
                display: "block"
            },
            Bn = {
                letterSpacing: "0",
                fontWeight: "400"
            };

        function Ee(c, p, _) {
            var S = ci.exec(p);
            return S ? Math.max(0, S[2] - (_ || 0)) + (S[3] || "px") : p
        }

        function ze(c, p, _, S, R, M) {
            var q = p === "width" ? 1 : 0,
                j = 0,
                $ = 0,
                he = 0;
            if (_ === (S ? "border" : "content")) return 0;
            for (; q < 4; q += 2) _ === "margin" && (he += w.css(c, _ + Hi[q], !0, R)), S ? (_ === "content" && ($ -= w.css(c, "padding" + Hi[q], !0, R)), _ !== "margin" && ($ -= w.css(c, "border" + Hi[q] + "Width", !0, R))) : ($ += w.css(c, "padding" + Hi[q], !0, R), _ !== "padding" ? $ += w.css(c, "border" + Hi[q] + "Width", !0, R) : j += w.css(c, "border" + Hi[q] + "Width", !0, R));
            return !S && M >= 0 && ($ += Math.max(0, Math.ceil(c["offset" + p[0].toUpperCase() + p.slice(1)] - M - $ - j - .5)) || 0), $ + he
        }

        function ot(c, p, _) {
            var S = Un(c),
                R = !x.boxSizingReliable() || _,
                M = R && w.css(c, "boxSizing", !1, S) === "border-box",
                q = M,
                j = fi(c, p, S),
                $ = "offset" + p[0].toUpperCase() + p.slice(1);
            if (Tn.test(j)) {
                if (!_) return j;
                j = "auto"
            }
            return (!x.boxSizingReliable() && M || !x.reliableTrDimensions() && oe(c, "tr") || j === "auto" || !parseFloat(j) && w.css(c, "display", !1, S) === "inline") && c.getClientRects().length && (M = w.css(c, "boxSizing", !1, S) === "border-box", q = $ in c, q && (j = c[$])), j = parseFloat(j) || 0, j + ze(c, p, _ || (M ? "border" : "content"), q, S, j) + "px"
        }
        w.extend({
            cssHooks: {
                opacity: {
                    get: function(c, p) {
                        if (p) {
                            var _ = fi(c, "opacity");
                            return _ === "" ? "1" : _
                        }
                    }
                }
            },
            cssNumber: {
                animationIterationCount: !0,
                aspectRatio: !0,
                borderImageSlice: !0,
                columnCount: !0,
                flexGrow: !0,
                flexShrink: !0,
                fontWeight: !0,
                gridArea: !0,
                gridColumn: !0,
                gridColumnEnd: !0,
                gridColumnStart: !0,
                gridRow: !0,
                gridRowEnd: !0,
                gridRowStart: !0,
                lineHeight: !0,
                opacity: !0,
                order: !0,
                orphans: !0,
                scale: !0,
                widows: !0,
                zIndex: !0,
                zoom: !0,
                fillOpacity: !0,
                floodOpacity: !0,
                stopOpacity: !0,
                strokeMiterlimit: !0,
                strokeOpacity: !0
            },
            cssProps: {},
            style: function(c, p, _, S) {
                if (!(!c || c.nodeType === 3 || c.nodeType === 8 || !c.style)) {
                    var R, M, q, j = Je(p),
                        $ = tr.test(p),
                        he = c.style;
                    if ($ || (p = fr(j)), q = w.cssHooks[p] || w.cssHooks[j], _ !== void 0) {
                        if (M = typeof _, M === "string" && (R = ci.exec(_)) && R[1] && (_ = aa(c, p, R), M = "number"), _ == null || _ !== _) return;
                        M === "number" && !$ && (_ += R && R[3] || (w.cssNumber[j] ? "" : "px")), !x.clearCloneStyle && _ === "" && p.indexOf("background") === 0 && (he[p] = "inherit"), (!q || !("set" in q) || (_ = q.set(c, _, S)) !== void 0) && ($ ? he.setProperty(p, _) : he[p] = _)
                    } else return q && "get" in q && (R = q.get(c, !1, S)) !== void 0 ? R : he[p]
                }
            },
            css: function(c, p, _, S) {
                var R, M, q, j = Je(p),
                    $ = tr.test(p);
                return $ || (p = fr(j)), q = w.cssHooks[p] || w.cssHooks[j], q && "get" in q && (R = q.get(c, !0, _)), R === void 0 && (R = fi(c, p, S)), R === "normal" && p in Bn && (R = Bn[p]), _ === "" || _ ? (M = parseFloat(R), _ === !0 || isFinite(M) ? M || 0 : R) : R
            }
        }), w.each(["height", "width"], function(c, p) {
            w.cssHooks[p] = {
                get: function(_, S, R) {
                    if (S) return Rr.test(w.css(_, "display")) && (!_.getClientRects().length || !_.getBoundingClientRect().width) ? Ea(_, ln, function() {
                        return ot(_, p, R)
                    }) : ot(_, p, R)
                },
                set: function(_, S, R) {
                    var M, q = Un(_),
                        j = !x.scrollboxSize() && q.position === "absolute",
                        $ = j || R,
                        he = $ && w.css(_, "boxSizing", !1, q) === "border-box",
                        Te = R ? ze(_, p, R, he, q) : 0;
                    return he && j && (Te -= Math.ceil(_["offset" + p[0].toUpperCase() + p.slice(1)] - parseFloat(q[p]) - ze(_, p, "border", !1, q) - .5)), Te && (M = ci.exec(S)) && (M[3] || "px") !== "px" && (_.style[p] = S, S = w.css(_, p)), Ee(_, S, Te)
                }
            }
        }), w.cssHooks.marginLeft = mi(x.reliableMarginLeft, function(c, p) {
            if (p) return (parseFloat(fi(c, "marginLeft")) || c.getBoundingClientRect().left - Ea(c, {
                marginLeft: 0
            }, function() {
                return c.getBoundingClientRect().left
            })) + "px"
        }), w.each({
            margin: "",
            padding: "",
            border: "Width"
        }, function(c, p) {
            w.cssHooks[c + p] = {
                expand: function(_) {
                    for (var S = 0, R = {}, M = typeof _ == "string" ? _.split(" ") : [_]; S < 4; S++) R[c + Hi[S] + p] = M[S] || M[S - 2] || M[0];
                    return R
                }
            }, c !== "margin" && (w.cssHooks[c + p].set = Ee)
        }), w.fn.extend({
            css: function(c, p) {
                return be(this, function(_, S, R) {
                    var M, q, j = {},
                        $ = 0;
                    if (Array.isArray(S)) {
                        for (M = Un(_), q = S.length; $ < q; $++) j[S[$]] = w.css(_, S[$], !1, M);
                        return j
                    }
                    return R !== void 0 ? w.style(_, S, R) : w.css(_, S)
                }, c, p, arguments.length > 1)
            }
        });

        function Et(c, p, _, S, R) {
            return new Et.prototype.init(c, p, _, S, R)
        }
        w.Tween = Et, Et.prototype = {
            constructor: Et,
            init: function(c, p, _, S, R, M) {
                this.elem = c, this.prop = _, this.easing = R || w.easing._default, this.options = p, this.start = this.now = this.cur(), this.end = S, this.unit = M || (w.cssNumber[_] ? "" : "px")
            },
            cur: function() {
                var c = Et.propHooks[this.prop];
                return c && c.get ? c.get(this) : Et.propHooks._default.get(this)
            },
            run: function(c) {
                var p, _ = Et.propHooks[this.prop];
                return this.options.duration ? this.pos = p = w.easing[this.easing](c, this.options.duration * c, 0, 1, this.options.duration) : this.pos = p = c, this.now = (this.end - this.start) * p + this.start, this.options.step && this.options.step.call(this.elem, this.now, this), _ && _.set ? _.set(this) : Et.propHooks._default.set(this), this
            }
        }, Et.prototype.init.prototype = Et.prototype, Et.propHooks = {
            _default: {
                get: function(c) {
                    var p;
                    return c.elem.nodeType !== 1 || c.elem[c.prop] != null && c.elem.style[c.prop] == null ? c.elem[c.prop] : (p = w.css(c.elem, c.prop, ""), !p || p === "auto" ? 0 : p)
                },
                set: function(c) {
                    w.fx.step[c.prop] ? w.fx.step[c.prop](c) : c.elem.nodeType === 1 && (w.cssHooks[c.prop] || c.elem.style[fr(c.prop)] != null) ? w.style(c.elem, c.prop, c.now + c.unit) : c.elem[c.prop] = c.now
                }
            }
        }, Et.propHooks.scrollTop = Et.propHooks.scrollLeft = {
            set: function(c) {
                c.elem.nodeType && c.elem.parentNode && (c.elem[c.prop] = c.now)
            }
        }, w.easing = {
            linear: function(c) {
                return c
            },
            swing: function(c) {
                return .5 - Math.cos(c * Math.PI) / 2
            },
            _default: "swing"
        }, w.fx = Et.prototype.init, w.fx.step = {};
        var en, Gi, Gt = /^(?:toggle|show|hide)$/,
            Zi = /queueHooks$/;

        function Cs() {
            Gi && (E.hidden === !1 && e.requestAnimationFrame ? e.requestAnimationFrame(Cs) : e.setTimeout(Cs, w.fx.interval), w.fx.tick())
        }

        function Gn() {
            return e.setTimeout(function() {
                en = void 0
            }), en = Date.now()
        }

        function Fn(c, p) {
            var _, S = 0,
                R = {
                    height: c
                };
            for (p = p ? 1 : 0; S < 4; S += 2 - p) _ = Hi[S], R["margin" + _] = R["padding" + _] = c;
            return p && (R.opacity = R.width = c), R
        }

        function Za(c, p, _) {
            for (var S, R = (li.tweeners[p] || []).concat(li.tweeners["*"]), M = 0, q = R.length; M < q; M++)
                if (S = R[M].call(_, p, c)) return S
        }

        function zs(c, p, _) {
            var S, R, M, q, j, $, he, Te, Le = "width" in p || "height" in p,
                Ie = this,
                Ge = {},
                Dt = c.style,
                kt = c.nodeType && on(c),
                ct = We.get(c, "fxshow");
            _.queue || (q = w._queueHooks(c, "fx"), q.unqueued == null && (q.unqueued = 0, j = q.empty.fire, q.empty.fire = function() {
                q.unqueued || j()
            }), q.unqueued++, Ie.always(function() {
                Ie.always(function() {
                    q.unqueued--, w.queue(c, "fx").length || q.empty.fire()
                })
            }));
            for (S in p)
                if (R = p[S], Gt.test(R)) {
                    if (delete p[S], M = M || R === "toggle", R === (kt ? "hide" : "show"))
                        if (R === "show" && ct && ct[S] !== void 0) kt = !0;
                        else continue;
                    Ge[S] = ct && ct[S] || w.style(c, S)
                }
            if ($ = !w.isEmptyObject(p), !(!$ && w.isEmptyObject(Ge))) {
                Le && c.nodeType === 1 && (_.overflow = [Dt.overflow, Dt.overflowX, Dt.overflowY], he = ct && ct.display, he == null && (he = We.get(c, "display")), Te = w.css(c, "display"), Te === "none" && (he ? Te = he : (Pn([c], !0), he = c.style.display || he, Te = w.css(c, "display"), Pn([c]))), (Te === "inline" || Te === "inline-block" && he != null) && w.css(c, "float") === "none" && ($ || (Ie.done(function() {
                    Dt.display = he
                }), he == null && (Te = Dt.display, he = Te === "none" ? "" : Te)), Dt.display = "inline-block")), _.overflow && (Dt.overflow = "hidden", Ie.always(function() {
                    Dt.overflow = _.overflow[0], Dt.overflowX = _.overflow[1], Dt.overflowY = _.overflow[2]
                })), $ = !1;
                for (S in Ge) $ || (ct ? "hidden" in ct && (kt = ct.hidden) : ct = We.access(c, "fxshow", {
                    display: he
                }), M && (ct.hidden = !kt), kt && Pn([c], !0), Ie.done(function() {
                    kt || Pn([c]), We.remove(c, "fxshow");
                    for (S in Ge) w.style(c, S, Ge[S])
                })), $ = Za(kt ? ct[S] : 0, S, Ie), S in ct || (ct[S] = $.start, kt && ($.end = $.start, $.start = 0))
            }
        }

        function Ma(c, p) {
            var _, S, R, M, q;
            for (_ in c)
                if (S = Je(_), R = p[S], M = c[_], Array.isArray(M) && (R = M[1], M = c[_] = M[0]), _ !== S && (c[S] = M, delete c[_]), q = w.cssHooks[S], q && "expand" in q) {
                    M = q.expand(M), delete c[S];
                    for (_ in M) _ in c || (c[_] = M[_], p[_] = R)
                } else p[S] = R
        }

        function li(c, p, _) {
            var S, R, M = 0,
                q = li.prefilters.length,
                j = w.Deferred().always(function() {
                    delete $.elem
                }),
                $ = function() {
                    if (R) return !1;
                    for (var Le = en || Gn(), Ie = Math.max(0, he.startTime + he.duration - Le), Ge = Ie / he.duration || 0, Dt = 1 - Ge, kt = 0, ct = he.tweens.length; kt < ct; kt++) he.tweens[kt].run(Dt);
                    return j.notifyWith(c, [he, Dt, Ie]), Dt < 1 && ct ? Ie : (ct || j.notifyWith(c, [he, 1, 0]), j.resolveWith(c, [he]), !1)
                },
                he = j.promise({
                    elem: c,
                    props: w.extend({}, p),
                    opts: w.extend(!0, {
                        specialEasing: {},
                        easing: w.easing._default
                    }, _),
                    originalProperties: p,
                    originalOptions: _,
                    startTime: en || Gn(),
                    duration: _.duration,
                    tweens: [],
                    createTween: function(Le, Ie) {
                        var Ge = w.Tween(c, he.opts, Le, Ie, he.opts.specialEasing[Le] || he.opts.easing);
                        return he.tweens.push(Ge), Ge
                    },
                    stop: function(Le) {
                        var Ie = 0,
                            Ge = Le ? he.tweens.length : 0;
                        if (R) return this;
                        for (R = !0; Ie < Ge; Ie++) he.tweens[Ie].run(1);
                        return Le ? (j.notifyWith(c, [he, 1, 0]), j.resolveWith(c, [he, Le])) : j.rejectWith(c, [he, Le]), this
                    }
                }),
                Te = he.props;
            for (Ma(Te, he.opts.specialEasing); M < q; M++)
                if (S = li.prefilters[M].call(he, c, Te, he.opts), S) return C(S.stop) && (w._queueHooks(he.elem, he.opts.queue).stop = S.stop.bind(S)), S;
            return w.map(Te, Za, he), C(he.opts.start) && he.opts.start.call(c, he), he.progress(he.opts.progress).done(he.opts.done, he.opts.complete).fail(he.opts.fail).always(he.opts.always), w.fx.timer(w.extend($, {
                elem: c,
                anim: he,
                queue: he.opts.queue
            })), he
        }
        w.Animation = w.extend(li, {
                tweeners: {
                    "*": [function(c, p) {
                        var _ = this.createTween(c, p);
                        return aa(_.elem, c, ci.exec(p), _), _
                    }]
                },
                tweener: function(c, p) {
                    C(c) ? (p = c, c = ["*"]) : c = c.match(xt);
                    for (var _, S = 0, R = c.length; S < R; S++) _ = c[S], li.tweeners[_] = li.tweeners[_] || [], li.tweeners[_].unshift(p)
                },
                prefilters: [zs],
                prefilter: function(c, p) {
                    p ? li.prefilters.unshift(c) : li.prefilters.push(c)
                }
            }), w.speed = function(c, p, _) {
                var S = c && typeof c == "object" ? w.extend({}, c) : {
                    complete: _ || !_ && p || C(c) && c,
                    duration: c,
                    easing: _ && p || p && !C(p) && p
                };
                return w.fx.off ? S.duration = 0 : typeof S.duration != "number" && (S.duration in w.fx.speeds ? S.duration = w.fx.speeds[S.duration] : S.duration = w.fx.speeds._default), (S.queue == null || S.queue === !0) && (S.queue = "fx"), S.old = S.complete, S.complete = function() {
                    C(S.old) && S.old.call(this), S.queue && w.dequeue(this, S.queue)
                }, S
            }, w.fn.extend({
                fadeTo: function(c, p, _, S) {
                    return this.filter(on).css("opacity", 0).show().end().animate({
                        opacity: p
                    }, c, _, S)
                },
                animate: function(c, p, _, S) {
                    var R = w.isEmptyObject(c),
                        M = w.speed(p, _, S),
                        q = function() {
                            var j = li(this, w.extend({}, c), M);
                            (R || We.get(this, "finish")) && j.stop(!0)
                        };
                    return q.finish = q, R || M.queue === !1 ? this.each(q) : this.queue(M.queue, q)
                },
                stop: function(c, p, _) {
                    var S = function(R) {
                        var M = R.stop;
                        delete R.stop, M(_)
                    };
                    return typeof c != "string" && (_ = p, p = c, c = void 0), p && this.queue(c || "fx", []), this.each(function() {
                        var R = !0,
                            M = c != null && c + "queueHooks",
                            q = w.timers,
                            j = We.get(this);
                        if (M) j[M] && j[M].stop && S(j[M]);
                        else
                            for (M in j) j[M] && j[M].stop && Zi.test(M) && S(j[M]);
                        for (M = q.length; M--;) q[M].elem === this && (c == null || q[M].queue === c) && (q[M].anim.stop(_), R = !1, q.splice(M, 1));
                        (R || !_) && w.dequeue(this, c)
                    })
                },
                finish: function(c) {
                    return c !== !1 && (c = c || "fx"), this.each(function() {
                        var p, _ = We.get(this),
                            S = _[c + "queue"],
                            R = _[c + "queueHooks"],
                            M = w.timers,
                            q = S ? S.length : 0;
                        for (_.finish = !0, w.queue(this, c, []), R && R.stop && R.stop.call(this, !0), p = M.length; p--;) M[p].elem === this && M[p].queue === c && (M[p].anim.stop(!0), M.splice(p, 1));
                        for (p = 0; p < q; p++) S[p] && S[p].finish && S[p].finish.call(this);
                        delete _.finish
                    })
                }
            }), w.each(["toggle", "show", "hide"], function(c, p) {
                var _ = w.fn[p];
                w.fn[p] = function(S, R, M) {
                    return S == null || typeof S == "boolean" ? _.apply(this, arguments) : this.animate(Fn(p, !0), S, R, M)
                }
            }), w.each({
                slideDown: Fn("show"),
                slideUp: Fn("hide"),
                slideToggle: Fn("toggle"),
                fadeIn: {
                    opacity: "show"
                },
                fadeOut: {
                    opacity: "hide"
                },
                fadeToggle: {
                    opacity: "toggle"
                }
            }, function(c, p) {
                w.fn[c] = function(_, S, R) {
                    return this.animate(p, _, S, R)
                }
            }), w.timers = [], w.fx.tick = function() {
                var c, p = 0,
                    _ = w.timers;
                for (en = Date.now(); p < _.length; p++) c = _[p], !c() && _[p] === c && _.splice(p--, 1);
                _.length || w.fx.stop(), en = void 0
            }, w.fx.timer = function(c) {
                w.timers.push(c), w.fx.start()
            }, w.fx.interval = 13, w.fx.start = function() {
                Gi || (Gi = !0, Cs())
            }, w.fx.stop = function() {
                Gi = null
            }, w.fx.speeds = {
                slow: 600,
                fast: 200,
                _default: 400
            }, w.fn.delay = function(c, p) {
                return c = w.fx && w.fx.speeds[c] || c, p = p || "fx", this.queue(p, function(_, S) {
                    var R = e.setTimeout(_, c);
                    S.stop = function() {
                        e.clearTimeout(R)
                    }
                })
            },
            function() {
                var c = E.createElement("input"),
                    p = E.createElement("select"),
                    _ = p.appendChild(E.createElement("option"));
                c.type = "checkbox", x.checkOn = c.value !== "", x.optSelected = _.selected, c = E.createElement("input"), c.value = "t", c.type = "radio", x.radioValue = c.value === "t"
            }();
        var ir, Br = w.expr.attrHandle;
        w.fn.extend({
            attr: function(c, p) {
                return be(this, w.attr, c, p, arguments.length > 1)
            },
            removeAttr: function(c) {
                return this.each(function() {
                    w.removeAttr(this, c)
                })
            }
        }), w.extend({
            attr: function(c, p, _) {
                var S, R, M = c.nodeType;
                if (!(M === 3 || M === 8 || M === 2)) {
                    if (typeof c.getAttribute > "u") return w.prop(c, p, _);
                    if ((M !== 1 || !w.isXMLDoc(c)) && (R = w.attrHooks[p.toLowerCase()] || (w.expr.match.bool.test(p) ? ir : void 0)), _ !== void 0) {
                        if (_ === null) {
                            w.removeAttr(c, p);
                            return
                        }
                        return R && "set" in R && (S = R.set(c, _, p)) !== void 0 ? S : (c.setAttribute(p, _ + ""), _)
                    }
                    return R && "get" in R && (S = R.get(c, p)) !== null ? S : (S = w.find.attr(c, p), S == null ? void 0 : S)
                }
            },
            attrHooks: {
                type: {
                    set: function(c, p) {
                        if (!x.radioValue && p === "radio" && oe(c, "input")) {
                            var _ = c.value;
                            return c.setAttribute("type", p), _ && (c.value = _), p
                        }
                    }
                }
            },
            removeAttr: function(c, p) {
                var _, S = 0,
                    R = p && p.match(xt);
                if (R && c.nodeType === 1)
                    for (; _ = R[S++];) c.removeAttribute(_)
            }
        }), ir = {
            set: function(c, p, _) {
                return p === !1 ? w.removeAttr(c, _) : c.setAttribute(_, _), _
            }
        }, w.each(w.expr.match.bool.source.match(/\w+/g), function(c, p) {
            var _ = Br[p] || w.find.attr;
            Br[p] = function(S, R, M) {
                var q, j, $ = R.toLowerCase();
                return M || (j = Br[$], Br[$] = q, q = _(S, R, M) != null ? $ : null, Br[$] = j), q
            }
        });
        var Ss = /^(?:input|select|textarea|button)$/i,
            Hs = /^(?:a|area)$/i;
        w.fn.extend({
            prop: function(c, p) {
                return be(this, w.prop, c, p, arguments.length > 1)
            },
            removeProp: function(c) {
                return this.each(function() {
                    delete this[w.propFix[c] || c]
                })
            }
        }), w.extend({
            prop: function(c, p, _) {
                var S, R, M = c.nodeType;
                if (!(M === 3 || M === 8 || M === 2)) return (M !== 1 || !w.isXMLDoc(c)) && (p = w.propFix[p] || p, R = w.propHooks[p]), _ !== void 0 ? R && "set" in R && (S = R.set(c, _, p)) !== void 0 ? S : c[p] = _ : R && "get" in R && (S = R.get(c, p)) !== null ? S : c[p]
            },
            propHooks: {
                tabIndex: {
                    get: function(c) {
                        var p = w.find.attr(c, "tabindex");
                        return p ? parseInt(p, 10) : Ss.test(c.nodeName) || Hs.test(c.nodeName) && c.href ? 0 : -1
                    }
                }
            },
            propFix: {
                for: "htmlFor",
                class: "className"
            }
        }), x.optSelected || (w.propHooks.selected = {
            get: function(c) {
                var p = c.parentNode;
                return p && p.parentNode && p.parentNode.selectedIndex, null
            },
            set: function(c) {
                var p = c.parentNode;
                p && (p.selectedIndex, p.parentNode && p.parentNode.selectedIndex)
            }
        }), w.each(["tabIndex", "readOnly", "maxLength", "cellSpacing", "cellPadding", "rowSpan", "colSpan", "useMap", "frameBorder", "contentEditable"], function() {
            w.propFix[this.toLowerCase()] = this
        });

        function Er(c) {
            var p = c.match(xt) || [];
            return p.join(" ")
        }

        function hr(c) {
            return c.getAttribute && c.getAttribute("class") || ""
        }

        function Xa(c) {
            return Array.isArray(c) ? c : typeof c == "string" ? c.match(xt) || [] : []
        }
        w.fn.extend({
            addClass: function(c) {
                var p, _, S, R, M, q;
                return C(c) ? this.each(function(j) {
                    w(this).addClass(c.call(this, j, hr(this)))
                }) : (p = Xa(c), p.length ? this.each(function() {
                    if (S = hr(this), _ = this.nodeType === 1 && " " + Er(S) + " ", _) {
                        for (M = 0; M < p.length; M++) R = p[M], _.indexOf(" " + R + " ") < 0 && (_ += R + " ");
                        q = Er(_), S !== q && this.setAttribute("class", q)
                    }
                }) : this)
            },
            removeClass: function(c) {
                var p, _, S, R, M, q;
                return C(c) ? this.each(function(j) {
                    w(this).removeClass(c.call(this, j, hr(this)))
                }) : arguments.length ? (p = Xa(c), p.length ? this.each(function() {
                    if (S = hr(this), _ = this.nodeType === 1 && " " + Er(S) + " ", _) {
                        for (M = 0; M < p.length; M++)
                            for (R = p[M]; _.indexOf(" " + R + " ") > -1;) _ = _.replace(" " + R + " ", " ");
                        q = Er(_), S !== q && this.setAttribute("class", q)
                    }
                }) : this) : this.attr("class", "")
            },
            toggleClass: function(c, p) {
                var _, S, R, M, q = typeof c,
                    j = q === "string" || Array.isArray(c);
                return C(c) ? this.each(function($) {
                    w(this).toggleClass(c.call(this, $, hr(this), p), p)
                }) : typeof p == "boolean" && j ? p ? this.addClass(c) : this.removeClass(c) : (_ = Xa(c), this.each(function() {
                    if (j)
                        for (M = w(this), R = 0; R < _.length; R++) S = _[R], M.hasClass(S) ? M.removeClass(S) : M.addClass(S);
                    else(c === void 0 || q === "boolean") && (S = hr(this), S && We.set(this, "__className__", S), this.setAttribute && this.setAttribute("class", S || c === !1 ? "" : We.get(this, "__className__") || ""))
                }))
            },
            hasClass: function(c) {
                var p, _, S = 0;
                for (p = " " + c + " "; _ = this[S++];)
                    if (_.nodeType === 1 && (" " + Er(hr(_)) + " ").indexOf(p) > -1) return !0;
                return !1
            }
        });
        var Ya = /\r/g;
        w.fn.extend({
            val: function(c) {
                var p, _, S, R = this[0];
                return arguments.length ? (S = C(c), this.each(function(M) {
                    var q;
                    this.nodeType === 1 && (S ? q = c.call(this, M, w(this).val()) : q = c, q == null ? q = "" : typeof q == "number" ? q += "" : Array.isArray(q) && (q = w.map(q, function(j) {
                        return j == null ? "" : j + ""
                    })), p = w.valHooks[this.type] || w.valHooks[this.nodeName.toLowerCase()], (!p || !("set" in p) || p.set(this, q, "value") === void 0) && (this.value = q))
                })) : R ? (p = w.valHooks[R.type] || w.valHooks[R.nodeName.toLowerCase()], p && "get" in p && (_ = p.get(R, "value")) !== void 0 ? _ : (_ = R.value, typeof _ == "string" ? _.replace(Ya, "") : _ == null ? "" : _)) : void 0
            }
        }), w.extend({
            valHooks: {
                option: {
                    get: function(c) {
                        var p = w.find.attr(c, "value");
                        return p != null ? p : Er(w.text(c))
                    }
                },
                select: {
                    get: function(c) {
                        var p, _, S, R = c.options,
                            M = c.selectedIndex,
                            q = c.type === "select-one",
                            j = q ? null : [],
                            $ = q ? M + 1 : R.length;
                        for (M < 0 ? S = $ : S = q ? M : 0; S < $; S++)
                            if (_ = R[S], (_.selected || S === M) && !_.disabled && (!_.parentNode.disabled || !oe(_.parentNode, "optgroup"))) {
                                if (p = w(_).val(), q) return p;
                                j.push(p)
                            }
                        return j
                    },
                    set: function(c, p) {
                        for (var _, S, R = c.options, M = w.makeArray(p), q = R.length; q--;) S = R[q], (S.selected = w.inArray(w.valHooks.option.get(S), M) > -1) && (_ = !0);
                        return _ || (c.selectedIndex = -1), M
                    }
                }
            }
        }), w.each(["radio", "checkbox"], function() {
            w.valHooks[this] = {
                set: function(c, p) {
                    if (Array.isArray(p)) return c.checked = w.inArray(w(c).val(), p) > -1
                }
            }, x.checkOn || (w.valHooks[this].get = function(c) {
                return c.getAttribute("value") === null ? "on" : c.value
            })
        });
        var Oa = e.location,
            Ts = {
                guid: Date.now()
            },
            Qa = /\?/;
        w.parseXML = function(c) {
            var p, _;
            if (!c || typeof c != "string") return null;
            try {
                p = new e.DOMParser().parseFromString(c, "text/xml")
            } catch {}
            return _ = p && p.getElementsByTagName("parsererror")[0], (!p || _) && w.error("Invalid XML: " + (_ ? w.map(_.childNodes, function(S) {
                return S.textContent
            }).join(`
`) : c)), p
        };
        var So = /^(?:focusinfocus|focusoutblur)$/,
            Ja = function(c) {
                c.stopPropagation()
            };
        w.extend(w.event, {
            trigger: function(c, p, _, S) {
                var R, M, q, j, $, he, Te, Le, Ie = [_ || E],
                    Ge = d.call(c, "type") ? c.type : c,
                    Dt = d.call(c, "namespace") ? c.namespace.split(".") : [];
                if (M = Le = q = _ = _ || E, !(_.nodeType === 3 || _.nodeType === 8) && !So.test(Ge + w.event.triggered) && (Ge.indexOf(".") > -1 && (Dt = Ge.split("."), Ge = Dt.shift(), Dt.sort()), $ = Ge.indexOf(":") < 0 && "on" + Ge, c = c[w.expando] ? c : new w.Event(Ge, typeof c == "object" && c), c.isTrigger = S ? 2 : 3, c.namespace = Dt.join("."), c.rnamespace = c.namespace ? new RegExp("(^|\\.)" + Dt.join("\\.(?:.*\\.|)") + "(\\.|$)") : null, c.result = void 0, c.target || (c.target = _), p = p == null ? [c] : w.makeArray(p, [c]), Te = w.event.special[Ge] || {}, !(!S && Te.trigger && Te.trigger.apply(_, p) === !1))) {
                    if (!S && !Te.noBubble && !N(_)) {
                        for (j = Te.delegateType || Ge, So.test(j + Ge) || (M = M.parentNode); M; M = M.parentNode) Ie.push(M), q = M;
                        q === (_.ownerDocument || E) && Ie.push(q.defaultView || q.parentWindow || e)
                    }
                    for (R = 0;
                        (M = Ie[R++]) && !c.isPropagationStopped();) Le = M, c.type = R > 1 ? j : Te.bindType || Ge, he = (We.get(M, "events") || Object.create(null))[c.type] && We.get(M, "handle"), he && he.apply(M, p), he = $ && M[$], he && he.apply && dt(M) && (c.result = he.apply(M, p), c.result === !1 && c.preventDefault());
                    return c.type = Ge, !S && !c.isDefaultPrevented() && (!Te._default || Te._default.apply(Ie.pop(), p) === !1) && dt(_) && $ && C(_[Ge]) && !N(_) && (q = _[$], q && (_[$] = null), w.event.triggered = Ge, c.isPropagationStopped() && Le.addEventListener(Ge, Ja), _[Ge](), c.isPropagationStopped() && Le.removeEventListener(Ge, Ja), w.event.triggered = void 0, q && (_[$] = q)), c.result
                }
            },
            simulate: function(c, p, _) {
                var S = w.extend(new w.Event, _, {
                    type: c,
                    isSimulated: !0
                });
                w.event.trigger(S, null, p)
            }
        }), w.fn.extend({
            trigger: function(c, p) {
                return this.each(function() {
                    w.event.trigger(c, p, this)
                })
            },
            triggerHandler: function(c, p) {
                var _ = this[0];
                if (_) return w.event.trigger(c, p, _, !0)
            }
        });
        var Jl = /\[\]$/,
            Xt = /\r?\n/g,
            Kr = /^(?:submit|button|image|reset|file)$/i,
            Ui = /^(?:input|select|textarea|keygen)/i;

        function $s(c, p, _, S) {
            var R;
            if (Array.isArray(p)) w.each(p, function(M, q) {
                _ || Jl.test(c) ? S(c, q) : $s(c + "[" + (typeof q == "object" && q != null ? M : "") + "]", q, _, S)
            });
            else if (!_ && I(p) === "object")
                for (R in p) $s(c + "[" + R + "]", p[R], _, S);
            else S(c, p)
        }
        w.param = function(c, p) {
            var _, S = [],
                R = function(M, q) {
                    var j = C(q) ? q() : q;
                    S[S.length] = encodeURIComponent(M) + "=" + encodeURIComponent(j == null ? "" : j)
                };
            if (c == null) return "";
            if (Array.isArray(c) || c.jquery && !w.isPlainObject(c)) w.each(c, function() {
                R(this.name, this.value)
            });
            else
                for (_ in c) $s(_, c[_], p, R);
            return S.join("&")
        }, w.fn.extend({
            serialize: function() {
                return w.param(this.serializeArray())
            },
            serializeArray: function() {
                return this.map(function() {
                    var c = w.prop(this, "elements");
                    return c ? w.makeArray(c) : this
                }).filter(function() {
                    var c = this.type;
                    return this.name && !w(this).is(":disabled") && Ui.test(this.nodeName) && !Kr.test(c) && (this.checked || !bn.test(c))
                }).map(function(c, p) {
                    var _ = w(this).val();
                    return _ == null ? null : Array.isArray(_) ? w.map(_, function(S) {
                        return {
                            name: p.name,
                            value: S.replace(Xt, `\r
`)
                        }
                    }) : {
                        name: p.name,
                        value: _.replace(Xt, `\r
`)
                    }
                }).get()
            }
        });
        var To = /%20/g,
            Lo = /#.*$/,
            js = /([?&])_=[^&]*/,
            ca = /^(.*?):[ \t]*([^\r\n]*)$/mg,
            Ws = /^(?:about|app|app-storage|.+-extension|file|res|widget):$/,
            Ua = /^(?:GET|HEAD)$/,
            Ln = /^\/\//,
            fa = {},
            es = {},
            ko = "*/".concat("*"),
            Io = E.createElement("a");
        Io.href = Oa.href;

        function Ao(c) {
            return function(p, _) {
                typeof p != "string" && (_ = p, p = "*");
                var S, R = 0,
                    M = p.toLowerCase().match(xt) || [];
                if (C(_))
                    for (; S = M[R++];) S[0] === "+" ? (S = S.slice(1) || "*", (c[S] = c[S] || []).unshift(_)) : (c[S] = c[S] || []).push(_)
            }
        }

        function Sa(c, p, _, S) {
            var R = {},
                M = c === es;

            function q(j) {
                var $;
                return R[j] = !0, w.each(c[j] || [], function(he, Te) {
                    var Le = Te(p, _, S);
                    if (typeof Le == "string" && !M && !R[Le]) return p.dataTypes.unshift(Le), q(Le), !1;
                    if (M) return !($ = Le)
                }), $
            }
            return q(p.dataTypes[0]) || !R["*"] && q("*")
        }

        function Ks(c, p) {
            var _, S, R = w.ajaxSettings.flatOptions || {};
            for (_ in p) p[_] !== void 0 && ((R[_] ? c : S || (S = {}))[_] = p[_]);
            return S && w.extend(!0, c, S), c
        }

        function Gs(c, p, _) {
            for (var S, R, M, q, j = c.contents, $ = c.dataTypes; $[0] === "*";) $.shift(), S === void 0 && (S = c.mimeType || p.getResponseHeader("Content-Type"));
            if (S) {
                for (R in j)
                    if (j[R] && j[R].test(S)) {
                        $.unshift(R);
                        break
                    }
            }
            if ($[0] in _) M = $[0];
            else {
                for (R in _) {
                    if (!$[0] || c.converters[R + " " + $[0]]) {
                        M = R;
                        break
                    }
                    q || (q = R)
                }
                M = M || q
            }
            if (M) return M !== $[0] && $.unshift(M), _[M]
        }

        function pi(c, p, _, S) {
            var R, M, q, j, $, he = {},
                Te = c.dataTypes.slice();
            if (Te[1])
                for (q in c.converters) he[q.toLowerCase()] = c.converters[q];
            for (M = Te.shift(); M;)
                if (c.responseFields[M] && (_[c.responseFields[M]] = p), !$ && S && c.dataFilter && (p = c.dataFilter(p, c.dataType)), $ = M, M = Te.shift(), M) {
                    if (M === "*") M = $;
                    else if ($ !== "*" && $ !== M) {
                        if (q = he[$ + " " + M] || he["* " + M], !q) {
                            for (R in he)
                                if (j = R.split(" "), j[1] === M && (q = he[$ + " " + j[0]] || he["* " + j[0]], q)) {
                                    q === !0 ? q = he[R] : he[R] !== !0 && (M = j[0], Te.unshift(j[1]));
                                    break
                                }
                        }
                        if (q !== !0)
                            if (q && c.throws) p = q(p);
                            else try {
                                p = q(p)
                            } catch (Le) {
                                return {
                                    state: "parsererror",
                                    error: q ? Le : "No conversion from " + $ + " to " + M
                                }
                            }
                    }
                }
            return {
                state: "success",
                data: p
            }
        }
        w.extend({
            active: 0,
            lastModified: {},
            etag: {},
            ajaxSettings: {
                url: Oa.href,
                type: "GET",
                isLocal: Ws.test(Oa.protocol),
                global: !0,
                processData: !0,
                async: !0,
                contentType: "application/x-www-form-urlencoded; charset=UTF-8",
                accepts: {
                    "*": ko,
                    text: "text/plain",
                    html: "text/html",
                    xml: "application/xml, text/xml",
                    json: "application/json, text/javascript"
                },
                contents: {
                    xml: /\bxml\b/,
                    html: /\bhtml/,
                    json: /\bjson\b/
                },
                responseFields: {
                    xml: "responseXML",
                    text: "responseText",
                    json: "responseJSON"
                },
                converters: {
                    "* text": String,
                    "text html": !0,
                    "text json": JSON.parse,
                    "text xml": w.parseXML
                },
                flatOptions: {
                    url: !0,
                    context: !0
                }
            },
            ajaxSetup: function(c, p) {
                return p ? Ks(Ks(c, w.ajaxSettings), p) : Ks(w.ajaxSettings, c)
            },
            ajaxPrefilter: Ao(fa),
            ajaxTransport: Ao(es),
            ajax: function(c, p) {
                typeof c == "object" && (p = c, c = void 0), p = p || {};
                var _, S, R, M, q, j, $, he, Te, Le, Ie = w.ajaxSetup({}, p),
                    Ge = Ie.context || Ie,
                    Dt = Ie.context && (Ge.nodeType || Ge.jquery) ? w(Ge) : w.event,
                    kt = w.Deferred(),
                    ct = w.Callbacks("once memory"),
                    wi = Ie.statusCode || {},
                    Mt = {},
                    vi = {},
                    Xn = "canceled",
                    Yt = {
                        readyState: 0,
                        getResponseHeader: function(ii) {
                            var Ei;
                            if ($) {
                                if (!M)
                                    for (M = {}; Ei = ca.exec(R);) M[Ei[1].toLowerCase() + " "] = (M[Ei[1].toLowerCase() + " "] || []).concat(Ei[2]);
                                Ei = M[ii.toLowerCase() + " "]
                            }
                            return Ei == null ? null : Ei.join(", ")
                        },
                        getAllResponseHeaders: function() {
                            return $ ? R : null
                        },
                        setRequestHeader: function(ii, Ei) {
                            return $ == null && (ii = vi[ii.toLowerCase()] = vi[ii.toLowerCase()] || ii, Mt[ii] = Ei), this
                        },
                        overrideMimeType: function(ii) {
                            return $ == null && (Ie.mimeType = ii), this
                        },
                        statusCode: function(ii) {
                            var Ei;
                            if (ii)
                                if ($) Yt.always(ii[Yt.status]);
                                else
                                    for (Ei in ii) wi[Ei] = [wi[Ei], ii[Ei]];
                            return this
                        },
                        abort: function(ii) {
                            var Ei = ii || Xn;
                            return _ && _.abort(Ei), $i(0, Ei), this
                        }
                    };
                if (kt.promise(Yt), Ie.url = ((c || Ie.url || Oa.href) + "").replace(Ln, Oa.protocol + "//"), Ie.type = p.method || p.type || Ie.method || Ie.type, Ie.dataTypes = (Ie.dataType || "*").toLowerCase().match(xt) || [""], Ie.crossDomain == null) {
                    j = E.createElement("a");
                    try {
                        j.href = Ie.url, j.href = j.href, Ie.crossDomain = Io.protocol + "//" + Io.host != j.protocol + "//" + j.host
                    } catch {
                        Ie.crossDomain = !0
                    }
                }
                if (Ie.data && Ie.processData && typeof Ie.data != "string" && (Ie.data = w.param(Ie.data, Ie.traditional)), Sa(fa, Ie, p, Yt), $) return Yt;
                he = w.event && Ie.global, he && w.active++ === 0 && w.event.trigger("ajaxStart"), Ie.type = Ie.type.toUpperCase(), Ie.hasContent = !Ua.test(Ie.type), S = Ie.url.replace(Lo, ""), Ie.hasContent ? Ie.data && Ie.processData && (Ie.contentType || "").indexOf("application/x-www-form-urlencoded") === 0 && (Ie.data = Ie.data.replace(To, "+")) : (Le = Ie.url.slice(S.length), Ie.data && (Ie.processData || typeof Ie.data == "string") && (S += (Qa.test(S) ? "&" : "?") + Ie.data, delete Ie.data), Ie.cache === !1 && (S = S.replace(js, "$1"), Le = (Qa.test(S) ? "&" : "?") + "_=" + Ts.guid++ + Le), Ie.url = S + Le), Ie.ifModified && (w.lastModified[S] && Yt.setRequestHeader("If-Modified-Since", w.lastModified[S]), w.etag[S] && Yt.setRequestHeader("If-None-Match", w.etag[S])), (Ie.data && Ie.hasContent && Ie.contentType !== !1 || p.contentType) && Yt.setRequestHeader("Content-Type", Ie.contentType), Yt.setRequestHeader("Accept", Ie.dataTypes[0] && Ie.accepts[Ie.dataTypes[0]] ? Ie.accepts[Ie.dataTypes[0]] + (Ie.dataTypes[0] !== "*" ? ", " + ko + "; q=0.01" : "") : Ie.accepts["*"]);
                for (Te in Ie.headers) Yt.setRequestHeader(Te, Ie.headers[Te]);
                if (Ie.beforeSend && (Ie.beforeSend.call(Ge, Yt, Ie) === !1 || $)) return Yt.abort();
                if (Xn = "abort", ct.add(Ie.complete), Yt.done(Ie.success), Yt.fail(Ie.error), _ = Sa(es, Ie, p, Yt), !_) $i(-1, "No Transport");
                else {
                    if (Yt.readyState = 1, he && Dt.trigger("ajaxSend", [Yt, Ie]), $) return Yt;
                    Ie.async && Ie.timeout > 0 && (q = e.setTimeout(function() {
                        Yt.abort("timeout")
                    }, Ie.timeout));
                    try {
                        $ = !1, _.send(Mt, $i)
                    } catch (ii) {
                        if ($) throw ii;
                        $i(-1, ii)
                    }
                }

                function $i(ii, Ei, Di, Mr) {
                    var tn, Cr, dr, qn, Gr, Qt = Ei;
                    $ || ($ = !0, q && e.clearTimeout(q), _ = void 0, R = Mr || "", Yt.readyState = ii > 0 ? 4 : 0, tn = ii >= 200 && ii < 300 || ii === 304, Di && (qn = Gs(Ie, Yt, Di)), !tn && w.inArray("script", Ie.dataTypes) > -1 && w.inArray("json", Ie.dataTypes) < 0 && (Ie.converters["text script"] = function() {}), qn = pi(Ie, qn, Yt, tn), tn ? (Ie.ifModified && (Gr = Yt.getResponseHeader("Last-Modified"), Gr && (w.lastModified[S] = Gr), Gr = Yt.getResponseHeader("etag"), Gr && (w.etag[S] = Gr)), ii === 204 || Ie.type === "HEAD" ? Qt = "nocontent" : ii === 304 ? Qt = "notmodified" : (Qt = qn.state, Cr = qn.data, dr = qn.error, tn = !dr)) : (dr = Qt, (ii || !Qt) && (Qt = "error", ii < 0 && (ii = 0))), Yt.status = ii, Yt.statusText = (Ei || Qt) + "", tn ? kt.resolveWith(Ge, [Cr, Qt, Yt]) : kt.rejectWith(Ge, [Yt, Qt, dr]), Yt.statusCode(wi), wi = void 0, he && Dt.trigger(tn ? "ajaxSuccess" : "ajaxError", [Yt, Ie, tn ? Cr : dr]), ct.fireWith(Ge, [Yt, Qt]), he && (Dt.trigger("ajaxComplete", [Yt, Ie]), --w.active || w.event.trigger("ajaxStop")))
                }
                return Yt
            },
            getJSON: function(c, p, _) {
                return w.get(c, p, _, "json")
            },
            getScript: function(c, p) {
                return w.get(c, void 0, p, "script")
            }
        }), w.each(["get", "post"], function(c, p) {
            w[p] = function(_, S, R, M) {
                return C(S) && (M = M || R, R = S, S = void 0), w.ajax(w.extend({
                    url: _,
                    type: p,
                    dataType: M,
                    data: S,
                    success: R
                }, w.isPlainObject(_) && _))
            }
        }), w.ajaxPrefilter(function(c) {
            var p;
            for (p in c.headers) p.toLowerCase() === "content-type" && (c.contentType = c.headers[p] || "")
        }), w._evalUrl = function(c, p, _) {
            return w.ajax({
                url: c,
                type: "GET",
                dataType: "script",
                cache: !0,
                async: !1,
                global: !1,
                converters: {
                    "text script": function() {}
                },
                dataFilter: function(S) {
                    w.globalEval(S, p, _)
                }
            })
        }, w.fn.extend({
            wrapAll: function(c) {
                var p;
                return this[0] && (C(c) && (c = c.call(this[0])), p = w(c, this[0].ownerDocument).eq(0).clone(!0), this[0].parentNode && p.insertBefore(this[0]), p.map(function() {
                    for (var _ = this; _.firstElementChild;) _ = _.firstElementChild;
                    return _
                }).append(this)), this
            },
            wrapInner: function(c) {
                return C(c) ? this.each(function(p) {
                    w(this).wrapInner(c.call(this, p))
                }) : this.each(function() {
                    var p = w(this),
                        _ = p.contents();
                    _.length ? _.wrapAll(c) : p.append(c)
                })
            },
            wrap: function(c) {
                var p = C(c);
                return this.each(function(_) {
                    w(this).wrapAll(p ? c.call(this, _) : c)
                })
            },
            unwrap: function(c) {
                return this.parent(c).not("body").each(function() {
                    w(this).replaceWith(this.childNodes)
                }), this
            }
        }), w.expr.pseudos.hidden = function(c) {
            return !w.expr.pseudos.visible(c)
        }, w.expr.pseudos.visible = function(c) {
            return !!(c.offsetWidth || c.offsetHeight || c.getClientRects().length)
        }, w.ajaxSettings.xhr = function() {
            try {
                return new e.XMLHttpRequest
            } catch {}
        };
        var eu = {
                0: 200,
                1223: 204
            },
            Zn = w.ajaxSettings.xhr();
        x.cors = !!Zn && "withCredentials" in Zn, x.ajax = Zn = !!Zn, w.ajaxTransport(function(c) {
            var p, _;
            if (x.cors || Zn && !c.crossDomain) return {
                send: function(S, R) {
                    var M, q = c.xhr();
                    if (q.open(c.type, c.url, c.async, c.username, c.password), c.xhrFields)
                        for (M in c.xhrFields) q[M] = c.xhrFields[M];
                    c.mimeType && q.overrideMimeType && q.overrideMimeType(c.mimeType), !c.crossDomain && !S["X-Requested-With"] && (S["X-Requested-With"] = "XMLHttpRequest");
                    for (M in S) q.setRequestHeader(M, S[M]);
                    p = function(j) {
                        return function() {
                            p && (p = _ = q.onload = q.onerror = q.onabort = q.ontimeout = q.onreadystatechange = null, j === "abort" ? q.abort() : j === "error" ? typeof q.status != "number" ? R(0, "error") : R(q.status, q.statusText) : R(eu[q.status] || q.status, q.statusText, (q.responseType || "text") !== "text" || typeof q.responseText != "string" ? {
                                binary: q.response
                            } : {
                                text: q.responseText
                            }, q.getAllResponseHeaders()))
                        }
                    }, q.onload = p(), _ = q.onerror = q.ontimeout = p("error"), q.onabort !== void 0 ? q.onabort = _ : q.onreadystatechange = function() {
                        q.readyState === 4 && e.setTimeout(function() {
                            p && _()
                        })
                    }, p = p("abort");
                    try {
                        q.send(c.hasContent && c.data || null)
                    } catch (j) {
                        if (p) throw j
                    }
                },
                abort: function() {
                    p && p()
                }
            }
        }), w.ajaxPrefilter(function(c) {
            c.crossDomain && (c.contents.script = !1)
        }), w.ajaxSetup({
            accepts: {
                script: "text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"
            },
            contents: {
                script: /\b(?:java|ecma)script\b/
            },
            converters: {
                "text script": function(c) {
                    return w.globalEval(c), c
                }
            }
        }), w.ajaxPrefilter("script", function(c) {
            c.cache === void 0 && (c.cache = !1), c.crossDomain && (c.type = "GET")
        }), w.ajaxTransport("script", function(c) {
            if (c.crossDomain || c.scriptAttrs) {
                var p, _;
                return {
                    send: function(S, R) {
                        p = w("<script>").attr(c.scriptAttrs || {}).prop({
                            charset: c.scriptCharset,
                            src: c.url
                        }).on("load error", _ = function(M) {
                            p.remove(), _ = null, M && R(M.type === "error" ? 404 : 200, M.type)
                        }), E.head.appendChild(p[0])
                    },
                    abort: function() {
                        _ && _()
                    }
                }
            }
        });
        var g = [],
            b = /(=)\?(?=&|$)|\?\?/;
        w.ajaxSetup({
            jsonp: "callback",
            jsonpCallback: function() {
                var c = g.pop() || w.expando + "_" + Ts.guid++;
                return this[c] = !0, c
            }
        }), w.ajaxPrefilter("json jsonp", function(c, p, _) {
            var S, R, M, q = c.jsonp !== !1 && (b.test(c.url) ? "url" : typeof c.data == "string" && (c.contentType || "").indexOf("application/x-www-form-urlencoded") === 0 && b.test(c.data) && "data");
            if (q || c.dataTypes[0] === "jsonp") return S = c.jsonpCallback = C(c.jsonpCallback) ? c.jsonpCallback() : c.jsonpCallback, q ? c[q] = c[q].replace(b, "$1" + S) : c.jsonp !== !1 && (c.url += (Qa.test(c.url) ? "&" : "?") + c.jsonp + "=" + S), c.converters["script json"] = function() {
                return M || w.error(S + " was not called"), M[0]
            }, c.dataTypes[0] = "json", R = e[S], e[S] = function() {
                M = arguments
            }, _.always(function() {
                R === void 0 ? w(e).removeProp(S) : e[S] = R, c[S] && (c.jsonpCallback = p.jsonpCallback, g.push(S)), M && C(R) && R(M[0]), M = R = void 0
            }), "script"
        }), x.createHTMLDocument = function() {
            var c = E.implementation.createHTMLDocument("").body;
            return c.innerHTML = "<form></form><form></form>", c.childNodes.length === 2
        }(), w.parseHTML = function(c, p, _) {
            if (typeof c != "string") return [];
            typeof p == "boolean" && (_ = p, p = !1);
            var S, R, M;
            return p || (x.createHTMLDocument ? (p = E.implementation.createHTMLDocument(""), S = p.createElement("base"), S.href = E.location.href, p.head.appendChild(S)) : p = E), R = we.exec(c), M = !_ && [], R ? [p.createElement(R[1])] : (R = qs([c], p, M), M && M.length && w(M).remove(), w.merge([], R.childNodes))
        }, w.fn.load = function(c, p, _) {
            var S, R, M, q = this,
                j = c.indexOf(" ");
            return j > -1 && (S = Er(c.slice(j)), c = c.slice(0, j)), C(p) ? (_ = p, p = void 0) : p && typeof p == "object" && (R = "POST"), q.length > 0 && w.ajax({
                url: c,
                type: R || "GET",
                dataType: "html",
                data: p
            }).done(function($) {
                M = arguments, q.html(S ? w("<div>").append(w.parseHTML($)).find(S) : $)
            }).always(_ && function($, he) {
                q.each(function() {
                    _.apply(this, M || [$.responseText, he, $])
                })
            }), this
        }, w.expr.pseudos.animated = function(c) {
            return w.grep(w.timers, function(p) {
                return c === p.elem
            }).length
        }, w.offset = {
            setOffset: function(c, p, _) {
                var S, R, M, q, j, $, he, Te = w.css(c, "position"),
                    Le = w(c),
                    Ie = {};
                Te === "static" && (c.style.position = "relative"), j = Le.offset(), M = w.css(c, "top"), $ = w.css(c, "left"), he = (Te === "absolute" || Te === "fixed") && (M + $).indexOf("auto") > -1, he ? (S = Le.position(), q = S.top, R = S.left) : (q = parseFloat(M) || 0, R = parseFloat($) || 0), C(p) && (p = p.call(c, _, w.extend({}, j))), p.top != null && (Ie.top = p.top - j.top + q), p.left != null && (Ie.left = p.left - j.left + R), "using" in p ? p.using.call(c, Ie) : Le.css(Ie)
            }
        }, w.fn.extend({
            offset: function(c) {
                if (arguments.length) return c === void 0 ? this : this.each(function(R) {
                    w.offset.setOffset(this, c, R)
                });
                var p, _, S = this[0];
                if (S) return S.getClientRects().length ? (p = S.getBoundingClientRect(), _ = S.ownerDocument.defaultView, {
                    top: p.top + _.pageYOffset,
                    left: p.left + _.pageXOffset
                }) : {
                    top: 0,
                    left: 0
                }
            },
            position: function() {
                if (this[0]) {
                    var c, p, _, S = this[0],
                        R = {
                            top: 0,
                            left: 0
                        };
                    if (w.css(S, "position") === "fixed") p = S.getBoundingClientRect();
                    else {
                        for (p = this.offset(), _ = S.ownerDocument, c = S.offsetParent || _.documentElement; c && (c === _.body || c === _.documentElement) && w.css(c, "position") === "static";) c = c.parentNode;
                        c && c !== S && c.nodeType === 1 && (R = w(c).offset(), R.top += w.css(c, "borderTopWidth", !0), R.left += w.css(c, "borderLeftWidth", !0))
                    }
                    return {
                        top: p.top - R.top - w.css(S, "marginTop", !0),
                        left: p.left - R.left - w.css(S, "marginLeft", !0)
                    }
                }
            },
            offsetParent: function() {
                return this.map(function() {
                    for (var c = this.offsetParent; c && w.css(c, "position") === "static";) c = c.offsetParent;
                    return c || Cn
                })
            }
        }), w.each({
            scrollLeft: "pageXOffset",
            scrollTop: "pageYOffset"
        }, function(c, p) {
            var _ = p === "pageYOffset";
            w.fn[c] = function(S) {
                return be(this, function(R, M, q) {
                    var j;
                    if (N(R) ? j = R : R.nodeType === 9 && (j = R.defaultView), q === void 0) return j ? j[p] : R[M];
                    j ? j.scrollTo(_ ? j.pageXOffset : q, _ ? q : j.pageYOffset) : R[M] = q
                }, c, S, arguments.length)
            }
        }), w.each(["top", "left"], function(c, p) {
            w.cssHooks[p] = mi(x.pixelPosition, function(_, S) {
                if (S) return S = fi(_, p), Tn.test(S) ? w(_).position()[p] + "px" : S
            })
        }), w.each({
            Height: "height",
            Width: "width"
        }, function(c, p) {
            w.each({
                padding: "inner" + c,
                content: p,
                "": "outer" + c
            }, function(_, S) {
                w.fn[S] = function(R, M) {
                    var q = arguments.length && (_ || typeof R != "boolean"),
                        j = _ || (R === !0 || M === !0 ? "margin" : "border");
                    return be(this, function($, he, Te) {
                        var Le;
                        return N($) ? S.indexOf("outer") === 0 ? $["inner" + c] : $.document.documentElement["client" + c] : $.nodeType === 9 ? (Le = $.documentElement, Math.max($.body["scroll" + c], Le["scroll" + c], $.body["offset" + c], Le["offset" + c], Le["client" + c])) : Te === void 0 ? w.css($, he, j) : w.style($, he, Te, j)
                    }, p, q ? R : void 0, q)
                }
            })
        }), w.each(["ajaxStart", "ajaxStop", "ajaxComplete", "ajaxError", "ajaxSuccess", "ajaxSend"], function(c, p) {
            w.fn[p] = function(_) {
                return this.on(p, _)
            }
        }), w.fn.extend({
            bind: function(c, p, _) {
                return this.on(c, null, p, _)
            },
            unbind: function(c, p) {
                return this.off(c, null, p)
            },
            delegate: function(c, p, _, S) {
                return this.on(p, c, _, S)
            },
            undelegate: function(c, p, _) {
                return arguments.length === 1 ? this.off(c, "**") : this.off(p, c || "**", _)
            },
            hover: function(c, p) {
                return this.on("mouseenter", c).on("mouseleave", p || c)
            }
        }), w.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "), function(c, p) {
            w.fn[p] = function(_, S) {
                return arguments.length > 0 ? this.on(p, null, _, S) : this.trigger(p)
            }
        });
        var A = /^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;
        w.proxy = function(c, p) {
            var _, S, R;
            if (typeof p == "string" && (_ = c[p], p = c, c = _), !!C(c)) return S = r.call(arguments, 2), R = function() {
                return c.apply(p || this, S.concat(r.call(arguments)))
            }, R.guid = c.guid = c.guid || w.guid++, R
        }, w.holdReady = function(c) {
            c ? w.readyWait++ : w.ready(!0)
        }, w.isArray = Array.isArray, w.parseJSON = JSON.parse, w.nodeName = oe, w.isFunction = C, w.isWindow = N, w.camelCase = Je, w.type = I, w.now = Date.now, w.isNumeric = function(c) {
            var p = w.type(c);
            return (p === "number" || p === "string") && !isNaN(c - parseFloat(c))
        }, w.trim = function(c) {
            return c == null ? "" : (c + "").replace(A, "$1")
        }, typeof define == "function" && define.amd && define("jquery", [], function() {
            return w
        });
        var B = e.jQuery,
            z = e.$;
        return w.noConflict = function(c) {
            return e.$ === w && (e.$ = z), c && e.jQuery === w && (e.jQuery = B), w
        }, typeof t > "u" && (e.jQuery = e.$ = w), w
    })
});
var Ey = Ke((Ms, wy) => {
    var xy = typeof self < "u" ? self : Ms,
        lf = function() {
            function e() {
                this.fetch = !1, this.DOMException = xy.DOMException
            }
            return e.prototype = xy, new e
        }();
    (function(e) {
        var t = function(i) {
            var n = {
                searchParams: "URLSearchParams" in e,
                iterable: "Symbol" in e && "iterator" in Symbol,
                blob: "FileReader" in e && "Blob" in e && function() {
                    try {
                        return new Blob, !0
                    } catch {
                        return !1
                    }
                }(),
                formData: "FormData" in e,
                arrayBuffer: "ArrayBuffer" in e
            };

            function r(V) {
                return V && DataView.prototype.isPrototypeOf(V)
            }
            if (n.arrayBuffer) var a = ["[object Int8Array]", "[object Uint8Array]", "[object Uint8ClampedArray]", "[object Int16Array]", "[object Uint16Array]", "[object Int32Array]", "[object Uint32Array]", "[object Float32Array]", "[object Float64Array]"],
                s = ArrayBuffer.isView || function(V) {
                    return V && a.indexOf(Object.prototype.toString.call(V)) > -1
                };

            function l(V) {
                if (typeof V != "string" && (V = String(V)), /[^a-z0-9\-#$%&'*+.^_`|~]/i.test(V)) throw new TypeError("Invalid character in header field name");
                return V.toLowerCase()
            }

            function u(V) {
                return typeof V != "string" && (V = String(V)), V
            }

            function f(V) {
                var W = {
                    next: function() {
                        var P = V.shift();
                        return {
                            done: P === void 0,
                            value: P
                        }
                    }
                };
                return n.iterable && (W[Symbol.iterator] = function() {
                    return W
                }), W
            }

            function d(V) {
                this.map = {}, V instanceof d ? V.forEach(function(W, P) {
                    this.append(P, W)
                }, this) : Array.isArray(V) ? V.forEach(function(W) {
                    this.append(W[0], W[1])
                }, this) : V && Object.getOwnPropertyNames(V).forEach(function(W) {
                    this.append(W, V[W])
                }, this)
            }
            d.prototype.append = function(V, W) {
                V = l(V), W = u(W);
                var P = this.map[V];
                this.map[V] = P ? P + ", " + W : W
            }, d.prototype.delete = function(V) {
                delete this.map[l(V)]
            }, d.prototype.get = function(V) {
                return V = l(V), this.has(V) ? this.map[V] : null
            }, d.prototype.has = function(V) {
                return this.map.hasOwnProperty(l(V))
            }, d.prototype.set = function(V, W) {
                this.map[l(V)] = u(W)
            }, d.prototype.forEach = function(V, W) {
                for (var P in this.map) this.map.hasOwnProperty(P) && V.call(W, this.map[P], P, this)
            }, d.prototype.keys = function() {
                var V = [];
                return this.forEach(function(W, P) {
                    V.push(P)
                }), f(V)
            }, d.prototype.values = function() {
                var V = [];
                return this.forEach(function(W) {
                    V.push(W)
                }), f(V)
            }, d.prototype.entries = function() {
                var V = [];
                return this.forEach(function(W, P) {
                    V.push([P, W])
                }), f(V)
            }, n.iterable && (d.prototype[Symbol.iterator] = d.prototype.entries);

            function m(V) {
                if (V.bodyUsed) return Promise.reject(new TypeError("Already read"));
                V.bodyUsed = !0
            }

            function T(V) {
                return new Promise(function(W, P) {
                    V.onload = function() {
                        W(V.result)
                    }, V.onerror = function() {
                        P(V.error)
                    }
                })
            }

            function x(V) {
                var W = new FileReader,
                    P = T(W);
                return W.readAsArrayBuffer(V), P
            }

            function C(V) {
                var W = new FileReader,
                    P = T(W);
                return W.readAsText(V), P
            }

            function N(V) {
                for (var W = new Uint8Array(V), P = new Array(W.length), se = 0; se < W.length; se++) P[se] = String.fromCharCode(W[se]);
                return P.join("")
            }

            function E(V) {
                if (V.slice) return V.slice(0);
                var W = new Uint8Array(V.byteLength);
                return W.set(new Uint8Array(V)), W.buffer
            }

            function O() {
                return this.bodyUsed = !1, this._initBody = function(V) {
                    this._bodyInit = V, V ? typeof V == "string" ? this._bodyText = V : n.blob && Blob.prototype.isPrototypeOf(V) ? this._bodyBlob = V : n.formData && FormData.prototype.isPrototypeOf(V) ? this._bodyFormData = V : n.searchParams && URLSearchParams.prototype.isPrototypeOf(V) ? this._bodyText = V.toString() : n.arrayBuffer && n.blob && r(V) ? (this._bodyArrayBuffer = E(V.buffer), this._bodyInit = new Blob([this._bodyArrayBuffer])) : n.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(V) || s(V)) ? this._bodyArrayBuffer = E(V) : this._bodyText = V = Object.prototype.toString.call(V) : this._bodyText = "", this.headers.get("content-type") || (typeof V == "string" ? this.headers.set("content-type", "text/plain;charset=UTF-8") : this._bodyBlob && this._bodyBlob.type ? this.headers.set("content-type", this._bodyBlob.type) : n.searchParams && URLSearchParams.prototype.isPrototypeOf(V) && this.headers.set("content-type", "application/x-www-form-urlencoded;charset=UTF-8"))
                }, n.blob && (this.blob = function() {
                    var V = m(this);
                    if (V) return V;
                    if (this._bodyBlob) return Promise.resolve(this._bodyBlob);
                    if (this._bodyArrayBuffer) return Promise.resolve(new Blob([this._bodyArrayBuffer]));
                    if (this._bodyFormData) throw new Error("could not read FormData body as blob");
                    return Promise.resolve(new Blob([this._bodyText]))
                }, this.arrayBuffer = function() {
                    return this._bodyArrayBuffer ? m(this) || Promise.resolve(this._bodyArrayBuffer) : this.blob().then(x)
                }), this.text = function() {
                    var V = m(this);
                    if (V) return V;
                    if (this._bodyBlob) return C(this._bodyBlob);
                    if (this._bodyArrayBuffer) return Promise.resolve(N(this._bodyArrayBuffer));
                    if (this._bodyFormData) throw new Error("could not read FormData body as text");
                    return Promise.resolve(this._bodyText)
                }, n.formData && (this.formData = function() {
                    return this.text().then(y)
                }), this.json = function() {
                    return this.text().then(JSON.parse)
                }, this
            }
            var D = ["DELETE", "GET", "HEAD", "OPTIONS", "POST", "PUT"];

            function I(V) {
                var W = V.toUpperCase();
                return D.indexOf(W) > -1 ? W : V
            }

            function H(V, W) {
                W = W || {};
                var P = W.body;
                if (V instanceof H) {
                    if (V.bodyUsed) throw new TypeError("Already read");
                    this.url = V.url, this.credentials = V.credentials, W.headers || (this.headers = new d(V.headers)), this.method = V.method, this.mode = V.mode, this.signal = V.signal, !P && V._bodyInit != null && (P = V._bodyInit, V.bodyUsed = !0)
                } else this.url = String(V);
                if (this.credentials = W.credentials || this.credentials || "same-origin", (W.headers || !this.headers) && (this.headers = new d(W.headers)), this.method = I(W.method || this.method || "GET"), this.mode = W.mode || this.mode || null, this.signal = W.signal || this.signal, this.referrer = null, (this.method === "GET" || this.method === "HEAD") && P) throw new TypeError("Body not allowed for GET or HEAD requests");
                this._initBody(P)
            }
            H.prototype.clone = function() {
                return new H(this, {
                    body: this._bodyInit
                })
            };

            function y(V) {
                var W = new FormData;
                return V.trim().split("&").forEach(function(P) {
                    if (P) {
                        var se = P.split("="),
                            ce = se.shift().replace(/\+/g, " "),
                            ne = se.join("=").replace(/\+/g, " ");
                        W.append(decodeURIComponent(ce), decodeURIComponent(ne))
                    }
                }), W
            }

            function w(V) {
                var W = new d,
                    P = V.replace(/\r?\n[\t ]+/g, " ");
                return P.split(/\r?\n/).forEach(function(se) {
                    var ce = se.split(":"),
                        ne = ce.shift().trim();
                    if (ne) {
                        var re = ce.join(":").trim();
                        W.append(ne, re)
                    }
                }), W
            }
            O.call(H.prototype);

            function X(V, W) {
                W || (W = {}), this.type = "default", this.status = W.status === void 0 ? 200 : W.status, this.ok = this.status >= 200 && this.status < 300, this.statusText = "statusText" in W ? W.statusText : "OK", this.headers = new d(W.headers), this.url = W.url || "", this._initBody(V)
            }
            O.call(X.prototype), X.prototype.clone = function() {
                return new X(this._bodyInit, {
                    status: this.status,
                    statusText: this.statusText,
                    headers: new d(this.headers),
                    url: this.url
                })
            }, X.error = function() {
                var V = new X(null, {
                    status: 0,
                    statusText: ""
                });
                return V.type = "error", V
            };
            var oe = [301, 302, 303, 307, 308];
            X.redirect = function(V, W) {
                if (oe.indexOf(W) === -1) throw new RangeError("Invalid status code");
                return new X(null, {
                    status: W,
                    headers: {
                        location: V
                    }
                })
            }, i.DOMException = e.DOMException;
            try {
                new i.DOMException
            } catch {
                i.DOMException = function(W, P) {
                    this.message = W, this.name = P;
                    var se = Error(W);
                    this.stack = se.stack
                }, i.DOMException.prototype = Object.create(Error.prototype), i.DOMException.prototype.constructor = i.DOMException
            }

            function me(V, W) {
                return new Promise(function(P, se) {
                    var ce = new H(V, W);
                    if (ce.signal && ce.signal.aborted) return se(new i.DOMException("Aborted", "AbortError"));
                    var ne = new XMLHttpRequest;

                    function re() {
                        ne.abort()
                    }
                    ne.onload = function() {
                        var J = {
                            status: ne.status,
                            statusText: ne.statusText,
                            headers: w(ne.getAllResponseHeaders() || "")
                        };
                        J.url = "responseURL" in ne ? ne.responseURL : J.headers.get("X-Request-URL");
                        var ue = "response" in ne ? ne.response : ne.responseText;
                        P(new X(ue, J))
                    }, ne.onerror = function() {
                        se(new TypeError("Network request failed"))
                    }, ne.ontimeout = function() {
                        se(new TypeError("Network request failed"))
                    }, ne.onabort = function() {
                        se(new i.DOMException("Aborted", "AbortError"))
                    }, ne.open(ce.method, ce.url, !0), ce.credentials === "include" ? ne.withCredentials = !0 : ce.credentials === "omit" && (ne.withCredentials = !1), "responseType" in ne && n.blob && (ne.responseType = "blob"), ce.headers.forEach(function(J, ue) {
                        ne.setRequestHeader(ue, J)
                    }), ce.signal && (ce.signal.addEventListener("abort", re), ne.onreadystatechange = function() {
                        ne.readyState === 4 && ce.signal.removeEventListener("abort", re)
                    }), ne.send(typeof ce._bodyInit > "u" ? null : ce._bodyInit)
                })
            }
            return me.polyfill = !0, e.fetch || (e.fetch = me, e.Headers = d, e.Request = H, e.Response = X), i.Headers = d, i.Request = H, i.Response = X, i.fetch = me, Object.defineProperty(i, "__esModule", {
                value: !0
            }), i
        }({})
    })(lf);
    lf.fetch.ponyfill = !0;
    delete lf.fetch.polyfill;
    var Nl = lf;
    Ms = Nl.fetch;
    Ms.default = Nl.fetch;
    Ms.fetch = Nl.fetch;
    Ms.Headers = Nl.Headers;
    Ms.Request = Nl.Request;
    Ms.Response = Nl.Response;
    wy.exports = Ms
});
var Sy = Ke((Nd, Cy) => {
    var uf;
    typeof fetch == "function" && (typeof global < "u" && global.fetch ? uf = global.fetch : typeof window < "u" && window.fetch ? uf = window.fetch : uf = fetch);
    typeof vn < "u" && (typeof window > "u" || typeof window.document > "u") && (Su = uf || Ey(), Su.default && (Su = Su.default), Nd.default = Su, Cy.exports = Nd.default);
    var Su
});
var Zy = Ke((Gy, zd) => {
    (function(e) {
        if (typeof Gy == "object" && typeof zd < "u") zd.exports = e();
        else if (typeof define == "function" && define.amd) define([], e);
        else {
            var t;
            typeof window < "u" ? t = window : typeof global < "u" ? t = global : typeof self < "u" ? t = self : t = this, t.vex = e()
        }
    })(function() {
        var e, t, i;
        return function() {
            function n(r, a, s) {
                function l(d, m) {
                    if (!a[d]) {
                        if (!r[d]) {
                            var T = typeof vn == "function" && vn;
                            if (!m && T) return T(d, !0);
                            if (u) return u(d, !0);
                            var x = new Error("Cannot find module '" + d + "'");
                            throw x.code = "MODULE_NOT_FOUND", x
                        }
                        var C = a[d] = {
                            exports: {}
                        };
                        r[d][0].call(C.exports, function(N) {
                            var E = r[d][1][N];
                            return l(E || N)
                        }, C, C.exports, n, r, a, s)
                    }
                    return a[d].exports
                }
                for (var u = typeof vn == "function" && vn, f = 0; f < s.length; f++) l(s[f]);
                return l
            }
            return n
        }()({
            1: [function(n, r, a) {
                "document" in window.self && ((!("classList" in document.createElement("_")) || document.createElementNS && !("classList" in document.createElementNS("http://www.w3.org/2000/svg", "g"))) && function(s) {
                    "use strict";
                    if ("Element" in s) {
                        var l = "classList",
                            u = "prototype",
                            f = s.Element[u],
                            d = Object,
                            m = String[u].trim || function() {
                                return this.replace(/^\s+|\s+$/g, "")
                            },
                            T = Array[u].indexOf || function(I) {
                                for (var H = 0, y = this.length; H < y; H++)
                                    if (H in this && this[H] === I) return H;
                                return -1
                            },
                            x = function(I, H) {
                                this.name = I, this.code = DOMException[I], this.message = H
                            },
                            C = function(I, H) {
                                if (H === "") throw new x("SYNTAX_ERR", "An invalid or illegal string was specified");
                                if (/\s/.test(H)) throw new x("INVALID_CHARACTER_ERR", "String contains an invalid character");
                                return T.call(I, H)
                            },
                            N = function(I) {
                                for (var H = m.call(I.getAttribute("class") || ""), y = H ? H.split(/\s+/) : [], w = 0, X = y.length; w < X; w++) this.push(y[w]);
                                this._updateClassName = function() {
                                    I.setAttribute("class", this.toString())
                                }
                            },
                            E = N[u] = [],
                            O = function() {
                                return new N(this)
                            };
                        if (x[u] = Error[u], E.item = function(I) {
                                return this[I] || null
                            }, E.contains = function(I) {
                                return I += "", C(this, I) !== -1
                            }, E.add = function() {
                                var I = arguments,
                                    H = 0,
                                    y = I.length,
                                    w, X = !1;
                                do w = I[H] + "", C(this, w) === -1 && (this.push(w), X = !0); while (++H < y);
                                X && this._updateClassName()
                            }, E.remove = function() {
                                var I = arguments,
                                    H = 0,
                                    y = I.length,
                                    w, X = !1,
                                    oe;
                                do
                                    for (w = I[H] + "", oe = C(this, w); oe !== -1;) this.splice(oe, 1), X = !0, oe = C(this, w); while (++H < y);
                                X && this._updateClassName()
                            }, E.toggle = function(I, H) {
                                I += "";
                                var y = this.contains(I),
                                    w = y ? H !== !0 && "remove" : H !== !1 && "add";
                                return w && this[w](I), H === !0 || H === !1 ? H : !y
                            }, E.toString = function() {
                                return this.join(" ")
                            }, d.defineProperty) {
                            var D = {
                                get: O,
                                enumerable: !0,
                                configurable: !0
                            };
                            try {
                                d.defineProperty(f, l, D)
                            } catch (I) {
                                (I.number === void 0 || I.number === -2146823252) && (D.enumerable = !1, d.defineProperty(f, l, D))
                            }
                        } else d[u].__defineGetter__ && f.__defineGetter__(l, O)
                    }
                }(window.self), function() {
                    "use strict";
                    var s = document.createElement("_");
                    if (s.classList.add("c1", "c2"), !s.classList.contains("c2")) {
                        var l = function(f) {
                            var d = DOMTokenList.prototype[f];
                            DOMTokenList.prototype[f] = function(m) {
                                var T, x = arguments.length;
                                for (T = 0; T < x; T++) m = arguments[T], d.call(this, m)
                            }
                        };
                        l("add"), l("remove")
                    }
                    if (s.classList.toggle("c3", !1), s.classList.contains("c3")) {
                        var u = DOMTokenList.prototype.toggle;
                        DOMTokenList.prototype.toggle = function(f, d) {
                            return 1 in arguments && !this.contains(f) == !d ? d : u.call(this, f)
                        }
                    }
                    s = null
                }())
            }, {}],
            2: [function(n, r, a) {
                r.exports = f;
                var s = !1,
                    l;
                typeof document < "u" && (l = document.createElement("div"), l.innerHTML = '  <link/><table></table><a href="/a">a</a><input type="checkbox"/>', s = !l.getElementsByTagName("link").length, l = void 0);
                var u = {
                    legend: [1, "<fieldset>", "</fieldset>"],
                    tr: [2, "<table><tbody>", "</tbody></table>"],
                    col: [2, "<table><tbody></tbody><colgroup>", "</colgroup></table>"],
                    _default: s ? [1, "X<div>", "</div>"] : [0, "", ""]
                };
                u.td = u.th = [3, "<table><tbody><tr>", "</tr></tbody></table>"], u.option = u.optgroup = [1, '<select multiple="multiple">', "</select>"], u.thead = u.tbody = u.colgroup = u.caption = u.tfoot = [1, "<table>", "</table>"], u.polyline = u.ellipse = u.polygon = u.circle = u.text = u.line = u.path = u.rect = u.g = [1, '<svg xmlns="http://www.w3.org/2000/svg" version="1.1">', "</svg>"];

                function f(d, m) {
                    if (typeof d != "string") throw new TypeError("String expected");
                    m || (m = document);
                    var T = /<([\w:]+)/.exec(d);
                    if (!T) return m.createTextNode(d);
                    d = d.replace(/^\s+|\s+$/g, "");
                    var x = T[1];
                    if (x == "body") {
                        var D = m.createElement("html");
                        return D.innerHTML = d, D.removeChild(D.lastChild)
                    }
                    var C = u[x] || u._default,
                        N = C[0],
                        E = C[1],
                        O = C[2],
                        D = m.createElement("div");
                    for (D.innerHTML = E + d + O; N--;) D = D.lastChild;
                    if (D.firstChild == D.lastChild) return D.removeChild(D.firstChild);
                    for (var I = m.createDocumentFragment(); D.firstChild;) I.appendChild(D.removeChild(D.firstChild));
                    return I
                }
            }, {}],
            3: [function(n, r, a) {
                "use strict";

                function s(u, f) {
                    if (u == null) throw new TypeError("Cannot convert first argument to object");
                    for (var d = Object(u), m = 1; m < arguments.length; m++) {
                        var T = arguments[m];
                        if (T != null)
                            for (var x = Object.keys(Object(T)), C = 0, N = x.length; C < N; C++) {
                                var E = x[C],
                                    O = Object.getOwnPropertyDescriptor(T, E);
                                O !== void 0 && O.enumerable && (d[E] = T[E])
                            }
                    }
                    return d
                }

                function l() {
                    Object.assign || Object.defineProperty(Object, "assign", {
                        enumerable: !1,
                        configurable: !0,
                        writable: !0,
                        value: s
                    })
                }
                r.exports = {
                    assign: s,
                    polyfill: l
                }
            }, {}],
            4: [function(n, r, a) {
                n("classlist-polyfill"), n("es6-object-assign").polyfill();
                var s = n("domify"),
                    l = function(E) {
                        if (typeof E < "u") {
                            var O = document.createElement("div");
                            return O.appendChild(document.createTextNode(E)), O.innerHTML
                        } else return ""
                    },
                    u = function(E, O) {
                        if (!(typeof O != "string" || O.length === 0))
                            for (var D = O.split(" "), I = 0; I < D.length; I++) {
                                var H = D[I];
                                H.length && E.classList.add(H)
                            }
                    },
                    f = function() {
                        var E = document.createElement("div"),
                            O = {
                                animation: "animationend",
                                WebkitAnimation: "webkitAnimationEnd",
                                MozAnimation: "animationend",
                                OAnimation: "oanimationend",
                                msAnimation: "MSAnimationEnd"
                            };
                        for (var D in O)
                            if (E.style[D] !== void 0) return O[D];
                        return !1
                    }(),
                    d = {
                        vex: "vex",
                        content: "vex-content",
                        overlay: "vex-overlay",
                        close: "vex-close",
                        closing: "vex-closing",
                        open: "vex-open"
                    },
                    m = {},
                    T = 1,
                    x = !1,
                    C = {
                        open: function(E) {
                            var O = function(V) {
                                console.warn('The "' + V + '" property is deprecated in vex 3. Use CSS classes and the appropriate "ClassName" options, instead.'), console.warn("See http://github.hubspot.com/vex/api/advanced/#options")
                            };
                            E.css && O("css"), E.overlayCSS && O("overlayCSS"), E.contentCSS && O("contentCSS"), E.closeCSS && O("closeCSS");
                            var D = {};
                            D.id = T++, m[D.id] = D, D.isOpen = !0, D.close = function() {
                                if (!this.isOpen) return !0;
                                var V = this.options;
                                if (x && !V.escapeButtonCloses) return !1;
                                var W = function() {
                                    return V.beforeClose ? V.beforeClose.call(this) : !0
                                }.bind(this)();
                                if (W === !1) return !1;
                                this.isOpen = !1;
                                var P = window.getComputedStyle(this.contentEl);

                                function se(re) {
                                    return P.getPropertyValue(re + "animation-name") !== "none" && P.getPropertyValue(re + "animation-duration") !== "0s"
                                }
                                var ce = se("") || se("-webkit-") || se("-moz-") || se("-o-"),
                                    ne = function re() {
                                        this.rootEl.parentNode && (this.rootEl.removeEventListener(f, re), this.overlayEl.removeEventListener(f, re), delete m[this.id], this.rootEl.parentNode.removeChild(this.rootEl), this.bodyEl.removeChild(this.overlayEl), V.afterClose && V.afterClose.call(this), Object.keys(m).length === 0 && document.body.classList.remove(d.open))
                                    }.bind(this);
                                return f && ce ? (this.rootEl.addEventListener(f, ne), this.overlayEl.addEventListener(f, ne), this.rootEl.classList.add(d.closing), this.overlayEl.classList.add(d.closing)) : ne(), !0
                            }, typeof E == "string" && (E = {
                                content: E
                            }), E.unsafeContent && !E.content ? E.content = E.unsafeContent : E.content && (E.content = l(E.content));
                            var I = D.options = Object.assign({}, C.defaultOptions, E),
                                H = D.bodyEl = document.getElementsByTagName("body")[0],
                                y = D.rootEl = document.createElement("div");
                            y.classList.add(d.vex), u(y, I.className);
                            var w = D.overlayEl = document.createElement("div");
                            w.classList.add(d.overlay), u(w, I.overlayClassName), I.overlayClosesOnClick && y.addEventListener("click", function(V) {
                                V.target === y && D.close()
                            }), H.appendChild(w);
                            var X = D.contentEl = document.createElement("div");
                            if (X.classList.add(d.content), u(X, I.contentClassName), X.appendChild(I.content instanceof window.Node ? I.content : s(I.content)), y.appendChild(X), I.showCloseButton) {
                                var oe = D.closeEl = document.createElement("div");
                                oe.classList.add(d.close), u(oe, I.closeClassName), oe.addEventListener("click", D.close.bind(D)), X.appendChild(oe)
                            }
                            return document.querySelector(I.appendLocation).appendChild(y), I.afterOpen && I.afterOpen.call(D), document.body.classList.add(d.open), D
                        },
                        close: function(E) {
                            var O;
                            if (E.id) O = E.id;
                            else if (typeof E == "string") O = E;
                            else throw new TypeError("close requires a vex object or id string");
                            return m[O] ? m[O].close() : !1
                        },
                        closeTop: function() {
                            var E = Object.keys(m);
                            return E.length ? m[E[E.length - 1]].close() : !1
                        },
                        closeAll: function() {
                            for (var E in m) this.close(E);
                            return !0
                        },
                        getAll: function() {
                            return m
                        },
                        getById: function(E) {
                            return m[E]
                        }
                    };
                window.addEventListener("keyup", function(E) {
                    E.keyCode === 27 && (x = !0, C.closeTop(), x = !1)
                }), window.addEventListener("popstate", function() {
                    C.defaultOptions.closeAllOnPopState && C.closeAll()
                }), C.defaultOptions = {
                    content: "",
                    showCloseButton: !0,
                    escapeButtonCloses: !0,
                    overlayClosesOnClick: !0,
                    appendLocation: "body",
                    className: "",
                    overlayClassName: "",
                    contentClassName: "",
                    closeClassName: "",
                    closeAllOnPopState: !0
                }, Object.defineProperty(C, "_escapeHtml", {
                    configurable: !1,
                    enumerable: !1,
                    writable: !1,
                    value: l
                }), C.registerPlugin = function(E, O) {
                    var D = E(C),
                        I = O || D.name;
                    if (C[I]) throw new Error("Plugin " + O + " is already registered.");
                    C[I] = D
                }, r.exports = C
            }, {
                "classlist-polyfill": 1,
                domify: 2,
                "es6-object-assign": 3
            }]
        }, {}, [4])(4)
    })
});
var Du = Ke((Xy, gf) => {
    (function(e, t) {
        "use strict";
        typeof gf == "object" && typeof gf.exports == "object" ? gf.exports = e.document ? t(e, !0) : function(i) {
            if (!i.document) throw new Error("jQuery requires a window with a document");
            return t(i)
        } : t(e)
    })(typeof window < "u" ? window : Xy, function(e, t) {
        "use strict";
        var i = [],
            n = Object.getPrototypeOf,
            r = i.slice,
            a = i.flat ? function(g) {
                return i.flat.call(g)
            } : function(g) {
                return i.concat.apply([], g)
            },
            s = i.push,
            l = i.indexOf,
            u = {},
            f = u.toString,
            d = u.hasOwnProperty,
            m = d.toString,
            T = m.call(Object),
            x = {},
            C = function(b) {
                return typeof b == "function" && typeof b.nodeType != "number" && typeof b.item != "function"
            },
            N = function(b) {
                return b != null && b === b.window
            },
            E = e.document,
            O = {
                type: !0,
                src: !0,
                nonce: !0,
                noModule: !0
            };

        function D(g, b, A) {
            A = A || E;
            var B, z, c = A.createElement("script");
            if (c.text = g, b)
                for (B in O) z = b[B] || b.getAttribute && b.getAttribute(B), z && c.setAttribute(B, z);
            A.head.appendChild(c).parentNode.removeChild(c)
        }

        function I(g) {
            return g == null ? g + "" : typeof g == "object" || typeof g == "function" ? u[f.call(g)] || "object" : typeof g
        }
        var H = "3.6.3",
            y = function(g, b) {
                return new y.fn.init(g, b)
            };
        y.fn = y.prototype = {
            jquery: H,
            constructor: y,
            length: 0,
            toArray: function() {
                return r.call(this)
            },
            get: function(g) {
                return g == null ? r.call(this) : g < 0 ? this[g + this.length] : this[g]
            },
            pushStack: function(g) {
                var b = y.merge(this.constructor(), g);
                return b.prevObject = this, b
            },
            each: function(g) {
                return y.each(this, g)
            },
            map: function(g) {
                return this.pushStack(y.map(this, function(b, A) {
                    return g.call(b, A, b)
                }))
            },
            slice: function() {
                return this.pushStack(r.apply(this, arguments))
            },
            first: function() {
                return this.eq(0)
            },
            last: function() {
                return this.eq(-1)
            },
            even: function() {
                return this.pushStack(y.grep(this, function(g, b) {
                    return (b + 1) % 2
                }))
            },
            odd: function() {
                return this.pushStack(y.grep(this, function(g, b) {
                    return b % 2
                }))
            },
            eq: function(g) {
                var b = this.length,
                    A = +g + (g < 0 ? b : 0);
                return this.pushStack(A >= 0 && A < b ? [this[A]] : [])
            },
            end: function() {
                return this.prevObject || this.constructor()
            },
            push: s,
            sort: i.sort,
            splice: i.splice
        }, y.extend = y.fn.extend = function() {
            var g, b, A, B, z, c, p = arguments[0] || {},
                _ = 1,
                S = arguments.length,
                R = !1;
            for (typeof p == "boolean" && (R = p, p = arguments[_] || {}, _++), typeof p != "object" && !C(p) && (p = {}), _ === S && (p = this, _--); _ < S; _++)
                if ((g = arguments[_]) != null)
                    for (b in g) B = g[b], !(b === "__proto__" || p === B) && (R && B && (y.isPlainObject(B) || (z = Array.isArray(B))) ? (A = p[b], z && !Array.isArray(A) ? c = [] : !z && !y.isPlainObject(A) ? c = {} : c = A, z = !1, p[b] = y.extend(R, c, B)) : B !== void 0 && (p[b] = B));
            return p
        }, y.extend({
            expando: "jQuery" + (H + Math.random()).replace(/\D/g, ""),
            isReady: !0,
            error: function(g) {
                throw new Error(g)
            },
            noop: function() {},
            isPlainObject: function(g) {
                var b, A;
                return !g || f.call(g) !== "[object Object]" ? !1 : (b = n(g), b ? (A = d.call(b, "constructor") && b.constructor, typeof A == "function" && m.call(A) === T) : !0)
            },
            isEmptyObject: function(g) {
                var b;
                for (b in g) return !1;
                return !0
            },
            globalEval: function(g, b, A) {
                D(g, {
                    nonce: b && b.nonce
                }, A)
            },
            each: function(g, b) {
                var A, B = 0;
                if (w(g))
                    for (A = g.length; B < A && b.call(g[B], B, g[B]) !== !1; B++);
                else
                    for (B in g)
                        if (b.call(g[B], B, g[B]) === !1) break;
                return g
            },
            makeArray: function(g, b) {
                var A = b || [];
                return g != null && (w(Object(g)) ? y.merge(A, typeof g == "string" ? [g] : g) : s.call(A, g)), A
            },
            inArray: function(g, b, A) {
                return b == null ? -1 : l.call(b, g, A)
            },
            merge: function(g, b) {
                for (var A = +b.length, B = 0, z = g.length; B < A; B++) g[z++] = b[B];
                return g.length = z, g
            },
            grep: function(g, b, A) {
                for (var B, z = [], c = 0, p = g.length, _ = !A; c < p; c++) B = !b(g[c], c), B !== _ && z.push(g[c]);
                return z
            },
            map: function(g, b, A) {
                var B, z, c = 0,
                    p = [];
                if (w(g))
                    for (B = g.length; c < B; c++) z = b(g[c], c, A), z != null && p.push(z);
                else
                    for (c in g) z = b(g[c], c, A), z != null && p.push(z);
                return a(p)
            },
            guid: 1,
            support: x
        }), typeof Symbol == "function" && (y.fn[Symbol.iterator] = i[Symbol.iterator]), y.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "), function(g, b) {
            u["[object " + b + "]"] = b.toLowerCase()
        });

        function w(g) {
            var b = !!g && "length" in g && g.length,
                A = I(g);
            return C(g) || N(g) ? !1 : A === "array" || b === 0 || typeof b == "number" && b > 0 && b - 1 in g
        }
        var X = function(g) {
            var b, A, B, z, c, p, _, S, R, M, q, j, $, he, Te, Le, Ie, Ge, Dt, kt = "sizzle" + 1 * new Date,
                ct = g.document,
                wi = 0,
                Mt = 0,
                vi = Fa(),
                Xn = Fa(),
                Yt = Fa(),
                $i = Fa(),
                ii = function(Q, fe) {
                    return Q === fe && (q = !0), 0
                },
                Ei = {}.hasOwnProperty,
                Di = [],
                Mr = Di.pop,
                tn = Di.push,
                Cr = Di.push,
                dr = Di.slice,
                qn = function(Q, fe) {
                    for (var ge = 0, Fe = Q.length; ge < Fe; ge++)
                        if (Q[ge] === fe) return ge;
                    return -1
                },
                Gr = "checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",
                Qt = "[\\x20\\t\\r\\n\\f]",
                Zr = "(?:\\\\[\\da-fA-F]{1,6}" + Qt + "?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",
                Xr = "\\[" + Qt + "*(" + Zr + ")(?:" + Qt + "*([*^$|!~]?=)" + Qt + `*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(` + Zr + "))|)" + Qt + "*\\]",
                un = ":(" + Zr + `)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|` + Xr + ")*)|.*)\\)|)",
                ts = new RegExp(Qt + "+", "g"),
                Zs = new RegExp("^" + Qt + "+|((?:^|[^\\\\])(?:\\\\.)*)" + Qt + "+$", "g"),
                ha = new RegExp("^" + Qt + "*," + Qt + "*"),
                ki = new RegExp("^" + Qt + "*([>+~]|" + Qt + ")" + Qt + "*"),
                da = new RegExp(Qt + "|>"),
                Or = new RegExp(un),
                Yr = new RegExp("^" + Zr + "$"),
                Ls = {
                    ID: new RegExp("^#(" + Zr + ")"),
                    CLASS: new RegExp("^\\.(" + Zr + ")"),
                    TAG: new RegExp("^(" + Zr + "|[*])"),
                    ATTR: new RegExp("^" + Xr),
                    PSEUDO: new RegExp("^" + un),
                    CHILD: new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(" + Qt + "*(even|odd|(([+-]|)(\\d*)n|)" + Qt + "*(?:([+-]|)" + Qt + "*(\\d+)|))" + Qt + "*\\)|)", "i"),
                    bool: new RegExp("^(?:" + Gr + ")$", "i"),
                    needsContext: new RegExp("^" + Qt + "*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(" + Qt + "*((?:-\\d)?\\d*)" + Qt + "*\\)|)(?=[^-]|$)", "i")
                },
                Xs = /HTML$/i,
                sl = /^(?:input|select|textarea|button)$/i,
                nr = /^h\d$/i,
                Qr = /^[^{]+\{\s*\[native \w/,
                Ta = /^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,
                is = /[+~]/,
                pr = new RegExp("\\\\[\\da-fA-F]{1,6}" + Qt + "?|\\\\([^\\r\\n\\f])", "g"),
                gn = function(Q, fe) {
                    var ge = "0x" + Q.slice(1) - 65536;
                    return fe || (ge < 0 ? String.fromCharCode(ge + 65536) : String.fromCharCode(ge >> 10 | 55296, ge & 1023 | 56320))
                },
                ks = /([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,
                pa = function(Q, fe) {
                    return fe ? Q === "\0" ? "\uFFFD" : Q.slice(0, -1) + "\\" + Q.charCodeAt(Q.length - 1).toString(16) + " " : "\\" + Q
                },
                ol = function() {
                    j()
                },
                Sr = mt(function(Q) {
                    return Q.disabled === !0 && Q.nodeName.toLowerCase() === "fieldset"
                }, {
                    dir: "parentNode",
                    next: "legend"
                });
            try {
                Cr.apply(Di = dr.call(ct.childNodes), ct.childNodes), Di[ct.childNodes.length].nodeType
            } catch {
                Cr = {
                    apply: Di.length ? function(fe, ge) {
                        tn.apply(fe, dr.call(ge))
                    } : function(fe, ge) {
                        for (var Fe = fe.length, Se = 0; fe[Fe++] = ge[Se++];);
                        fe.length = Fe - 1
                    }
                }
            }

            function Ci(Q, fe, ge, Fe) {
                var Se, qe, Ye, ft, vt, Vt, It, zt = fe && fe.ownerDocument,
                    ai = fe ? fe.nodeType : 9;
                if (ge = ge || [], typeof Q != "string" || !Q || ai !== 1 && ai !== 9 && ai !== 11) return ge;
                if (!Fe && (j(fe), fe = fe || $, Te)) {
                    if (ai !== 11 && (vt = Ta.exec(Q)))
                        if (Se = vt[1]) {
                            if (ai === 9)
                                if (Ye = fe.getElementById(Se)) {
                                    if (Ye.id === Se) return ge.push(Ye), ge
                                } else return ge;
                            else if (zt && (Ye = zt.getElementById(Se)) && Dt(fe, Ye) && Ye.id === Se) return ge.push(Ye), ge
                        } else {
                            if (vt[2]) return Cr.apply(ge, fe.getElementsByTagName(Q)), ge;
                            if ((Se = vt[3]) && A.getElementsByClassName && fe.getElementsByClassName) return Cr.apply(ge, fe.getElementsByClassName(Se)), ge
                        }
                    if (A.qsa && !$i[Q + " "] && (!Le || !Le.test(Q)) && (ai !== 1 || fe.nodeName.toLowerCase() !== "object")) {
                        if (It = Q, zt = fe, ai === 1 && (da.test(Q) || ki.test(Q))) {
                            for (zt = is.test(Q) && ut(fe.parentNode) || fe, (zt !== fe || !A.scope) && ((ft = fe.getAttribute("id")) ? ft = ft.replace(ks, pa) : fe.setAttribute("id", ft = kt)), Vt = p(Q), qe = Vt.length; qe--;) Vt[qe] = (ft ? "#" + ft : ":scope") + " " + Lt(Vt[qe]);
                            It = Vt.join(",")
                        }
                        try {
                            if (A.cssSupportsSelector && !CSS.supports("selector(:is(" + It + "))")) throw new Error;
                            return Cr.apply(ge, zt.querySelectorAll(It)), ge
                        } catch {
                            $i(Q, !0)
                        } finally {
                            ft === kt && fe.removeAttribute("id")
                        }
                    }
                }
                return S(Q.replace(Zs, "$1"), fe, ge, Fe)
            }

            function Fa() {
                var Q = [];

                function fe(ge, Fe) {
                    return Q.push(ge + " ") > B.cacheLength && delete fe[Q.shift()], fe[ge + " "] = Fe
                }
                return fe
            }

            function gr(Q) {
                return Q[kt] = !0, Q
            }

            function Mn(Q) {
                var fe = $.createElement("fieldset");
                try {
                    return !!Q(fe)
                } catch {
                    return !1
                } finally {
                    fe.parentNode && fe.parentNode.removeChild(fe), fe = null
                }
            }

            function ns(Q, fe) {
                for (var ge = Q.split("|"), Fe = ge.length; Fe--;) B.attrHandle[ge[Fe]] = fe
            }

            function le(Q, fe) {
                var ge = fe && Q,
                    Fe = ge && Q.nodeType === 1 && fe.nodeType === 1 && Q.sourceIndex - fe.sourceIndex;
                if (Fe) return Fe;
                if (ge) {
                    for (; ge = ge.nextSibling;)
                        if (ge === fe) return -1
                }
                return Q ? 1 : -1
            }

            function ve(Q) {
                return function(fe) {
                    var ge = fe.nodeName.toLowerCase();
                    return ge === "input" && fe.type === Q
                }
            }

            function Ne(Q) {
                return function(fe) {
                    var ge = fe.nodeName.toLowerCase();
                    return (ge === "input" || ge === "button") && fe.type === Q
                }
            }

            function Me(Q) {
                return function(fe) {
                    return "form" in fe ? fe.parentNode && fe.disabled === !1 ? "label" in fe ? "label" in fe.parentNode ? fe.parentNode.disabled === Q : fe.disabled === Q : fe.isDisabled === Q || fe.isDisabled !== !Q && Sr(fe) === Q : fe.disabled === Q : "label" in fe ? fe.disabled === Q : !1
                }
            }

            function Ve(Q) {
                return gr(function(fe) {
                    return fe = +fe, gr(function(ge, Fe) {
                        for (var Se, qe = Q([], ge.length, fe), Ye = qe.length; Ye--;) ge[Se = qe[Ye]] && (ge[Se] = !(Fe[Se] = ge[Se]))
                    })
                })
            }

            function ut(Q) {
                return Q && typeof Q.getElementsByTagName < "u" && Q
            }
            A = Ci.support = {}, c = Ci.isXML = function(Q) {
                var fe = Q && Q.namespaceURI,
                    ge = Q && (Q.ownerDocument || Q).documentElement;
                return !Xs.test(fe || ge && ge.nodeName || "HTML")
            }, j = Ci.setDocument = function(Q) {
                var fe, ge, Fe = Q ? Q.ownerDocument || Q : ct;
                return Fe == $ || Fe.nodeType !== 9 || !Fe.documentElement || ($ = Fe, he = $.documentElement, Te = !c($), ct != $ && (ge = $.defaultView) && ge.top !== ge && (ge.addEventListener ? ge.addEventListener("unload", ol, !1) : ge.attachEvent && ge.attachEvent("onunload", ol)), A.scope = Mn(function(Se) {
                    return he.appendChild(Se).appendChild($.createElement("div")), typeof Se.querySelectorAll < "u" && !Se.querySelectorAll(":scope fieldset div").length
                }), A.cssSupportsSelector = Mn(function() {
                    return CSS.supports("selector(*)") && $.querySelectorAll(":is(:jqfake)") && !CSS.supports("selector(:is(*,:jqfake))")
                }), A.attributes = Mn(function(Se) {
                    return Se.className = "i", !Se.getAttribute("className")
                }), A.getElementsByTagName = Mn(function(Se) {
                    return Se.appendChild($.createComment("")), !Se.getElementsByTagName("*").length
                }), A.getElementsByClassName = Qr.test($.getElementsByClassName), A.getById = Mn(function(Se) {
                    return he.appendChild(Se).id = kt, !$.getElementsByName || !$.getElementsByName(kt).length
                }), A.getById ? (B.filter.ID = function(Se) {
                    var qe = Se.replace(pr, gn);
                    return function(Ye) {
                        return Ye.getAttribute("id") === qe
                    }
                }, B.find.ID = function(Se, qe) {
                    if (typeof qe.getElementById < "u" && Te) {
                        var Ye = qe.getElementById(Se);
                        return Ye ? [Ye] : []
                    }
                }) : (B.filter.ID = function(Se) {
                    var qe = Se.replace(pr, gn);
                    return function(Ye) {
                        var ft = typeof Ye.getAttributeNode < "u" && Ye.getAttributeNode("id");
                        return ft && ft.value === qe
                    }
                }, B.find.ID = function(Se, qe) {
                    if (typeof qe.getElementById < "u" && Te) {
                        var Ye, ft, vt, Vt = qe.getElementById(Se);
                        if (Vt) {
                            if (Ye = Vt.getAttributeNode("id"), Ye && Ye.value === Se) return [Vt];
                            for (vt = qe.getElementsByName(Se), ft = 0; Vt = vt[ft++];)
                                if (Ye = Vt.getAttributeNode("id"), Ye && Ye.value === Se) return [Vt]
                        }
                        return []
                    }
                }), B.find.TAG = A.getElementsByTagName ? function(Se, qe) {
                    if (typeof qe.getElementsByTagName < "u") return qe.getElementsByTagName(Se);
                    if (A.qsa) return qe.querySelectorAll(Se)
                } : function(Se, qe) {
                    var Ye, ft = [],
                        vt = 0,
                        Vt = qe.getElementsByTagName(Se);
                    if (Se === "*") {
                        for (; Ye = Vt[vt++];) Ye.nodeType === 1 && ft.push(Ye);
                        return ft
                    }
                    return Vt
                }, B.find.CLASS = A.getElementsByClassName && function(Se, qe) {
                    if (typeof qe.getElementsByClassName < "u" && Te) return qe.getElementsByClassName(Se)
                }, Ie = [], Le = [], (A.qsa = Qr.test($.querySelectorAll)) && (Mn(function(Se) {
                    var qe;
                    he.appendChild(Se).innerHTML = "<a id='" + kt + "'></a><select id='" + kt + "-\r\\' msallowcapture=''><option selected=''></option></select>", Se.querySelectorAll("[msallowcapture^='']").length && Le.push("[*^$]=" + Qt + `*(?:''|"")`), Se.querySelectorAll("[selected]").length || Le.push("\\[" + Qt + "*(?:value|" + Gr + ")"), Se.querySelectorAll("[id~=" + kt + "-]").length || Le.push("~="), qe = $.createElement("input"), qe.setAttribute("name", ""), Se.appendChild(qe), Se.querySelectorAll("[name='']").length || Le.push("\\[" + Qt + "*name" + Qt + "*=" + Qt + `*(?:''|"")`), Se.querySelectorAll(":checked").length || Le.push(":checked"), Se.querySelectorAll("a#" + kt + "+*").length || Le.push(".#.+[+~]"), Se.querySelectorAll("\\\f"), Le.push("[\\r\\n\\f]")
                }), Mn(function(Se) {
                    Se.innerHTML = "<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";
                    var qe = $.createElement("input");
                    qe.setAttribute("type", "hidden"), Se.appendChild(qe).setAttribute("name", "D"), Se.querySelectorAll("[name=d]").length && Le.push("name" + Qt + "*[*^$|!~]?="), Se.querySelectorAll(":enabled").length !== 2 && Le.push(":enabled", ":disabled"), he.appendChild(Se).disabled = !0, Se.querySelectorAll(":disabled").length !== 2 && Le.push(":enabled", ":disabled"), Se.querySelectorAll("*,:x"), Le.push(",.*:")
                })), (A.matchesSelector = Qr.test(Ge = he.matches || he.webkitMatchesSelector || he.mozMatchesSelector || he.oMatchesSelector || he.msMatchesSelector)) && Mn(function(Se) {
                    A.disconnectedMatch = Ge.call(Se, "*"), Ge.call(Se, "[s!='']:x"), Ie.push("!=", un)
                }), A.cssSupportsSelector || Le.push(":has"), Le = Le.length && new RegExp(Le.join("|")), Ie = Ie.length && new RegExp(Ie.join("|")), fe = Qr.test(he.compareDocumentPosition), Dt = fe || Qr.test(he.contains) ? function(Se, qe) {
                    var Ye = Se.nodeType === 9 && Se.documentElement || Se,
                        ft = qe && qe.parentNode;
                    return Se === ft || !!(ft && ft.nodeType === 1 && (Ye.contains ? Ye.contains(ft) : Se.compareDocumentPosition && Se.compareDocumentPosition(ft) & 16))
                } : function(Se, qe) {
                    if (qe) {
                        for (; qe = qe.parentNode;)
                            if (qe === Se) return !0
                    }
                    return !1
                }, ii = fe ? function(Se, qe) {
                    if (Se === qe) return q = !0, 0;
                    var Ye = !Se.compareDocumentPosition - !qe.compareDocumentPosition;
                    return Ye || (Ye = (Se.ownerDocument || Se) == (qe.ownerDocument || qe) ? Se.compareDocumentPosition(qe) : 1, Ye & 1 || !A.sortDetached && qe.compareDocumentPosition(Se) === Ye ? Se == $ || Se.ownerDocument == ct && Dt(ct, Se) ? -1 : qe == $ || qe.ownerDocument == ct && Dt(ct, qe) ? 1 : M ? qn(M, Se) - qn(M, qe) : 0 : Ye & 4 ? -1 : 1)
                } : function(Se, qe) {
                    if (Se === qe) return q = !0, 0;
                    var Ye, ft = 0,
                        vt = Se.parentNode,
                        Vt = qe.parentNode,
                        It = [Se],
                        zt = [qe];
                    if (!vt || !Vt) return Se == $ ? -1 : qe == $ ? 1 : vt ? -1 : Vt ? 1 : M ? qn(M, Se) - qn(M, qe) : 0;
                    if (vt === Vt) return le(Se, qe);
                    for (Ye = Se; Ye = Ye.parentNode;) It.unshift(Ye);
                    for (Ye = qe; Ye = Ye.parentNode;) zt.unshift(Ye);
                    for (; It[ft] === zt[ft];) ft++;
                    return ft ? le(It[ft], zt[ft]) : It[ft] == ct ? -1 : zt[ft] == ct ? 1 : 0
                }), $
            }, Ci.matches = function(Q, fe) {
                return Ci(Q, null, null, fe)
            }, Ci.matchesSelector = function(Q, fe) {
                if (j(Q), A.matchesSelector && Te && !$i[fe + " "] && (!Ie || !Ie.test(fe)) && (!Le || !Le.test(fe))) try {
                    var ge = Ge.call(Q, fe);
                    if (ge || A.disconnectedMatch || Q.document && Q.document.nodeType !== 11) return ge
                } catch {
                    $i(fe, !0)
                }
                return Ci(fe, $, null, [Q]).length > 0
            }, Ci.contains = function(Q, fe) {
                return (Q.ownerDocument || Q) != $ && j(Q), Dt(Q, fe)
            }, Ci.attr = function(Q, fe) {
                (Q.ownerDocument || Q) != $ && j(Q);
                var ge = B.attrHandle[fe.toLowerCase()],
                    Fe = ge && Ei.call(B.attrHandle, fe.toLowerCase()) ? ge(Q, fe, !Te) : void 0;
                return Fe !== void 0 ? Fe : A.attributes || !Te ? Q.getAttribute(fe) : (Fe = Q.getAttributeNode(fe)) && Fe.specified ? Fe.value : null
            }, Ci.escape = function(Q) {
                return (Q + "").replace(ks, pa)
            }, Ci.error = function(Q) {
                throw new Error("Syntax error, unrecognized expression: " + Q)
            }, Ci.uniqueSort = function(Q) {
                var fe, ge = [],
                    Fe = 0,
                    Se = 0;
                if (q = !A.detectDuplicates, M = !A.sortStable && Q.slice(0), Q.sort(ii), q) {
                    for (; fe = Q[Se++];) fe === Q[Se] && (Fe = ge.push(Se));
                    for (; Fe--;) Q.splice(ge[Fe], 1)
                }
                return M = null, Q
            }, z = Ci.getText = function(Q) {
                var fe, ge = "",
                    Fe = 0,
                    Se = Q.nodeType;
                if (Se) {
                    if (Se === 1 || Se === 9 || Se === 11) {
                        if (typeof Q.textContent == "string") return Q.textContent;
                        for (Q = Q.firstChild; Q; Q = Q.nextSibling) ge += z(Q)
                    } else if (Se === 3 || Se === 4) return Q.nodeValue
                } else
                    for (; fe = Q[Fe++];) ge += z(fe);
                return ge
            }, B = Ci.selectors = {
                cacheLength: 50,
                createPseudo: gr,
                match: Ls,
                attrHandle: {},
                find: {},
                relative: {
                    ">": {
                        dir: "parentNode",
                        first: !0
                    },
                    " ": {
                        dir: "parentNode"
                    },
                    "+": {
                        dir: "previousSibling",
                        first: !0
                    },
                    "~": {
                        dir: "previousSibling"
                    }
                },
                preFilter: {
                    ATTR: function(Q) {
                        return Q[1] = Q[1].replace(pr, gn), Q[3] = (Q[3] || Q[4] || Q[5] || "").replace(pr, gn), Q[2] === "~=" && (Q[3] = " " + Q[3] + " "), Q.slice(0, 4)
                    },
                    CHILD: function(Q) {
                        return Q[1] = Q[1].toLowerCase(), Q[1].slice(0, 3) === "nth" ? (Q[3] || Ci.error(Q[0]), Q[4] = +(Q[4] ? Q[5] + (Q[6] || 1) : 2 * (Q[3] === "even" || Q[3] === "odd")), Q[5] = +(Q[7] + Q[8] || Q[3] === "odd")) : Q[3] && Ci.error(Q[0]), Q
                    },
                    PSEUDO: function(Q) {
                        var fe, ge = !Q[6] && Q[2];
                        return Ls.CHILD.test(Q[0]) ? null : (Q[3] ? Q[2] = Q[4] || Q[5] || "" : ge && Or.test(ge) && (fe = p(ge, !0)) && (fe = ge.indexOf(")", ge.length - fe) - ge.length) && (Q[0] = Q[0].slice(0, fe), Q[2] = ge.slice(0, fe)), Q.slice(0, 3))
                    }
                },
                filter: {
                    TAG: function(Q) {
                        var fe = Q.replace(pr, gn).toLowerCase();
                        return Q === "*" ? function() {
                            return !0
                        } : function(ge) {
                            return ge.nodeName && ge.nodeName.toLowerCase() === fe
                        }
                    },
                    CLASS: function(Q) {
                        var fe = vi[Q + " "];
                        return fe || (fe = new RegExp("(^|" + Qt + ")" + Q + "(" + Qt + "|$)")) && vi(Q, function(ge) {
                            return fe.test(typeof ge.className == "string" && ge.className || typeof ge.getAttribute < "u" && ge.getAttribute("class") || "")
                        })
                    },
                    ATTR: function(Q, fe, ge) {
                        return function(Fe) {
                            var Se = Ci.attr(Fe, Q);
                            return Se == null ? fe === "!=" : fe ? (Se += "", fe === "=" ? Se === ge : fe === "!=" ? Se !== ge : fe === "^=" ? ge && Se.indexOf(ge) === 0 : fe === "*=" ? ge && Se.indexOf(ge) > -1 : fe === "$=" ? ge && Se.slice(-ge.length) === ge : fe === "~=" ? (" " + Se.replace(ts, " ") + " ").indexOf(ge) > -1 : fe === "|=" ? Se === ge || Se.slice(0, ge.length + 1) === ge + "-" : !1) : !0
                        }
                    },
                    CHILD: function(Q, fe, ge, Fe, Se) {
                        var qe = Q.slice(0, 3) !== "nth",
                            Ye = Q.slice(-4) !== "last",
                            ft = fe === "of-type";
                        return Fe === 1 && Se === 0 ? function(vt) {
                            return !!vt.parentNode
                        } : function(vt, Vt, It) {
                            var zt, ai, Ni, Ht, mn, kn, Tr = qe !== Ye ? "nextSibling" : "previousSibling",
                                Xi = vt.parentNode,
                                Do = ft && vt.nodeName.toLowerCase(),
                                Ys = !It && !ft,
                                Lr = !1;
                            if (Xi) {
                                if (qe) {
                                    for (; Tr;) {
                                        for (Ht = vt; Ht = Ht[Tr];)
                                            if (ft ? Ht.nodeName.toLowerCase() === Do : Ht.nodeType === 1) return !1;
                                        kn = Tr = Q === "only" && !kn && "nextSibling"
                                    }
                                    return !0
                                }
                                if (kn = [Ye ? Xi.firstChild : Xi.lastChild], Ye && Ys) {
                                    for (Ht = Xi, Ni = Ht[kt] || (Ht[kt] = {}), ai = Ni[Ht.uniqueID] || (Ni[Ht.uniqueID] = {}), zt = ai[Q] || [], mn = zt[0] === wi && zt[1], Lr = mn && zt[2], Ht = mn && Xi.childNodes[mn]; Ht = ++mn && Ht && Ht[Tr] || (Lr = mn = 0) || kn.pop();)
                                        if (Ht.nodeType === 1 && ++Lr && Ht === vt) {
                                            ai[Q] = [wi, mn, Lr];
                                            break
                                        }
                                } else if (Ys && (Ht = vt, Ni = Ht[kt] || (Ht[kt] = {}), ai = Ni[Ht.uniqueID] || (Ni[Ht.uniqueID] = {}), zt = ai[Q] || [], mn = zt[0] === wi && zt[1], Lr = mn), Lr === !1)
                                    for (;
                                        (Ht = ++mn && Ht && Ht[Tr] || (Lr = mn = 0) || kn.pop()) && !((ft ? Ht.nodeName.toLowerCase() === Do : Ht.nodeType === 1) && ++Lr && (Ys && (Ni = Ht[kt] || (Ht[kt] = {}), ai = Ni[Ht.uniqueID] || (Ni[Ht.uniqueID] = {}), ai[Q] = [wi, Lr]), Ht === vt)););
                                return Lr -= Se, Lr === Fe || Lr % Fe === 0 && Lr / Fe >= 0
                            }
                        }
                    },
                    PSEUDO: function(Q, fe) {
                        var ge, Fe = B.pseudos[Q] || B.setFilters[Q.toLowerCase()] || Ci.error("unsupported pseudo: " + Q);
                        return Fe[kt] ? Fe(fe) : Fe.length > 1 ? (ge = [Q, Q, "", fe], B.setFilters.hasOwnProperty(Q.toLowerCase()) ? gr(function(Se, qe) {
                            for (var Ye, ft = Fe(Se, fe), vt = ft.length; vt--;) Ye = qn(Se, ft[vt]), Se[Ye] = !(qe[Ye] = ft[vt])
                        }) : function(Se) {
                            return Fe(Se, 0, ge)
                        }) : Fe
                    }
                },
                pseudos: {
                    not: gr(function(Q) {
                        var fe = [],
                            ge = [],
                            Fe = _(Q.replace(Zs, "$1"));
                        return Fe[kt] ? gr(function(Se, qe, Ye, ft) {
                            for (var vt, Vt = Fe(Se, null, ft, []), It = Se.length; It--;)(vt = Vt[It]) && (Se[It] = !(qe[It] = vt))
                        }) : function(Se, qe, Ye) {
                            return fe[0] = Se, Fe(fe, null, Ye, ge), fe[0] = null, !ge.pop()
                        }
                    }),
                    has: gr(function(Q) {
                        return function(fe) {
                            return Ci(Q, fe).length > 0
                        }
                    }),
                    contains: gr(function(Q) {
                        return Q = Q.replace(pr, gn),
                            function(fe) {
                                return (fe.textContent || z(fe)).indexOf(Q) > -1
                            }
                    }),
                    lang: gr(function(Q) {
                        return Yr.test(Q || "") || Ci.error("unsupported lang: " + Q), Q = Q.replace(pr, gn).toLowerCase(),
                            function(fe) {
                                var ge;
                                do
                                    if (ge = Te ? fe.lang : fe.getAttribute("xml:lang") || fe.getAttribute("lang")) return ge = ge.toLowerCase(), ge === Q || ge.indexOf(Q + "-") === 0; while ((fe = fe.parentNode) && fe.nodeType === 1);
                                return !1
                            }
                    }),
                    target: function(Q) {
                        var fe = g.location && g.location.hash;
                        return fe && fe.slice(1) === Q.id
                    },
                    root: function(Q) {
                        return Q === he
                    },
                    focus: function(Q) {
                        return Q === $.activeElement && (!$.hasFocus || $.hasFocus()) && !!(Q.type || Q.href || ~Q.tabIndex)
                    },
                    enabled: Me(!1),
                    disabled: Me(!0),
                    checked: function(Q) {
                        var fe = Q.nodeName.toLowerCase();
                        return fe === "input" && !!Q.checked || fe === "option" && !!Q.selected
                    },
                    selected: function(Q) {
                        return Q.parentNode && Q.parentNode.selectedIndex, Q.selected === !0
                    },
                    empty: function(Q) {
                        for (Q = Q.firstChild; Q; Q = Q.nextSibling)
                            if (Q.nodeType < 6) return !1;
                        return !0
                    },
                    parent: function(Q) {
                        return !B.pseudos.empty(Q)
                    },
                    header: function(Q) {
                        return nr.test(Q.nodeName)
                    },
                    input: function(Q) {
                        return sl.test(Q.nodeName)
                    },
                    button: function(Q) {
                        var fe = Q.nodeName.toLowerCase();
                        return fe === "input" && Q.type === "button" || fe === "button"
                    },
                    text: function(Q) {
                        var fe;
                        return Q.nodeName.toLowerCase() === "input" && Q.type === "text" && ((fe = Q.getAttribute("type")) == null || fe.toLowerCase() === "text")
                    },
                    first: Ve(function() {
                        return [0]
                    }),
                    last: Ve(function(Q, fe) {
                        return [fe - 1]
                    }),
                    eq: Ve(function(Q, fe, ge) {
                        return [ge < 0 ? ge + fe : ge]
                    }),
                    even: Ve(function(Q, fe) {
                        for (var ge = 0; ge < fe; ge += 2) Q.push(ge);
                        return Q
                    }),
                    odd: Ve(function(Q, fe) {
                        for (var ge = 1; ge < fe; ge += 2) Q.push(ge);
                        return Q
                    }),
                    lt: Ve(function(Q, fe, ge) {
                        for (var Fe = ge < 0 ? ge + fe : ge > fe ? fe : ge; --Fe >= 0;) Q.push(Fe);
                        return Q
                    }),
                    gt: Ve(function(Q, fe, ge) {
                        for (var Fe = ge < 0 ? ge + fe : ge; ++Fe < fe;) Q.push(Fe);
                        return Q
                    })
                }
            }, B.pseudos.nth = B.pseudos.eq;
            for (b in {
                    radio: !0,
                    checkbox: !0,
                    file: !0,
                    password: !0,
                    image: !0
                }) B.pseudos[b] = ve(b);
            for (b in {
                    submit: !0,
                    reset: !0
                }) B.pseudos[b] = Ne(b);

            function gt() {}
            gt.prototype = B.filters = B.pseudos, B.setFilters = new gt, p = Ci.tokenize = function(Q, fe) {
                var ge, Fe, Se, qe, Ye, ft, vt, Vt = Xn[Q + " "];
                if (Vt) return fe ? 0 : Vt.slice(0);
                for (Ye = Q, ft = [], vt = B.preFilter; Ye;) {
                    (!ge || (Fe = ha.exec(Ye))) && (Fe && (Ye = Ye.slice(Fe[0].length) || Ye), ft.push(Se = [])), ge = !1, (Fe = ki.exec(Ye)) && (ge = Fe.shift(), Se.push({
                        value: ge,
                        type: Fe[0].replace(Zs, " ")
                    }), Ye = Ye.slice(ge.length));
                    for (qe in B.filter)(Fe = Ls[qe].exec(Ye)) && (!vt[qe] || (Fe = vt[qe](Fe))) && (ge = Fe.shift(), Se.push({
                        value: ge,
                        type: qe,
                        matches: Fe
                    }), Ye = Ye.slice(ge.length));
                    if (!ge) break
                }
                return fe ? Ye.length : Ye ? Ci.error(Q) : Xn(Q, ft).slice(0)
            };

            function Lt(Q) {
                for (var fe = 0, ge = Q.length, Fe = ""; fe < ge; fe++) Fe += Q[fe].value;
                return Fe
            }

            function mt(Q, fe, ge) {
                var Fe = fe.dir,
                    Se = fe.next,
                    qe = Se || Fe,
                    Ye = ge && qe === "parentNode",
                    ft = Mt++;
                return fe.first ? function(vt, Vt, It) {
                    for (; vt = vt[Fe];)
                        if (vt.nodeType === 1 || Ye) return Q(vt, Vt, It);
                    return !1
                } : function(vt, Vt, It) {
                    var zt, ai, Ni, Ht = [wi, ft];
                    if (It) {
                        for (; vt = vt[Fe];)
                            if ((vt.nodeType === 1 || Ye) && Q(vt, Vt, It)) return !0
                    } else
                        for (; vt = vt[Fe];)
                            if (vt.nodeType === 1 || Ye)
                                if (Ni = vt[kt] || (vt[kt] = {}), ai = Ni[vt.uniqueID] || (Ni[vt.uniqueID] = {}), Se && Se === vt.nodeName.toLowerCase()) vt = vt[Fe] || vt;
                                else {
                                    if ((zt = ai[qe]) && zt[0] === wi && zt[1] === ft) return Ht[2] = zt[2];
                                    if (ai[qe] = Ht, Ht[2] = Q(vt, Vt, It)) return !0
                                } return !1
                }
            }

            function ni(Q) {
                return Q.length > 1 ? function(fe, ge, Fe) {
                    for (var Se = Q.length; Se--;)
                        if (!Q[Se](fe, ge, Fe)) return !1;
                    return !0
                } : Q[0]
            }

            function qt(Q, fe, ge) {
                for (var Fe = 0, Se = fe.length; Fe < Se; Fe++) Ci(Q, fe[Fe], ge);
                return ge
            }

            function $t(Q, fe, ge, Fe, Se) {
                for (var qe, Ye = [], ft = 0, vt = Q.length, Vt = fe != null; ft < vt; ft++)(qe = Q[ft]) && (!ge || ge(qe, Fe, Se)) && (Ye.push(qe), Vt && fe.push(ft));
                return Ye
            }

            function jt(Q, fe, ge, Fe, Se, qe) {
                return Fe && !Fe[kt] && (Fe = jt(Fe)), Se && !Se[kt] && (Se = jt(Se, qe)), gr(function(Ye, ft, vt, Vt) {
                    var It, zt, ai, Ni = [],
                        Ht = [],
                        mn = ft.length,
                        kn = Ye || qt(fe || "*", vt.nodeType ? [vt] : vt, []),
                        Tr = Q && (Ye || !fe) ? $t(kn, Ni, Q, vt, Vt) : kn,
                        Xi = ge ? Se || (Ye ? Q : mn || Fe) ? [] : ft : Tr;
                    if (ge && ge(Tr, Xi, vt, Vt), Fe)
                        for (It = $t(Xi, Ht), Fe(It, [], vt, Vt), zt = It.length; zt--;)(ai = It[zt]) && (Xi[Ht[zt]] = !(Tr[Ht[zt]] = ai));
                    if (Ye) {
                        if (Se || Q) {
                            if (Se) {
                                for (It = [], zt = Xi.length; zt--;)(ai = Xi[zt]) && It.push(Tr[zt] = ai);
                                Se(null, Xi = [], It, Vt)
                            }
                            for (zt = Xi.length; zt--;)(ai = Xi[zt]) && (It = Se ? qn(Ye, ai) : Ni[zt]) > -1 && (Ye[It] = !(ft[It] = ai))
                        }
                    } else Xi = $t(Xi === ft ? Xi.splice(mn, Xi.length) : Xi), Se ? Se(null, ft, Xi, Vt) : Cr.apply(ft, Xi)
                })
            }

            function Pt(Q) {
                for (var fe, ge, Fe, Se = Q.length, qe = B.relative[Q[0].type], Ye = qe || B.relative[" "], ft = qe ? 1 : 0, vt = mt(function(zt) {
                        return zt === fe
                    }, Ye, !0), Vt = mt(function(zt) {
                        return qn(fe, zt) > -1
                    }, Ye, !0), It = [function(zt, ai, Ni) {
                        var Ht = !qe && (Ni || ai !== R) || ((fe = ai).nodeType ? vt(zt, ai, Ni) : Vt(zt, ai, Ni));
                        return fe = null, Ht
                    }]; ft < Se; ft++)
                    if (ge = B.relative[Q[ft].type]) It = [mt(ni(It), ge)];
                    else {
                        if (ge = B.filter[Q[ft].type].apply(null, Q[ft].matches), ge[kt]) {
                            for (Fe = ++ft; Fe < Se && !B.relative[Q[Fe].type]; Fe++);
                            return jt(ft > 1 && ni(It), ft > 1 && Lt(Q.slice(0, ft - 1).concat({
                                value: Q[ft - 2].type === " " ? "*" : ""
                            })).replace(Zs, "$1"), ge, ft < Fe && Pt(Q.slice(ft, Fe)), Fe < Se && Pt(Q = Q.slice(Fe)), Fe < Se && Lt(Q))
                        }
                        It.push(ge)
                    }
                return ni(It)
            }

            function Fi(Q, fe) {
                var ge = fe.length > 0,
                    Fe = Q.length > 0,
                    Se = function(qe, Ye, ft, vt, Vt) {
                        var It, zt, ai, Ni = 0,
                            Ht = "0",
                            mn = qe && [],
                            kn = [],
                            Tr = R,
                            Xi = qe || Fe && B.find.TAG("*", Vt),
                            Do = wi += Tr == null ? 1 : Math.random() || .1,
                            Ys = Xi.length;
                        for (Vt && (R = Ye == $ || Ye || Vt); Ht !== Ys && (It = Xi[Ht]) != null; Ht++) {
                            if (Fe && It) {
                                for (zt = 0, !Ye && It.ownerDocument != $ && (j(It), ft = !Te); ai = Q[zt++];)
                                    if (ai(It, Ye || $, ft)) {
                                        vt.push(It);
                                        break
                                    }
                                Vt && (wi = Do)
                            }
                            ge && ((It = !ai && It) && Ni--, qe && mn.push(It))
                        }
                        if (Ni += Ht, ge && Ht !== Ni) {
                            for (zt = 0; ai = fe[zt++];) ai(mn, kn, Ye, ft);
                            if (qe) {
                                if (Ni > 0)
                                    for (; Ht--;) mn[Ht] || kn[Ht] || (kn[Ht] = Mr.call(vt));
                                kn = $t(kn)
                            }
                            Cr.apply(vt, kn), Vt && !qe && kn.length > 0 && Ni + fe.length > 1 && Ci.uniqueSort(vt)
                        }
                        return Vt && (wi = Do, R = Tr), mn
                    };
                return ge ? gr(Se) : Se
            }
            return _ = Ci.compile = function(Q, fe) {
                var ge, Fe = [],
                    Se = [],
                    qe = Yt[Q + " "];
                if (!qe) {
                    for (fe || (fe = p(Q)), ge = fe.length; ge--;) qe = Pt(fe[ge]), qe[kt] ? Fe.push(qe) : Se.push(qe);
                    qe = Yt(Q, Fi(Se, Fe)), qe.selector = Q
                }
                return qe
            }, S = Ci.select = function(Q, fe, ge, Fe) {
                var Se, qe, Ye, ft, vt, Vt = typeof Q == "function" && Q,
                    It = !Fe && p(Q = Vt.selector || Q);
                if (ge = ge || [], It.length === 1) {
                    if (qe = It[0] = It[0].slice(0), qe.length > 2 && (Ye = qe[0]).type === "ID" && fe.nodeType === 9 && Te && B.relative[qe[1].type]) {
                        if (fe = (B.find.ID(Ye.matches[0].replace(pr, gn), fe) || [])[0], fe) Vt && (fe = fe.parentNode);
                        else return ge;
                        Q = Q.slice(qe.shift().value.length)
                    }
                    for (Se = Ls.needsContext.test(Q) ? 0 : qe.length; Se-- && (Ye = qe[Se], !B.relative[ft = Ye.type]);)
                        if ((vt = B.find[ft]) && (Fe = vt(Ye.matches[0].replace(pr, gn), is.test(qe[0].type) && ut(fe.parentNode) || fe))) {
                            if (qe.splice(Se, 1), Q = Fe.length && Lt(qe), !Q) return Cr.apply(ge, Fe), ge;
                            break
                        }
                }
                return (Vt || _(Q, It))(Fe, fe, !Te, ge, !fe || is.test(Q) && ut(fe.parentNode) || fe), ge
            }, A.sortStable = kt.split("").sort(ii).join("") === kt, A.detectDuplicates = !!q, j(), A.sortDetached = Mn(function(Q) {
                return Q.compareDocumentPosition($.createElement("fieldset")) & 1
            }), Mn(function(Q) {
                return Q.innerHTML = "<a href='#'></a>", Q.firstChild.getAttribute("href") === "#"
            }) || ns("type|href|height|width", function(Q, fe, ge) {
                if (!ge) return Q.getAttribute(fe, fe.toLowerCase() === "type" ? 1 : 2)
            }), (!A.attributes || !Mn(function(Q) {
                return Q.innerHTML = "<input/>", Q.firstChild.setAttribute("value", ""), Q.firstChild.getAttribute("value") === ""
            })) && ns("value", function(Q, fe, ge) {
                if (!ge && Q.nodeName.toLowerCase() === "input") return Q.defaultValue
            }), Mn(function(Q) {
                return Q.getAttribute("disabled") == null
            }) || ns(Gr, function(Q, fe, ge) {
                var Fe;
                if (!ge) return Q[fe] === !0 ? fe.toLowerCase() : (Fe = Q.getAttributeNode(fe)) && Fe.specified ? Fe.value : null
            }), Ci
        }(e);
        y.find = X, y.expr = X.selectors, y.expr[":"] = y.expr.pseudos, y.uniqueSort = y.unique = X.uniqueSort, y.text = X.getText, y.isXMLDoc = X.isXML, y.contains = X.contains, y.escapeSelector = X.escape;
        var oe = function(g, b, A) {
                for (var B = [], z = A !== void 0;
                    (g = g[b]) && g.nodeType !== 9;)
                    if (g.nodeType === 1) {
                        if (z && y(g).is(A)) break;
                        B.push(g)
                    }
                return B
            },
            me = function(g, b) {
                for (var A = []; g; g = g.nextSibling) g.nodeType === 1 && g !== b && A.push(g);
                return A
            },
            V = y.expr.match.needsContext;

        function W(g, b) {
            return g.nodeName && g.nodeName.toLowerCase() === b.toLowerCase()
        }
        var P = /^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;

        function se(g, b, A) {
            return C(b) ? y.grep(g, function(B, z) {
                return !!b.call(B, z, B) !== A
            }) : b.nodeType ? y.grep(g, function(B) {
                return B === b !== A
            }) : typeof b != "string" ? y.grep(g, function(B) {
                return l.call(b, B) > -1 !== A
            }) : y.filter(b, g, A)
        }
        y.filter = function(g, b, A) {
            var B = b[0];
            return A && (g = ":not(" + g + ")"), b.length === 1 && B.nodeType === 1 ? y.find.matchesSelector(B, g) ? [B] : [] : y.find.matches(g, y.grep(b, function(z) {
                return z.nodeType === 1
            }))
        }, y.fn.extend({
            find: function(g) {
                var b, A, B = this.length,
                    z = this;
                if (typeof g != "string") return this.pushStack(y(g).filter(function() {
                    for (b = 0; b < B; b++)
                        if (y.contains(z[b], this)) return !0
                }));
                for (A = this.pushStack([]), b = 0; b < B; b++) y.find(g, z[b], A);
                return B > 1 ? y.uniqueSort(A) : A
            },
            filter: function(g) {
                return this.pushStack(se(this, g || [], !1))
            },
            not: function(g) {
                return this.pushStack(se(this, g || [], !0))
            },
            is: function(g) {
                return !!se(this, typeof g == "string" && V.test(g) ? y(g) : g || [], !1).length
            }
        });
        var ce, ne = /^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,
            re = y.fn.init = function(g, b, A) {
                var B, z;
                if (!g) return this;
                if (A = A || ce, typeof g == "string")
                    if (g[0] === "<" && g[g.length - 1] === ">" && g.length >= 3 ? B = [null, g, null] : B = ne.exec(g), B && (B[1] || !b))
                        if (B[1]) {
                            if (b = b instanceof y ? b[0] : b, y.merge(this, y.parseHTML(B[1], b && b.nodeType ? b.ownerDocument || b : E, !0)), P.test(B[1]) && y.isPlainObject(b))
                                for (B in b) C(this[B]) ? this[B](b[B]) : this.attr(B, b[B]);
                            return this
                        } else return z = E.getElementById(B[2]), z && (this[0] = z, this.length = 1), this;
                else return !b || b.jquery ? (b || A).find(g) : this.constructor(b).find(g);
                else {
                    if (g.nodeType) return this[0] = g, this.length = 1, this;
                    if (C(g)) return A.ready !== void 0 ? A.ready(g) : g(y)
                }
                return y.makeArray(g, this)
            };
        re.prototype = y.fn, ce = y(E);
        var J = /^(?:parents|prev(?:Until|All))/,
            ue = {
                children: !0,
                contents: !0,
                next: !0,
                prev: !0
            };
        y.fn.extend({
            has: function(g) {
                var b = y(g, this),
                    A = b.length;
                return this.filter(function() {
                    for (var B = 0; B < A; B++)
                        if (y.contains(this, b[B])) return !0
                })
            },
            closest: function(g, b) {
                var A, B = 0,
                    z = this.length,
                    c = [],
                    p = typeof g != "string" && y(g);
                if (!V.test(g)) {
                    for (; B < z; B++)
                        for (A = this[B]; A && A !== b; A = A.parentNode)
                            if (A.nodeType < 11 && (p ? p.index(A) > -1 : A.nodeType === 1 && y.find.matchesSelector(A, g))) {
                                c.push(A);
                                break
                            }
                }
                return this.pushStack(c.length > 1 ? y.uniqueSort(c) : c)
            },
            index: function(g) {
                return g ? typeof g == "string" ? l.call(y(g), this[0]) : l.call(this, g.jquery ? g[0] : g) : this[0] && this[0].parentNode ? this.first().prevAll().length : -1
            },
            add: function(g, b) {
                return this.pushStack(y.uniqueSort(y.merge(this.get(), y(g, b))))
            },
            addBack: function(g) {
                return this.add(g == null ? this.prevObject : this.prevObject.filter(g))
            }
        });

        function ie(g, b) {
            for (;
                (g = g[b]) && g.nodeType !== 1;);
            return g
        }
        y.each({
            parent: function(g) {
                var b = g.parentNode;
                return b && b.nodeType !== 11 ? b : null
            },
            parents: function(g) {
                return oe(g, "parentNode")
            },
            parentsUntil: function(g, b, A) {
                return oe(g, "parentNode", A)
            },
            next: function(g) {
                return ie(g, "nextSibling")
            },
            prev: function(g) {
                return ie(g, "previousSibling")
            },
            nextAll: function(g) {
                return oe(g, "nextSibling")
            },
            prevAll: function(g) {
                return oe(g, "previousSibling")
            },
            nextUntil: function(g, b, A) {
                return oe(g, "nextSibling", A)
            },
            prevUntil: function(g, b, A) {
                return oe(g, "previousSibling", A)
            },
            siblings: function(g) {
                return me((g.parentNode || {}).firstChild, g)
            },
            children: function(g) {
                return me(g.firstChild)
            },
            contents: function(g) {
                return g.contentDocument != null && n(g.contentDocument) ? g.contentDocument : (W(g, "template") && (g = g.content || g), y.merge([], g.childNodes))
            }
        }, function(g, b) {
            y.fn[g] = function(A, B) {
                var z = y.map(this, b, A);
                return g.slice(-5) !== "Until" && (B = A), B && typeof B == "string" && (z = y.filter(B, z)), this.length > 1 && (ue[g] || y.uniqueSort(z), J.test(g) && z.reverse()), this.pushStack(z)
            }
        });
        var te = /[^\x20\t\r\n\f]+/g;

        function we(g) {
            var b = {};
            return y.each(g.match(te) || [], function(A, B) {
                b[B] = !0
            }), b
        }
        y.Callbacks = function(g) {
            g = typeof g == "string" ? we(g) : y.extend({}, g);
            var b, A, B, z, c = [],
                p = [],
                _ = -1,
                S = function() {
                    for (z = z || g.once, B = b = !0; p.length; _ = -1)
                        for (A = p.shift(); ++_ < c.length;) c[_].apply(A[0], A[1]) === !1 && g.stopOnFalse && (_ = c.length, A = !1);
                    g.memory || (A = !1), b = !1, z && (A ? c = [] : c = "")
                },
                R = {
                    add: function() {
                        return c && (A && !b && (_ = c.length - 1, p.push(A)), function M(q) {
                            y.each(q, function(j, $) {
                                C($) ? (!g.unique || !R.has($)) && c.push($) : $ && $.length && I($) !== "string" && M($)
                            })
                        }(arguments), A && !b && S()), this
                    },
                    remove: function() {
                        return y.each(arguments, function(M, q) {
                            for (var j;
                                (j = y.inArray(q, c, j)) > -1;) c.splice(j, 1), j <= _ && _--
                        }), this
                    },
                    has: function(M) {
                        return M ? y.inArray(M, c) > -1 : c.length > 0
                    },
                    empty: function() {
                        return c && (c = []), this
                    },
                    disable: function() {
                        return z = p = [], c = A = "", this
                    },
                    disabled: function() {
                        return !c
                    },
                    lock: function() {
                        return z = p = [], !A && !b && (c = A = ""), this
                    },
                    locked: function() {
                        return !!z
                    },
                    fireWith: function(M, q) {
                        return z || (q = q || [], q = [M, q.slice ? q.slice() : q], p.push(q), b || S()), this
                    },
                    fire: function() {
                        return R.fireWith(this, arguments), this
                    },
                    fired: function() {
                        return !!B
                    }
                };
            return R
        };

        function De(g) {
            return g
        }

        function ye(g) {
            throw g
        }

        function Ue(g, b, A, B) {
            var z;
            try {
                g && C(z = g.promise) ? z.call(g).done(b).fail(A) : g && C(z = g.then) ? z.call(g, b, A) : b.apply(void 0, [g].slice(B))
            } catch (c) {
                A.apply(void 0, [c])
            }
        }
        y.extend({
            Deferred: function(g) {
                var b = [
                        ["notify", "progress", y.Callbacks("memory"), y.Callbacks("memory"), 2],
                        ["resolve", "done", y.Callbacks("once memory"), y.Callbacks("once memory"), 0, "resolved"],
                        ["reject", "fail", y.Callbacks("once memory"), y.Callbacks("once memory"), 1, "rejected"]
                    ],
                    A = "pending",
                    B = {
                        state: function() {
                            return A
                        },
                        always: function() {
                            return z.done(arguments).fail(arguments), this
                        },
                        catch: function(c) {
                            return B.then(null, c)
                        },
                        pipe: function() {
                            var c = arguments;
                            return y.Deferred(function(p) {
                                y.each(b, function(_, S) {
                                    var R = C(c[S[4]]) && c[S[4]];
                                    z[S[1]](function() {
                                        var M = R && R.apply(this, arguments);
                                        M && C(M.promise) ? M.promise().progress(p.notify).done(p.resolve).fail(p.reject) : p[S[0] + "With"](this, R ? [M] : arguments)
                                    })
                                }), c = null
                            }).promise()
                        },
                        then: function(c, p, _) {
                            var S = 0;

                            function R(M, q, j, $) {
                                return function() {
                                    var he = this,
                                        Te = arguments,
                                        Le = function() {
                                            var Ge, Dt;
                                            if (!(M < S)) {
                                                if (Ge = j.apply(he, Te), Ge === q.promise()) throw new TypeError("Thenable self-resolution");
                                                Dt = Ge && (typeof Ge == "object" || typeof Ge == "function") && Ge.then, C(Dt) ? $ ? Dt.call(Ge, R(S, q, De, $), R(S, q, ye, $)) : (S++, Dt.call(Ge, R(S, q, De, $), R(S, q, ye, $), R(S, q, De, q.notifyWith))) : (j !== De && (he = void 0, Te = [Ge]), ($ || q.resolveWith)(he, Te))
                                            }
                                        },
                                        Ie = $ ? Le : function() {
                                            try {
                                                Le()
                                            } catch (Ge) {
                                                y.Deferred.exceptionHook && y.Deferred.exceptionHook(Ge, Ie.stackTrace), M + 1 >= S && (j !== ye && (he = void 0, Te = [Ge]), q.rejectWith(he, Te))
                                            }
                                        };
                                    M ? Ie() : (y.Deferred.getStackHook && (Ie.stackTrace = y.Deferred.getStackHook()), e.setTimeout(Ie))
                                }
                            }
                            return y.Deferred(function(M) {
                                b[0][3].add(R(0, M, C(_) ? _ : De, M.notifyWith)), b[1][3].add(R(0, M, C(c) ? c : De)), b[2][3].add(R(0, M, C(p) ? p : ye))
                            }).promise()
                        },
                        promise: function(c) {
                            return c != null ? y.extend(c, B) : B
                        }
                    },
                    z = {};
                return y.each(b, function(c, p) {
                    var _ = p[2],
                        S = p[5];
                    B[p[1]] = _.add, S && _.add(function() {
                        A = S
                    }, b[3 - c][2].disable, b[3 - c][3].disable, b[0][2].lock, b[0][3].lock), _.add(p[3].fire), z[p[0]] = function() {
                        return z[p[0] + "With"](this === z ? void 0 : this, arguments), this
                    }, z[p[0] + "With"] = _.fireWith
                }), B.promise(z), g && g.call(z, z), z
            },
            when: function(g) {
                var b = arguments.length,
                    A = b,
                    B = Array(A),
                    z = r.call(arguments),
                    c = y.Deferred(),
                    p = function(_) {
                        return function(S) {
                            B[_] = this, z[_] = arguments.length > 1 ? r.call(arguments) : S, --b || c.resolveWith(B, z)
                        }
                    };
                if (b <= 1 && (Ue(g, c.done(p(A)).resolve, c.reject, !b), c.state() === "pending" || C(z[A] && z[A].then))) return c.then();
                for (; A--;) Ue(z[A], p(A), c.reject);
                return c.promise()
            }
        });
        var Qe = /^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;
        y.Deferred.exceptionHook = function(g, b) {
            e.console && e.console.warn && g && Qe.test(g.name) && e.console.warn("jQuery.Deferred exception: " + g.message, g.stack, b)
        }, y.readyException = function(g) {
            e.setTimeout(function() {
                throw g
            })
        };
        var at = y.Deferred();
        y.fn.ready = function(g) {
            return at.then(g).catch(function(b) {
                y.readyException(b)
            }), this
        }, y.extend({
            isReady: !1,
            readyWait: 1,
            ready: function(g) {
                (g === !0 ? --y.readyWait : y.isReady) || (y.isReady = !0, !(g !== !0 && --y.readyWait > 0) && at.resolveWith(E, [y]))
            }
        }), y.ready.then = at.then;

        function pt() {
            E.removeEventListener("DOMContentLoaded", pt), e.removeEventListener("load", pt), y.ready()
        }
        E.readyState === "complete" || E.readyState !== "loading" && !E.documentElement.doScroll ? e.setTimeout(y.ready) : (E.addEventListener("DOMContentLoaded", pt), e.addEventListener("load", pt));
        var lt = function(g, b, A, B, z, c, p) {
                var _ = 0,
                    S = g.length,
                    R = A == null;
                if (I(A) === "object") {
                    z = !0;
                    for (_ in A) lt(g, b, _, A[_], !0, c, p)
                } else if (B !== void 0 && (z = !0, C(B) || (p = !0), R && (p ? (b.call(g, B), b = null) : (R = b, b = function(M, q, j) {
                        return R.call(y(M), j)
                    })), b))
                    for (; _ < S; _++) b(g[_], A, p ? B : B.call(g[_], _, b(g[_], A)));
                return z ? g : R ? b.call(g) : S ? b(g[0], A) : c
            },
            xt = /^-ms-/,
            Bt = /-([a-z])/g;

        function At(g, b) {
            return b.toUpperCase()
        }

        function F(g) {
            return g.replace(xt, "ms-").replace(Bt, At)
        }
        var ke = function(g) {
            return g.nodeType === 1 || g.nodeType === 9 || !+g.nodeType
        };

        function Ce() {
            this.expando = y.expando + Ce.uid++
        }
        Ce.uid = 1, Ce.prototype = {
            cache: function(g) {
                var b = g[this.expando];
                return b || (b = {}, ke(g) && (g.nodeType ? g[this.expando] = b : Object.defineProperty(g, this.expando, {
                    value: b,
                    configurable: !0
                }))), b
            },
            set: function(g, b, A) {
                var B, z = this.cache(g);
                if (typeof b == "string") z[F(b)] = A;
                else
                    for (B in b) z[F(B)] = b[B];
                return z
            },
            get: function(g, b) {
                return b === void 0 ? this.cache(g) : g[this.expando] && g[this.expando][F(b)]
            },
            access: function(g, b, A) {
                return b === void 0 || b && typeof b == "string" && A === void 0 ? this.get(g, b) : (this.set(g, b, A), A !== void 0 ? A : b)
            },
            remove: function(g, b) {
                var A, B = g[this.expando];
                if (B !== void 0) {
                    if (b !== void 0)
                        for (Array.isArray(b) ? b = b.map(F) : (b = F(b), b = b in B ? [b] : b.match(te) || []), A = b.length; A--;) delete B[b[A]];
                    (b === void 0 || y.isEmptyObject(B)) && (g.nodeType ? g[this.expando] = void 0 : delete g[this.expando])
                }
            },
            hasData: function(g) {
                var b = g[this.expando];
                return b !== void 0 && !y.isEmptyObject(b)
            }
        };
        var ee = new Ce,
            ae = new Ce,
            be = /^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,
            je = /[A-Z]/g;

        function Ze(g) {
            return g === "true" ? !0 : g === "false" ? !1 : g === "null" ? null : g === +g + "" ? +g : be.test(g) ? JSON.parse(g) : g
        }

        function Re(g, b, A) {
            var B;
            if (A === void 0 && g.nodeType === 1)
                if (B = "data-" + b.replace(je, "-$&").toLowerCase(), A = g.getAttribute(B), typeof A == "string") {
                    try {
                        A = Ze(A)
                    } catch {}
                    ae.set(g, b, A)
                } else A = void 0;
            return A
        }
        y.extend({
            hasData: function(g) {
                return ae.hasData(g) || ee.hasData(g)
            },
            data: function(g, b, A) {
                return ae.access(g, b, A)
            },
            removeData: function(g, b) {
                ae.remove(g, b)
            },
            _data: function(g, b, A) {
                return ee.access(g, b, A)
            },
            _removeData: function(g, b) {
                ee.remove(g, b)
            }
        }), y.fn.extend({
            data: function(g, b) {
                var A, B, z, c = this[0],
                    p = c && c.attributes;
                if (g === void 0) {
                    if (this.length && (z = ae.get(c), c.nodeType === 1 && !ee.get(c, "hasDataAttrs"))) {
                        for (A = p.length; A--;) p[A] && (B = p[A].name, B.indexOf("data-") === 0 && (B = F(B.slice(5)), Re(c, B, z[B])));
                        ee.set(c, "hasDataAttrs", !0)
                    }
                    return z
                }
                return typeof g == "object" ? this.each(function() {
                    ae.set(this, g)
                }) : lt(this, function(_) {
                    var S;
                    if (c && _ === void 0) return S = ae.get(c, g), S !== void 0 || (S = Re(c, g), S !== void 0) ? S : void 0;
                    this.each(function() {
                        ae.set(this, g, _)
                    })
                }, null, b, arguments.length > 1, null, !0)
            },
            removeData: function(g) {
                return this.each(function() {
                    ae.remove(this, g)
                })
            }
        }), y.extend({
            queue: function(g, b, A) {
                var B;
                if (g) return b = (b || "fx") + "queue", B = ee.get(g, b), A && (!B || Array.isArray(A) ? B = ee.access(g, b, y.makeArray(A)) : B.push(A)), B || []
            },
            dequeue: function(g, b) {
                b = b || "fx";
                var A = y.queue(g, b),
                    B = A.length,
                    z = A.shift(),
                    c = y._queueHooks(g, b),
                    p = function() {
                        y.dequeue(g, b)
                    };
                z === "inprogress" && (z = A.shift(), B--), z && (b === "fx" && A.unshift("inprogress"), delete c.stop, z.call(g, p, c)), !B && c && c.empty.fire()
            },
            _queueHooks: function(g, b) {
                var A = b + "queueHooks";
                return ee.get(g, A) || ee.access(g, A, {
                    empty: y.Callbacks("once memory").add(function() {
                        ee.remove(g, [b + "queue", A])
                    })
                })
            }
        }), y.fn.extend({
            queue: function(g, b) {
                var A = 2;
                return typeof g != "string" && (b = g, g = "fx", A--), arguments.length < A ? y.queue(this[0], g) : b === void 0 ? this : this.each(function() {
                    var B = y.queue(this, g, b);
                    y._queueHooks(this, g), g === "fx" && B[0] !== "inprogress" && y.dequeue(this, g)
                })
            },
            dequeue: function(g) {
                return this.each(function() {
                    y.dequeue(this, g)
                })
            },
            clearQueue: function(g) {
                return this.queue(g || "fx", [])
            },
            promise: function(g, b) {
                var A, B = 1,
                    z = y.Deferred(),
                    c = this,
                    p = this.length,
                    _ = function() {
                        --B || z.resolveWith(c, [c])
                    };
                for (typeof g != "string" && (b = g, g = void 0), g = g || "fx"; p--;) A = ee.get(c[p], g + "queueHooks"), A && A.empty && (B++, A.empty.add(_));
                return _(), z.promise(b)
            }
        });
        var Je = /[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,
            dt = new RegExp("^(?:([+-])=|)(" + Je + ")([a-z%]*)$", "i"),
            et = ["Top", "Right", "Bottom", "Left"],
            We = E.documentElement,
            Ft = function(g) {
                return y.contains(g.ownerDocument, g)
            },
            ti = {
                composed: !0
            };
        We.getRootNode && (Ft = function(g) {
            return y.contains(g.ownerDocument, g) || g.getRootNode(ti) === g.ownerDocument
        });
        var _n = function(g, b) {
            return g = b || g, g.style.display === "none" || g.style.display === "" && Ft(g) && y.css(g, "display") === "none"
        };

        function Ar(g, b, A, B) {
            var z, c, p = 20,
                _ = B ? function() {
                    return B.cur()
                } : function() {
                    return y.css(g, b, "")
                },
                S = _(),
                R = A && A[3] || (y.cssNumber[b] ? "" : "px"),
                M = g.nodeType && (y.cssNumber[b] || R !== "px" && +S) && dt.exec(y.css(g, b));
            if (M && M[3] !== R) {
                for (S = S / 2, R = R || M[3], M = +S || 1; p--;) y.style(g, b, M + R), (1 - c) * (1 - (c = _() / S || .5)) <= 0 && (p = 0), M = M / c;
                M = M * 2, y.style(g, b, M + R), A = A || []
            }
            return A && (M = +M || +S || 0, z = A[1] ? M + (A[1] + 1) * A[2] : +A[2], B && (B.unit = R, B.start = M, B.end = z)), z
        }
        var En = {};

        function cr(g) {
            var b, A = g.ownerDocument,
                B = g.nodeName,
                z = En[B];
            return z || (b = A.body.appendChild(A.createElement(B)), z = y.css(b, "display"), b.parentNode.removeChild(b), z === "none" && (z = "block"), En[B] = z, z)
        }

        function ci(g, b) {
            for (var A, B, z = [], c = 0, p = g.length; c < p; c++) B = g[c], B.style && (A = B.style.display, b ? (A === "none" && (z[c] = ee.get(B, "display") || null, z[c] || (B.style.display = "")), B.style.display === "" && _n(B) && (z[c] = cr(B))) : A !== "none" && (z[c] = "none", ee.set(B, "display", A)));
            for (c = 0; c < p; c++) z[c] != null && (g[c].style.display = z[c]);
            return g
        }
        y.fn.extend({
            show: function() {
                return ci(this, !0)
            },
            hide: function() {
                return ci(this)
            },
            toggle: function(g) {
                return typeof g == "boolean" ? g ? this.show() : this.hide() : this.each(function() {
                    _n(this) ? y(this).show() : y(this).hide()
                })
            }
        });
        var Hi = /^(?:checkbox|radio)$/i,
            Cn = /<([a-z][^\/\0>\x20\t\r\n\f]*)/i,
            pn = /^$|^module$|\/(?:java|ecma)script/i;
        (function() {
            var g = E.createDocumentFragment(),
                b = g.appendChild(E.createElement("div")),
                A = E.createElement("input");
            A.setAttribute("type", "radio"), A.setAttribute("checked", "checked"), A.setAttribute("name", "t"), b.appendChild(A), x.checkClone = b.cloneNode(!0).cloneNode(!0).lastChild.checked, b.innerHTML = "<textarea>x</textarea>", x.noCloneChecked = !!b.cloneNode(!0).lastChild.defaultValue, b.innerHTML = "<option></option>", x.option = !!b.lastChild
        })();
        var sn = {
            thead: [1, "<table>", "</table>"],
            col: [2, "<table><colgroup>", "</colgroup></table>"],
            tr: [2, "<table><tbody>", "</tbody></table>"],
            td: [3, "<table><tbody><tr>", "</tr></tbody></table>"],
            _default: [0, "", ""]
        };
        sn.tbody = sn.tfoot = sn.colgroup = sn.caption = sn.thead, sn.th = sn.td, x.option || (sn.optgroup = sn.option = [1, "<select multiple='multiple'>", "</select>"]);

        function on(g, b) {
            var A;
            return typeof g.getElementsByTagName < "u" ? A = g.getElementsByTagName(b || "*") : typeof g.querySelectorAll < "u" ? A = g.querySelectorAll(b || "*") : A = [], b === void 0 || b && W(g, b) ? y.merge([g], A) : A
        }

        function aa(g, b) {
            for (var A = 0, B = g.length; A < B; A++) ee.set(g[A], "globalEval", !b || ee.get(b[A], "globalEval"))
        }
        var Ba = /<|&#?\w+;/;

        function Dr(g, b, A, B, z) {
            for (var c, p, _, S, R, M, q = b.createDocumentFragment(), j = [], $ = 0, he = g.length; $ < he; $++)
                if (c = g[$], c || c === 0)
                    if (I(c) === "object") y.merge(j, c.nodeType ? [c] : c);
                    else if (!Ba.test(c)) j.push(b.createTextNode(c));
            else {
                for (p = p || q.appendChild(b.createElement("div")), _ = (Cn.exec(c) || ["", ""])[1].toLowerCase(), S = sn[_] || sn._default, p.innerHTML = S[1] + y.htmlPrefilter(c) + S[2], M = S[0]; M--;) p = p.lastChild;
                y.merge(j, p.childNodes), p = q.firstChild, p.textContent = ""
            }
            for (q.textContent = "", $ = 0; c = j[$++];) {
                if (B && y.inArray(c, B) > -1) {
                    z && z.push(c);
                    continue
                }
                if (R = Ft(c), p = on(q.appendChild(c), "script"), R && aa(p), A)
                    for (M = 0; c = p[M++];) pn.test(c.type || "") && A.push(c)
            }
            return q
        }
        var Pn = /^([^.]*)(?:\.(.+)|)/;

        function bn() {
            return !0
        }

        function sa() {
            return !1
        }

        function Fs(g, b) {
            return g === er() == (b === "focus")
        }

        function er() {
            try {
                return E.activeElement
            } catch {}
        }

        function Sn(g, b, A, B, z, c) {
            var p, _;
            if (typeof b == "object") {
                typeof A != "string" && (B = B || A, A = void 0);
                for (_ in b) Sn(g, _, A, B, b[_], c);
                return g
            }
            if (B == null && z == null ? (z = A, B = A = void 0) : z == null && (typeof A == "string" ? (z = B, B = void 0) : (z = B, B = A, A = void 0)), z === !1) z = sa;
            else if (!z) return g;
            return c === 1 && (p = z, z = function(S) {
                return y().off(S), p.apply(this, arguments)
            }, z.guid = p.guid || (p.guid = y.guid++)), g.each(function() {
                y.event.add(this, b, z, B, A)
            })
        }
        y.event = {
            global: {},
            add: function(g, b, A, B, z) {
                var c, p, _, S, R, M, q, j, $, he, Te, Le = ee.get(g);
                if (ke(g))
                    for (A.handler && (c = A, A = c.handler, z = c.selector), z && y.find.matchesSelector(We, z), A.guid || (A.guid = y.guid++), (S = Le.events) || (S = Le.events = Object.create(null)), (p = Le.handle) || (p = Le.handle = function(Ie) {
                            return typeof y < "u" && y.event.triggered !== Ie.type ? y.event.dispatch.apply(g, arguments) : void 0
                        }), b = (b || "").match(te) || [""], R = b.length; R--;) _ = Pn.exec(b[R]) || [], $ = Te = _[1], he = (_[2] || "").split(".").sort(), $ && (q = y.event.special[$] || {}, $ = (z ? q.delegateType : q.bindType) || $, q = y.event.special[$] || {}, M = y.extend({
                        type: $,
                        origType: Te,
                        data: B,
                        handler: A,
                        guid: A.guid,
                        selector: z,
                        needsContext: z && y.expr.match.needsContext.test(z),
                        namespace: he.join(".")
                    }, c), (j = S[$]) || (j = S[$] = [], j.delegateCount = 0, (!q.setup || q.setup.call(g, B, he, p) === !1) && g.addEventListener && g.addEventListener($, p)), q.add && (q.add.call(g, M), M.handler.guid || (M.handler.guid = A.guid)), z ? j.splice(j.delegateCount++, 0, M) : j.push(M), y.event.global[$] = !0)
            },
            remove: function(g, b, A, B, z) {
                var c, p, _, S, R, M, q, j, $, he, Te, Le = ee.hasData(g) && ee.get(g);
                if (!(!Le || !(S = Le.events))) {
                    for (b = (b || "").match(te) || [""], R = b.length; R--;) {
                        if (_ = Pn.exec(b[R]) || [], $ = Te = _[1], he = (_[2] || "").split(".").sort(), !$) {
                            for ($ in S) y.event.remove(g, $ + b[R], A, B, !0);
                            continue
                        }
                        for (q = y.event.special[$] || {}, $ = (B ? q.delegateType : q.bindType) || $, j = S[$] || [], _ = _[2] && new RegExp("(^|\\.)" + he.join("\\.(?:.*\\.|)") + "(\\.|$)"), p = c = j.length; c--;) M = j[c], (z || Te === M.origType) && (!A || A.guid === M.guid) && (!_ || _.test(M.namespace)) && (!B || B === M.selector || B === "**" && M.selector) && (j.splice(c, 1), M.selector && j.delegateCount--, q.remove && q.remove.call(g, M));
                        p && !j.length && ((!q.teardown || q.teardown.call(g, he, Le.handle) === !1) && y.removeEvent(g, $, Le.handle), delete S[$])
                    }
                    y.isEmptyObject(S) && ee.remove(g, "handle events")
                }
            },
            dispatch: function(g) {
                var b, A, B, z, c, p, _ = new Array(arguments.length),
                    S = y.event.fix(g),
                    R = (ee.get(this, "events") || Object.create(null))[S.type] || [],
                    M = y.event.special[S.type] || {};
                for (_[0] = S, b = 1; b < arguments.length; b++) _[b] = arguments[b];
                if (S.delegateTarget = this, !(M.preDispatch && M.preDispatch.call(this, S) === !1)) {
                    for (p = y.event.handlers.call(this, S, R), b = 0;
                        (z = p[b++]) && !S.isPropagationStopped();)
                        for (S.currentTarget = z.elem, A = 0;
                            (c = z.handlers[A++]) && !S.isImmediatePropagationStopped();)(!S.rnamespace || c.namespace === !1 || S.rnamespace.test(c.namespace)) && (S.handleObj = c, S.data = c.data, B = ((y.event.special[c.origType] || {}).handle || c.handler).apply(z.elem, _), B !== void 0 && (S.result = B) === !1 && (S.preventDefault(), S.stopPropagation()));
                    return M.postDispatch && M.postDispatch.call(this, S), S.result
                }
            },
            handlers: function(g, b) {
                var A, B, z, c, p, _ = [],
                    S = b.delegateCount,
                    R = g.target;
                if (S && R.nodeType && !(g.type === "click" && g.button >= 1)) {
                    for (; R !== this; R = R.parentNode || this)
                        if (R.nodeType === 1 && !(g.type === "click" && R.disabled === !0)) {
                            for (c = [], p = {}, A = 0; A < S; A++) B = b[A], z = B.selector + " ", p[z] === void 0 && (p[z] = B.needsContext ? y(z, this).index(R) > -1 : y.find(z, this, null, [R]).length), p[z] && c.push(B);
                            c.length && _.push({
                                elem: R,
                                handlers: c
                            })
                        }
                }
                return R = this, S < b.length && _.push({
                    elem: R,
                    handlers: b.slice(S)
                }), _
            },
            addProp: function(g, b) {
                Object.defineProperty(y.Event.prototype, g, {
                    enumerable: !0,
                    configurable: !0,
                    get: C(b) ? function() {
                        if (this.originalEvent) return b(this.originalEvent)
                    } : function() {
                        if (this.originalEvent) return this.originalEvent[g]
                    },
                    set: function(A) {
                        Object.defineProperty(this, g, {
                            enumerable: !0,
                            configurable: !0,
                            writable: !0,
                            value: A
                        })
                    }
                })
            },
            fix: function(g) {
                return g[y.expando] ? g : new y.Event(g)
            },
            special: {
                load: {
                    noBubble: !0
                },
                click: {
                    setup: function(g) {
                        var b = this || g;
                        return Hi.test(b.type) && b.click && W(b, "input") && oa(b, "click", bn), !1
                    },
                    trigger: function(g) {
                        var b = this || g;
                        return Hi.test(b.type) && b.click && W(b, "input") && oa(b, "click"), !0
                    },
                    _default: function(g) {
                        var b = g.target;
                        return Hi.test(b.type) && b.click && W(b, "input") && ee.get(b, "click") || W(b, "a")
                    }
                },
                beforeunload: {
                    postDispatch: function(g) {
                        g.result !== void 0 && g.originalEvent && (g.originalEvent.returnValue = g.result)
                    }
                }
            }
        };

        function oa(g, b, A) {
            if (!A) {
                ee.get(g, b) === void 0 && y.event.add(g, b, bn);
                return
            }
            ee.set(g, b, !1), y.event.add(g, b, {
                namespace: !1,
                handler: function(B) {
                    var z, c, p = ee.get(this, b);
                    if (B.isTrigger & 1 && this[b]) {
                        if (p.length)(y.event.special[b] || {}).delegateType && B.stopPropagation();
                        else if (p = r.call(arguments), ee.set(this, b, p), z = A(this, b), this[b](), c = ee.get(this, b), p !== c || z ? ee.set(this, b, !1) : c = {}, p !== c) return B.stopImmediatePropagation(), B.preventDefault(), c && c.value
                    } else p.length && (ee.set(this, b, {
                        value: y.event.trigger(y.extend(p[0], y.Event.prototype), p.slice(1), this)
                    }), B.stopImmediatePropagation())
                }
            })
        }
        y.removeEvent = function(g, b, A) {
            g.removeEventListener && g.removeEventListener(b, A)
        }, y.Event = function(g, b) {
            if (!(this instanceof y.Event)) return new y.Event(g, b);
            g && g.type ? (this.originalEvent = g, this.type = g.type, this.isDefaultPrevented = g.defaultPrevented || g.defaultPrevented === void 0 && g.returnValue === !1 ? bn : sa, this.target = g.target && g.target.nodeType === 3 ? g.target.parentNode : g.target, this.currentTarget = g.currentTarget, this.relatedTarget = g.relatedTarget) : this.type = g, b && y.extend(this, b), this.timeStamp = g && g.timeStamp || Date.now(), this[y.expando] = !0
        }, y.Event.prototype = {
            constructor: y.Event,
            isDefaultPrevented: sa,
            isPropagationStopped: sa,
            isImmediatePropagationStopped: sa,
            isSimulated: !1,
            preventDefault: function() {
                var g = this.originalEvent;
                this.isDefaultPrevented = bn, g && !this.isSimulated && g.preventDefault()
            },
            stopPropagation: function() {
                var g = this.originalEvent;
                this.isPropagationStopped = bn, g && !this.isSimulated && g.stopPropagation()
            },
            stopImmediatePropagation: function() {
                var g = this.originalEvent;
                this.isImmediatePropagationStopped = bn, g && !this.isSimulated && g.stopImmediatePropagation(), this.stopPropagation()
            }
        }, y.each({
            altKey: !0,
            bubbles: !0,
            cancelable: !0,
            changedTouches: !0,
            ctrlKey: !0,
            detail: !0,
            eventPhase: !0,
            metaKey: !0,
            pageX: !0,
            pageY: !0,
            shiftKey: !0,
            view: !0,
            char: !0,
            code: !0,
            charCode: !0,
            key: !0,
            keyCode: !0,
            button: !0,
            buttons: !0,
            clientX: !0,
            clientY: !0,
            offsetX: !0,
            offsetY: !0,
            pointerId: !0,
            pointerType: !0,
            screenX: !0,
            screenY: !0,
            targetTouches: !0,
            toElement: !0,
            touches: !0,
            which: !0
        }, y.event.addProp), y.each({
            focus: "focusin",
            blur: "focusout"
        }, function(g, b) {
            y.event.special[g] = {
                setup: function() {
                    return oa(this, g, Fs), !1
                },
                trigger: function() {
                    return oa(this, g), !0
                },
                _default: function(A) {
                    return ee.get(A.target, g)
                },
                delegateType: b
            }
        }), y.each({
            mouseenter: "mouseover",
            mouseleave: "mouseout",
            pointerenter: "pointerover",
            pointerleave: "pointerout"
        }, function(g, b) {
            y.event.special[g] = {
                delegateType: b,
                bindType: b,
                handle: function(A) {
                    var B, z = this,
                        c = A.relatedTarget,
                        p = A.handleObj;
                    return (!c || c !== z && !y.contains(z, c)) && (A.type = p.origType, B = p.handler.apply(this, arguments), A.type = b), B
                }
            }
        }), y.fn.extend({
            on: function(g, b, A, B) {
                return Sn(this, g, b, A, B)
            },
            one: function(g, b, A, B) {
                return Sn(this, g, b, A, B, 1)
            },
            off: function(g, b, A) {
                var B, z;
                if (g && g.preventDefault && g.handleObj) return B = g.handleObj, y(g.delegateTarget).off(B.namespace ? B.origType + "." + B.namespace : B.origType, B.selector, B.handler), this;
                if (typeof g == "object") {
                    for (z in g) this.off(z, b, g[z]);
                    return this
                }
                return (b === !1 || typeof b == "function") && (A = b, b = void 0), A === !1 && (A = sa), this.each(function() {
                    y.event.remove(this, g, A, b)
                })
            }
        });
        var Nr = /<script|<style|<link/i,
            qs = /checked\s*(?:[^=]|=\s*.checked.)/i,
            Vs = /^\s*<!\[CDATA\[|\]\]>\s*$/g;

        function la(g, b) {
            return W(g, "table") && W(b.nodeType !== 11 ? b : b.firstChild, "tr") && y(g).children("tbody")[0] || g
        }

        function Xe(g) {
            return g.type = (g.getAttribute("type") !== null) + "/" + g.type, g
        }

        function Rn(g) {
            return (g.type || "").slice(0, 5) === "true/" ? g.type = g.type.slice(5) : g.removeAttribute("type"), g
        }

        function Tt(g, b) {
            var A, B, z, c, p, _, S;
            if (b.nodeType === 1) {
                if (ee.hasData(g) && (c = ee.get(g), S = c.events, S)) {
                    ee.remove(b, "handle events");
                    for (z in S)
                        for (A = 0, B = S[z].length; A < B; A++) y.event.add(b, z, S[z][A])
                }
                ae.hasData(g) && (p = ae.access(g), _ = y.extend({}, p), ae.set(b, _))
            }
        }

        function Ka(g, b) {
            var A = b.nodeName.toLowerCase();
            A === "input" && Hi.test(g.type) ? b.checked = g.checked : (A === "input" || A === "textarea") && (b.defaultValue = g.defaultValue)
        }

        function Pr(g, b, A, B) {
            b = a(b);
            var z, c, p, _, S, R, M = 0,
                q = g.length,
                j = q - 1,
                $ = b[0],
                he = C($);
            if (he || q > 1 && typeof $ == "string" && !x.checkClone && qs.test($)) return g.each(function(Te) {
                var Le = g.eq(Te);
                he && (b[0] = $.call(this, Te, Le.html())), Pr(Le, b, A, B)
            });
            if (q && (z = Dr(b, g[0].ownerDocument, !1, g, B), c = z.firstChild, z.childNodes.length === 1 && (z = c), c || B)) {
                for (p = y.map(on(z, "script"), Xe), _ = p.length; M < q; M++) S = z, M !== j && (S = y.clone(S, !0, !0), _ && y.merge(p, on(S, "script"))), A.call(g[M], S, M);
                if (_)
                    for (R = p[p.length - 1].ownerDocument, y.map(p, Rn), M = 0; M < _; M++) S = p[M], pn.test(S.type || "") && !ee.access(S, "globalEval") && y.contains(R, S) && (S.src && (S.type || "").toLowerCase() !== "module" ? y._evalUrl && !S.noModule && y._evalUrl(S.src, {
                        nonce: S.nonce || S.getAttribute("nonce")
                    }, R) : D(S.textContent.replace(Vs, ""), S, R))
            }
            return g
        }

        function $r(g, b, A) {
            for (var B, z = b ? y.filter(b, g) : g, c = 0;
                (B = z[c]) != null; c++) !A && B.nodeType === 1 && y.cleanData(on(B)), B.parentNode && (A && Ft(B) && aa(on(B, "script")), B.parentNode.removeChild(B));
            return g
        }
        y.extend({
            htmlPrefilter: function(g) {
                return g
            },
            clone: function(g, b, A) {
                var B, z, c, p, _ = g.cloneNode(!0),
                    S = Ft(g);
                if (!x.noCloneChecked && (g.nodeType === 1 || g.nodeType === 11) && !y.isXMLDoc(g))
                    for (p = on(_), c = on(g), B = 0, z = c.length; B < z; B++) Ka(c[B], p[B]);
                if (b)
                    if (A)
                        for (c = c || on(g), p = p || on(_), B = 0, z = c.length; B < z; B++) Tt(c[B], p[B]);
                    else Tt(g, _);
                return p = on(_, "script"), p.length > 0 && aa(p, !S && on(g, "script")), _
            },
            cleanData: function(g) {
                for (var b, A, B, z = y.event.special, c = 0;
                    (A = g[c]) !== void 0; c++)
                    if (ke(A)) {
                        if (b = A[ee.expando]) {
                            if (b.events)
                                for (B in b.events) z[B] ? y.event.remove(A, B) : y.removeEvent(A, B, b.handle);
                            A[ee.expando] = void 0
                        }
                        A[ae.expando] && (A[ae.expando] = void 0)
                    }
            }
        }), y.fn.extend({
            detach: function(g) {
                return $r(this, g, !0)
            },
            remove: function(g) {
                return $r(this, g)
            },
            text: function(g) {
                return lt(this, function(b) {
                    return b === void 0 ? y.text(this) : this.empty().each(function() {
                        (this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9) && (this.textContent = b)
                    })
                }, null, g, arguments.length)
            },
            append: function() {
                return Pr(this, arguments, function(g) {
                    if (this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9) {
                        var b = la(this, g);
                        b.appendChild(g)
                    }
                })
            },
            prepend: function() {
                return Pr(this, arguments, function(g) {
                    if (this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9) {
                        var b = la(this, g);
                        b.insertBefore(g, b.firstChild)
                    }
                })
            },
            before: function() {
                return Pr(this, arguments, function(g) {
                    this.parentNode && this.parentNode.insertBefore(g, this)
                })
            },
            after: function() {
                return Pr(this, arguments, function(g) {
                    this.parentNode && this.parentNode.insertBefore(g, this.nextSibling)
                })
            },
            empty: function() {
                for (var g, b = 0;
                    (g = this[b]) != null; b++) g.nodeType === 1 && (y.cleanData(on(g, !1)), g.textContent = "");
                return this
            },
            clone: function(g, b) {
                return g = g == null ? !1 : g, b = b == null ? g : b, this.map(function() {
                    return y.clone(this, g, b)
                })
            },
            html: function(g) {
                return lt(this, function(b) {
                    var A = this[0] || {},
                        B = 0,
                        z = this.length;
                    if (b === void 0 && A.nodeType === 1) return A.innerHTML;
                    if (typeof b == "string" && !Nr.test(b) && !sn[(Cn.exec(b) || ["", ""])[1].toLowerCase()]) {
                        b = y.htmlPrefilter(b);
                        try {
                            for (; B < z; B++) A = this[B] || {}, A.nodeType === 1 && (y.cleanData(on(A, !1)), A.innerHTML = b);
                            A = 0
                        } catch {}
                    }
                    A && this.empty().append(b)
                }, null, g, arguments.length)
            },
            replaceWith: function() {
                var g = [];
                return Pr(this, arguments, function(b) {
                    var A = this.parentNode;
                    y.inArray(this, g) < 0 && (y.cleanData(on(this)), A && A.replaceChild(b, this))
                }, g)
            }
        }), y.each({
            appendTo: "append",
            prependTo: "prepend",
            insertBefore: "before",
            insertAfter: "after",
            replaceAll: "replaceWith"
        }, function(g, b) {
            y.fn[g] = function(A) {
                for (var B, z = [], c = y(A), p = c.length - 1, _ = 0; _ <= p; _++) B = _ === p ? this : this.clone(!0), y(c[_])[b](B), s.apply(z, B.get());
                return this.pushStack(z)
            }
        });
        var jr = new RegExp("^(" + Je + ")(?!px)[a-z%]+$", "i"),
            Mi = /^--/,
            Wi = function(g) {
                var b = g.ownerDocument.defaultView;
                return (!b || !b.opener) && (b = e), b.getComputedStyle(g)
            },
            Ki = function(g, b, A) {
                var B, z, c = {};
                for (z in b) c[z] = g.style[z], g.style[z] = b[z];
                B = A.call(g);
                for (z in b) g.style[z] = c[z];
                return B
            },
            Oi = new RegExp(et.join("|"), "i"),
            Kn = "[\\x20\\t\\r\\n\\f]",
            Wr = new RegExp("^" + Kn + "+|((?:^|[^\\\\])(?:\\\\.)*)" + Kn + "+$", "g");
        (function() {
            function g() {
                if (R) {
                    S.style.cssText = "position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0", R.style.cssText = "position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%", We.appendChild(S).appendChild(R);
                    var M = e.getComputedStyle(R);
                    A = M.top !== "1%", _ = b(M.marginLeft) === 12, R.style.right = "60%", c = b(M.right) === 36, B = b(M.width) === 36, R.style.position = "absolute", z = b(R.offsetWidth / 3) === 12, We.removeChild(S), R = null
                }
            }

            function b(M) {
                return Math.round(parseFloat(M))
            }
            var A, B, z, c, p, _, S = E.createElement("div"),
                R = E.createElement("div");
            R.style && (R.style.backgroundClip = "content-box", R.cloneNode(!0).style.backgroundClip = "", x.clearCloneStyle = R.style.backgroundClip === "content-box", y.extend(x, {
                boxSizingReliable: function() {
                    return g(), B
                },
                pixelBoxStyles: function() {
                    return g(), c
                },
                pixelPosition: function() {
                    return g(), A
                },
                reliableMarginLeft: function() {
                    return g(), _
                },
                scrollboxSize: function() {
                    return g(), z
                },
                reliableTrDimensions: function() {
                    var M, q, j, $;
                    return p == null && (M = E.createElement("table"), q = E.createElement("tr"), j = E.createElement("div"), M.style.cssText = "position:absolute;left:-11111px;border-collapse:separate", q.style.cssText = "border:1px solid", q.style.height = "1px", j.style.height = "9px", j.style.display = "block", We.appendChild(M).appendChild(q).appendChild(j), $ = e.getComputedStyle(q), p = parseInt($.height, 10) + parseInt($.borderTopWidth, 10) + parseInt($.borderBottomWidth, 10) === q.offsetHeight, We.removeChild(M)), p
                }
            }))
        })();

        function Tn(g, b, A) {
            var B, z, c, p, _ = Mi.test(b),
                S = g.style;
            return A = A || Wi(g), A && (p = A.getPropertyValue(b) || A[b], _ && p && (p = p.replace(Wr, "$1") || void 0), p === "" && !Ft(g) && (p = y.style(g, b)), !x.pixelBoxStyles() && jr.test(p) && Oi.test(b) && (B = S.width, z = S.minWidth, c = S.maxWidth, S.minWidth = S.maxWidth = S.width = p, p = A.width, S.width = B, S.minWidth = z, S.maxWidth = c)), p !== void 0 ? p + "" : p
        }

        function tr(g, b) {
            return {
                get: function() {
                    if (g()) {
                        delete this.get;
                        return
                    }
                    return (this.get = b).apply(this, arguments)
                }
            }
        }
        var Un = ["Webkit", "Moz", "ms"],
            Ea = E.createElement("div").style,
            Nt = {};

        function fi(g) {
            for (var b = g[0].toUpperCase() + g.slice(1), A = Un.length; A--;)
                if (g = Un[A] + b, g in Ea) return g
        }

        function mi(g) {
            var b = y.cssProps[g] || Nt[g];
            return b || (g in Ea ? g : Nt[g] = fi(g) || g)
        }
        var xi = /^(none|table(?!-c[ea]).+)/,
            Ga = {
                position: "absolute",
                visibility: "hidden",
                display: "block"
            },
            Ca = {
                letterSpacing: "0",
                fontWeight: "400"
            };

        function ua(g, b, A) {
            var B = dt.exec(b);
            return B ? Math.max(0, B[2] - (A || 0)) + (B[3] || "px") : b
        }

        function fr(g, b, A, B, z, c) {
            var p = b === "width" ? 1 : 0,
                _ = 0,
                S = 0;
            if (A === (B ? "border" : "content")) return 0;
            for (; p < 4; p += 2) A === "margin" && (S += y.css(g, A + et[p], !0, z)), B ? (A === "content" && (S -= y.css(g, "padding" + et[p], !0, z)), A !== "margin" && (S -= y.css(g, "border" + et[p] + "Width", !0, z))) : (S += y.css(g, "padding" + et[p], !0, z), A !== "padding" ? S += y.css(g, "border" + et[p] + "Width", !0, z) : _ += y.css(g, "border" + et[p] + "Width", !0, z));
            return !B && c >= 0 && (S += Math.max(0, Math.ceil(g["offset" + b[0].toUpperCase() + b.slice(1)] - c - S - _ - .5)) || 0), S
        }

        function Rr(g, b, A) {
            var B = Wi(g),
                z = !x.boxSizingReliable() || A,
                c = z && y.css(g, "boxSizing", !1, B) === "border-box",
                p = c,
                _ = Tn(g, b, B),
                S = "offset" + b[0].toUpperCase() + b.slice(1);
            if (jr.test(_)) {
                if (!A) return _;
                _ = "auto"
            }
            return (!x.boxSizingReliable() && c || !x.reliableTrDimensions() && W(g, "tr") || _ === "auto" || !parseFloat(_) && y.css(g, "display", !1, B) === "inline") && g.getClientRects().length && (c = y.css(g, "boxSizing", !1, B) === "border-box", p = S in g, p && (_ = g[S])), _ = parseFloat(_) || 0, _ + fr(g, b, A || (c ? "border" : "content"), p, B, _) + "px"
        }
        y.extend({
            cssHooks: {
                opacity: {
                    get: function(g, b) {
                        if (b) {
                            var A = Tn(g, "opacity");
                            return A === "" ? "1" : A
                        }
                    }
                }
            },
            cssNumber: {
                animationIterationCount: !0,
                columnCount: !0,
                fillOpacity: !0,
                flexGrow: !0,
                flexShrink: !0,
                fontWeight: !0,
                gridArea: !0,
                gridColumn: !0,
                gridColumnEnd: !0,
                gridColumnStart: !0,
                gridRow: !0,
                gridRowEnd: !0,
                gridRowStart: !0,
                lineHeight: !0,
                opacity: !0,
                order: !0,
                orphans: !0,
                widows: !0,
                zIndex: !0,
                zoom: !0
            },
            cssProps: {},
            style: function(g, b, A, B) {
                if (!(!g || g.nodeType === 3 || g.nodeType === 8 || !g.style)) {
                    var z, c, p, _ = F(b),
                        S = Mi.test(b),
                        R = g.style;
                    if (S || (b = mi(_)), p = y.cssHooks[b] || y.cssHooks[_], A !== void 0) {
                        if (c = typeof A, c === "string" && (z = dt.exec(A)) && z[1] && (A = Ar(g, b, z), c = "number"), A == null || A !== A) return;
                        c === "number" && !S && (A += z && z[3] || (y.cssNumber[_] ? "" : "px")), !x.clearCloneStyle && A === "" && b.indexOf("background") === 0 && (R[b] = "inherit"), (!p || !("set" in p) || (A = p.set(g, A, B)) !== void 0) && (S ? R.setProperty(b, A) : R[b] = A)
                    } else return p && "get" in p && (z = p.get(g, !1, B)) !== void 0 ? z : R[b]
                }
            },
            css: function(g, b, A, B) {
                var z, c, p, _ = F(b),
                    S = Mi.test(b);
                return S || (b = mi(_)), p = y.cssHooks[b] || y.cssHooks[_], p && "get" in p && (z = p.get(g, !0, A)), z === void 0 && (z = Tn(g, b, B)), z === "normal" && b in Ca && (z = Ca[b]), A === "" || A ? (c = parseFloat(z), A === !0 || isFinite(c) ? c || 0 : z) : z
            }
        }), y.each(["height", "width"], function(g, b) {
            y.cssHooks[b] = {
                get: function(A, B, z) {
                    if (B) return xi.test(y.css(A, "display")) && (!A.getClientRects().length || !A.getBoundingClientRect().width) ? Ki(A, Ga, function() {
                        return Rr(A, b, z)
                    }) : Rr(A, b, z)
                },
                set: function(A, B, z) {
                    var c, p = Wi(A),
                        _ = !x.scrollboxSize() && p.position === "absolute",
                        S = _ || z,
                        R = S && y.css(A, "boxSizing", !1, p) === "border-box",
                        M = z ? fr(A, b, z, R, p) : 0;
                    return R && _ && (M -= Math.ceil(A["offset" + b[0].toUpperCase() + b.slice(1)] - parseFloat(p[b]) - fr(A, b, "border", !1, p) - .5)), M && (c = dt.exec(B)) && (c[3] || "px") !== "px" && (A.style[b] = B, B = y.css(A, b)), ua(A, B, M)
                }
            }
        }), y.cssHooks.marginLeft = tr(x.reliableMarginLeft, function(g, b) {
            if (b) return (parseFloat(Tn(g, "marginLeft")) || g.getBoundingClientRect().left - Ki(g, {
                marginLeft: 0
            }, function() {
                return g.getBoundingClientRect().left
            })) + "px"
        }), y.each({
            margin: "",
            padding: "",
            border: "Width"
        }, function(g, b) {
            y.cssHooks[g + b] = {
                expand: function(A) {
                    for (var B = 0, z = {}, c = typeof A == "string" ? A.split(" ") : [A]; B < 4; B++) z[g + et[B] + b] = c[B] || c[B - 2] || c[0];
                    return z
                }
            }, g !== "margin" && (y.cssHooks[g + b].set = ua)
        }), y.fn.extend({
            css: function(g, b) {
                return lt(this, function(A, B, z) {
                    var c, p, _ = {},
                        S = 0;
                    if (Array.isArray(B)) {
                        for (c = Wi(A), p = B.length; S < p; S++) _[B[S]] = y.css(A, B[S], !1, c);
                        return _
                    }
                    return z !== void 0 ? y.style(A, B, z) : y.css(A, B)
                }, g, b, arguments.length > 1)
            }
        });

        function ln(g, b, A, B, z) {
            return new ln.prototype.init(g, b, A, B, z)
        }
        y.Tween = ln, ln.prototype = {
            constructor: ln,
            init: function(g, b, A, B, z, c) {
                this.elem = g, this.prop = A, this.easing = z || y.easing._default, this.options = b, this.start = this.now = this.cur(), this.end = B, this.unit = c || (y.cssNumber[A] ? "" : "px")
            },
            cur: function() {
                var g = ln.propHooks[this.prop];
                return g && g.get ? g.get(this) : ln.propHooks._default.get(this)
            },
            run: function(g) {
                var b, A = ln.propHooks[this.prop];
                return this.options.duration ? this.pos = b = y.easing[this.easing](g, this.options.duration * g, 0, 1, this.options.duration) : this.pos = b = g, this.now = (this.end - this.start) * b + this.start, this.options.step && this.options.step.call(this.elem, this.now, this), A && A.set ? A.set(this) : ln.propHooks._default.set(this), this
            }
        }, ln.prototype.init.prototype = ln.prototype, ln.propHooks = {
            _default: {
                get: function(g) {
                    var b;
                    return g.elem.nodeType !== 1 || g.elem[g.prop] != null && g.elem.style[g.prop] == null ? g.elem[g.prop] : (b = y.css(g.elem, g.prop, ""), !b || b === "auto" ? 0 : b)
                },
                set: function(g) {
                    y.fx.step[g.prop] ? y.fx.step[g.prop](g) : g.elem.nodeType === 1 && (y.cssHooks[g.prop] || g.elem.style[mi(g.prop)] != null) ? y.style(g.elem, g.prop, g.now + g.unit) : g.elem[g.prop] = g.now
                }
            }
        }, ln.propHooks.scrollTop = ln.propHooks.scrollLeft = {
            set: function(g) {
                g.elem.nodeType && g.elem.parentNode && (g.elem[g.prop] = g.now)
            }
        }, y.easing = {
            linear: function(g) {
                return g
            },
            swing: function(g) {
                return .5 - Math.cos(g * Math.PI) / 2
            },
            _default: "swing"
        }, y.fx = ln.prototype.init, y.fx.step = {};
        var Bn, Ee, ze = /^(?:toggle|show|hide)$/,
            ot = /queueHooks$/;

        function Et() {
            Ee && (E.hidden === !1 && e.requestAnimationFrame ? e.requestAnimationFrame(Et) : e.setTimeout(Et, y.fx.interval), y.fx.tick())
        }

        function en() {
            return e.setTimeout(function() {
                Bn = void 0
            }), Bn = Date.now()
        }

        function Gi(g, b) {
            var A, B = 0,
                z = {
                    height: g
                };
            for (b = b ? 1 : 0; B < 4; B += 2 - b) A = et[B], z["margin" + A] = z["padding" + A] = g;
            return b && (z.opacity = z.width = g), z
        }

        function Gt(g, b, A) {
            for (var B, z = (Gn.tweeners[b] || []).concat(Gn.tweeners["*"]), c = 0, p = z.length; c < p; c++)
                if (B = z[c].call(A, b, g)) return B
        }

        function Zi(g, b, A) {
            var B, z, c, p, _, S, R, M, q = "width" in b || "height" in b,
                j = this,
                $ = {},
                he = g.style,
                Te = g.nodeType && _n(g),
                Le = ee.get(g, "fxshow");
            A.queue || (p = y._queueHooks(g, "fx"), p.unqueued == null && (p.unqueued = 0, _ = p.empty.fire, p.empty.fire = function() {
                p.unqueued || _()
            }), p.unqueued++, j.always(function() {
                j.always(function() {
                    p.unqueued--, y.queue(g, "fx").length || p.empty.fire()
                })
            }));
            for (B in b)
                if (z = b[B], ze.test(z)) {
                    if (delete b[B], c = c || z === "toggle", z === (Te ? "hide" : "show"))
                        if (z === "show" && Le && Le[B] !== void 0) Te = !0;
                        else continue;
                    $[B] = Le && Le[B] || y.style(g, B)
                }
            if (S = !y.isEmptyObject(b), !(!S && y.isEmptyObject($))) {
                q && g.nodeType === 1 && (A.overflow = [he.overflow, he.overflowX, he.overflowY], R = Le && Le.display, R == null && (R = ee.get(g, "display")), M = y.css(g, "display"), M === "none" && (R ? M = R : (ci([g], !0), R = g.style.display || R, M = y.css(g, "display"), ci([g]))), (M === "inline" || M === "inline-block" && R != null) && y.css(g, "float") === "none" && (S || (j.done(function() {
                    he.display = R
                }), R == null && (M = he.display, R = M === "none" ? "" : M)), he.display = "inline-block")), A.overflow && (he.overflow = "hidden", j.always(function() {
                    he.overflow = A.overflow[0], he.overflowX = A.overflow[1], he.overflowY = A.overflow[2]
                })), S = !1;
                for (B in $) S || (Le ? "hidden" in Le && (Te = Le.hidden) : Le = ee.access(g, "fxshow", {
                    display: R
                }), c && (Le.hidden = !Te), Te && ci([g], !0), j.done(function() {
                    Te || ci([g]), ee.remove(g, "fxshow");
                    for (B in $) y.style(g, B, $[B])
                })), S = Gt(Te ? Le[B] : 0, B, j), B in Le || (Le[B] = S.start, Te && (S.end = S.start, S.start = 0))
            }
        }

        function Cs(g, b) {
            var A, B, z, c, p;
            for (A in g)
                if (B = F(A), z = b[B], c = g[A], Array.isArray(c) && (z = c[1], c = g[A] = c[0]), A !== B && (g[B] = c, delete g[A]), p = y.cssHooks[B], p && "expand" in p) {
                    c = p.expand(c), delete g[B];
                    for (A in c) A in g || (g[A] = c[A], b[A] = z)
                } else b[B] = z
        }

        function Gn(g, b, A) {
            var B, z, c = 0,
                p = Gn.prefilters.length,
                _ = y.Deferred().always(function() {
                    delete S.elem
                }),
                S = function() {
                    if (z) return !1;
                    for (var q = Bn || en(), j = Math.max(0, R.startTime + R.duration - q), $ = j / R.duration || 0, he = 1 - $, Te = 0, Le = R.tweens.length; Te < Le; Te++) R.tweens[Te].run(he);
                    return _.notifyWith(g, [R, he, j]), he < 1 && Le ? j : (Le || _.notifyWith(g, [R, 1, 0]), _.resolveWith(g, [R]), !1)
                },
                R = _.promise({
                    elem: g,
                    props: y.extend({}, b),
                    opts: y.extend(!0, {
                        specialEasing: {},
                        easing: y.easing._default
                    }, A),
                    originalProperties: b,
                    originalOptions: A,
                    startTime: Bn || en(),
                    duration: A.duration,
                    tweens: [],
                    createTween: function(q, j) {
                        var $ = y.Tween(g, R.opts, q, j, R.opts.specialEasing[q] || R.opts.easing);
                        return R.tweens.push($), $
                    },
                    stop: function(q) {
                        var j = 0,
                            $ = q ? R.tweens.length : 0;
                        if (z) return this;
                        for (z = !0; j < $; j++) R.tweens[j].run(1);
                        return q ? (_.notifyWith(g, [R, 1, 0]), _.resolveWith(g, [R, q])) : _.rejectWith(g, [R, q]), this
                    }
                }),
                M = R.props;
            for (Cs(M, R.opts.specialEasing); c < p; c++)
                if (B = Gn.prefilters[c].call(R, g, M, R.opts), B) return C(B.stop) && (y._queueHooks(R.elem, R.opts.queue).stop = B.stop.bind(B)), B;
            return y.map(M, Gt, R), C(R.opts.start) && R.opts.start.call(g, R), R.progress(R.opts.progress).done(R.opts.done, R.opts.complete).fail(R.opts.fail).always(R.opts.always), y.fx.timer(y.extend(S, {
                elem: g,
                anim: R,
                queue: R.opts.queue
            })), R
        }
        y.Animation = y.extend(Gn, {
                tweeners: {
                    "*": [function(g, b) {
                        var A = this.createTween(g, b);
                        return Ar(A.elem, g, dt.exec(b), A), A
                    }]
                },
                tweener: function(g, b) {
                    C(g) ? (b = g, g = ["*"]) : g = g.match(te);
                    for (var A, B = 0, z = g.length; B < z; B++) A = g[B], Gn.tweeners[A] = Gn.tweeners[A] || [], Gn.tweeners[A].unshift(b)
                },
                prefilters: [Zi],
                prefilter: function(g, b) {
                    b ? Gn.prefilters.unshift(g) : Gn.prefilters.push(g)
                }
            }), y.speed = function(g, b, A) {
                var B = g && typeof g == "object" ? y.extend({}, g) : {
                    complete: A || !A && b || C(g) && g,
                    duration: g,
                    easing: A && b || b && !C(b) && b
                };
                return y.fx.off ? B.duration = 0 : typeof B.duration != "number" && (B.duration in y.fx.speeds ? B.duration = y.fx.speeds[B.duration] : B.duration = y.fx.speeds._default), (B.queue == null || B.queue === !0) && (B.queue = "fx"), B.old = B.complete, B.complete = function() {
                    C(B.old) && B.old.call(this), B.queue && y.dequeue(this, B.queue)
                }, B
            }, y.fn.extend({
                fadeTo: function(g, b, A, B) {
                    return this.filter(_n).css("opacity", 0).show().end().animate({
                        opacity: b
                    }, g, A, B)
                },
                animate: function(g, b, A, B) {
                    var z = y.isEmptyObject(g),
                        c = y.speed(b, A, B),
                        p = function() {
                            var _ = Gn(this, y.extend({}, g), c);
                            (z || ee.get(this, "finish")) && _.stop(!0)
                        };
                    return p.finish = p, z || c.queue === !1 ? this.each(p) : this.queue(c.queue, p)
                },
                stop: function(g, b, A) {
                    var B = function(z) {
                        var c = z.stop;
                        delete z.stop, c(A)
                    };
                    return typeof g != "string" && (A = b, b = g, g = void 0), b && this.queue(g || "fx", []), this.each(function() {
                        var z = !0,
                            c = g != null && g + "queueHooks",
                            p = y.timers,
                            _ = ee.get(this);
                        if (c) _[c] && _[c].stop && B(_[c]);
                        else
                            for (c in _) _[c] && _[c].stop && ot.test(c) && B(_[c]);
                        for (c = p.length; c--;) p[c].elem === this && (g == null || p[c].queue === g) && (p[c].anim.stop(A), z = !1, p.splice(c, 1));
                        (z || !A) && y.dequeue(this, g)
                    })
                },
                finish: function(g) {
                    return g !== !1 && (g = g || "fx"), this.each(function() {
                        var b, A = ee.get(this),
                            B = A[g + "queue"],
                            z = A[g + "queueHooks"],
                            c = y.timers,
                            p = B ? B.length : 0;
                        for (A.finish = !0, y.queue(this, g, []), z && z.stop && z.stop.call(this, !0), b = c.length; b--;) c[b].elem === this && c[b].queue === g && (c[b].anim.stop(!0), c.splice(b, 1));
                        for (b = 0; b < p; b++) B[b] && B[b].finish && B[b].finish.call(this);
                        delete A.finish
                    })
                }
            }), y.each(["toggle", "show", "hide"], function(g, b) {
                var A = y.fn[b];
                y.fn[b] = function(B, z, c) {
                    return B == null || typeof B == "boolean" ? A.apply(this, arguments) : this.animate(Gi(b, !0), B, z, c)
                }
            }), y.each({
                slideDown: Gi("show"),
                slideUp: Gi("hide"),
                slideToggle: Gi("toggle"),
                fadeIn: {
                    opacity: "show"
                },
                fadeOut: {
                    opacity: "hide"
                },
                fadeToggle: {
                    opacity: "toggle"
                }
            }, function(g, b) {
                y.fn[g] = function(A, B, z) {
                    return this.animate(b, A, B, z)
                }
            }), y.timers = [], y.fx.tick = function() {
                var g, b = 0,
                    A = y.timers;
                for (Bn = Date.now(); b < A.length; b++) g = A[b], !g() && A[b] === g && A.splice(b--, 1);
                A.length || y.fx.stop(), Bn = void 0
            }, y.fx.timer = function(g) {
                y.timers.push(g), y.fx.start()
            }, y.fx.interval = 13, y.fx.start = function() {
                Ee || (Ee = !0, Et())
            }, y.fx.stop = function() {
                Ee = null
            }, y.fx.speeds = {
                slow: 600,
                fast: 200,
                _default: 400
            }, y.fn.delay = function(g, b) {
                return g = y.fx && y.fx.speeds[g] || g, b = b || "fx", this.queue(b, function(A, B) {
                    var z = e.setTimeout(A, g);
                    B.stop = function() {
                        e.clearTimeout(z)
                    }
                })
            },
            function() {
                var g = E.createElement("input"),
                    b = E.createElement("select"),
                    A = b.appendChild(E.createElement("option"));
                g.type = "checkbox", x.checkOn = g.value !== "", x.optSelected = A.selected, g = E.createElement("input"), g.value = "t", g.type = "radio", x.radioValue = g.value === "t"
            }();
        var Fn, Za = y.expr.attrHandle;
        y.fn.extend({
            attr: function(g, b) {
                return lt(this, y.attr, g, b, arguments.length > 1)
            },
            removeAttr: function(g) {
                return this.each(function() {
                    y.removeAttr(this, g)
                })
            }
        }), y.extend({
            attr: function(g, b, A) {
                var B, z, c = g.nodeType;
                if (!(c === 3 || c === 8 || c === 2)) {
                    if (typeof g.getAttribute > "u") return y.prop(g, b, A);
                    if ((c !== 1 || !y.isXMLDoc(g)) && (z = y.attrHooks[b.toLowerCase()] || (y.expr.match.bool.test(b) ? Fn : void 0)), A !== void 0) {
                        if (A === null) {
                            y.removeAttr(g, b);
                            return
                        }
                        return z && "set" in z && (B = z.set(g, A, b)) !== void 0 ? B : (g.setAttribute(b, A + ""), A)
                    }
                    return z && "get" in z && (B = z.get(g, b)) !== null ? B : (B = y.find.attr(g, b), B == null ? void 0 : B)
                }
            },
            attrHooks: {
                type: {
                    set: function(g, b) {
                        if (!x.radioValue && b === "radio" && W(g, "input")) {
                            var A = g.value;
                            return g.setAttribute("type", b), A && (g.value = A), b
                        }
                    }
                }
            },
            removeAttr: function(g, b) {
                var A, B = 0,
                    z = b && b.match(te);
                if (z && g.nodeType === 1)
                    for (; A = z[B++];) g.removeAttribute(A)
            }
        }), Fn = {
            set: function(g, b, A) {
                return b === !1 ? y.removeAttr(g, A) : g.setAttribute(A, A), A
            }
        }, y.each(y.expr.match.bool.source.match(/\w+/g), function(g, b) {
            var A = Za[b] || y.find.attr;
            Za[b] = function(B, z, c) {
                var p, _, S = z.toLowerCase();
                return c || (_ = Za[S], Za[S] = p, p = A(B, z, c) != null ? S : null, Za[S] = _), p
            }
        });
        var zs = /^(?:input|select|textarea|button)$/i,
            Ma = /^(?:a|area)$/i;
        y.fn.extend({
            prop: function(g, b) {
                return lt(this, y.prop, g, b, arguments.length > 1)
            },
            removeProp: function(g) {
                return this.each(function() {
                    delete this[y.propFix[g] || g]
                })
            }
        }), y.extend({
            prop: function(g, b, A) {
                var B, z, c = g.nodeType;
                if (!(c === 3 || c === 8 || c === 2)) return (c !== 1 || !y.isXMLDoc(g)) && (b = y.propFix[b] || b, z = y.propHooks[b]), A !== void 0 ? z && "set" in z && (B = z.set(g, A, b)) !== void 0 ? B : g[b] = A : z && "get" in z && (B = z.get(g, b)) !== null ? B : g[b]
            },
            propHooks: {
                tabIndex: {
                    get: function(g) {
                        var b = y.find.attr(g, "tabindex");
                        return b ? parseInt(b, 10) : zs.test(g.nodeName) || Ma.test(g.nodeName) && g.href ? 0 : -1
                    }
                }
            },
            propFix: {
                for: "htmlFor",
                class: "className"
            }
        }), x.optSelected || (y.propHooks.selected = {
            get: function(g) {
                var b = g.parentNode;
                return b && b.parentNode && b.parentNode.selectedIndex, null
            },
            set: function(g) {
                var b = g.parentNode;
                b && (b.selectedIndex, b.parentNode && b.parentNode.selectedIndex)
            }
        }), y.each(["tabIndex", "readOnly", "maxLength", "cellSpacing", "cellPadding", "rowSpan", "colSpan", "useMap", "frameBorder", "contentEditable"], function() {
            y.propFix[this.toLowerCase()] = this
        });

        function li(g) {
            var b = g.match(te) || [];
            return b.join(" ")
        }

        function ir(g) {
            return g.getAttribute && g.getAttribute("class") || ""
        }

        function Br(g) {
            return Array.isArray(g) ? g : typeof g == "string" ? g.match(te) || [] : []
        }
        y.fn.extend({
            addClass: function(g) {
                var b, A, B, z, c, p;
                return C(g) ? this.each(function(_) {
                    y(this).addClass(g.call(this, _, ir(this)))
                }) : (b = Br(g), b.length ? this.each(function() {
                    if (B = ir(this), A = this.nodeType === 1 && " " + li(B) + " ", A) {
                        for (c = 0; c < b.length; c++) z = b[c], A.indexOf(" " + z + " ") < 0 && (A += z + " ");
                        p = li(A), B !== p && this.setAttribute("class", p)
                    }
                }) : this)
            },
            removeClass: function(g) {
                var b, A, B, z, c, p;
                return C(g) ? this.each(function(_) {
                    y(this).removeClass(g.call(this, _, ir(this)))
                }) : arguments.length ? (b = Br(g), b.length ? this.each(function() {
                    if (B = ir(this), A = this.nodeType === 1 && " " + li(B) + " ", A) {
                        for (c = 0; c < b.length; c++)
                            for (z = b[c]; A.indexOf(" " + z + " ") > -1;) A = A.replace(" " + z + " ", " ");
                        p = li(A), B !== p && this.setAttribute("class", p)
                    }
                }) : this) : this.attr("class", "")
            },
            toggleClass: function(g, b) {
                var A, B, z, c, p = typeof g,
                    _ = p === "string" || Array.isArray(g);
                return C(g) ? this.each(function(S) {
                    y(this).toggleClass(g.call(this, S, ir(this), b), b)
                }) : typeof b == "boolean" && _ ? b ? this.addClass(g) : this.removeClass(g) : (A = Br(g), this.each(function() {
                    if (_)
                        for (c = y(this), z = 0; z < A.length; z++) B = A[z], c.hasClass(B) ? c.removeClass(B) : c.addClass(B);
                    else(g === void 0 || p === "boolean") && (B = ir(this), B && ee.set(this, "__className__", B), this.setAttribute && this.setAttribute("class", B || g === !1 ? "" : ee.get(this, "__className__") || ""))
                }))
            },
            hasClass: function(g) {
                var b, A, B = 0;
                for (b = " " + g + " "; A = this[B++];)
                    if (A.nodeType === 1 && (" " + li(ir(A)) + " ").indexOf(b) > -1) return !0;
                return !1
            }
        });
        var Ss = /\r/g;
        y.fn.extend({
            val: function(g) {
                var b, A, B, z = this[0];
                return arguments.length ? (B = C(g), this.each(function(c) {
                    var p;
                    this.nodeType === 1 && (B ? p = g.call(this, c, y(this).val()) : p = g, p == null ? p = "" : typeof p == "number" ? p += "" : Array.isArray(p) && (p = y.map(p, function(_) {
                        return _ == null ? "" : _ + ""
                    })), b = y.valHooks[this.type] || y.valHooks[this.nodeName.toLowerCase()], (!b || !("set" in b) || b.set(this, p, "value") === void 0) && (this.value = p))
                })) : z ? (b = y.valHooks[z.type] || y.valHooks[z.nodeName.toLowerCase()], b && "get" in b && (A = b.get(z, "value")) !== void 0 ? A : (A = z.value, typeof A == "string" ? A.replace(Ss, "") : A == null ? "" : A)) : void 0
            }
        }), y.extend({
            valHooks: {
                option: {
                    get: function(g) {
                        var b = y.find.attr(g, "value");
                        return b != null ? b : li(y.text(g))
                    }
                },
                select: {
                    get: function(g) {
                        var b, A, B, z = g.options,
                            c = g.selectedIndex,
                            p = g.type === "select-one",
                            _ = p ? null : [],
                            S = p ? c + 1 : z.length;
                        for (c < 0 ? B = S : B = p ? c : 0; B < S; B++)
                            if (A = z[B], (A.selected || B === c) && !A.disabled && (!A.parentNode.disabled || !W(A.parentNode, "optgroup"))) {
                                if (b = y(A).val(), p) return b;
                                _.push(b)
                            }
                        return _
                    },
                    set: function(g, b) {
                        for (var A, B, z = g.options, c = y.makeArray(b), p = z.length; p--;) B = z[p], (B.selected = y.inArray(y.valHooks.option.get(B), c) > -1) && (A = !0);
                        return A || (g.selectedIndex = -1), c
                    }
                }
            }
        }), y.each(["radio", "checkbox"], function() {
            y.valHooks[this] = {
                set: function(g, b) {
                    if (Array.isArray(b)) return g.checked = y.inArray(y(g).val(), b) > -1
                }
            }, x.checkOn || (y.valHooks[this].get = function(g) {
                return g.getAttribute("value") === null ? "on" : g.value
            })
        }), x.focusin = "onfocusin" in e;
        var Hs = /^(?:focusinfocus|focusoutblur)$/,
            Er = function(g) {
                g.stopPropagation()
            };
        y.extend(y.event, {
            trigger: function(g, b, A, B) {
                var z, c, p, _, S, R, M, q, j = [A || E],
                    $ = d.call(g, "type") ? g.type : g,
                    he = d.call(g, "namespace") ? g.namespace.split(".") : [];
                if (c = q = p = A = A || E, !(A.nodeType === 3 || A.nodeType === 8) && !Hs.test($ + y.event.triggered) && ($.indexOf(".") > -1 && (he = $.split("."), $ = he.shift(), he.sort()), S = $.indexOf(":") < 0 && "on" + $, g = g[y.expando] ? g : new y.Event($, typeof g == "object" && g), g.isTrigger = B ? 2 : 3, g.namespace = he.join("."), g.rnamespace = g.namespace ? new RegExp("(^|\\.)" + he.join("\\.(?:.*\\.|)") + "(\\.|$)") : null, g.result = void 0, g.target || (g.target = A), b = b == null ? [g] : y.makeArray(b, [g]), M = y.event.special[$] || {}, !(!B && M.trigger && M.trigger.apply(A, b) === !1))) {
                    if (!B && !M.noBubble && !N(A)) {
                        for (_ = M.delegateType || $, Hs.test(_ + $) || (c = c.parentNode); c; c = c.parentNode) j.push(c), p = c;
                        p === (A.ownerDocument || E) && j.push(p.defaultView || p.parentWindow || e)
                    }
                    for (z = 0;
                        (c = j[z++]) && !g.isPropagationStopped();) q = c, g.type = z > 1 ? _ : M.bindType || $, R = (ee.get(c, "events") || Object.create(null))[g.type] && ee.get(c, "handle"), R && R.apply(c, b), R = S && c[S], R && R.apply && ke(c) && (g.result = R.apply(c, b), g.result === !1 && g.preventDefault());
                    return g.type = $, !B && !g.isDefaultPrevented() && (!M._default || M._default.apply(j.pop(), b) === !1) && ke(A) && S && C(A[$]) && !N(A) && (p = A[S], p && (A[S] = null), y.event.triggered = $, g.isPropagationStopped() && q.addEventListener($, Er), A[$](), g.isPropagationStopped() && q.removeEventListener($, Er), y.event.triggered = void 0, p && (A[S] = p)), g.result
                }
            },
            simulate: function(g, b, A) {
                var B = y.extend(new y.Event, A, {
                    type: g,
                    isSimulated: !0
                });
                y.event.trigger(B, null, b)
            }
        }), y.fn.extend({
            trigger: function(g, b) {
                return this.each(function() {
                    y.event.trigger(g, b, this)
                })
            },
            triggerHandler: function(g, b) {
                var A = this[0];
                if (A) return y.event.trigger(g, b, A, !0)
            }
        }), x.focusin || y.each({
            focus: "focusin",
            blur: "focusout"
        }, function(g, b) {
            var A = function(B) {
                y.event.simulate(b, B.target, y.event.fix(B))
            };
            y.event.special[b] = {
                setup: function() {
                    var B = this.ownerDocument || this.document || this,
                        z = ee.access(B, b);
                    z || B.addEventListener(g, A, !0), ee.access(B, b, (z || 0) + 1)
                },
                teardown: function() {
                    var B = this.ownerDocument || this.document || this,
                        z = ee.access(B, b) - 1;
                    z ? ee.access(B, b, z) : (B.removeEventListener(g, A, !0), ee.remove(B, b))
                }
            }
        });
        var hr = e.location,
            Xa = {
                guid: Date.now()
            },
            Ya = /\?/;
        y.parseXML = function(g) {
            var b, A;
            if (!g || typeof g != "string") return null;
            try {
                b = new e.DOMParser().parseFromString(g, "text/xml")
            } catch {}
            return A = b && b.getElementsByTagName("parsererror")[0], (!b || A) && y.error("Invalid XML: " + (A ? y.map(A.childNodes, function(B) {
                return B.textContent
            }).join(`
`) : g)), b
        };
        var Oa = /\[\]$/,
            Ts = /\r?\n/g,
            Qa = /^(?:submit|button|image|reset|file)$/i,
            So = /^(?:input|select|textarea|keygen)/i;

        function Ja(g, b, A, B) {
            var z;
            if (Array.isArray(b)) y.each(b, function(c, p) {
                A || Oa.test(g) ? B(g, p) : Ja(g + "[" + (typeof p == "object" && p != null ? c : "") + "]", p, A, B)
            });
            else if (!A && I(b) === "object")
                for (z in b) Ja(g + "[" + z + "]", b[z], A, B);
            else B(g, b)
        }
        y.param = function(g, b) {
            var A, B = [],
                z = function(c, p) {
                    var _ = C(p) ? p() : p;
                    B[B.length] = encodeURIComponent(c) + "=" + encodeURIComponent(_ == null ? "" : _)
                };
            if (g == null) return "";
            if (Array.isArray(g) || g.jquery && !y.isPlainObject(g)) y.each(g, function() {
                z(this.name, this.value)
            });
            else
                for (A in g) Ja(A, g[A], b, z);
            return B.join("&")
        }, y.fn.extend({
            serialize: function() {
                return y.param(this.serializeArray())
            },
            serializeArray: function() {
                return this.map(function() {
                    var g = y.prop(this, "elements");
                    return g ? y.makeArray(g) : this
                }).filter(function() {
                    var g = this.type;
                    return this.name && !y(this).is(":disabled") && So.test(this.nodeName) && !Qa.test(g) && (this.checked || !Hi.test(g))
                }).map(function(g, b) {
                    var A = y(this).val();
                    return A == null ? null : Array.isArray(A) ? y.map(A, function(B) {
                        return {
                            name: b.name,
                            value: B.replace(Ts, `\r
`)
                        }
                    }) : {
                        name: b.name,
                        value: A.replace(Ts, `\r
`)
                    }
                }).get()
            }
        });
        var Jl = /%20/g,
            Xt = /#.*$/,
            Kr = /([?&])_=[^&]*/,
            Ui = /^(.*?):[ \t]*([^\r\n]*)$/mg,
            $s = /^(?:about|app|app-storage|.+-extension|file|res|widget):$/,
            To = /^(?:GET|HEAD)$/,
            Lo = /^\/\//,
            js = {},
            ca = {},
            Ws = "*/".concat("*"),
            Ua = E.createElement("a");
        Ua.href = hr.href;

        function Ln(g) {
            return function(b, A) {
                typeof b != "string" && (A = b, b = "*");
                var B, z = 0,
                    c = b.toLowerCase().match(te) || [];
                if (C(A))
                    for (; B = c[z++];) B[0] === "+" ? (B = B.slice(1) || "*", (g[B] = g[B] || []).unshift(A)) : (g[B] = g[B] || []).push(A)
            }
        }

        function fa(g, b, A, B) {
            var z = {},
                c = g === ca;

            function p(_) {
                var S;
                return z[_] = !0, y.each(g[_] || [], function(R, M) {
                    var q = M(b, A, B);
                    if (typeof q == "string" && !c && !z[q]) return b.dataTypes.unshift(q), p(q), !1;
                    if (c) return !(S = q)
                }), S
            }
            return p(b.dataTypes[0]) || !z["*"] && p("*")
        }

        function es(g, b) {
            var A, B, z = y.ajaxSettings.flatOptions || {};
            for (A in b) b[A] !== void 0 && ((z[A] ? g : B || (B = {}))[A] = b[A]);
            return B && y.extend(!0, g, B), g
        }

        function ko(g, b, A) {
            for (var B, z, c, p, _ = g.contents, S = g.dataTypes; S[0] === "*";) S.shift(), B === void 0 && (B = g.mimeType || b.getResponseHeader("Content-Type"));
            if (B) {
                for (z in _)
                    if (_[z] && _[z].test(B)) {
                        S.unshift(z);
                        break
                    }
            }
            if (S[0] in A) c = S[0];
            else {
                for (z in A) {
                    if (!S[0] || g.converters[z + " " + S[0]]) {
                        c = z;
                        break
                    }
                    p || (p = z)
                }
                c = c || p
            }
            if (c) return c !== S[0] && S.unshift(c), A[c]
        }

        function Io(g, b, A, B) {
            var z, c, p, _, S, R = {},
                M = g.dataTypes.slice();
            if (M[1])
                for (p in g.converters) R[p.toLowerCase()] = g.converters[p];
            for (c = M.shift(); c;)
                if (g.responseFields[c] && (A[g.responseFields[c]] = b), !S && B && g.dataFilter && (b = g.dataFilter(b, g.dataType)), S = c, c = M.shift(), c) {
                    if (c === "*") c = S;
                    else if (S !== "*" && S !== c) {
                        if (p = R[S + " " + c] || R["* " + c], !p) {
                            for (z in R)
                                if (_ = z.split(" "), _[1] === c && (p = R[S + " " + _[0]] || R["* " + _[0]], p)) {
                                    p === !0 ? p = R[z] : R[z] !== !0 && (c = _[0], M.unshift(_[1]));
                                    break
                                }
                        }
                        if (p !== !0)
                            if (p && g.throws) b = p(b);
                            else try {
                                b = p(b)
                            } catch (q) {
                                return {
                                    state: "parsererror",
                                    error: p ? q : "No conversion from " + S + " to " + c
                                }
                            }
                    }
                }
            return {
                state: "success",
                data: b
            }
        }
        y.extend({
            active: 0,
            lastModified: {},
            etag: {},
            ajaxSettings: {
                url: hr.href,
                type: "GET",
                isLocal: $s.test(hr.protocol),
                global: !0,
                processData: !0,
                async: !0,
                contentType: "application/x-www-form-urlencoded; charset=UTF-8",
                accepts: {
                    "*": Ws,
                    text: "text/plain",
                    html: "text/html",
                    xml: "application/xml, text/xml",
                    json: "application/json, text/javascript"
                },
                contents: {
                    xml: /\bxml\b/,
                    html: /\bhtml/,
                    json: /\bjson\b/
                },
                responseFields: {
                    xml: "responseXML",
                    text: "responseText",
                    json: "responseJSON"
                },
                converters: {
                    "* text": String,
                    "text html": !0,
                    "text json": JSON.parse,
                    "text xml": y.parseXML
                },
                flatOptions: {
                    url: !0,
                    context: !0
                }
            },
            ajaxSetup: function(g, b) {
                return b ? es(es(g, y.ajaxSettings), b) : es(y.ajaxSettings, g)
            },
            ajaxPrefilter: Ln(js),
            ajaxTransport: Ln(ca),
            ajax: function(g, b) {
                typeof g == "object" && (b = g, g = void 0), b = b || {};
                var A, B, z, c, p, _, S, R, M, q, j = y.ajaxSetup({}, b),
                    $ = j.context || j,
                    he = j.context && ($.nodeType || $.jquery) ? y($) : y.event,
                    Te = y.Deferred(),
                    Le = y.Callbacks("once memory"),
                    Ie = j.statusCode || {},
                    Ge = {},
                    Dt = {},
                    kt = "canceled",
                    ct = {
                        readyState: 0,
                        getResponseHeader: function(Mt) {
                            var vi;
                            if (S) {
                                if (!c)
                                    for (c = {}; vi = Ui.exec(z);) c[vi[1].toLowerCase() + " "] = (c[vi[1].toLowerCase() + " "] || []).concat(vi[2]);
                                vi = c[Mt.toLowerCase() + " "]
                            }
                            return vi == null ? null : vi.join(", ")
                        },
                        getAllResponseHeaders: function() {
                            return S ? z : null
                        },
                        setRequestHeader: function(Mt, vi) {
                            return S == null && (Mt = Dt[Mt.toLowerCase()] = Dt[Mt.toLowerCase()] || Mt, Ge[Mt] = vi), this
                        },
                        overrideMimeType: function(Mt) {
                            return S == null && (j.mimeType = Mt), this
                        },
                        statusCode: function(Mt) {
                            var vi;
                            if (Mt)
                                if (S) ct.always(Mt[ct.status]);
                                else
                                    for (vi in Mt) Ie[vi] = [Ie[vi], Mt[vi]];
                            return this
                        },
                        abort: function(Mt) {
                            var vi = Mt || kt;
                            return A && A.abort(vi), wi(0, vi), this
                        }
                    };
                if (Te.promise(ct), j.url = ((g || j.url || hr.href) + "").replace(Lo, hr.protocol + "//"), j.type = b.method || b.type || j.method || j.type, j.dataTypes = (j.dataType || "*").toLowerCase().match(te) || [""], j.crossDomain == null) {
                    _ = E.createElement("a");
                    try {
                        _.href = j.url, _.href = _.href, j.crossDomain = Ua.protocol + "//" + Ua.host != _.protocol + "//" + _.host
                    } catch {
                        j.crossDomain = !0
                    }
                }
                if (j.data && j.processData && typeof j.data != "string" && (j.data = y.param(j.data, j.traditional)), fa(js, j, b, ct), S) return ct;
                R = y.event && j.global, R && y.active++ === 0 && y.event.trigger("ajaxStart"), j.type = j.type.toUpperCase(), j.hasContent = !To.test(j.type), B = j.url.replace(Xt, ""), j.hasContent ? j.data && j.processData && (j.contentType || "").indexOf("application/x-www-form-urlencoded") === 0 && (j.data = j.data.replace(Jl, "+")) : (q = j.url.slice(B.length), j.data && (j.processData || typeof j.data == "string") && (B += (Ya.test(B) ? "&" : "?") + j.data, delete j.data), j.cache === !1 && (B = B.replace(Kr, "$1"), q = (Ya.test(B) ? "&" : "?") + "_=" + Xa.guid++ + q), j.url = B + q), j.ifModified && (y.lastModified[B] && ct.setRequestHeader("If-Modified-Since", y.lastModified[B]), y.etag[B] && ct.setRequestHeader("If-None-Match", y.etag[B])), (j.data && j.hasContent && j.contentType !== !1 || b.contentType) && ct.setRequestHeader("Content-Type", j.contentType), ct.setRequestHeader("Accept", j.dataTypes[0] && j.accepts[j.dataTypes[0]] ? j.accepts[j.dataTypes[0]] + (j.dataTypes[0] !== "*" ? ", " + Ws + "; q=0.01" : "") : j.accepts["*"]);
                for (M in j.headers) ct.setRequestHeader(M, j.headers[M]);
                if (j.beforeSend && (j.beforeSend.call($, ct, j) === !1 || S)) return ct.abort();
                if (kt = "abort", Le.add(j.complete), ct.done(j.success), ct.fail(j.error), A = fa(ca, j, b, ct), !A) wi(-1, "No Transport");
                else {
                    if (ct.readyState = 1, R && he.trigger("ajaxSend", [ct, j]), S) return ct;
                    j.async && j.timeout > 0 && (p = e.setTimeout(function() {
                        ct.abort("timeout")
                    }, j.timeout));
                    try {
                        S = !1, A.send(Ge, wi)
                    } catch (Mt) {
                        if (S) throw Mt;
                        wi(-1, Mt)
                    }
                }

                function wi(Mt, vi, Xn, Yt) {
                    var $i, ii, Ei, Di, Mr, tn = vi;
                    S || (S = !0, p && e.clearTimeout(p), A = void 0, z = Yt || "", ct.readyState = Mt > 0 ? 4 : 0, $i = Mt >= 200 && Mt < 300 || Mt === 304, Xn && (Di = ko(j, ct, Xn)), !$i && y.inArray("script", j.dataTypes) > -1 && y.inArray("json", j.dataTypes) < 0 && (j.converters["text script"] = function() {}), Di = Io(j, Di, ct, $i), $i ? (j.ifModified && (Mr = ct.getResponseHeader("Last-Modified"), Mr && (y.lastModified[B] = Mr), Mr = ct.getResponseHeader("etag"), Mr && (y.etag[B] = Mr)), Mt === 204 || j.type === "HEAD" ? tn = "nocontent" : Mt === 304 ? tn = "notmodified" : (tn = Di.state, ii = Di.data, Ei = Di.error, $i = !Ei)) : (Ei = tn, (Mt || !tn) && (tn = "error", Mt < 0 && (Mt = 0))), ct.status = Mt, ct.statusText = (vi || tn) + "", $i ? Te.resolveWith($, [ii, tn, ct]) : Te.rejectWith($, [ct, tn, Ei]), ct.statusCode(Ie), Ie = void 0, R && he.trigger($i ? "ajaxSuccess" : "ajaxError", [ct, j, $i ? ii : Ei]), Le.fireWith($, [ct, tn]), R && (he.trigger("ajaxComplete", [ct, j]), --y.active || y.event.trigger("ajaxStop")))
                }
                return ct
            },
            getJSON: function(g, b, A) {
                return y.get(g, b, A, "json")
            },
            getScript: function(g, b) {
                return y.get(g, void 0, b, "script")
            }
        }), y.each(["get", "post"], function(g, b) {
            y[b] = function(A, B, z, c) {
                return C(B) && (c = c || z, z = B, B = void 0), y.ajax(y.extend({
                    url: A,
                    type: b,
                    dataType: c,
                    data: B,
                    success: z
                }, y.isPlainObject(A) && A))
            }
        }), y.ajaxPrefilter(function(g) {
            var b;
            for (b in g.headers) b.toLowerCase() === "content-type" && (g.contentType = g.headers[b] || "")
        }), y._evalUrl = function(g, b, A) {
            return y.ajax({
                url: g,
                type: "GET",
                dataType: "script",
                cache: !0,
                async: !1,
                global: !1,
                converters: {
                    "text script": function() {}
                },
                dataFilter: function(B) {
                    y.globalEval(B, b, A)
                }
            })
        }, y.fn.extend({
            wrapAll: function(g) {
                var b;
                return this[0] && (C(g) && (g = g.call(this[0])), b = y(g, this[0].ownerDocument).eq(0).clone(!0), this[0].parentNode && b.insertBefore(this[0]), b.map(function() {
                    for (var A = this; A.firstElementChild;) A = A.firstElementChild;
                    return A
                }).append(this)), this
            },
            wrapInner: function(g) {
                return C(g) ? this.each(function(b) {
                    y(this).wrapInner(g.call(this, b))
                }) : this.each(function() {
                    var b = y(this),
                        A = b.contents();
                    A.length ? A.wrapAll(g) : b.append(g)
                })
            },
            wrap: function(g) {
                var b = C(g);
                return this.each(function(A) {
                    y(this).wrapAll(b ? g.call(this, A) : g)
                })
            },
            unwrap: function(g) {
                return this.parent(g).not("body").each(function() {
                    y(this).replaceWith(this.childNodes)
                }), this
            }
        }), y.expr.pseudos.hidden = function(g) {
            return !y.expr.pseudos.visible(g)
        }, y.expr.pseudos.visible = function(g) {
            return !!(g.offsetWidth || g.offsetHeight || g.getClientRects().length)
        }, y.ajaxSettings.xhr = function() {
            try {
                return new e.XMLHttpRequest
            } catch {}
        };
        var Ao = {
                0: 200,
                1223: 204
            },
            Sa = y.ajaxSettings.xhr();
        x.cors = !!Sa && "withCredentials" in Sa, x.ajax = Sa = !!Sa, y.ajaxTransport(function(g) {
            var b, A;
            if (x.cors || Sa && !g.crossDomain) return {
                send: function(B, z) {
                    var c, p = g.xhr();
                    if (p.open(g.type, g.url, g.async, g.username, g.password), g.xhrFields)
                        for (c in g.xhrFields) p[c] = g.xhrFields[c];
                    g.mimeType && p.overrideMimeType && p.overrideMimeType(g.mimeType), !g.crossDomain && !B["X-Requested-With"] && (B["X-Requested-With"] = "XMLHttpRequest");
                    for (c in B) p.setRequestHeader(c, B[c]);
                    b = function(_) {
                        return function() {
                            b && (b = A = p.onload = p.onerror = p.onabort = p.ontimeout = p.onreadystatechange = null, _ === "abort" ? p.abort() : _ === "error" ? typeof p.status != "number" ? z(0, "error") : z(p.status, p.statusText) : z(Ao[p.status] || p.status, p.statusText, (p.responseType || "text") !== "text" || typeof p.responseText != "string" ? {
                                binary: p.response
                            } : {
                                text: p.responseText
                            }, p.getAllResponseHeaders()))
                        }
                    }, p.onload = b(), A = p.onerror = p.ontimeout = b("error"), p.onabort !== void 0 ? p.onabort = A : p.onreadystatechange = function() {
                        p.readyState === 4 && e.setTimeout(function() {
                            b && A()
                        })
                    }, b = b("abort");
                    try {
                        p.send(g.hasContent && g.data || null)
                    } catch (_) {
                        if (b) throw _
                    }
                },
                abort: function() {
                    b && b()
                }
            }
        }), y.ajaxPrefilter(function(g) {
            g.crossDomain && (g.contents.script = !1)
        }), y.ajaxSetup({
            accepts: {
                script: "text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"
            },
            contents: {
                script: /\b(?:java|ecma)script\b/
            },
            converters: {
                "text script": function(g) {
                    return y.globalEval(g), g
                }
            }
        }), y.ajaxPrefilter("script", function(g) {
            g.cache === void 0 && (g.cache = !1), g.crossDomain && (g.type = "GET")
        }), y.ajaxTransport("script", function(g) {
            if (g.crossDomain || g.scriptAttrs) {
                var b, A;
                return {
                    send: function(B, z) {
                        b = y("<script>").attr(g.scriptAttrs || {}).prop({
                            charset: g.scriptCharset,
                            src: g.url
                        }).on("load error", A = function(c) {
                            b.remove(), A = null, c && z(c.type === "error" ? 404 : 200, c.type)
                        }), E.head.appendChild(b[0])
                    },
                    abort: function() {
                        A && A()
                    }
                }
            }
        });
        var Ks = [],
            Gs = /(=)\?(?=&|$)|\?\?/;
        y.ajaxSetup({
            jsonp: "callback",
            jsonpCallback: function() {
                var g = Ks.pop() || y.expando + "_" + Xa.guid++;
                return this[g] = !0, g
            }
        }), y.ajaxPrefilter("json jsonp", function(g, b, A) {
            var B, z, c, p = g.jsonp !== !1 && (Gs.test(g.url) ? "url" : typeof g.data == "string" && (g.contentType || "").indexOf("application/x-www-form-urlencoded") === 0 && Gs.test(g.data) && "data");
            if (p || g.dataTypes[0] === "jsonp") return B = g.jsonpCallback = C(g.jsonpCallback) ? g.jsonpCallback() : g.jsonpCallback, p ? g[p] = g[p].replace(Gs, "$1" + B) : g.jsonp !== !1 && (g.url += (Ya.test(g.url) ? "&" : "?") + g.jsonp + "=" + B), g.converters["script json"] = function() {
                return c || y.error(B + " was not called"), c[0]
            }, g.dataTypes[0] = "json", z = e[B], e[B] = function() {
                c = arguments
            }, A.always(function() {
                z === void 0 ? y(e).removeProp(B) : e[B] = z, g[B] && (g.jsonpCallback = b.jsonpCallback, Ks.push(B)), c && C(z) && z(c[0]), c = z = void 0
            }), "script"
        }), x.createHTMLDocument = function() {
            var g = E.implementation.createHTMLDocument("").body;
            return g.innerHTML = "<form></form><form></form>", g.childNodes.length === 2
        }(), y.parseHTML = function(g, b, A) {
            if (typeof g != "string") return [];
            typeof b == "boolean" && (A = b, b = !1);
            var B, z, c;
            return b || (x.createHTMLDocument ? (b = E.implementation.createHTMLDocument(""), B = b.createElement("base"), B.href = E.location.href, b.head.appendChild(B)) : b = E), z = P.exec(g), c = !A && [], z ? [b.createElement(z[1])] : (z = Dr([g], b, c), c && c.length && y(c).remove(), y.merge([], z.childNodes))
        }, y.fn.load = function(g, b, A) {
            var B, z, c, p = this,
                _ = g.indexOf(" ");
            return _ > -1 && (B = li(g.slice(_)), g = g.slice(0, _)), C(b) ? (A = b, b = void 0) : b && typeof b == "object" && (z = "POST"), p.length > 0 && y.ajax({
                url: g,
                type: z || "GET",
                dataType: "html",
                data: b
            }).done(function(S) {
                c = arguments, p.html(B ? y("<div>").append(y.parseHTML(S)).find(B) : S)
            }).always(A && function(S, R) {
                p.each(function() {
                    A.apply(this, c || [S.responseText, R, S])
                })
            }), this
        }, y.expr.pseudos.animated = function(g) {
            return y.grep(y.timers, function(b) {
                return g === b.elem
            }).length
        }, y.offset = {
            setOffset: function(g, b, A) {
                var B, z, c, p, _, S, R, M = y.css(g, "position"),
                    q = y(g),
                    j = {};
                M === "static" && (g.style.position = "relative"), _ = q.offset(), c = y.css(g, "top"), S = y.css(g, "left"), R = (M === "absolute" || M === "fixed") && (c + S).indexOf("auto") > -1, R ? (B = q.position(), p = B.top, z = B.left) : (p = parseFloat(c) || 0, z = parseFloat(S) || 0), C(b) && (b = b.call(g, A, y.extend({}, _))), b.top != null && (j.top = b.top - _.top + p), b.left != null && (j.left = b.left - _.left + z), "using" in b ? b.using.call(g, j) : q.css(j)
            }
        }, y.fn.extend({
            offset: function(g) {
                if (arguments.length) return g === void 0 ? this : this.each(function(z) {
                    y.offset.setOffset(this, g, z)
                });
                var b, A, B = this[0];
                if (B) return B.getClientRects().length ? (b = B.getBoundingClientRect(), A = B.ownerDocument.defaultView, {
                    top: b.top + A.pageYOffset,
                    left: b.left + A.pageXOffset
                }) : {
                    top: 0,
                    left: 0
                }
            },
            position: function() {
                if (this[0]) {
                    var g, b, A, B = this[0],
                        z = {
                            top: 0,
                            left: 0
                        };
                    if (y.css(B, "position") === "fixed") b = B.getBoundingClientRect();
                    else {
                        for (b = this.offset(), A = B.ownerDocument, g = B.offsetParent || A.documentElement; g && (g === A.body || g === A.documentElement) && y.css(g, "position") === "static";) g = g.parentNode;
                        g && g !== B && g.nodeType === 1 && (z = y(g).offset(), z.top += y.css(g, "borderTopWidth", !0), z.left += y.css(g, "borderLeftWidth", !0))
                    }
                    return {
                        top: b.top - z.top - y.css(B, "marginTop", !0),
                        left: b.left - z.left - y.css(B, "marginLeft", !0)
                    }
                }
            },
            offsetParent: function() {
                return this.map(function() {
                    for (var g = this.offsetParent; g && y.css(g, "position") === "static";) g = g.offsetParent;
                    return g || We
                })
            }
        }), y.each({
            scrollLeft: "pageXOffset",
            scrollTop: "pageYOffset"
        }, function(g, b) {
            var A = b === "pageYOffset";
            y.fn[g] = function(B) {
                return lt(this, function(z, c, p) {
                    var _;
                    if (N(z) ? _ = z : z.nodeType === 9 && (_ = z.defaultView), p === void 0) return _ ? _[b] : z[c];
                    _ ? _.scrollTo(A ? _.pageXOffset : p, A ? p : _.pageYOffset) : z[c] = p
                }, g, B, arguments.length)
            }
        }), y.each(["top", "left"], function(g, b) {
            y.cssHooks[b] = tr(x.pixelPosition, function(A, B) {
                if (B) return B = Tn(A, b), jr.test(B) ? y(A).position()[b] + "px" : B
            })
        }), y.each({
            Height: "height",
            Width: "width"
        }, function(g, b) {
            y.each({
                padding: "inner" + g,
                content: b,
                "": "outer" + g
            }, function(A, B) {
                y.fn[B] = function(z, c) {
                    var p = arguments.length && (A || typeof z != "boolean"),
                        _ = A || (z === !0 || c === !0 ? "margin" : "border");
                    return lt(this, function(S, R, M) {
                        var q;
                        return N(S) ? B.indexOf("outer") === 0 ? S["inner" + g] : S.document.documentElement["client" + g] : S.nodeType === 9 ? (q = S.documentElement, Math.max(S.body["scroll" + g], q["scroll" + g], S.body["offset" + g], q["offset" + g], q["client" + g])) : M === void 0 ? y.css(S, R, _) : y.style(S, R, M, _)
                    }, b, p ? z : void 0, p)
                }
            })
        }), y.each(["ajaxStart", "ajaxStop", "ajaxComplete", "ajaxError", "ajaxSuccess", "ajaxSend"], function(g, b) {
            y.fn[b] = function(A) {
                return this.on(b, A)
            }
        }), y.fn.extend({
            bind: function(g, b, A) {
                return this.on(g, null, b, A)
            },
            unbind: function(g, b) {
                return this.off(g, null, b)
            },
            delegate: function(g, b, A, B) {
                return this.on(b, g, A, B)
            },
            undelegate: function(g, b, A) {
                return arguments.length === 1 ? this.off(g, "**") : this.off(b, g || "**", A)
            },
            hover: function(g, b) {
                return this.mouseenter(g).mouseleave(b || g)
            }
        }), y.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "), function(g, b) {
            y.fn[b] = function(A, B) {
                return arguments.length > 0 ? this.on(b, null, A, B) : this.trigger(b)
            }
        });
        var pi = /^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;
        y.proxy = function(g, b) {
            var A, B, z;
            if (typeof b == "string" && (A = g[b], b = g, g = A), !!C(g)) return B = r.call(arguments, 2), z = function() {
                return g.apply(b || this, B.concat(r.call(arguments)))
            }, z.guid = g.guid = g.guid || y.guid++, z
        }, y.holdReady = function(g) {
            g ? y.readyWait++ : y.ready(!0)
        }, y.isArray = Array.isArray, y.parseJSON = JSON.parse, y.nodeName = W, y.isFunction = C, y.isWindow = N, y.camelCase = F, y.type = I, y.now = Date.now, y.isNumeric = function(g) {
            var b = y.type(g);
            return (b === "number" || b === "string") && !isNaN(g - parseFloat(g))
        }, y.trim = function(g) {
            return g == null ? "" : (g + "").replace(pi, "$1")
        }, typeof define == "function" && define.amd && define("jquery", [], function() {
            return y
        });
        var eu = e.jQuery,
            Zn = e.$;
        return y.noConflict = function(g) {
            return e.$ === y && (e.$ = Zn), g && e.jQuery === y && (e.jQuery = eu), y
        }, typeof t > "u" && (e.jQuery = e.$ = y), y
    })
});
var Jy = Ke((GM, Qy) => {
    Qy.exports = Qk;
    var Yy = !1,
        mf;
    typeof document < "u" && (mf = document.createElement("div"), mf.innerHTML = '  <link/><table></table><a href="/a">a</a><input type="checkbox"/>', Yy = !mf.getElementsByTagName("link").length, mf = void 0);
    var $n = {
        legend: [1, "<fieldset>", "</fieldset>"],
        tr: [2, "<table><tbody>", "</tbody></table>"],
        col: [2, "<table><tbody></tbody><colgroup>", "</colgroup></table>"],
        _default: Yy ? [1, "X<div>", "</div>"] : [0, "", ""]
    };
    $n.td = $n.th = [3, "<table><tbody><tr>", "</tr></tbody></table>"];
    $n.option = $n.optgroup = [1, '<select multiple="multiple">', "</select>"];
    $n.thead = $n.tbody = $n.colgroup = $n.caption = $n.tfoot = [1, "<table>", "</table>"];
    $n.polyline = $n.ellipse = $n.polygon = $n.circle = $n.text = $n.line = $n.path = $n.rect = $n.g = [1, '<svg xmlns="http://www.w3.org/2000/svg" version="1.1">', "</svg>"];

    function Qk(e, t) {
        if (typeof e != "string") throw new TypeError("String expected");
        t || (t = document);
        var i = /<([\w:]+)/.exec(e);
        if (!i) return t.createTextNode(e);
        e = e.replace(/^\s+|\s+$/g, "");
        var n = i[1];
        if (n == "body") {
            var u = t.createElement("html");
            return u.innerHTML = e, u.removeChild(u.lastChild)
        }
        var r = $n[n] || $n._default,
            a = r[0],
            s = r[1],
            l = r[2],
            u = t.createElement("div");
        for (u.innerHTML = s + e + l; a--;) u = u.lastChild;
        if (u.firstChild == u.lastChild) return u.removeChild(u.firstChild);
        for (var f = t.createDocumentFragment(); u.firstChild;) f.appendChild(u.removeChild(u.firstChild));
        return f
    }
});
var i_ = Ke((ZM, t_) => {
    var Jk = /^(?:submit|button|image|reset|file)$/i,
        e2 = /^(?:input|select|textarea|keygen)/i,
        e_ = /(\[[^\[\]]*\])/g;

    function t2(e, t) {
        typeof t != "object" ? t = {
            hash: !!t
        } : t.hash === void 0 && (t.hash = !0);
        for (var i = t.hash ? {} : "", n = t.serializer || (t.hash ? n2 : r2), r = e && e.elements ? e.elements : [], a = Object.create(null), s = 0; s < r.length; ++s) {
            var l = r[s];
            if (!(!t.disabled && l.disabled || !l.name) && !(!e2.test(l.nodeName) || Jk.test(l.type))) {
                var u = l.name,
                    f = l.value;
                if ((l.type === "checkbox" || l.type === "radio") && !l.checked && (f = void 0), t.empty) {
                    if (l.type === "checkbox" && !l.checked && (f = ""), l.type === "radio" && (!a[l.name] && !l.checked ? a[l.name] = !1 : l.checked && (a[l.name] = !0)), !f && l.type == "radio") continue
                } else if (!f) continue;
                if (l.type === "select-multiple") {
                    f = [];
                    for (var d = l.options, m = !1, T = 0; T < d.length; ++T) {
                        var x = d[T],
                            C = t.empty && !x.value,
                            N = x.value || C;
                        x.selected && N && (m = !0, t.hash && u.slice(u.length - 2) !== "[]" ? i = n(i, u + "[]", x.value) : i = n(i, u, x.value))
                    }!m && t.empty && (i = n(i, u, ""));
                    continue
                }
                i = n(i, u, f)
            }
        }
        if (t.empty)
            for (var u in a) a[u] || (i = n(i, u, ""));
        return i
    }

    function i2(e) {
        var t = [],
            i = /^([^\[\]]*)/,
            n = new RegExp(e_),
            r = i.exec(e);
        for (r[1] && t.push(r[1]);
            (r = n.exec(e)) !== null;) t.push(r[1]);
        return t
    }

    function Pl(e, t, i) {
        if (t.length === 0) return e = i, e;
        var n = t.shift(),
            r = n.match(/^\[(.+?)\]$/);
        if (n === "[]") return e = e || [], Array.isArray(e) ? e.push(Pl(null, t, i)) : (e._values = e._values || [], e._values.push(Pl(null, t, i))), e;
        if (!r) e[n] = Pl(e[n], t, i);
        else {
            var a = r[1],
                s = +a;
            isNaN(s) ? (e = e || {}, e[a] = Pl(e[a], t, i)) : (e = e || [], e[s] = Pl(e[s], t, i))
        }
        return e
    }

    function n2(e, t, i) {
        var n = t.match(e_);
        if (n) {
            var r = i2(t);
            Pl(e, r, i)
        } else {
            var a = e[t];
            a ? (Array.isArray(a) || (e[t] = [a]), e[t].push(i)) : e[t] = i
        }
        return e
    }

    function r2(e, t, i) {
        return i = i.replace(/(\r)?\n/g, `\r
`), i = encodeURIComponent(i), i = i.replace(/%20/g, "+"), e + (e ? "&" : "") + encodeURIComponent(t) + "=" + i
    }
    t_.exports = t2
});
var r_ = Ke((XM, n_) => {
    "use strict";

    function Hd(e) {
        if (!(e && typeof e == "object")) return e;
        if (Object.prototype.toString.call(e) == "[object Date]") return new Date(e.getTime());
        if (Array.isArray(e)) return e.map(Hd);
        var t = {};
        return Object.keys(e).forEach(function(i) {
            t[i] = Hd(e[i])
        }), t
    }
    n_.exports = Hd
});
var s_ = Ke((YM, a_) => {
    var $d = Jy(),
        a2 = i_(),
        Yo = r_(),
        s2 = function(t) {
            var i = document.createElement("form");
            i.classList.add("vex-dialog-form");
            var n = document.createElement("h3");
            n.classList.add("vex-dialog-title"), n.appendChild(t.title instanceof window.Node ? t.title : $d(t.title));
            var r = document.createElement("div");
            r.classList.add("vex-dialog-message"), typeof t.messageClassName == "string" && t.messageClassName.split(/\s+/).forEach(function(l) {
                l && r.classList.add(l)
            }), r.appendChild(t.message instanceof window.Node ? t.message : $d(t.message));
            var a = document.createElement("div");
            a.classList.add("vex-dialog-input"), a.appendChild(t.input instanceof window.Node ? t.input : $d(t.input));
            var s = document.createElement("div");
            return s.classList.add("vex-auto-close-timer"), i.appendChild(n), i.appendChild(r), i.appendChild(a), i.appendChild(s), i
        },
        o2 = function(t) {
            var i = document.createElement("div");
            i.classList.add("vex-dialog-buttons");
            for (var n = 0; n < t.length; n++) {
                var r = t[n],
                    a = document.createElement("button");
                a.type = r.type, a.textContent = r.text, a.className = r.className, a.classList.add("vex-dialog-button"), n === 0 ? a.classList.add("vex-first") : n === t.length - 1 && a.classList.add("vex-last"),
                    function(s) {
                        a.addEventListener("click", function(l) {
                            s.click && s.click.call(this, l)
                        }.bind(this))
                    }.bind(this)(r), i.appendChild(a)
            }
            return i
        },
        l2 = function(t) {
            var i = {
                name: "dialog",
                open: function(r) {
                    var a = Object.assign({}, Yo(this.defaultOptions), r);
                    a.unsafeMessage && !a.message ? a.message = a.unsafeMessage : a.message && (a.message = t._escapeHtml(a.message));
                    var s = a.unsafeContent = s2(a),
                        l = t.open(a);
                    a.yesText !== "" && (a.buttons[0].text = a.yesText), a.noText !== "" && (a.buttons[1].text = a.noText);
                    var u = a.beforeClose && a.beforeClose.bind(l);
                    if (l.options.beforeClose = function() {
                            var m = u ? u() : !0;
                            return m && a.callback(this.value || !1), m
                        }.bind(l), s.appendChild(o2.call(l, a.buttons)), l.form = s, s.addEventListener("submit", a.onSubmit.bind(l)), this.addAutoCloseTimer(l, a), a.focusFirstInput) {
                        var f = l.contentEl.querySelector("button, input, select, textarea");
                        f && f.focus()
                    }
                    return l
                },
                alert: function(n) {
                    return typeof n == "string" && (n = {
                        message: n
                    }), n = Object.assign({}, Yo(this.defaultOptions), Yo(this.defaultAlertOptions), n), this.open(n)
                },
                confirm: function(n) {
                    if (typeof n != "object" || typeof n.callback != "function") throw new Error("dialog.confirm(options) requires options.callback.");
                    return n = Object.assign({}, Yo(this.defaultOptions), Yo(this.defaultConfirmOptions), n), this.open(n)
                },
                prompt: function(n) {
                    if (typeof n != "object" || typeof n.callback != "function") throw new Error("dialog.prompt(options) requires options.callback.");
                    var r = Object.assign({}, Yo(this.defaultOptions), Yo(this.defaultPromptOptions)),
                        a = {
                            unsafeMessage: '<label for="vex">' + t._escapeHtml(n.label || r.label) + "</label>",
                            input: '<input name="vex" type="text" class="vex-dialog-prompt-input" placeholder="' + t._escapeHtml(n.placeholder || r.placeholder) + '" value="' + t._escapeHtml(n.value || r.value) + '" />'
                        };
                    n = Object.assign(r, a, n);
                    var s = n.callback;
                    return n.callback = function(u) {
                        s(u)
                    }, this.open(n)
                },
                addAutoCloseTimer: function(n, r) {
                    if (r.autoClose && typeof r.autoClose == "number") {
                        var a = n.form.querySelector(".vex-auto-close-timer"),
                            s = r.autoClose;
                        a.textContent = s--;
                        var l = window.setInterval(function() {
                            s || (n.close(), clearInterval(l)), a.textContent = s--
                        }, 1e3)
                    }
                }
            };
            return i.buttons = {
                YES: {
                    text: "OK",
                    type: "submit",
                    className: "vex-dialog-button-primary",
                    click: function() {
                        this.value = !0
                    }
                },
                NO: {
                    text: "Cancel",
                    type: "button",
                    className: "vex-dialog-button-secondary",
                    click: function() {
                        this.value = !1, this.close()
                    }
                }
            }, i.defaultOptions = {
                callback: function() {},
                afterOpen: function() {},
                title: "",
                message: "",
                messageClassName: "",
                input: "",
                yesText: "",
                noText: "",
                buttons: [i.buttons.YES, i.buttons.NO],
                showCloseButton: !1,
                onSubmit: function(r) {
                    return r.preventDefault(), this.options.input && (this.value = a2(this.form, {
                        hash: !0
                    })), this.close()
                },
                focusFirstInput: !0
            }, i.defaultAlertOptions = {
                buttons: [i.buttons.YES]
            }, i.defaultPromptOptions = {
                label: "Prompt:",
                placeholder: "",
                value: ""
            }, i.defaultConfirmOptions = {}, i
        };
    a_.exports = l2
});
var p_ = Ke((d_, Gd) => {
    (function(e) {
        if (typeof d_ == "object" && typeof Gd < "u") Gd.exports = e();
        else if (typeof define == "function" && define.amd) define([], e);
        else {
            var t;
            t = typeof window < "u" ? window : typeof global < "u" ? global : typeof self < "u" ? self : this, t.db = e()
        }
    })(function() {
        var e;
        return function t(i, n, r) {
            function a(u, f) {
                if (!n[u]) {
                    if (!i[u]) {
                        var d = typeof vn == "function" && vn;
                        if (!f && d) return d(u, !0);
                        if (s) return s(u, !0);
                        var m = new Error("Cannot find module '" + u + "'");
                        throw m.code = "MODULE_NOT_FOUND", m
                    }
                    var T = n[u] = {
                        exports: {}
                    };
                    i[u][0].call(T.exports, function(x) {
                        var C = i[u][1][x];
                        return a(C || x)
                    }, T, T.exports, t, i, n, r)
                }
                return n[u].exports
            }
            for (var s = typeof vn == "function" && vn, l = 0; l < r.length; l++) a(r[l]);
            return a
        }({
            1: [function(t, i, n) {
                "use strict";

                function r(l) {
                    if (Array.isArray(l)) {
                        for (var u = 0, f = Array(l.length); u < l.length; u++) f[u] = l[u];
                        return f
                    }
                    return Array.from(l)
                }
                var a = function() {
                        function l(u, f) {
                            var d = [],
                                m = !0,
                                T = !1,
                                x = void 0;
                            try {
                                for (var C, N = u[Symbol.iterator](); !(m = (C = N.next()).done) && (d.push(C.value), !f || d.length !== f); m = !0);
                            } catch (E) {
                                T = !0, x = E
                            } finally {
                                try {
                                    !m && N.return && N.return()
                                } finally {
                                    if (T) throw x
                                }
                            }
                            return d
                        }
                        return function(u, f) {
                            if (Array.isArray(u)) return u;
                            if (Symbol.iterator in Object(u)) return l(u, f);
                            throw new TypeError("Invalid attempt to destructure non-iterable instance")
                        }
                    }(),
                    s = typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? function(l) {
                        return typeof l
                    } : function(l) {
                        return l && typeof Symbol == "function" && l.constructor === Symbol ? "symbol" : typeof l
                    };
                (function(l) {
                    function u(X) {
                        return X && (typeof X > "u" ? "undefined" : s(X)) === "object"
                    }

                    function f(X) {
                        var oe = Object.keys(X).sort();
                        if (oe.length === 1) {
                            var me = oe[0],
                                V = X[me],
                                W = void 0,
                                P = void 0;
                            switch (me) {
                                case "eq":
                                    W = "only";
                                    break;
                                case "gt":
                                    W = "lowerBound", P = !0;
                                    break;
                                case "lt":
                                    W = "upperBound", P = !0;
                                    break;
                                case "gte":
                                    W = "lowerBound";
                                    break;
                                case "lte":
                                    W = "upperBound";
                                    break;
                                default:
                                    throw new TypeError("`" + me + "` is not a valid key")
                            }
                            return [W, [V, P]]
                        }
                        var se = X[oe[0]],
                            ce = X[oe[1]],
                            ne = oe.join("-");
                        switch (ne) {
                            case "gt-lt":
                            case "gt-lte":
                            case "gte-lt":
                            case "gte-lte":
                                return ["bound", [se, ce, oe[0] === "gt", oe[1] === "lt"]];
                            default:
                                throw new TypeError("`" + ne + "` are conflicted keys")
                        }
                    }

                    function d(X) {
                        if (X && (typeof X > "u" ? "undefined" : s(X)) === "object" && !(X instanceof m)) {
                            var oe = f(X),
                                me = a(oe, 2),
                                V = me[0],
                                W = me[1];
                            return m[V].apply(m, r(W))
                        }
                        return X
                    }
                    var m = l.IDBKeyRange || l.webkitIDBKeyRange,
                        T = {
                            readonly: "readonly",
                            readwrite: "readwrite"
                        },
                        x = Object.prototype.hasOwnProperty,
                        C = function(X) {
                            return X
                        },
                        N = l.indexedDB || l.webkitIndexedDB || l.mozIndexedDB || l.oIndexedDB || l.msIndexedDB || l.shimIndexedDB || function() {
                            throw new Error("IndexedDB required")
                        }(),
                        E = {},
                        O = ["abort", "error", "versionchange"],
                        D = function(X, oe, me, V) {
                            var W = this,
                                P = null,
                                se = function(ne, re, J, ue, ie, te, we) {
                                    return new Promise(function(De, ye) {
                                        var Ue = void 0;
                                        try {
                                            Ue = ne ? m[ne].apply(m, r(re)) : null
                                        } catch (ke) {
                                            return void ye(ke)
                                        }
                                        te = te || [], ie = ie || null;
                                        var Qe = [],
                                            at = 0,
                                            pt = [Ue],
                                            lt = oe.transaction(X, P ? T.readwrite : T.readonly);
                                        lt.onerror = function(ke) {
                                            return ye(ke)
                                        }, lt.onabort = function(ke) {
                                            return ye(ke)
                                        }, lt.oncomplete = function() {
                                            return De(Qe)
                                        };
                                        var xt = lt.objectStore(X),
                                            Bt = typeof me == "string" ? xt.index(me) : xt;
                                        J !== "count" && pt.push(ue || "next");
                                        var At = P ? Object.keys(P) : [],
                                            F = function(ke) {
                                                return At.forEach(function(Ce) {
                                                    var ee = P[Ce];
                                                    typeof ee == "function" && (ee = ee(ke)), ke[Ce] = ee
                                                }), ke
                                            };
                                        Bt[J].apply(Bt, pt).onsuccess = function(ke) {
                                            var Ce = ke.target.result;
                                            if (typeof Ce == "number") Qe = Ce;
                                            else if (Ce) {
                                                if (ie !== null && ie[0] > at) at = ie[0], Ce.advance(ie[0]);
                                                else if (!(ie !== null && at >= ie[0] + ie[1])) {
                                                    var ee = function() {
                                                        var ae = !0,
                                                            be = "value" in Ce ? Ce.value : Ce.key;
                                                        try {
                                                            te.forEach(function(je) {
                                                                ae = typeof je[0] == "function" ? ae && je[0](be) : ae && be[je[0]] === je[1]
                                                            })
                                                        } catch (je) {
                                                            return ye(je), {
                                                                v: void 0
                                                            }
                                                        }
                                                        if (ae) {
                                                            if (at++, P) try {
                                                                be = F(be), Ce.update(be)
                                                            } catch (je) {
                                                                return ye(je), {
                                                                    v: void 0
                                                                }
                                                            }
                                                            try {
                                                                Qe.push(we(be))
                                                            } catch (je) {
                                                                return ye(je), {
                                                                    v: void 0
                                                                }
                                                            }
                                                        }
                                                        Ce.continue()
                                                    }();
                                                    if ((typeof ee > "u" ? "undefined" : s(ee)) === "object") return ee.v
                                                }
                                            }
                                        }
                                    })
                                },
                                ce = function(ne, re, J) {
                                    var ue = [],
                                        ie = "next",
                                        te = "openCursor",
                                        we = null,
                                        De = C,
                                        ye = !1,
                                        Ue = V || J,
                                        Qe = function() {
                                            return Ue ? Promise.reject(Ue) : se(ne, re, te, ye ? ie + "unique" : ie, we, ue, De)
                                        },
                                        at = function() {
                                            return ie = null, te = "count", {
                                                execute: Qe
                                            }
                                        },
                                        pt = function() {
                                            return te = "openKeyCursor", {
                                                desc: Bt,
                                                distinct: At,
                                                execute: Qe,
                                                filter: xt,
                                                limit: lt,
                                                map: ke
                                            }
                                        },
                                        lt = function(Ce, ee) {
                                            return we = ee ? [Ce, ee] : [0, Ce], Ue = we.some(function(ae) {
                                                return typeof ae != "number"
                                            }) ? new Error("limit() arguments must be numeric") : Ue, {
                                                desc: Bt,
                                                distinct: At,
                                                filter: xt,
                                                keys: pt,
                                                execute: Qe,
                                                map: ke,
                                                modify: F
                                            }
                                        },
                                        xt = function Ce(ee, ae) {
                                            return ue.push([ee, ae]), {
                                                desc: Bt,
                                                distinct: At,
                                                execute: Qe,
                                                filter: Ce,
                                                keys: pt,
                                                limit: lt,
                                                map: ke,
                                                modify: F
                                            }
                                        },
                                        Bt = function() {
                                            return ie = "prev", {
                                                distinct: At,
                                                execute: Qe,
                                                filter: xt,
                                                keys: pt,
                                                limit: lt,
                                                map: ke,
                                                modify: F
                                            }
                                        },
                                        At = function() {
                                            return ye = !0, {
                                                count: at,
                                                desc: Bt,
                                                execute: Qe,
                                                filter: xt,
                                                keys: pt,
                                                limit: lt,
                                                map: ke,
                                                modify: F
                                            }
                                        },
                                        F = function(Ce) {
                                            return P = Ce && (typeof Ce > "u" ? "undefined" : s(Ce)) === "object" ? Ce : null, {
                                                execute: Qe
                                            }
                                        },
                                        ke = function(Ce) {
                                            return De = Ce, {
                                                count: at,
                                                desc: Bt,
                                                distinct: At,
                                                execute: Qe,
                                                filter: xt,
                                                keys: pt,
                                                limit: lt,
                                                modify: F
                                            }
                                        };
                                    return {
                                        count: at,
                                        desc: Bt,
                                        distinct: At,
                                        execute: Qe,
                                        filter: xt,
                                        keys: pt,
                                        limit: lt,
                                        map: ke,
                                        modify: F
                                    }
                                };
                            ["only", "bound", "upperBound", "lowerBound"].forEach(function(ne) {
                                W[ne] = function() {
                                    return ce(ne, arguments)
                                }
                            }), this.range = function(ne) {
                                var re = void 0,
                                    J = [null, null];
                                try {
                                    J = f(ne)
                                } catch (ue) {
                                    re = ue
                                }
                                return ce.apply(void 0, r(J).concat([re]))
                            }, this.filter = function() {
                                var ne = ce(null, null);
                                return ne.filter.apply(ne, arguments)
                            }, this.all = function() {
                                return this.filter()
                            }
                        },
                        I = function(X, oe, me, V) {
                            var W = this,
                                P = !1;
                            if (this.getIndexedDB = function() {
                                    return X
                                }, this.isClosed = function() {
                                    return P
                                }, this.query = function(ce, ne) {
                                    var re = P ? new Error("Database has been closed") : null;
                                    return new D(ce, X, ne, re)
                                }, this.add = function(ce) {
                                    for (var ne = arguments.length, re = Array(ne > 1 ? ne - 1 : 0), J = 1; ne > J; J++) re[J - 1] = arguments[J];
                                    return new Promise(function(ue, ie) {
                                        if (P) return void ie(new Error("Database has been closed"));
                                        var te = re.reduce(function(ye, Ue) {
                                                return ye.concat(Ue)
                                            }, []),
                                            we = X.transaction(ce, T.readwrite);
                                        we.onerror = function(ye) {
                                            ye.preventDefault(), ie(ye)
                                        }, we.onabort = function(ye) {
                                            return ie(ye)
                                        }, we.oncomplete = function() {
                                            return ue(te)
                                        };
                                        var De = we.objectStore(ce);
                                        te.some(function(ye) {
                                            var Ue = void 0,
                                                Qe = void 0;
                                            if (u(ye) && x.call(ye, "item") && (Qe = ye.key, ye = ye.item, Qe != null)) try {
                                                Qe = d(Qe)
                                            } catch (at) {
                                                return ie(at), !0
                                            }
                                            try {
                                                Ue = Qe != null ? De.add(ye, Qe) : De.add(ye)
                                            } catch (at) {
                                                return ie(at), !0
                                            }
                                            Ue.onsuccess = function(at) {
                                                if (u(ye)) {
                                                    var pt = at.target,
                                                        lt = pt.source.keyPath;
                                                    lt === null && (lt = "__id__"), x.call(ye, lt) || Object.defineProperty(ye, lt, {
                                                        value: pt.result,
                                                        enumerable: !0
                                                    })
                                                }
                                            }
                                        })
                                    })
                                }, this.update = function(ce) {
                                    for (var ne = arguments.length, re = Array(ne > 1 ? ne - 1 : 0), J = 1; ne > J; J++) re[J - 1] = arguments[J];
                                    return new Promise(function(ue, ie) {
                                        if (P) return void ie(new Error("Database has been closed"));
                                        var te = re.reduce(function(ye, Ue) {
                                                return ye.concat(Ue)
                                            }, []),
                                            we = X.transaction(ce, T.readwrite);
                                        we.onerror = function(ye) {
                                            ye.preventDefault(), ie(ye)
                                        }, we.onabort = function(ye) {
                                            return ie(ye)
                                        }, we.oncomplete = function() {
                                            return ue(te)
                                        };
                                        var De = we.objectStore(ce);
                                        te.some(function(ye) {
                                            var Ue = void 0,
                                                Qe = void 0;
                                            if (u(ye) && x.call(ye, "item") && (Qe = ye.key, ye = ye.item, Qe != null)) try {
                                                Qe = d(Qe)
                                            } catch (at) {
                                                return ie(at), !0
                                            }
                                            try {
                                                Ue = Qe != null ? De.put(ye, Qe) : De.put(ye)
                                            } catch (at) {
                                                return ie(at), !0
                                            }
                                            Ue.onsuccess = function(at) {
                                                if (u(ye)) {
                                                    var pt = at.target,
                                                        lt = pt.source.keyPath;
                                                    lt === null && (lt = "__id__"), x.call(ye, lt) || Object.defineProperty(ye, lt, {
                                                        value: pt.result,
                                                        enumerable: !0
                                                    })
                                                }
                                            }
                                        })
                                    })
                                }, this.put = function() {
                                    return this.update.apply(this, arguments)
                                }, this.remove = function(ce, ne) {
                                    return new Promise(function(re, J) {
                                        if (P) return void J(new Error("Database has been closed"));
                                        try {
                                            ne = d(ne)
                                        } catch (te) {
                                            return void J(te)
                                        }
                                        var ue = X.transaction(ce, T.readwrite);
                                        ue.onerror = function(te) {
                                            te.preventDefault(), J(te)
                                        }, ue.onabort = function(te) {
                                            return J(te)
                                        }, ue.oncomplete = function() {
                                            return re(ne)
                                        };
                                        var ie = ue.objectStore(ce);
                                        try {
                                            ie.delete(ne)
                                        } catch (te) {
                                            J(te)
                                        }
                                    })
                                }, this.delete = function() {
                                    return this.remove.apply(this, arguments)
                                }, this.clear = function(ce) {
                                    return new Promise(function(ne, re) {
                                        if (P) return void re(new Error("Database has been closed"));
                                        var J = X.transaction(ce, T.readwrite);
                                        J.onerror = function(ie) {
                                            return re(ie)
                                        }, J.onabort = function(ie) {
                                            return re(ie)
                                        }, J.oncomplete = function() {
                                            return ne()
                                        };
                                        var ue = J.objectStore(ce);
                                        ue.clear()
                                    })
                                }, this.close = function() {
                                    return new Promise(function(ce, ne) {
                                        return P ? void ne(new Error("Database has been closed")) : (X.close(), P = !0, delete E[oe][me], void ce())
                                    })
                                }, this.get = function(ce, ne) {
                                    return new Promise(function(re, J) {
                                        if (P) return void J(new Error("Database has been closed"));
                                        try {
                                            ne = d(ne)
                                        } catch (we) {
                                            return void J(we)
                                        }
                                        var ue = X.transaction(ce);
                                        ue.onerror = function(we) {
                                            we.preventDefault(), J(we)
                                        }, ue.onabort = function(we) {
                                            return J(we)
                                        };
                                        var ie = ue.objectStore(ce),
                                            te = void 0;
                                        try {
                                            te = ie.get(ne)
                                        } catch (we) {
                                            J(we)
                                        }
                                        te.onsuccess = function(we) {
                                            return re(we.target.result)
                                        }
                                    })
                                }, this.count = function(ce, ne) {
                                    return new Promise(function(re, J) {
                                        if (P) return void J(new Error("Database has been closed"));
                                        try {
                                            ne = d(ne)
                                        } catch (we) {
                                            return void J(we)
                                        }
                                        var ue = X.transaction(ce);
                                        ue.onerror = function(we) {
                                            we.preventDefault(), J(we)
                                        }, ue.onabort = function(we) {
                                            return J(we)
                                        };
                                        var ie = ue.objectStore(ce),
                                            te = void 0;
                                        try {
                                            te = ne == null ? ie.count() : ie.count(ne)
                                        } catch (we) {
                                            J(we)
                                        }
                                        te.onsuccess = function(we) {
                                            return re(we.target.result)
                                        }
                                    })
                                }, this.addEventListener = function(ce, ne) {
                                    if (!O.includes(ce)) throw new Error("Unrecognized event type " + ce);
                                    return ce === "error" ? void X.addEventListener(ce, function(re) {
                                        re.preventDefault(), ne(re)
                                    }) : void X.addEventListener(ce, ne)
                                }, this.removeEventListener = function(ce, ne) {
                                    if (!O.includes(ce)) throw new Error("Unrecognized event type " + ce);
                                    X.removeEventListener(ce, ne)
                                }, O.forEach(function(ce) {
                                    this[ce] = function(ne) {
                                        return this.addEventListener(ce, ne), this
                                    }
                                }, this), !V) {
                                var se = void 0;
                                return [].some.call(X.objectStoreNames, function(ce) {
                                    if (W[ce]) return se = new Error('The store name, "' + ce + '", which you have attempted to load, conflicts with db.js method names."'), W.close(), !0;
                                    W[ce] = {};
                                    var ne = Object.keys(W);
                                    ne.filter(function(re) {
                                        return ![].concat(O, ["close", "addEventListener", "removeEventListener"]).includes(re)
                                    }).map(function(re) {
                                        return W[ce][re] = function() {
                                            for (var J = arguments.length, ue = Array(J), ie = 0; J > ie; ie++) ue[ie] = arguments[ie];
                                            return W[re].apply(W, [ce].concat(ue))
                                        }
                                    })
                                }), se
                            }
                        },
                        H = function(X, oe, me, V, W, P) {
                            if (me && me.length !== 0) {
                                for (var se = 0; se < V.objectStoreNames.length; se++) {
                                    var ce = V.objectStoreNames[se];
                                    x.call(me, ce) || V.deleteObjectStore(ce)
                                }
                                var ne = void 0;
                                return Object.keys(me).some(function(re) {
                                    var J = me[re],
                                        ue = void 0;
                                    if (V.objectStoreNames.contains(re)) ue = oe.transaction.objectStore(re);
                                    else try {
                                        ue = V.createObjectStore(re, J.key)
                                    } catch (ie) {
                                        return ne = ie, !0
                                    }
                                    Object.keys(J.indexes || {}).some(function(ie) {
                                        try {
                                            ue.index(ie)
                                        } catch {
                                            var te = J.indexes[ie];
                                            te = te && (typeof te > "u" ? "undefined" : s(te)) === "object" ? te : {};
                                            try {
                                                ue.createIndex(ie, te.keyPath || te.key || ie, te)
                                            } catch (De) {
                                                return ne = De, !0
                                            }
                                        }
                                    })
                                }), ne
                            }
                        },
                        y = function(X, oe, me, V) {
                            var W = X.target.result;
                            E[oe][me] = W;
                            var P = new I(W, oe, me, V);
                            return P instanceof Error ? Promise.reject(P) : Promise.resolve(P)
                        },
                        w = {
                            version: "0.15.0",
                            open: function(X) {
                                var oe = X.server,
                                    me = X.version || 1,
                                    V = X.schema,
                                    W = X.noServerMethods;
                                return E[oe] || (E[oe] = {}), new Promise(function(P, se) {
                                    if (E[oe][me]) y({
                                        target: {
                                            result: E[oe][me]
                                        }
                                    }, oe, me, W).then(P, se);
                                    else {
                                        var ce = function() {
                                            if (typeof V == "function") try {
                                                V = V()
                                            } catch (re) {
                                                return se(re), {
                                                    v: void 0
                                                }
                                            }
                                            var ne = N.open(oe, me);
                                            ne.onsuccess = function(re) {
                                                return y(re, oe, me, W).then(P, se)
                                            }, ne.onerror = function(re) {
                                                re.preventDefault(), se(re)
                                            }, ne.onupgradeneeded = function(re) {
                                                var J = H(re, ne, V, re.target.result, oe, me);
                                                J && se(J)
                                            }, ne.onblocked = function(re) {
                                                var J = new Promise(function(ue, ie) {
                                                    ne.onsuccess = function(te) {
                                                        y(te, oe, me, W).then(ue, ie)
                                                    }, ne.onerror = function(te) {
                                                        return ie(te)
                                                    }
                                                });
                                                re.resume = J, se(re)
                                            }
                                        }();
                                        if ((typeof ce > "u" ? "undefined" : s(ce)) === "object") return ce.v
                                    }
                                })
                            },
                            delete: function(X) {
                                return new Promise(function(oe, me) {
                                    var V = N.deleteDatabase(X);
                                    V.onsuccess = function(W) {
                                        return oe(W)
                                    }, V.onerror = function(W) {
                                        return me(W)
                                    }, V.onblocked = function(W) {
                                        W = W.newVersion === null || typeof Proxy > "u" ? W : new Proxy(W, {
                                            get: function(se, ce) {
                                                return ce === "newVersion" ? null : se[ce]
                                            }
                                        });
                                        var P = new Promise(function(se, ce) {
                                            V.onsuccess = function(ne) {
                                                "newVersion" in ne || (ne.newVersion = W.newVersion), "oldVersion" in ne || (ne.oldVersion = W.oldVersion), se(ne)
                                            }, V.onerror = function(ne) {
                                                return ce(ne)
                                            }
                                        });
                                        W.resume = P, me(W)
                                    }
                                })
                            },
                            cmp: function(X, oe) {
                                return new Promise(function(me, V) {
                                    try {
                                        me(N.cmp(X, oe))
                                    } catch (W) {
                                        V(W)
                                    }
                                })
                            }
                        };
                    typeof i < "u" && typeof i.exports < "u" ? i.exports = w : typeof e == "function" && e.amd ? e(function() {
                        return w
                    }) : l.db = w
                })(self)
            }, {}]
        }, {}, [1])(1)
    })
});
var np = Ke((FO, U_) => {
    var wI = typeof global == "object" && global && global.Object === Object && global;
    U_.exports = wI
});
var Cf = Ke((qO, F_) => {
    var EI = np(),
        CI = typeof self == "object" && self && self.Object === Object && self,
        SI = EI || CI || Function("return this")();
    F_.exports = SI
});
var rp = Ke((VO, q_) => {
    var TI = Cf(),
        LI = TI.Symbol;
    q_.exports = LI
});
var $_ = Ke((zO, H_) => {
    var V_ = rp(),
        z_ = Object.prototype,
        kI = z_.hasOwnProperty,
        II = z_.toString,
        Ou = V_ ? V_.toStringTag : void 0;

    function AI(e) {
        var t = kI.call(e, Ou),
            i = e[Ou];
        try {
            e[Ou] = void 0;
            var n = !0
        } catch {}
        var r = II.call(e);
        return n && (t ? e[Ou] = i : delete e[Ou]), r
    }
    H_.exports = AI
});
var W_ = Ke((HO, j_) => {
    var DI = Object.prototype,
        NI = DI.toString;

    function PI(e) {
        return NI.call(e)
    }
    j_.exports = PI
});
var Sf = Ke(($O, Z_) => {
    var K_ = rp(),
        RI = $_(),
        BI = W_(),
        MI = "[object Null]",
        OI = "[object Undefined]",
        G_ = K_ ? K_.toStringTag : void 0;

    function UI(e) {
        return e == null ? e === void 0 ? OI : MI : G_ && G_ in Object(e) ? RI(e) : BI(e)
    }
    Z_.exports = UI
});
var Tf = Ke((jO, X_) => {
    function FI(e) {
        var t = typeof e;
        return e != null && (t == "object" || t == "function")
    }
    X_.exports = FI
});
var ap = Ke((WO, Y_) => {
    var qI = Sf(),
        VI = Tf(),
        zI = "[object AsyncFunction]",
        HI = "[object Function]",
        $I = "[object GeneratorFunction]",
        jI = "[object Proxy]";

    function WI(e) {
        if (!VI(e)) return !1;
        var t = qI(e);
        return t == HI || t == $I || t == zI || t == jI
    }
    Y_.exports = WI
});
var J_ = Ke((KO, Q_) => {
    var KI = Cf(),
        GI = KI["__core-js_shared__"];
    Q_.exports = GI
});
var ib = Ke((GO, tb) => {
    var sp = J_(),
        eb = function() {
            var e = /[^.]+$/.exec(sp && sp.keys && sp.keys.IE_PROTO || "");
            return e ? "Symbol(src)_1." + e : ""
        }();

    function ZI(e) {
        return !!eb && eb in e
    }
    tb.exports = ZI
});
var rb = Ke((ZO, nb) => {
    var XI = Function.prototype,
        YI = XI.toString;

    function QI(e) {
        if (e != null) {
            try {
                return YI.call(e)
            } catch {}
            try {
                return e + ""
            } catch {}
        }
        return ""
    }
    nb.exports = QI
});
var sb = Ke((XO, ab) => {
    var JI = ap(),
        eA = ib(),
        tA = Tf(),
        iA = rb(),
        nA = /[\\^$.*+?()[\]{}|]/g,
        rA = /^\[object .+?Constructor\]$/,
        aA = Function.prototype,
        sA = Object.prototype,
        oA = aA.toString,
        lA = sA.hasOwnProperty,
        uA = RegExp("^" + oA.call(lA).replace(nA, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$");

    function cA(e) {
        if (!tA(e) || eA(e)) return !1;
        var t = JI(e) ? uA : rA;
        return t.test(iA(e))
    }
    ab.exports = cA
});
var lb = Ke((YO, ob) => {
    function fA(e, t) {
        return e == null ? void 0 : e[t]
    }
    ob.exports = fA
});
var cb = Ke((QO, ub) => {
    var hA = sb(),
        dA = lb();

    function pA(e, t) {
        var i = dA(e, t);
        return hA(i) ? i : void 0
    }
    ub.exports = pA
});
var op = Ke((JO, fb) => {
    var gA = cb(),
        mA = function() {
            try {
                var e = gA(Object, "defineProperty");
                return e({}, "", {}), e
            } catch {}
        }();
    fb.exports = mA
});
var lp = Ke((e3, db) => {
    var hb = op();

    function vA(e, t, i) {
        t == "__proto__" && hb ? hb(e, t, {
            configurable: !0,
            enumerable: !0,
            value: i,
            writable: !0
        }) : e[t] = i
    }
    db.exports = vA
});
var up = Ke((t3, pb) => {
    function yA(e, t) {
        return e === t || e !== e && t !== t
    }
    pb.exports = yA
});
var cp = Ke((i3, gb) => {
    var _A = lp(),
        bA = up(),
        xA = Object.prototype,
        wA = xA.hasOwnProperty;

    function EA(e, t, i) {
        var n = e[t];
        (!(wA.call(e, t) && bA(n, i)) || i === void 0 && !(t in e)) && _A(e, t, i)
    }
    gb.exports = EA
});
var vb = Ke((n3, mb) => {
    var CA = cp(),
        SA = lp();

    function TA(e, t, i, n) {
        var r = !i;
        i || (i = {});
        for (var a = -1, s = t.length; ++a < s;) {
            var l = t[a],
                u = n ? n(i[l], e[l], l, i, e) : void 0;
            u === void 0 && (u = e[l]), r ? SA(i, l, u) : CA(i, l, u)
        }
        return i
    }
    mb.exports = TA
});
var fp = Ke((r3, yb) => {
    function LA(e) {
        return e
    }
    yb.exports = LA
});
var bb = Ke((a3, _b) => {
    function kA(e, t, i) {
        switch (i.length) {
            case 0:
                return e.call(t);
            case 1:
                return e.call(t, i[0]);
            case 2:
                return e.call(t, i[0], i[1]);
            case 3:
                return e.call(t, i[0], i[1], i[2])
        }
        return e.apply(t, i)
    }
    _b.exports = kA
});
var Eb = Ke((s3, wb) => {
    var IA = bb(),
        xb = Math.max;

    function AA(e, t, i) {
        return t = xb(t === void 0 ? e.length - 1 : t, 0),
            function() {
                for (var n = arguments, r = -1, a = xb(n.length - t, 0), s = Array(a); ++r < a;) s[r] = n[t + r];
                r = -1;
                for (var l = Array(t + 1); ++r < t;) l[r] = n[r];
                return l[t] = i(s), IA(e, this, l)
            }
    }
    wb.exports = AA
});
var Sb = Ke((o3, Cb) => {
    function DA(e) {
        return function() {
            return e
        }
    }
    Cb.exports = DA
});
var kb = Ke((l3, Lb) => {
    var NA = Sb(),
        Tb = op(),
        PA = fp(),
        RA = Tb ? function(e, t) {
            return Tb(e, "toString", {
                configurable: !0,
                enumerable: !1,
                value: NA(t),
                writable: !0
            })
        } : PA;
    Lb.exports = RA
});
var Ab = Ke((u3, Ib) => {
    var BA = 800,
        MA = 16,
        OA = Date.now;

    function UA(e) {
        var t = 0,
            i = 0;
        return function() {
            var n = OA(),
                r = MA - (n - i);
            if (i = n, r > 0) {
                if (++t >= BA) return arguments[0]
            } else t = 0;
            return e.apply(void 0, arguments)
        }
    }
    Ib.exports = UA
});
var Nb = Ke((c3, Db) => {
    var FA = kb(),
        qA = Ab(),
        VA = qA(FA);
    Db.exports = VA
});
var Rb = Ke((f3, Pb) => {
    var zA = fp(),
        HA = Eb(),
        $A = Nb();

    function jA(e, t) {
        return $A(HA(e, t, zA), e + "")
    }
    Pb.exports = jA
});
var hp = Ke((h3, Bb) => {
    var WA = 9007199254740991;

    function KA(e) {
        return typeof e == "number" && e > -1 && e % 1 == 0 && e <= WA
    }
    Bb.exports = KA
});
var Lf = Ke((d3, Mb) => {
    var GA = ap(),
        ZA = hp();

    function XA(e) {
        return e != null && ZA(e.length) && !GA(e)
    }
    Mb.exports = XA
});
var dp = Ke((p3, Ob) => {
    var YA = 9007199254740991,
        QA = /^(?:0|[1-9]\d*)$/;

    function JA(e, t) {
        var i = typeof e;
        return t = t == null ? YA : t, !!t && (i == "number" || i != "symbol" && QA.test(e)) && e > -1 && e % 1 == 0 && e < t
    }
    Ob.exports = JA
});
var Fb = Ke((g3, Ub) => {
    var eD = up(),
        tD = Lf(),
        iD = dp(),
        nD = Tf();

    function rD(e, t, i) {
        if (!nD(i)) return !1;
        var n = typeof t;
        return (n == "number" ? tD(i) && iD(t, i.length) : n == "string" && t in i) ? eD(i[t], e) : !1
    }
    Ub.exports = rD
});
var Vb = Ke((m3, qb) => {
    var aD = Rb(),
        sD = Fb();

    function oD(e) {
        return aD(function(t, i) {
            var n = -1,
                r = i.length,
                a = r > 1 ? i[r - 1] : void 0,
                s = r > 2 ? i[2] : void 0;
            for (a = e.length > 3 && typeof a == "function" ? (r--, a) : void 0, s && sD(i[0], i[1], s) && (a = r < 3 ? void 0 : a, r = 1), t = Object(t); ++n < r;) {
                var l = i[n];
                l && e(t, l, n, a)
            }
            return t
        })
    }
    qb.exports = oD
});
var pp = Ke((v3, zb) => {
    var lD = Object.prototype;

    function uD(e) {
        var t = e && e.constructor,
            i = typeof t == "function" && t.prototype || lD;
        return e === i
    }
    zb.exports = uD
});
var $b = Ke((y3, Hb) => {
    function cD(e, t) {
        for (var i = -1, n = Array(e); ++i < e;) n[i] = t(i);
        return n
    }
    Hb.exports = cD
});
var kf = Ke((_3, jb) => {
    function fD(e) {
        return e != null && typeof e == "object"
    }
    jb.exports = fD
});
var Kb = Ke((b3, Wb) => {
    var hD = Sf(),
        dD = kf(),
        pD = "[object Arguments]";

    function gD(e) {
        return dD(e) && hD(e) == pD
    }
    Wb.exports = gD
});
var Yb = Ke((x3, Xb) => {
    var Gb = Kb(),
        mD = kf(),
        Zb = Object.prototype,
        vD = Zb.hasOwnProperty,
        yD = Zb.propertyIsEnumerable,
        _D = Gb(function() {
            return arguments
        }()) ? Gb : function(e) {
            return mD(e) && vD.call(e, "callee") && !yD.call(e, "callee")
        };
    Xb.exports = _D
});
var Jb = Ke((w3, Qb) => {
    var bD = Array.isArray;
    Qb.exports = bD
});
var t1 = Ke((E3, e1) => {
    function xD() {
        return !1
    }
    e1.exports = xD
});
var a1 = Ke((Uu, Ul) => {
    var wD = Cf(),
        ED = t1(),
        r1 = typeof Uu == "object" && Uu && !Uu.nodeType && Uu,
        i1 = r1 && typeof Ul == "object" && Ul && !Ul.nodeType && Ul,
        CD = i1 && i1.exports === r1,
        n1 = CD ? wD.Buffer : void 0,
        SD = n1 ? n1.isBuffer : void 0,
        TD = SD || ED;
    Ul.exports = TD
});
var o1 = Ke((C3, s1) => {
    var LD = Sf(),
        kD = hp(),
        ID = kf(),
        AD = "[object Arguments]",
        DD = "[object Array]",
        ND = "[object Boolean]",
        PD = "[object Date]",
        RD = "[object Error]",
        BD = "[object Function]",
        MD = "[object Map]",
        OD = "[object Number]",
        UD = "[object Object]",
        FD = "[object RegExp]",
        qD = "[object Set]",
        VD = "[object String]",
        zD = "[object WeakMap]",
        HD = "[object ArrayBuffer]",
        $D = "[object DataView]",
        jD = "[object Float32Array]",
        WD = "[object Float64Array]",
        KD = "[object Int8Array]",
        GD = "[object Int16Array]",
        ZD = "[object Int32Array]",
        XD = "[object Uint8Array]",
        YD = "[object Uint8ClampedArray]",
        QD = "[object Uint16Array]",
        JD = "[object Uint32Array]",
        dn = {};
    dn[jD] = dn[WD] = dn[KD] = dn[GD] = dn[ZD] = dn[XD] = dn[YD] = dn[QD] = dn[JD] = !0;
    dn[AD] = dn[DD] = dn[HD] = dn[ND] = dn[$D] = dn[PD] = dn[RD] = dn[BD] = dn[MD] = dn[OD] = dn[UD] = dn[FD] = dn[qD] = dn[VD] = dn[zD] = !1;

    function eN(e) {
        return ID(e) && kD(e.length) && !!dn[LD(e)]
    }
    s1.exports = eN
});
var u1 = Ke((S3, l1) => {
    function tN(e) {
        return function(t) {
            return e(t)
        }
    }
    l1.exports = tN
});
var f1 = Ke((Fu, Fl) => {
    var iN = np(),
        c1 = typeof Fu == "object" && Fu && !Fu.nodeType && Fu,
        qu = c1 && typeof Fl == "object" && Fl && !Fl.nodeType && Fl,
        nN = qu && qu.exports === c1,
        gp = nN && iN.process,
        rN = function() {
            try {
                var e = qu && qu.require && qu.require("util").types;
                return e || gp && gp.binding && gp.binding("util")
            } catch {}
        }();
    Fl.exports = rN
});
var g1 = Ke((T3, p1) => {
    var aN = o1(),
        sN = u1(),
        h1 = f1(),
        d1 = h1 && h1.isTypedArray,
        oN = d1 ? sN(d1) : aN;
    p1.exports = oN
});
var v1 = Ke((L3, m1) => {
    var lN = $b(),
        uN = Yb(),
        cN = Jb(),
        fN = a1(),
        hN = dp(),
        dN = g1(),
        pN = Object.prototype,
        gN = pN.hasOwnProperty;

    function mN(e, t) {
        var i = cN(e),
            n = !i && uN(e),
            r = !i && !n && fN(e),
            a = !i && !n && !r && dN(e),
            s = i || n || r || a,
            l = s ? lN(e.length, String) : [],
            u = l.length;
        for (var f in e)(t || gN.call(e, f)) && !(s && (f == "length" || r && (f == "offset" || f == "parent") || a && (f == "buffer" || f == "byteLength" || f == "byteOffset") || hN(f, u))) && l.push(f);
        return l
    }
    m1.exports = mN
});
var _1 = Ke((k3, y1) => {
    function vN(e, t) {
        return function(i) {
            return e(t(i))
        }
    }
    y1.exports = vN
});
var x1 = Ke((I3, b1) => {
    var yN = _1(),
        _N = yN(Object.keys, Object);
    b1.exports = _N
});
var E1 = Ke((A3, w1) => {
    var bN = pp(),
        xN = x1(),
        wN = Object.prototype,
        EN = wN.hasOwnProperty;

    function CN(e) {
        if (!bN(e)) return xN(e);
        var t = [];
        for (var i in Object(e)) EN.call(e, i) && i != "constructor" && t.push(i);
        return t
    }
    w1.exports = CN
});
var S1 = Ke((D3, C1) => {
    var SN = v1(),
        TN = E1(),
        LN = Lf();

    function kN(e) {
        return LN(e) ? SN(e) : TN(e)
    }
    C1.exports = kN
});
var L1 = Ke((N3, T1) => {
    var IN = cp(),
        AN = vb(),
        DN = Vb(),
        NN = Lf(),
        PN = pp(),
        RN = S1(),
        BN = Object.prototype,
        MN = BN.hasOwnProperty,
        ON = DN(function(e, t) {
            if (PN(t) || NN(t)) {
                AN(t, RN(t), e);
                return
            }
            for (var i in t) MN.call(t, i) && IN(e, i, t[i])
        });
    T1.exports = ON
});
var F1 = Ke((s5, _p) => {
    (function(e) {
        typeof define == "function" && define.amd && define.amd.jQuery ? define(["jquery"], e) : e(typeof _p < "u" && _p.exports ? an() : jQuery)
    })(function(e) {
        "use strict";

        function t(ce) {
            return !ce || ce.allowPageScroll !== void 0 || ce.swipe === void 0 && ce.swipeStatus === void 0 || (ce.allowPageScroll = d), ce.click !== void 0 && ce.tap === void 0 && (ce.tap = ce.click), ce || (ce = {}), ce = e.extend({}, e.fn.swipe.defaults, ce), this.each(function() {
                var ne = e(this),
                    re = ne.data(P);
                re || (re = new i(this, ce), ne.data(P, re))
            })
        }

        function i(ce, Xe) {
            function re(Ee) {
                if (!(ci() || e(Ee.target).closest(Xe.excludedElements, Nt).length > 0)) {
                    var ze = Ee.originalEvent ? Ee.originalEvent : Ee;
                    if (!ze.pointerType || ze.pointerType != "mouse" || Xe.fallbackToMouseEvents != 0) {
                        var ot, Et = ze.touches,
                            en = Et ? Et[0] : ze;
                        return fi = y, Et ? mi = Et.length : Xe.preventDefaultEvents !== !1 && Ee.preventDefault(), Mi = 0, Wi = null, Ki = null, Un = null, Oi = 0, Kn = 0, Wr = 0, Tn = 1, tr = 0, Ea = Ba(), En(), Cn(0, en), !Et || mi === Xe.fingers || Xe.fingers === I || At() ? (Ga = Nr(), mi == 2 && (Cn(1, Et[1]), Kn = Wr = bn(xi[0].start, xi[1].start)), (Xe.swipeStatus || Xe.pinchStatus) && (ot = ye(ze, fi))) : ot = !1, ot === !1 ? (fi = oe, ye(ze, fi), ot) : (Xe.hold && (Bn = setTimeout(e.proxy(function() {
                            Nt.trigger("hold", [ze.target]), Xe.hold && (ot = Xe.hold.call(Nt, ze, ze.target))
                        }, this), Xe.longTapThreshold)), Hi(!0), null)
                    }
                }
            }

            function J(Ee) {
                var ze = Ee.originalEvent ? Ee.originalEvent : Ee;
                if (fi !== X && fi !== oe && !cr()) {
                    var ot, Et = ze.touches,
                        en = Et ? Et[0] : ze,
                        Gi = pn(en);
                    if (Ca = Nr(), Et && (mi = Et.length), Xe.hold && clearTimeout(Bn), fi = w, mi == 2 && (Kn == 0 ? (Cn(1, Et[1]), Kn = Wr = bn(xi[0].start, xi[1].start)) : (pn(Et[1]), Wr = bn(xi[0].end, xi[1].end), Un = Fs(xi[0].end, xi[1].end)), Tn = sa(Kn, Wr), tr = Math.abs(Kn - Wr)), mi === Xe.fingers || Xe.fingers === I || !Et || At()) {
                        if (Wi = oa(Gi.start, Gi.end), Ki = oa(Gi.last, Gi.end), xt(Ee, Ki), Mi = er(Gi.start, Gi.end), Oi = Pn(), on(Wi, Mi), ot = ye(ze, fi), !Xe.triggerOnTouchEnd || Xe.triggerOnTouchLeave) {
                            var Gt = !0;
                            if (Xe.triggerOnTouchLeave) {
                                var Zi = qs(this);
                                Gt = Vs(Gi.end, Zi)
                            }!Xe.triggerOnTouchEnd && Gt ? fi = De(w) : Xe.triggerOnTouchLeave && !Gt && (fi = De(X)), fi != oe && fi != X || ye(ze, fi)
                        }
                    } else fi = oe, ye(ze, fi);
                    ot === !1 && (fi = oe, ye(ze, fi))
                }
            }

            function ue(Ee) {
                var ze = Ee.originalEvent ? Ee.originalEvent : Ee,
                    ot = ze.touches;
                if (ot) {
                    if (ot.length && !cr()) return Ar(ze), !0;
                    if (ot.length && cr()) return !0
                }
                return cr() && (mi = fr), Ca = Nr(), Oi = Pn(), at() || !Qe() ? (fi = oe, ye(ze, fi)) : Xe.triggerOnTouchEnd || Xe.triggerOnTouchEnd === !1 && fi === w ? (Xe.preventDefaultEvents !== !1 && Ee.cancelable !== !1 && Ee.preventDefault(), fi = X, ye(ze, fi)) : !Xe.triggerOnTouchEnd && je() ? (fi = X, Ue(ze, fi, C)) : fi === w && (fi = oe, ye(ze, fi)), Hi(!1), null
            }

            function ie() {
                mi = 0, Ca = 0, Ga = 0, Kn = 0, Wr = 0, Tn = 1, En(), Hi(!1)
            }

            function te(Ee) {
                var ze = Ee.originalEvent ? Ee.originalEvent : Ee;
                Xe.triggerOnTouchLeave && (fi = De(X), ye(ze, fi))
            }

            function we() {
                Nt.off(Tt, re), Nt.off(jr, ie), Nt.off(Ka, J), Nt.off(Pr, ue), $r && Nt.off($r, te), Hi(!1)
            }

            function De(Ee) {
                var ze = Ee,
                    ot = lt(),
                    Et = Qe(),
                    en = at();
                return !ot || en ? ze = oe : !Et || Ee != w || Xe.triggerOnTouchEnd && !Xe.triggerOnTouchLeave ? !Et && Ee == X && Xe.triggerOnTouchLeave && (ze = oe) : ze = X, ze
            }

            function ye(Ee, ze) {
                var ot, Et = Ee.touches;
                return (ee() || Ce()) && (ot = Ue(Ee, ze, T)), (F() || At()) && ot !== !1 && (ot = Ue(Ee, ze, x)), ti() && ot !== !1 ? ot = Ue(Ee, ze, N) : _n() && ot !== !1 ? ot = Ue(Ee, ze, E) : Ft() && ot !== !1 && (ot = Ue(Ee, ze, C)), ze === oe && ie(Ee), ze === X && (Et && Et.length || ie(Ee)), ot
            }

            function Ue(Ee, ze, ot) {
                var Et;
                if (ot == T) {
                    if (Nt.trigger("swipeStatus", [ze, Wi || null, Mi || 0, Oi || 0, mi, xi, Ki]), Xe.swipeStatus && (Et = Xe.swipeStatus.call(Nt, Ee, ze, Wi || null, Mi || 0, Oi || 0, mi, xi, Ki), Et === !1)) return !1;
                    if (ze == X && ke()) {
                        if (clearTimeout(ln), clearTimeout(Bn), Nt.trigger("swipe", [Wi, Mi, Oi, mi, xi, Ki]), Xe.swipe && (Et = Xe.swipe.call(Nt, Ee, Wi, Mi, Oi, mi, xi, Ki), Et === !1)) return !1;
                        switch (Wi) {
                            case r:
                                Nt.trigger("swipeLeft", [Wi, Mi, Oi, mi, xi, Ki]), Xe.swipeLeft && (Et = Xe.swipeLeft.call(Nt, Ee, Wi, Mi, Oi, mi, xi, Ki));
                                break;
                            case a:
                                Nt.trigger("swipeRight", [Wi, Mi, Oi, mi, xi, Ki]), Xe.swipeRight && (Et = Xe.swipeRight.call(Nt, Ee, Wi, Mi, Oi, mi, xi, Ki));
                                break;
                            case s:
                                Nt.trigger("swipeUp", [Wi, Mi, Oi, mi, xi, Ki]), Xe.swipeUp && (Et = Xe.swipeUp.call(Nt, Ee, Wi, Mi, Oi, mi, xi, Ki));
                                break;
                            case l:
                                Nt.trigger("swipeDown", [Wi, Mi, Oi, mi, xi, Ki]), Xe.swipeDown && (Et = Xe.swipeDown.call(Nt, Ee, Wi, Mi, Oi, mi, xi, Ki))
                        }
                    }
                }
                if (ot == x) {
                    if (Nt.trigger("pinchStatus", [ze, Un || null, tr || 0, Oi || 0, mi, Tn, xi]), Xe.pinchStatus && (Et = Xe.pinchStatus.call(Nt, Ee, ze, Un || null, tr || 0, Oi || 0, mi, Tn, xi), Et === !1)) return !1;
                    if (ze == X && Bt()) switch (Un) {
                        case u:
                            Nt.trigger("pinchIn", [Un || null, tr || 0, Oi || 0, mi, Tn, xi]), Xe.pinchIn && (Et = Xe.pinchIn.call(Nt, Ee, Un || null, tr || 0, Oi || 0, mi, Tn, xi));
                            break;
                        case f:
                            Nt.trigger("pinchOut", [Un || null, tr || 0, Oi || 0, mi, Tn, xi]), Xe.pinchOut && (Et = Xe.pinchOut.call(Nt, Ee, Un || null, tr || 0, Oi || 0, mi, Tn, xi))
                    }
                }
                return ot == C ? ze !== oe && ze !== X || (clearTimeout(ln), clearTimeout(Bn), Ze() && !dt() ? (Rr = Nr(), ln = setTimeout(e.proxy(function() {
                    Rr = null, Nt.trigger("tap", [Ee.target]), Xe.tap && (Et = Xe.tap.call(Nt, Ee, Ee.target))
                }, this), Xe.doubleTapThreshold)) : (Rr = null, Nt.trigger("tap", [Ee.target]), Xe.tap && (Et = Xe.tap.call(Nt, Ee, Ee.target)))) : ot == N ? ze !== oe && ze !== X || (clearTimeout(ln), clearTimeout(Bn), Rr = null, Nt.trigger("doubletap", [Ee.target]), Xe.doubleTap && (Et = Xe.doubleTap.call(Nt, Ee, Ee.target))) : ot == E && (ze !== oe && ze !== X || (clearTimeout(ln), Rr = null, Nt.trigger("longtap", [Ee.target]), Xe.longTap && (Et = Xe.longTap.call(Nt, Ee, Ee.target)))), Et
            }

            function Qe() {
                var Ee = !0;
                return Xe.threshold !== null && (Ee = Mi >= Xe.threshold), Ee
            }

            function at() {
                var Ee = !1;
                return Xe.cancelThreshold !== null && Wi !== null && (Ee = aa(Wi) - Mi >= Xe.cancelThreshold), Ee
            }

            function pt() {
                return Xe.pinchThreshold !== null ? tr >= Xe.pinchThreshold : !0
            }

            function lt() {
                var Ee;
                return Ee = Xe.maxTimeThreshold ? !(Oi >= Xe.maxTimeThreshold) : !0
            }

            function xt(Ee, ze) {
                if (Xe.preventDefaultEvents !== !1)
                    if (Xe.allowPageScroll === d) Ee.preventDefault();
                    else {
                        var ot = Xe.allowPageScroll === m;
                        switch (ze) {
                            case r:
                                (Xe.swipeLeft && ot || !ot && Xe.allowPageScroll != O) && Ee.preventDefault();
                                break;
                            case a:
                                (Xe.swipeRight && ot || !ot && Xe.allowPageScroll != O) && Ee.preventDefault();
                                break;
                            case s:
                                (Xe.swipeUp && ot || !ot && Xe.allowPageScroll != D) && Ee.preventDefault();
                                break;
                            case l:
                                (Xe.swipeDown && ot || !ot && Xe.allowPageScroll != D) && Ee.preventDefault();
                                break;
                            case d:
                        }
                    }
            }

            function Bt() {
                var Ee = ae(),
                    ze = be(),
                    ot = pt();
                return Ee && ze && ot
            }

            function At() {
                return !!(Xe.pinchStatus || Xe.pinchIn || Xe.pinchOut)
            }

            function F() {
                return !(!Bt() || !At())
            }

            function ke() {
                var Ee = lt(),
                    ze = Qe(),
                    ot = ae(),
                    Et = be(),
                    en = at(),
                    Gi = !en && Et && ot && ze && Ee;
                return Gi
            }

            function Ce() {
                return !!(Xe.swipe || Xe.swipeStatus || Xe.swipeLeft || Xe.swipeRight || Xe.swipeUp || Xe.swipeDown)
            }

            function ee() {
                return !(!ke() || !Ce())
            }

            function ae() {
                return mi === Xe.fingers || Xe.fingers === I || !me
            }

            function be() {
                return xi[0].end.x !== 0
            }

            function je() {
                return !!Xe.tap
            }

            function Ze() {
                return !!Xe.doubleTap
            }

            function Re() {
                return !!Xe.longTap
            }

            function Je() {
                if (Rr == null) return !1;
                var Ee = Nr();
                return Ze() && Ee - Rr <= Xe.doubleTapThreshold
            }

            function dt() {
                return Je()
            }

            function et() {
                return (mi === 1 || !me) && (isNaN(Mi) || Mi < Xe.threshold)
            }

            function We() {
                return Oi > Xe.longTapThreshold && H > Mi
            }

            function Ft() {
                return !(!et() || !je())
            }

            function ti() {
                return !(!Je() || !Ze())
            }

            function _n() {
                return !(!We() || !Re())
            }

            function Ar(Ee) {
                ua = Nr(), fr = Ee.touches.length + 1
            }

            function En() {
                ua = 0, fr = 0
            }

            function cr() {
                var Ee = !1;
                if (ua) {
                    var ze = Nr() - ua;
                    ze <= Xe.fingerReleaseThreshold && (Ee = !0)
                }
                return Ee
            }

            function ci() {
                return Nt.data(P + "_intouch") === !0
            }

            function Hi(Ee) {
                Nt && (Ee === !0 ? (Nt.on(Ka, J), Nt.on(Pr, ue), $r && Nt.on($r, te)) : (Nt.off(Ka, J, !1), Nt.off(Pr, ue, !1), $r && Nt.off($r, te, !1)), Nt.data(P + "_intouch", Ee === !0))
            }

            function Cn(Ee, ze) {
                var ot = {
                    start: {
                        x: 0,
                        y: 0
                    },
                    last: {
                        x: 0,
                        y: 0
                    },
                    end: {
                        x: 0,
                        y: 0
                    }
                };
                return ot.start.x = ot.last.x = ot.end.x = ze.pageX || ze.clientX, ot.start.y = ot.last.y = ot.end.y = ze.pageY || ze.clientY, xi[Ee] = ot, ot
            }

            function pn(Ee) {
                var ze = Ee.identifier !== void 0 ? Ee.identifier : 0,
                    ot = sn(ze);
                return ot === null && (ot = Cn(ze, Ee)), ot.last.x = ot.end.x, ot.last.y = ot.end.y, ot.end.x = Ee.pageX || Ee.clientX, ot.end.y = Ee.pageY || Ee.clientY, ot
            }

            function sn(Ee) {
                return xi[Ee] || null
            }

            function on(Ee, ze) {
                Ee != d && (ze = Math.max(ze, aa(Ee)), Ea[Ee].distance = ze)
            }

            function aa(Ee) {
                return Ea[Ee] ? Ea[Ee].distance : void 0
            }

            function Ba() {
                var Ee = {};
                return Ee[r] = Dr(r), Ee[a] = Dr(a), Ee[s] = Dr(s), Ee[l] = Dr(l), Ee
            }

            function Dr(Ee) {
                return {
                    direction: Ee,
                    distance: 0
                }
            }

            function Pn() {
                return Ca - Ga
            }

            function bn(Ee, ze) {
                var ot = Math.abs(Ee.x - ze.x),
                    Et = Math.abs(Ee.y - ze.y);
                return Math.round(Math.sqrt(ot * ot + Et * Et))
            }

            function sa(Ee, ze) {
                var ot = ze / Ee * 1;
                return ot.toFixed(2)
            }

            function Fs() {
                return 1 > Tn ? f : u
            }

            function er(Ee, ze) {
                return Math.round(Math.sqrt(Math.pow(ze.x - Ee.x, 2) + Math.pow(ze.y - Ee.y, 2)))
            }

            function Sn(Ee, ze) {
                var ot = Ee.x - ze.x,
                    Et = ze.y - Ee.y,
                    en = Math.atan2(Et, ot),
                    Gi = Math.round(180 * en / Math.PI);
                return 0 > Gi && (Gi = 360 - Math.abs(Gi)), Gi
            }

            function oa(Ee, ze) {
                if (la(Ee, ze)) return d;
                var ot = Sn(Ee, ze);
                return 45 >= ot && ot >= 0 || 360 >= ot && ot >= 315 ? r : ot >= 135 && 225 >= ot ? a : ot > 45 && 135 > ot ? l : s
            }

            function Nr() {
                var Ee = new Date;
                return Ee.getTime()
            }

            function qs(Ee) {
                Ee = e(Ee);
                var ze = Ee.offset(),
                    ot = {
                        left: ze.left,
                        right: ze.left + Ee.outerWidth(),
                        top: ze.top,
                        bottom: ze.top + Ee.outerHeight()
                    };
                return ot
            }

            function Vs(Ee, ze) {
                return Ee.x > ze.left && Ee.x < ze.right && Ee.y > ze.top && Ee.y < ze.bottom
            }

            function la(Ee, ze) {
                return Ee.x == ze.x && Ee.y == ze.y
            }
            var Xe = e.extend({}, Xe),
                Rn = me || W || !Xe.fallbackToMouseEvents,
                Tt = Rn ? W ? V ? "MSPointerDown" : "pointerdown" : "touchstart" : "mousedown",
                Ka = Rn ? W ? V ? "MSPointerMove" : "pointermove" : "touchmove" : "mousemove",
                Pr = Rn ? W ? V ? "MSPointerUp" : "pointerup" : "touchend" : "mouseup",
                $r = Rn ? W ? "mouseleave" : null : "mouseleave",
                jr = W ? V ? "MSPointerCancel" : "pointercancel" : "touchcancel",
                Mi = 0,
                Wi = null,
                Ki = null,
                Oi = 0,
                Kn = 0,
                Wr = 0,
                Tn = 1,
                tr = 0,
                Un = 0,
                Ea = null,
                Nt = e(ce),
                fi = "start",
                mi = 0,
                xi = {},
                Ga = 0,
                Ca = 0,
                ua = 0,
                fr = 0,
                Rr = 0,
                ln = null,
                Bn = null;
            try {
                Nt.on(Tt, re), Nt.on(jr, ie)
            } catch {
                e.error("events not supported " + Tt + "," + jr + " on jQuery.swipe")
            }
            this.enable = function() {
                return this.disable(), Nt.on(Tt, re), Nt.on(jr, ie), Nt
            }, this.disable = function() {
                return we(), Nt
            }, this.destroy = function() {
                we(), Nt.data(P, null), Nt = null
            }, this.option = function(Ee, ze) {
                if (typeof Ee == "object") Xe = e.extend(Xe, Ee);
                else if (Xe[Ee] !== void 0) {
                    if (ze === void 0) return Xe[Ee];
                    Xe[Ee] = ze
                } else {
                    if (!Ee) return Xe;
                    e.error("Option " + Ee + " does not exist on jQuery.swipe.options")
                }
                return null
            }
        }
        var n = "1.6.18",
            r = "left",
            a = "right",
            s = "up",
            l = "down",
            u = "in",
            f = "out",
            d = "none",
            m = "auto",
            T = "swipe",
            x = "pinch",
            C = "tap",
            N = "doubletap",
            E = "longtap",
            O = "horizontal",
            D = "vertical",
            I = "all",
            H = 10,
            y = "start",
            w = "move",
            X = "end",
            oe = "cancel",
            me = "ontouchstart" in window,
            V = window.navigator.msPointerEnabled && !window.PointerEvent && !me,
            W = (window.PointerEvent || window.navigator.msPointerEnabled) && !me,
            P = "TouchSwipe",
            se = {
                fingers: 1,
                threshold: 75,
                cancelThreshold: null,
                pinchThreshold: 20,
                maxTimeThreshold: null,
                fingerReleaseThreshold: 250,
                longTapThreshold: 500,
                doubleTapThreshold: 200,
                swipe: null,
                swipeLeft: null,
                swipeRight: null,
                swipeUp: null,
                swipeDown: null,
                swipeStatus: null,
                pinchIn: null,
                pinchOut: null,
                pinchStatus: null,
                click: null,
                tap: null,
                doubleTap: null,
                longTap: null,
                hold: null,
                triggerOnTouchEnd: !0,
                triggerOnTouchLeave: !1,
                allowPageScroll: "auto",
                fallbackToMouseEvents: !0,
                excludedElements: ".noSwipe",
                preventDefaultEvents: !0
            };
        e.fn.swipe = function(ce) {
            var ne = e(this),
                re = ne.data(P);
            if (re && typeof ce == "string") {
                if (re[ce]) return re[ce].apply(re, Array.prototype.slice.call(arguments, 1));
                e.error("Method " + ce + " does not exist on jQuery.swipe")
            } else if (re && typeof ce == "object") re.option.apply(re, arguments);
            else if (!(re || typeof ce != "object" && ce)) return t.apply(this, arguments);
            return ne
        }, e.fn.swipe.version = n, e.fn.swipe.defaults = se, e.fn.swipe.phases = {
            PHASE_START: y,
            PHASE_MOVE: w,
            PHASE_END: X,
            PHASE_CANCEL: oe
        }, e.fn.swipe.directions = {
            LEFT: r,
            RIGHT: a,
            UP: s,
            DOWN: l,
            IN: u,
            OUT: f
        }, e.fn.swipe.pageScroll = {
            NONE: d,
            HORIZONTAL: O,
            VERTICAL: D,
            AUTO: m
        }, e.fn.swipe.fingers = {
            ONE: 1,
            TWO: 2,
            THREE: 3,
            FOUR: 4,
            FIVE: 5,
            ALL: I
        }
    })
});
var K1 = Ke((Nf, W1) => {
    (function(e, t) {
        typeof Nf == "object" && typeof W1 < "u" ? t(Nf) : typeof define == "function" && define.amd ? define(["exports"], t) : (e = typeof globalThis < "u" ? globalThis : e || self, t(e.leaflet = {}))
    })(Nf, function(e) {
        "use strict";
        var t = "1.9.4";

        function i(o) {
            var h, v, k, U;
            for (v = 1, k = arguments.length; v < k; v++) {
                U = arguments[v];
                for (h in U) o[h] = U[h]
            }
            return o
        }
        var n = Object.create || function() {
            function o() {}
            return function(h) {
                return o.prototype = h, new o
            }
        }();

        function r(o, h) {
            var v = Array.prototype.slice;
            if (o.bind) return o.bind.apply(o, v.call(arguments, 1));
            var k = v.call(arguments, 2);
            return function() {
                return o.apply(h, k.length ? k.concat(v.call(arguments)) : arguments)
            }
        }
        var a = 0;

        function s(o) {
            return "_leaflet_id" in o || (o._leaflet_id = ++a), o._leaflet_id
        }

        function l(o, h, v) {
            var k, U, Z, de;
            return de = function() {
                k = !1, U && (Z.apply(v, U), U = !1)
            }, Z = function() {
                k ? U = arguments : (o.apply(v, arguments), setTimeout(de, h), k = !0)
            }, Z
        }

        function u(o, h, v) {
            var k = h[1],
                U = h[0],
                Z = k - U;
            return o === k && v ? o : ((o - U) % Z + Z) % Z + U
        }

        function f() {
            return !1
        }

        function d(o, h) {
            if (h === !1) return o;
            var v = Math.pow(10, h === void 0 ? 6 : h);
            return Math.round(o * v) / v
        }

        function m(o) {
            return o.trim ? o.trim() : o.replace(/^\s+|\s+$/g, "")
        }

        function T(o) {
            return m(o).split(/\s+/)
        }

        function x(o, h) {
            Object.prototype.hasOwnProperty.call(o, "options") || (o.options = o.options ? n(o.options) : {});
            for (var v in h) o.options[v] = h[v];
            return o.options
        }

        function C(o, h, v) {
            var k = [];
            for (var U in o) k.push(encodeURIComponent(v ? U.toUpperCase() : U) + "=" + encodeURIComponent(o[U]));
            return (!h || h.indexOf("?") === -1 ? "?" : "&") + k.join("&")
        }
        var N = /\{ *([\w_ -]+) *\}/g;

        function E(o, h) {
            return o.replace(N, function(v, k) {
                var U = h[k];
                if (U === void 0) throw new Error("No value provided for variable " + v);
                return typeof U == "function" && (U = U(h)), U
            })
        }
        var O = Array.isArray || function(o) {
            return Object.prototype.toString.call(o) === "[object Array]"
        };

        function D(o, h) {
            for (var v = 0; v < o.length; v++)
                if (o[v] === h) return v;
            return -1
        }
        var I = "data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";

        function H(o) {
            return window["webkit" + o] || window["moz" + o] || window["ms" + o]
        }
        var y = 0;

        function w(o) {
            var h = +new Date,
                v = Math.max(0, 16 - (h - y));
            return y = h + v, window.setTimeout(o, v)
        }
        var X = window.requestAnimationFrame || H("RequestAnimationFrame") || w,
            oe = window.cancelAnimationFrame || H("CancelAnimationFrame") || H("CancelRequestAnimationFrame") || function(o) {
                window.clearTimeout(o)
            };

        function me(o, h, v) {
            if (v && X === w) o.call(h);
            else return X.call(window, r(o, h))
        }

        function V(o) {
            o && oe.call(window, o)
        }
        var W = {
            __proto__: null,
            extend: i,
            create: n,
            bind: r,
            get lastId() {
                return a
            },
            stamp: s,
            throttle: l,
            wrapNum: u,
            falseFn: f,
            formatNum: d,
            trim: m,
            splitWords: T,
            setOptions: x,
            getParamString: C,
            template: E,
            isArray: O,
            indexOf: D,
            emptyImageUrl: I,
            requestFn: X,
            cancelFn: oe,
            requestAnimFrame: me,
            cancelAnimFrame: V
        };

        function P() {}
        P.extend = function(o) {
            var h = function() {
                    x(this), this.initialize && this.initialize.apply(this, arguments), this.callInitHooks()
                },
                v = h.__super__ = this.prototype,
                k = n(v);
            k.constructor = h, h.prototype = k;
            for (var U in this) Object.prototype.hasOwnProperty.call(this, U) && U !== "prototype" && U !== "__super__" && (h[U] = this[U]);
            return o.statics && i(h, o.statics), o.includes && (se(o.includes), i.apply(null, [k].concat(o.includes))), i(k, o), delete k.statics, delete k.includes, k.options && (k.options = v.options ? n(v.options) : {}, i(k.options, o.options)), k._initHooks = [], k.callInitHooks = function() {
                if (!this._initHooksCalled) {
                    v.callInitHooks && v.callInitHooks.call(this), this._initHooksCalled = !0;
                    for (var Z = 0, de = k._initHooks.length; Z < de; Z++) k._initHooks[Z].call(this)
                }
            }, h
        }, P.include = function(o) {
            var h = this.prototype.options;
            return i(this.prototype, o), o.options && (this.prototype.options = h, this.mergeOptions(o.options)), this
        }, P.mergeOptions = function(o) {
            return i(this.prototype.options, o), this
        }, P.addInitHook = function(o) {
            var h = Array.prototype.slice.call(arguments, 1),
                v = typeof o == "function" ? o : function() {
                    this[o].apply(this, h)
                };
            return this.prototype._initHooks = this.prototype._initHooks || [], this.prototype._initHooks.push(v), this
        };

        function se(o) {
            if (!(typeof L > "u" || !L || !L.Mixin)) {
                o = O(o) ? o : [o];
                for (var h = 0; h < o.length; h++) o[h] === L.Mixin.Events && console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.", new Error().stack)
            }
        }
        var ce = {
            on: function(o, h, v) {
                if (typeof o == "object")
                    for (var k in o) this._on(k, o[k], h);
                else {
                    o = T(o);
                    for (var U = 0, Z = o.length; U < Z; U++) this._on(o[U], h, v)
                }
                return this
            },
            off: function(o, h, v) {
                if (!arguments.length) delete this._events;
                else if (typeof o == "object")
                    for (var k in o) this._off(k, o[k], h);
                else {
                    o = T(o);
                    for (var U = arguments.length === 1, Z = 0, de = o.length; Z < de; Z++) U ? this._off(o[Z]) : this._off(o[Z], h, v)
                }
                return this
            },
            _on: function(o, h, v, k) {
                if (typeof h != "function") {
                    console.warn("wrong listener type: " + typeof h);
                    return
                }
                if (this._listens(o, h, v) === !1) {
                    v === this && (v = void 0);
                    var U = {
                        fn: h,
                        ctx: v
                    };
                    k && (U.once = !0), this._events = this._events || {}, this._events[o] = this._events[o] || [], this._events[o].push(U)
                }
            },
            _off: function(o, h, v) {
                var k, U, Z;
                if (this._events && (k = this._events[o], !!k)) {
                    if (arguments.length === 1) {
                        if (this._firingCount)
                            for (U = 0, Z = k.length; U < Z; U++) k[U].fn = f;
                        delete this._events[o];
                        return
                    }
                    if (typeof h != "function") {
                        console.warn("wrong listener type: " + typeof h);
                        return
                    }
                    var de = this._listens(o, h, v);
                    if (de !== !1) {
                        var Pe = k[de];
                        this._firingCount && (Pe.fn = f, this._events[o] = k = k.slice()), k.splice(de, 1)
                    }
                }
            },
            fire: function(o, h, v) {
                if (!this.listens(o, v)) return this;
                var k = i({}, h, {
                    type: o,
                    target: this,
                    sourceTarget: h && h.sourceTarget || this
                });
                if (this._events) {
                    var U = this._events[o];
                    if (U) {
                        this._firingCount = this._firingCount + 1 || 1;
                        for (var Z = 0, de = U.length; Z < de; Z++) {
                            var Pe = U[Z],
                                Oe = Pe.fn;
                            Pe.once && this.off(o, Oe, Pe.ctx), Oe.call(Pe.ctx || this, k)
                        }
                        this._firingCount--
                    }
                }
                return v && this._propagateEvent(k), this
            },
            listens: function(o, h, v, k) {
                typeof o != "string" && console.warn('"string" type argument expected');
                var U = h;
                typeof h != "function" && (k = !!h, U = void 0, v = void 0);
                var Z = this._events && this._events[o];
                if (Z && Z.length && this._listens(o, U, v) !== !1) return !0;
                if (k) {
                    for (var de in this._eventParents)
                        if (this._eventParents[de].listens(o, h, v, k)) return !0
                }
                return !1
            },
            _listens: function(o, h, v) {
                if (!this._events) return !1;
                var k = this._events[o] || [];
                if (!h) return !!k.length;
                v === this && (v = void 0);
                for (var U = 0, Z = k.length; U < Z; U++)
                    if (k[U].fn === h && k[U].ctx === v) return U;
                return !1
            },
            once: function(o, h, v) {
                if (typeof o == "object")
                    for (var k in o) this._on(k, o[k], h, !0);
                else {
                    o = T(o);
                    for (var U = 0, Z = o.length; U < Z; U++) this._on(o[U], h, v, !0)
                }
                return this
            },
            addEventParent: function(o) {
                return this._eventParents = this._eventParents || {}, this._eventParents[s(o)] = o, this
            },
            removeEventParent: function(o) {
                return this._eventParents && delete this._eventParents[s(o)], this
            },
            _propagateEvent: function(o) {
                for (var h in this._eventParents) this._eventParents[h].fire(o.type, i({
                    layer: o.target,
                    propagatedFrom: o.target
                }, o), !0)
            }
        };
        ce.addEventListener = ce.on, ce.removeEventListener = ce.clearAllEventListeners = ce.off, ce.addOneTimeEventListener = ce.once, ce.fireEvent = ce.fire, ce.hasEventListeners = ce.listens;
        var ne = P.extend(ce);

        function re(o, h, v) {
            this.x = v ? Math.round(o) : o, this.y = v ? Math.round(h) : h
        }
        var J = Math.trunc || function(o) {
            return o > 0 ? Math.floor(o) : Math.ceil(o)
        };
        re.prototype = {
            clone: function() {
                return new re(this.x, this.y)
            },
            add: function(o) {
                return this.clone()._add(ue(o))
            },
            _add: function(o) {
                return this.x += o.x, this.y += o.y, this
            },
            subtract: function(o) {
                return this.clone()._subtract(ue(o))
            },
            _subtract: function(o) {
                return this.x -= o.x, this.y -= o.y, this
            },
            divideBy: function(o) {
                return this.clone()._divideBy(o)
            },
            _divideBy: function(o) {
                return this.x /= o, this.y /= o, this
            },
            multiplyBy: function(o) {
                return this.clone()._multiplyBy(o)
            },
            _multiplyBy: function(o) {
                return this.x *= o, this.y *= o, this
            },
            scaleBy: function(o) {
                return new re(this.x * o.x, this.y * o.y)
            },
            unscaleBy: function(o) {
                return new re(this.x / o.x, this.y / o.y)
            },
            round: function() {
                return this.clone()._round()
            },
            _round: function() {
                return this.x = Math.round(this.x), this.y = Math.round(this.y), this
            },
            floor: function() {
                return this.clone()._floor()
            },
            _floor: function() {
                return this.x = Math.floor(this.x), this.y = Math.floor(this.y), this
            },
            ceil: function() {
                return this.clone()._ceil()
            },
            _ceil: function() {
                return this.x = Math.ceil(this.x), this.y = Math.ceil(this.y), this
            },
            trunc: function() {
                return this.clone()._trunc()
            },
            _trunc: function() {
                return this.x = J(this.x), this.y = J(this.y), this
            },
            distanceTo: function(o) {
                o = ue(o);
                var h = o.x - this.x,
                    v = o.y - this.y;
                return Math.sqrt(h * h + v * v)
            },
            equals: function(o) {
                return o = ue(o), o.x === this.x && o.y === this.y
            },
            contains: function(o) {
                return o = ue(o), Math.abs(o.x) <= Math.abs(this.x) && Math.abs(o.y) <= Math.abs(this.y)
            },
            toString: function() {
                return "Point(" + d(this.x) + ", " + d(this.y) + ")"
            }
        };

        function ue(o, h, v) {
            return o instanceof re ? o : O(o) ? new re(o[0], o[1]) : o == null ? o : typeof o == "object" && "x" in o && "y" in o ? new re(o.x, o.y) : new re(o, h, v)
        }

        function ie(o, h) {
            if (o)
                for (var v = h ? [o, h] : o, k = 0, U = v.length; k < U; k++) this.extend(v[k])
        }
        ie.prototype = {
            extend: function(o) {
                var h, v;
                if (!o) return this;
                if (o instanceof re || typeof o[0] == "number" || "x" in o) h = v = ue(o);
                else if (o = te(o), h = o.min, v = o.max, !h || !v) return this;
                return !this.min && !this.max ? (this.min = h.clone(), this.max = v.clone()) : (this.min.x = Math.min(h.x, this.min.x), this.max.x = Math.max(v.x, this.max.x), this.min.y = Math.min(h.y, this.min.y), this.max.y = Math.max(v.y, this.max.y)), this
            },
            getCenter: function(o) {
                return ue((this.min.x + this.max.x) / 2, (this.min.y + this.max.y) / 2, o)
            },
            getBottomLeft: function() {
                return ue(this.min.x, this.max.y)
            },
            getTopRight: function() {
                return ue(this.max.x, this.min.y)
            },
            getTopLeft: function() {
                return this.min
            },
            getBottomRight: function() {
                return this.max
            },
            getSize: function() {
                return this.max.subtract(this.min)
            },
            contains: function(o) {
                var h, v;
                return typeof o[0] == "number" || o instanceof re ? o = ue(o) : o = te(o), o instanceof ie ? (h = o.min, v = o.max) : h = v = o, h.x >= this.min.x && v.x <= this.max.x && h.y >= this.min.y && v.y <= this.max.y
            },
            intersects: function(o) {
                o = te(o);
                var h = this.min,
                    v = this.max,
                    k = o.min,
                    U = o.max,
                    Z = U.x >= h.x && k.x <= v.x,
                    de = U.y >= h.y && k.y <= v.y;
                return Z && de
            },
            overlaps: function(o) {
                o = te(o);
                var h = this.min,
                    v = this.max,
                    k = o.min,
                    U = o.max,
                    Z = U.x > h.x && k.x < v.x,
                    de = U.y > h.y && k.y < v.y;
                return Z && de
            },
            isValid: function() {
                return !!(this.min && this.max)
            },
            pad: function(o) {
                var h = this.min,
                    v = this.max,
                    k = Math.abs(h.x - v.x) * o,
                    U = Math.abs(h.y - v.y) * o;
                return te(ue(h.x - k, h.y - U), ue(v.x + k, v.y + U))
            },
            equals: function(o) {
                return o ? (o = te(o), this.min.equals(o.getTopLeft()) && this.max.equals(o.getBottomRight())) : !1
            }
        };

        function te(o, h) {
            return !o || o instanceof ie ? o : new ie(o, h)
        }

        function we(o, h) {
            if (o)
                for (var v = h ? [o, h] : o, k = 0, U = v.length; k < U; k++) this.extend(v[k])
        }
        we.prototype = {
            extend: function(o) {
                var h = this._southWest,
                    v = this._northEast,
                    k, U;
                if (o instanceof ye) k = o, U = o;
                else if (o instanceof we) {
                    if (k = o._southWest, U = o._northEast, !k || !U) return this
                } else return o ? this.extend(Ue(o) || De(o)) : this;
                return !h && !v ? (this._southWest = new ye(k.lat, k.lng), this._northEast = new ye(U.lat, U.lng)) : (h.lat = Math.min(k.lat, h.lat), h.lng = Math.min(k.lng, h.lng), v.lat = Math.max(U.lat, v.lat), v.lng = Math.max(U.lng, v.lng)), this
            },
            pad: function(o) {
                var h = this._southWest,
                    v = this._northEast,
                    k = Math.abs(h.lat - v.lat) * o,
                    U = Math.abs(h.lng - v.lng) * o;
                return new we(new ye(h.lat - k, h.lng - U), new ye(v.lat + k, v.lng + U))
            },
            getCenter: function() {
                return new ye((this._southWest.lat + this._northEast.lat) / 2, (this._southWest.lng + this._northEast.lng) / 2)
            },
            getSouthWest: function() {
                return this._southWest
            },
            getNorthEast: function() {
                return this._northEast
            },
            getNorthWest: function() {
                return new ye(this.getNorth(), this.getWest())
            },
            getSouthEast: function() {
                return new ye(this.getSouth(), this.getEast())
            },
            getWest: function() {
                return this._southWest.lng
            },
            getSouth: function() {
                return this._southWest.lat
            },
            getEast: function() {
                return this._northEast.lng
            },
            getNorth: function() {
                return this._northEast.lat
            },
            contains: function(o) {
                typeof o[0] == "number" || o instanceof ye || "lat" in o ? o = Ue(o) : o = De(o);
                var h = this._southWest,
                    v = this._northEast,
                    k, U;
                return o instanceof we ? (k = o.getSouthWest(), U = o.getNorthEast()) : k = U = o, k.lat >= h.lat && U.lat <= v.lat && k.lng >= h.lng && U.lng <= v.lng
            },
            intersects: function(o) {
                o = De(o);
                var h = this._southWest,
                    v = this._northEast,
                    k = o.getSouthWest(),
                    U = o.getNorthEast(),
                    Z = U.lat >= h.lat && k.lat <= v.lat,
                    de = U.lng >= h.lng && k.lng <= v.lng;
                return Z && de
            },
            overlaps: function(o) {
                o = De(o);
                var h = this._southWest,
                    v = this._northEast,
                    k = o.getSouthWest(),
                    U = o.getNorthEast(),
                    Z = U.lat > h.lat && k.lat < v.lat,
                    de = U.lng > h.lng && k.lng < v.lng;
                return Z && de
            },
            toBBoxString: function() {
                return [this.getWest(), this.getSouth(), this.getEast(), this.getNorth()].join(",")
            },
            equals: function(o, h) {
                return o ? (o = De(o), this._southWest.equals(o.getSouthWest(), h) && this._northEast.equals(o.getNorthEast(), h)) : !1
            },
            isValid: function() {
                return !!(this._southWest && this._northEast)
            }
        };

        function De(o, h) {
            return o instanceof we ? o : new we(o, h)
        }

        function ye(o, h, v) {
            if (isNaN(o) || isNaN(h)) throw new Error("Invalid LatLng object: (" + o + ", " + h + ")");
            this.lat = +o, this.lng = +h, v !== void 0 && (this.alt = +v)
        }
        ye.prototype = {
            equals: function(o, h) {
                if (!o) return !1;
                o = Ue(o);
                var v = Math.max(Math.abs(this.lat - o.lat), Math.abs(this.lng - o.lng));
                return v <= (h === void 0 ? 1e-9 : h)
            },
            toString: function(o) {
                return "LatLng(" + d(this.lat, o) + ", " + d(this.lng, o) + ")"
            },
            distanceTo: function(o) {
                return at.distance(this, Ue(o))
            },
            wrap: function() {
                return at.wrapLatLng(this)
            },
            toBounds: function(o) {
                var h = 180 * o / 40075017,
                    v = h / Math.cos(Math.PI / 180 * this.lat);
                return De([this.lat - h, this.lng - v], [this.lat + h, this.lng + v])
            },
            clone: function() {
                return new ye(this.lat, this.lng, this.alt)
            }
        };

        function Ue(o, h, v) {
            return o instanceof ye ? o : O(o) && typeof o[0] != "object" ? o.length === 3 ? new ye(o[0], o[1], o[2]) : o.length === 2 ? new ye(o[0], o[1]) : null : o == null ? o : typeof o == "object" && "lat" in o ? new ye(o.lat, "lng" in o ? o.lng : o.lon, o.alt) : h === void 0 ? null : new ye(o, h, v)
        }
        var Qe = {
                latLngToPoint: function(o, h) {
                    var v = this.projection.project(o),
                        k = this.scale(h);
                    return this.transformation._transform(v, k)
                },
                pointToLatLng: function(o, h) {
                    var v = this.scale(h),
                        k = this.transformation.untransform(o, v);
                    return this.projection.unproject(k)
                },
                project: function(o) {
                    return this.projection.project(o)
                },
                unproject: function(o) {
                    return this.projection.unproject(o)
                },
                scale: function(o) {
                    return 256 * Math.pow(2, o)
                },
                zoom: function(o) {
                    return Math.log(o / 256) / Math.LN2
                },
                getProjectedBounds: function(o) {
                    if (this.infinite) return null;
                    var h = this.projection.bounds,
                        v = this.scale(o),
                        k = this.transformation.transform(h.min, v),
                        U = this.transformation.transform(h.max, v);
                    return new ie(k, U)
                },
                infinite: !1,
                wrapLatLng: function(o) {
                    var h = this.wrapLng ? u(o.lng, this.wrapLng, !0) : o.lng,
                        v = this.wrapLat ? u(o.lat, this.wrapLat, !0) : o.lat,
                        k = o.alt;
                    return new ye(v, h, k)
                },
                wrapLatLngBounds: function(o) {
                    var h = o.getCenter(),
                        v = this.wrapLatLng(h),
                        k = h.lat - v.lat,
                        U = h.lng - v.lng;
                    if (k === 0 && U === 0) return o;
                    var Z = o.getSouthWest(),
                        de = o.getNorthEast(),
                        Pe = new ye(Z.lat - k, Z.lng - U),
                        Oe = new ye(de.lat - k, de.lng - U);
                    return new we(Pe, Oe)
                }
            },
            at = i({}, Qe, {
                wrapLng: [-180, 180],
                R: 6371e3,
                distance: function(o, h) {
                    var v = Math.PI / 180,
                        k = o.lat * v,
                        U = h.lat * v,
                        Z = Math.sin((h.lat - o.lat) * v / 2),
                        de = Math.sin((h.lng - o.lng) * v / 2),
                        Pe = Z * Z + Math.cos(k) * Math.cos(U) * de * de,
                        Oe = 2 * Math.atan2(Math.sqrt(Pe), Math.sqrt(1 - Pe));
                    return this.R * Oe
                }
            }),
            pt = 6378137,
            lt = {
                R: pt,
                MAX_LATITUDE: 85.0511287798,
                project: function(o) {
                    var h = Math.PI / 180,
                        v = this.MAX_LATITUDE,
                        k = Math.max(Math.min(v, o.lat), -v),
                        U = Math.sin(k * h);
                    return new re(this.R * o.lng * h, this.R * Math.log((1 + U) / (1 - U)) / 2)
                },
                unproject: function(o) {
                    var h = 180 / Math.PI;
                    return new ye((2 * Math.atan(Math.exp(o.y / this.R)) - Math.PI / 2) * h, o.x * h / this.R)
                },
                bounds: function() {
                    var o = pt * Math.PI;
                    return new ie([-o, -o], [o, o])
                }()
            };

        function xt(o, h, v, k) {
            if (O(o)) {
                this._a = o[0], this._b = o[1], this._c = o[2], this._d = o[3];
                return
            }
            this._a = o, this._b = h, this._c = v, this._d = k
        }
        xt.prototype = {
            transform: function(o, h) {
                return this._transform(o.clone(), h)
            },
            _transform: function(o, h) {
                return h = h || 1, o.x = h * (this._a * o.x + this._b), o.y = h * (this._c * o.y + this._d), o
            },
            untransform: function(o, h) {
                return h = h || 1, new re((o.x / h - this._b) / this._a, (o.y / h - this._d) / this._c)
            }
        };

        function Bt(o, h, v, k) {
            return new xt(o, h, v, k)
        }
        var At = i({}, at, {
                code: "EPSG:3857",
                projection: lt,
                transformation: function() {
                    var o = .5 / (Math.PI * lt.R);
                    return Bt(o, .5, -o, .5)
                }()
            }),
            F = i({}, At, {
                code: "EPSG:900913"
            });

        function ke(o) {
            return document.createElementNS("http://www.w3.org/2000/svg", o)
        }

        function Ce(o, h) {
            var v = "",
                k, U, Z, de, Pe, Oe;
            for (k = 0, Z = o.length; k < Z; k++) {
                for (Pe = o[k], U = 0, de = Pe.length; U < de; U++) Oe = Pe[U], v += (U ? "L" : "M") + Oe.x + " " + Oe.y;
                v += h ? Tt.svg ? "z" : "x" : ""
            }
            return v || "M0 0"
        }
        var ee = document.documentElement.style,
            ae = "ActiveXObject" in window,
            be = ae && !document.addEventListener,
            je = "msLaunchUri" in navigator && !("documentMode" in document),
            Ze = Rn("webkit"),
            Re = Rn("android"),
            Je = Rn("android 2") || Rn("android 3"),
            dt = parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1], 10),
            et = Re && Rn("Google") && dt < 537 && !("AudioNode" in window),
            We = !!window.opera,
            Ft = !je && Rn("chrome"),
            ti = Rn("gecko") && !Ze && !We && !ae,
            _n = !Ft && Rn("safari"),
            Ar = Rn("phantom"),
            En = "OTransition" in ee,
            cr = navigator.platform.indexOf("Win") === 0,
            ci = ae && "transition" in ee,
            Hi = "WebKitCSSMatrix" in window && "m11" in new window.WebKitCSSMatrix && !Je,
            Cn = "MozPerspective" in ee,
            pn = !window.L_DISABLE_3D && (ci || Hi || Cn) && !En && !Ar,
            sn = typeof orientation < "u" || Rn("mobile"),
            on = sn && Ze,
            aa = sn && Hi,
            Ba = !window.PointerEvent && window.MSPointerEvent,
            Dr = !!(window.PointerEvent || Ba),
            Pn = "ontouchstart" in window || !!window.TouchEvent,
            bn = !window.L_NO_TOUCH && (Pn || Dr),
            sa = sn && We,
            Fs = sn && ti,
            er = (window.devicePixelRatio || window.screen.deviceXDPI / window.screen.logicalXDPI) > 1,
            Sn = function() {
                var o = !1;
                try {
                    var h = Object.defineProperty({}, "passive", {
                        get: function() {
                            o = !0
                        }
                    });
                    window.addEventListener("testPassiveEventSupport", f, h), window.removeEventListener("testPassiveEventSupport", f, h)
                } catch {}
                return o
            }(),
            oa = function() {
                return !!document.createElement("canvas").getContext
            }(),
            Nr = !!(document.createElementNS && ke("svg").createSVGRect),
            qs = !!Nr && function() {
                var o = document.createElement("div");
                return o.innerHTML = "<svg/>", (o.firstChild && o.firstChild.namespaceURI) === "http://www.w3.org/2000/svg"
            }(),
            Vs = !Nr && function() {
                try {
                    var o = document.createElement("div");
                    o.innerHTML = '<v:shape adj="1"/>';
                    var h = o.firstChild;
                    return h.style.behavior = "url(#default#VML)", h && typeof h.adj == "object"
                } catch {
                    return !1
                }
            }(),
            la = navigator.platform.indexOf("Mac") === 0,
            Xe = navigator.platform.indexOf("Linux") === 0;

        function Rn(o) {
            return navigator.userAgent.toLowerCase().indexOf(o) >= 0
        }
        var Tt = {
                ie: ae,
                ielt9: be,
                edge: je,
                webkit: Ze,
                android: Re,
                android23: Je,
                androidStock: et,
                opera: We,
                chrome: Ft,
                gecko: ti,
                safari: _n,
                phantom: Ar,
                opera12: En,
                win: cr,
                ie3d: ci,
                webkit3d: Hi,
                gecko3d: Cn,
                any3d: pn,
                mobile: sn,
                mobileWebkit: on,
                mobileWebkit3d: aa,
                msPointer: Ba,
                pointer: Dr,
                touch: bn,
                touchNative: Pn,
                mobileOpera: sa,
                mobileGecko: Fs,
                retina: er,
                passiveEvents: Sn,
                canvas: oa,
                svg: Nr,
                vml: Vs,
                inlineSvg: qs,
                mac: la,
                linux: Xe
            },
            Ka = Tt.msPointer ? "MSPointerDown" : "pointerdown",
            Pr = Tt.msPointer ? "MSPointerMove" : "pointermove",
            $r = Tt.msPointer ? "MSPointerUp" : "pointerup",
            jr = Tt.msPointer ? "MSPointerCancel" : "pointercancel",
            Mi = {
                touchstart: Ka,
                touchmove: Pr,
                touchend: $r,
                touchcancel: jr
            },
            Wi = {
                touchstart: fi,
                touchmove: Nt,
                touchend: Nt,
                touchcancel: Nt
            },
            Ki = {},
            Oi = !1;

        function Kn(o, h, v) {
            return h === "touchstart" && Ea(), Wi[h] ? (v = Wi[h].bind(this, v), o.addEventListener(Mi[h], v, !1), v) : (console.warn("wrong event specified:", h), f)
        }

        function Wr(o, h, v) {
            if (!Mi[h]) {
                console.warn("wrong event specified:", h);
                return
            }
            o.removeEventListener(Mi[h], v, !1)
        }

        function Tn(o) {
            Ki[o.pointerId] = o
        }

        function tr(o) {
            Ki[o.pointerId] && (Ki[o.pointerId] = o)
        }

        function Un(o) {
            delete Ki[o.pointerId]
        }

        function Ea() {
            Oi || (document.addEventListener(Ka, Tn, !0), document.addEventListener(Pr, tr, !0), document.addEventListener($r, Un, !0), document.addEventListener(jr, Un, !0), Oi = !0)
        }

        function Nt(o, h) {
            if (h.pointerType !== (h.MSPOINTER_TYPE_MOUSE || "mouse")) {
                h.touches = [];
                for (var v in Ki) h.touches.push(Ki[v]);
                h.changedTouches = [h], o(h)
            }
        }

        function fi(o, h) {
            h.MSPOINTER_TYPE_TOUCH && h.pointerType === h.MSPOINTER_TYPE_TOUCH && Ln(h), Nt(o, h)
        }

        function mi(o) {
            var h = {},
                v, k;
            for (k in o) v = o[k], h[k] = v && v.bind ? v.bind(o) : v;
            return o = h, h.type = "dblclick", h.detail = 2, h.isTrusted = !1, h._simulated = !0, h
        }
        var xi = 200;

        function Ga(o, h) {
            o.addEventListener("dblclick", h);
            var v = 0,
                k;

            function U(Z) {
                if (Z.detail !== 1) {
                    k = Z.detail;
                    return
                }
                if (!(Z.pointerType === "mouse" || Z.sourceCapabilities && !Z.sourceCapabilities.firesTouchEvents)) {
                    var de = es(Z);
                    if (!(de.some(function(Oe) {
                            return Oe instanceof HTMLLabelElement && Oe.attributes.for
                        }) && !de.some(function(Oe) {
                            return Oe instanceof HTMLInputElement || Oe instanceof HTMLSelectElement
                        }))) {
                        var Pe = Date.now();
                        Pe - v <= xi ? (k++, k === 2 && h(mi(Z))) : k = 1, v = Pe
                    }
                }
            }
            return o.addEventListener("click", U), {
                dblclick: h,
                simDblclick: U
            }
        }

        function Ca(o, h) {
            o.removeEventListener("dblclick", h.dblclick), o.removeEventListener("click", h.simDblclick)
        }
        var ua = zs(["transform", "webkitTransform", "OTransform", "MozTransform", "msTransform"]),
            fr = zs(["webkitTransition", "transition", "OTransition", "MozTransition", "msTransition"]),
            Rr = fr === "webkitTransition" || fr === "OTransition" ? fr + "End" : "transitionend";

        function ln(o) {
            return typeof o == "string" ? document.getElementById(o) : o
        }

        function Bn(o, h) {
            var v = o.style[h] || o.currentStyle && o.currentStyle[h];
            if ((!v || v === "auto") && document.defaultView) {
                var k = document.defaultView.getComputedStyle(o, null);
                v = k ? k[h] : null
            }
            return v === "auto" ? null : v
        }

        function Ee(o, h, v) {
            var k = document.createElement(o);
            return k.className = h || "", v && v.appendChild(k), k
        }

        function ze(o) {
            var h = o.parentNode;
            h && h.removeChild(o)
        }

        function ot(o) {
            for (; o.firstChild;) o.removeChild(o.firstChild)
        }

        function Et(o) {
            var h = o.parentNode;
            h && h.lastChild !== o && h.appendChild(o)
        }

        function en(o) {
            var h = o.parentNode;
            h && h.firstChild !== o && h.insertBefore(o, h.firstChild)
        }

        function Gi(o, h) {
            if (o.classList !== void 0) return o.classList.contains(h);
            var v = Gn(o);
            return v.length > 0 && new RegExp("(^|\\s)" + h + "(\\s|$)").test(v)
        }

        function Gt(o, h) {
            if (o.classList !== void 0)
                for (var v = T(h), k = 0, U = v.length; k < U; k++) o.classList.add(v[k]);
            else if (!Gi(o, h)) {
                var Z = Gn(o);
                Cs(o, (Z ? Z + " " : "") + h)
            }
        }

        function Zi(o, h) {
            o.classList !== void 0 ? o.classList.remove(h) : Cs(o, m((" " + Gn(o) + " ").replace(" " + h + " ", " ")))
        }

        function Cs(o, h) {
            o.className.baseVal === void 0 ? o.className = h : o.className.baseVal = h
        }

        function Gn(o) {
            return o.correspondingElement && (o = o.correspondingElement), o.className.baseVal === void 0 ? o.className : o.className.baseVal
        }

        function Fn(o, h) {
            "opacity" in o.style ? o.style.opacity = h : "filter" in o.style && Za(o, h)
        }

        function Za(o, h) {
            var v = !1,
                k = "DXImageTransform.Microsoft.Alpha";
            try {
                v = o.filters.item(k)
            } catch {
                if (h === 1) return
            }
            h = Math.round(h * 100), v ? (v.Enabled = h !== 100, v.Opacity = h) : o.style.filter += " progid:" + k + "(opacity=" + h + ")"
        }

        function zs(o) {
            for (var h = document.documentElement.style, v = 0; v < o.length; v++)
                if (o[v] in h) return o[v];
            return !1
        }

        function Ma(o, h, v) {
            var k = h || new re(0, 0);
            o.style[ua] = (Tt.ie3d ? "translate(" + k.x + "px," + k.y + "px)" : "translate3d(" + k.x + "px," + k.y + "px,0)") + (v ? " scale(" + v + ")" : "")
        }

        function li(o, h) {
            o._leaflet_pos = h, Tt.any3d ? Ma(o, h) : (o.style.left = h.x + "px", o.style.top = h.y + "px")
        }

        function ir(o) {
            return o._leaflet_pos || new re(0, 0)
        }
        var Br, Ss, Hs;
        if ("onselectstart" in document) Br = function() {
            Xt(window, "selectstart", Ln)
        }, Ss = function() {
            Ui(window, "selectstart", Ln)
        };
        else {
            var Er = zs(["userSelect", "WebkitUserSelect", "OUserSelect", "MozUserSelect", "msUserSelect"]);
            Br = function() {
                if (Er) {
                    var o = document.documentElement.style;
                    Hs = o[Er], o[Er] = "none"
                }
            }, Ss = function() {
                Er && (document.documentElement.style[Er] = Hs, Hs = void 0)
            }
        }

        function hr() {
            Xt(window, "dragstart", Ln)
        }

        function Xa() {
            Ui(window, "dragstart", Ln)
        }
        var Ya, Oa;

        function Ts(o) {
            for (; o.tabIndex === -1;) o = o.parentNode;
            o.style && (Qa(), Ya = o, Oa = o.style.outlineStyle, o.style.outlineStyle = "none", Xt(window, "keydown", Qa))
        }

        function Qa() {
            Ya && (Ya.style.outlineStyle = Oa, Ya = void 0, Oa = void 0, Ui(window, "keydown", Qa))
        }

        function So(o) {
            do o = o.parentNode; while ((!o.offsetWidth || !o.offsetHeight) && o !== document.body);
            return o
        }

        function Ja(o) {
            var h = o.getBoundingClientRect();
            return {
                x: h.width / o.offsetWidth || 1,
                y: h.height / o.offsetHeight || 1,
                boundingClientRect: h
            }
        }
        var Jl = {
            __proto__: null,
            TRANSFORM: ua,
            TRANSITION: fr,
            TRANSITION_END: Rr,
            get: ln,
            getStyle: Bn,
            create: Ee,
            remove: ze,
            empty: ot,
            toFront: Et,
            toBack: en,
            hasClass: Gi,
            addClass: Gt,
            removeClass: Zi,
            setClass: Cs,
            getClass: Gn,
            setOpacity: Fn,
            testProp: zs,
            setTransform: Ma,
            setPosition: li,
            getPosition: ir,
            get disableTextSelection() {
                return Br
            },
            get enableTextSelection() {
                return Ss
            },
            disableImageDrag: hr,
            enableImageDrag: Xa,
            preventOutline: Ts,
            restoreOutline: Qa,
            getSizedParentNode: So,
            getScale: Ja
        };

        function Xt(o, h, v, k) {
            if (h && typeof h == "object")
                for (var U in h) Lo(o, U, h[U], v);
            else {
                h = T(h);
                for (var Z = 0, de = h.length; Z < de; Z++) Lo(o, h[Z], v, k)
            }
            return this
        }
        var Kr = "_leaflet_events";

        function Ui(o, h, v, k) {
            if (arguments.length === 1) $s(o), delete o[Kr];
            else if (h && typeof h == "object")
                for (var U in h) js(o, U, h[U], v);
            else if (h = T(h), arguments.length === 2) $s(o, function(Pe) {
                return D(h, Pe) !== -1
            });
            else
                for (var Z = 0, de = h.length; Z < de; Z++) js(o, h[Z], v, k);
            return this
        }

        function $s(o, h) {
            for (var v in o[Kr]) {
                var k = v.split(/\d/)[0];
                (!h || h(k)) && js(o, k, null, null, v)
            }
        }
        var To = {
            mouseenter: "mouseover",
            mouseleave: "mouseout",
            wheel: !("onwheel" in window) && "mousewheel"
        };

        function Lo(o, h, v, k) {
            var U = h + s(v) + (k ? "_" + s(k) : "");
            if (o[Kr] && o[Kr][U]) return this;
            var Z = function(Pe) {
                    return v.call(k || o, Pe || window.event)
                },
                de = Z;
            !Tt.touchNative && Tt.pointer && h.indexOf("touch") === 0 ? Z = Kn(o, h, Z) : Tt.touch && h === "dblclick" ? Z = Ga(o, Z) : "addEventListener" in o ? h === "touchstart" || h === "touchmove" || h === "wheel" || h === "mousewheel" ? o.addEventListener(To[h] || h, Z, Tt.passiveEvents ? {
                passive: !1
            } : !1) : h === "mouseenter" || h === "mouseleave" ? (Z = function(Pe) {
                Pe = Pe || window.event, Sa(o, Pe) && de(Pe)
            }, o.addEventListener(To[h], Z, !1)) : o.addEventListener(h, de, !1) : o.attachEvent("on" + h, Z), o[Kr] = o[Kr] || {}, o[Kr][U] = Z
        }

        function js(o, h, v, k, U) {
            U = U || h + s(v) + (k ? "_" + s(k) : "");
            var Z = o[Kr] && o[Kr][U];
            if (!Z) return this;
            !Tt.touchNative && Tt.pointer && h.indexOf("touch") === 0 ? Wr(o, h, Z) : Tt.touch && h === "dblclick" ? Ca(o, Z) : "removeEventListener" in o ? o.removeEventListener(To[h] || h, Z, !1) : o.detachEvent("on" + h, Z), o[Kr][U] = null
        }

        function ca(o) {
            return o.stopPropagation ? o.stopPropagation() : o.originalEvent ? o.originalEvent._stopped = !0 : o.cancelBubble = !0, this
        }

        function Ws(o) {
            return Lo(o, "wheel", ca), this
        }

        function Ua(o) {
            return Xt(o, "mousedown touchstart dblclick contextmenu", ca), o._leaflet_disable_click = !0, this
        }

        function Ln(o) {
            return o.preventDefault ? o.preventDefault() : o.returnValue = !1, this
        }

        function fa(o) {
            return Ln(o), ca(o), this
        }

        function es(o) {
            if (o.composedPath) return o.composedPath();
            for (var h = [], v = o.target; v;) h.push(v), v = v.parentNode;
            return h
        }

        function ko(o, h) {
            if (!h) return new re(o.clientX, o.clientY);
            var v = Ja(h),
                k = v.boundingClientRect;
            return new re((o.clientX - k.left) / v.x - h.clientLeft, (o.clientY - k.top) / v.y - h.clientTop)
        }
        var Io = Tt.linux && Tt.chrome ? window.devicePixelRatio : Tt.mac ? window.devicePixelRatio * 3 : window.devicePixelRatio > 0 ? 2 * window.devicePixelRatio : 1;

        function Ao(o) {
            return Tt.edge ? o.wheelDeltaY / 2 : o.deltaY && o.deltaMode === 0 ? -o.deltaY / Io : o.deltaY && o.deltaMode === 1 ? -o.deltaY * 20 : o.deltaY && o.deltaMode === 2 ? -o.deltaY * 60 : o.deltaX || o.deltaZ ? 0 : o.wheelDelta ? (o.wheelDeltaY || o.wheelDelta) / 2 : o.detail && Math.abs(o.detail) < 32765 ? -o.detail * 20 : o.detail ? o.detail / -32765 * 60 : 0
        }

        function Sa(o, h) {
            var v = h.relatedTarget;
            if (!v) return !0;
            try {
                for (; v && v !== o;) v = v.parentNode
            } catch {
                return !1
            }
            return v !== o
        }
        var Ks = {
                __proto__: null,
                on: Xt,
                off: Ui,
                stopPropagation: ca,
                disableScrollPropagation: Ws,
                disableClickPropagation: Ua,
                preventDefault: Ln,
                stop: fa,
                getPropagationPath: es,
                getMousePosition: ko,
                getWheelDelta: Ao,
                isExternalTarget: Sa,
                addListener: Xt,
                removeListener: Ui
            },
            Gs = ne.extend({
                run: function(o, h, v, k) {
                    this.stop(), this._el = o, this._inProgress = !0, this._duration = v || .25, this._easeOutPower = 1 / Math.max(k || .5, .2), this._startPos = ir(o), this._offset = h.subtract(this._startPos), this._startTime = +new Date, this.fire("start"), this._animate()
                },
                stop: function() {
                    this._inProgress && (this._step(!0), this._complete())
                },
                _animate: function() {
                    this._animId = me(this._animate, this), this._step()
                },
                _step: function(o) {
                    var h = +new Date - this._startTime,
                        v = this._duration * 1e3;
                    h < v ? this._runFrame(this._easeOut(h / v), o) : (this._runFrame(1), this._complete())
                },
                _runFrame: function(o, h) {
                    var v = this._startPos.add(this._offset.multiplyBy(o));
                    h && v._round(), li(this._el, v), this.fire("step")
                },
                _complete: function() {
                    V(this._animId), this._inProgress = !1, this.fire("end")
                },
                _easeOut: function(o) {
                    return 1 - Math.pow(1 - o, this._easeOutPower)
                }
            }),
            pi = ne.extend({
                options: {
                    crs: At,
                    center: void 0,
                    zoom: void 0,
                    minZoom: void 0,
                    maxZoom: void 0,
                    layers: [],
                    maxBounds: void 0,
                    renderer: void 0,
                    zoomAnimation: !0,
                    zoomAnimationThreshold: 4,
                    fadeAnimation: !0,
                    markerZoomAnimation: !0,
                    transform3DLimit: 8388608,
                    zoomSnap: 1,
                    zoomDelta: 1,
                    trackResize: !0
                },
                initialize: function(o, h) {
                    h = x(this, h), this._handlers = [], this._layers = {}, this._zoomBoundLayers = {}, this._sizeChanged = !0, this._initContainer(o), this._initLayout(), this._onResize = r(this._onResize, this), this._initEvents(), h.maxBounds && this.setMaxBounds(h.maxBounds), h.zoom !== void 0 && (this._zoom = this._limitZoom(h.zoom)), h.center && h.zoom !== void 0 && this.setView(Ue(h.center), h.zoom, {
                        reset: !0
                    }), this.callInitHooks(), this._zoomAnimated = fr && Tt.any3d && !Tt.mobileOpera && this.options.zoomAnimation, this._zoomAnimated && (this._createAnimProxy(), Xt(this._proxy, Rr, this._catchTransitionEnd, this)), this._addLayers(this.options.layers)
                },
                setView: function(o, h, v) {
                    if (h = h === void 0 ? this._zoom : this._limitZoom(h), o = this._limitCenter(Ue(o), h, this.options.maxBounds), v = v || {}, this._stop(), this._loaded && !v.reset && v !== !0) {
                        v.animate !== void 0 && (v.zoom = i({
                            animate: v.animate
                        }, v.zoom), v.pan = i({
                            animate: v.animate,
                            duration: v.duration
                        }, v.pan));
                        var k = this._zoom !== h ? this._tryAnimatedZoom && this._tryAnimatedZoom(o, h, v.zoom) : this._tryAnimatedPan(o, v.pan);
                        if (k) return clearTimeout(this._sizeTimer), this
                    }
                    return this._resetView(o, h, v.pan && v.pan.noMoveStart), this
                },
                setZoom: function(o, h) {
                    return this._loaded ? this.setView(this.getCenter(), o, {
                        zoom: h
                    }) : (this._zoom = o, this)
                },
                zoomIn: function(o, h) {
                    return o = o || (Tt.any3d ? this.options.zoomDelta : 1), this.setZoom(this._zoom + o, h)
                },
                zoomOut: function(o, h) {
                    return o = o || (Tt.any3d ? this.options.zoomDelta : 1), this.setZoom(this._zoom - o, h)
                },
                setZoomAround: function(o, h, v) {
                    var k = this.getZoomScale(h),
                        U = this.getSize().divideBy(2),
                        Z = o instanceof re ? o : this.latLngToContainerPoint(o),
                        de = Z.subtract(U).multiplyBy(1 - 1 / k),
                        Pe = this.containerPointToLatLng(U.add(de));
                    return this.setView(Pe, h, {
                        zoom: v
                    })
                },
                _getBoundsCenterZoom: function(o, h) {
                    h = h || {}, o = o.getBounds ? o.getBounds() : De(o);
                    var v = ue(h.paddingTopLeft || h.padding || [0, 0]),
                        k = ue(h.paddingBottomRight || h.padding || [0, 0]),
                        U = this.getBoundsZoom(o, !1, v.add(k));
                    if (U = typeof h.maxZoom == "number" ? Math.min(h.maxZoom, U) : U, U === 1 / 0) return {
                        center: o.getCenter(),
                        zoom: U
                    };
                    var Z = k.subtract(v).divideBy(2),
                        de = this.project(o.getSouthWest(), U),
                        Pe = this.project(o.getNorthEast(), U),
                        Oe = this.unproject(de.add(Pe).divideBy(2).add(Z), U);
                    return {
                        center: Oe,
                        zoom: U
                    }
                },
                fitBounds: function(o, h) {
                    if (o = De(o), !o.isValid()) throw new Error("Bounds are not valid.");
                    var v = this._getBoundsCenterZoom(o, h);
                    return this.setView(v.center, v.zoom, h)
                },
                fitWorld: function(o) {
                    return this.fitBounds([
                        [-90, -180],
                        [90, 180]
                    ], o)
                },
                panTo: function(o, h) {
                    return this.setView(o, this._zoom, {
                        pan: h
                    })
                },
                panBy: function(o, h) {
                    if (o = ue(o).round(), h = h || {}, !o.x && !o.y) return this.fire("moveend");
                    if (h.animate !== !0 && !this.getSize().contains(o)) return this._resetView(this.unproject(this.project(this.getCenter()).add(o)), this.getZoom()), this;
                    if (this._panAnim || (this._panAnim = new Gs, this._panAnim.on({
                            step: this._onPanTransitionStep,
                            end: this._onPanTransitionEnd
                        }, this)), h.noMoveStart || this.fire("movestart"), h.animate !== !1) {
                        Gt(this._mapPane, "leaflet-pan-anim");
                        var v = this._getMapPanePos().subtract(o).round();
                        this._panAnim.run(this._mapPane, v, h.duration || .25, h.easeLinearity)
                    } else this._rawPanBy(o), this.fire("move").fire("moveend");
                    return this
                },
                flyTo: function(o, h, v) {
                    if (v = v || {}, v.animate === !1 || !Tt.any3d) return this.setView(o, h, v);
                    this._stop();
                    var k = this.project(this.getCenter()),
                        U = this.project(o),
                        Z = this.getSize(),
                        de = this._zoom;
                    o = Ue(o), h = h === void 0 ? de : h;
                    var Pe = Math.max(Z.x, Z.y),
                        Oe = Pe * this.getZoomScale(de, h),
                        tt = U.distanceTo(k) || 1,
                        Ct = 1.42,
                        Zt = Ct * Ct;

                    function gi(Vn) {
                        var dc = Vn ? -1 : 1,
                            bw = Vn ? Oe : Pe,
                            xw = Oe * Oe - Pe * Pe + dc * Zt * Zt * tt * tt,
                            ww = 2 * bw * Zt * tt,
                            Xf = xw / ww,
                            Dg = Math.sqrt(Xf * Xf + 1) - Xf,
                            Ew = Dg < 1e-9 ? -18 : Math.log(Dg);
                        return Ew
                    }

                    function Ur(Vn) {
                        return (Math.exp(Vn) - Math.exp(-Vn)) / 2
                    }

                    function rr(Vn) {
                        return (Math.exp(Vn) + Math.exp(-Vn)) / 2
                    }

                    function La(Vn) {
                        return Ur(Vn) / rr(Vn)
                    }
                    var Jr = gi(0);

                    function ll(Vn) {
                        return Pe * (rr(Jr) / rr(Jr + Ct * Vn))
                    }

                    function mw(Vn) {
                        return Pe * (rr(Jr) * La(Jr + Ct * Vn) - Ur(Jr)) / Zt
                    }

                    function vw(Vn) {
                        return 1 - Math.pow(1 - Vn, 1.5)
                    }
                    var yw = Date.now(),
                        Ig = (gi(1) - Jr) / Ct,
                        _w = v.duration ? 1e3 * v.duration : 1e3 * Ig * .8;

                    function Ag() {
                        var Vn = (Date.now() - yw) / _w,
                            dc = vw(Vn) * Ig;
                        Vn <= 1 ? (this._flyToFrame = me(Ag, this), this._move(this.unproject(k.add(U.subtract(k).multiplyBy(mw(dc) / tt)), de), this.getScaleZoom(Pe / ll(dc), de), {
                            flyTo: !0
                        })) : this._move(o, h)._moveEnd(!0)
                    }
                    return this._moveStart(!0, v.noMoveStart), Ag.call(this), this
                },
                flyToBounds: function(o, h) {
                    var v = this._getBoundsCenterZoom(o, h);
                    return this.flyTo(v.center, v.zoom, h)
                },
                setMaxBounds: function(o) {
                    return o = De(o), this.listens("moveend", this._panInsideMaxBounds) && this.off("moveend", this._panInsideMaxBounds), o.isValid() ? (this.options.maxBounds = o, this._loaded && this._panInsideMaxBounds(), this.on("moveend", this._panInsideMaxBounds)) : (this.options.maxBounds = null, this)
                },
                setMinZoom: function(o) {
                    var h = this.options.minZoom;
                    return this.options.minZoom = o, this._loaded && h !== o && (this.fire("zoomlevelschange"), this.getZoom() < this.options.minZoom) ? this.setZoom(o) : this
                },
                setMaxZoom: function(o) {
                    var h = this.options.maxZoom;
                    return this.options.maxZoom = o, this._loaded && h !== o && (this.fire("zoomlevelschange"), this.getZoom() > this.options.maxZoom) ? this.setZoom(o) : this
                },
                panInsideBounds: function(o, h) {
                    this._enforcingBounds = !0;
                    var v = this.getCenter(),
                        k = this._limitCenter(v, this._zoom, De(o));
                    return v.equals(k) || this.panTo(k, h), this._enforcingBounds = !1, this
                },
                panInside: function(o, h) {
                    h = h || {};
                    var v = ue(h.paddingTopLeft || h.padding || [0, 0]),
                        k = ue(h.paddingBottomRight || h.padding || [0, 0]),
                        U = this.project(this.getCenter()),
                        Z = this.project(o),
                        de = this.getPixelBounds(),
                        Pe = te([de.min.add(v), de.max.subtract(k)]),
                        Oe = Pe.getSize();
                    if (!Pe.contains(Z)) {
                        this._enforcingBounds = !0;
                        var tt = Z.subtract(Pe.getCenter()),
                            Ct = Pe.extend(Z).getSize().subtract(Oe);
                        U.x += tt.x < 0 ? -Ct.x : Ct.x, U.y += tt.y < 0 ? -Ct.y : Ct.y, this.panTo(this.unproject(U), h), this._enforcingBounds = !1
                    }
                    return this
                },
                invalidateSize: function(o) {
                    if (!this._loaded) return this;
                    o = i({
                        animate: !1,
                        pan: !0
                    }, o === !0 ? {
                        animate: !0
                    } : o);
                    var h = this.getSize();
                    this._sizeChanged = !0, this._lastCenter = null;
                    var v = this.getSize(),
                        k = h.divideBy(2).round(),
                        U = v.divideBy(2).round(),
                        Z = k.subtract(U);
                    return !Z.x && !Z.y ? this : (o.animate && o.pan ? this.panBy(Z) : (o.pan && this._rawPanBy(Z), this.fire("move"), o.debounceMoveend ? (clearTimeout(this._sizeTimer), this._sizeTimer = setTimeout(r(this.fire, this, "moveend"), 200)) : this.fire("moveend")), this.fire("resize", {
                        oldSize: h,
                        newSize: v
                    }))
                },
                stop: function() {
                    return this.setZoom(this._limitZoom(this._zoom)), this.options.zoomSnap || this.fire("viewreset"), this._stop()
                },
                locate: function(o) {
                    if (o = this._locateOptions = i({
                            timeout: 1e4,
                            watch: !1
                        }, o), !("geolocation" in navigator)) return this._handleGeolocationError({
                        code: 0,
                        message: "Geolocation not supported."
                    }), this;
                    var h = r(this._handleGeolocationResponse, this),
                        v = r(this._handleGeolocationError, this);
                    return o.watch ? this._locationWatchId = navigator.geolocation.watchPosition(h, v, o) : navigator.geolocation.getCurrentPosition(h, v, o), this
                },
                stopLocate: function() {
                    return navigator.geolocation && navigator.geolocation.clearWatch && navigator.geolocation.clearWatch(this._locationWatchId), this._locateOptions && (this._locateOptions.setView = !1), this
                },
                _handleGeolocationError: function(o) {
                    if (this._container._leaflet_id) {
                        var h = o.code,
                            v = o.message || (h === 1 ? "permission denied" : h === 2 ? "position unavailable" : "timeout");
                        this._locateOptions.setView && !this._loaded && this.fitWorld(), this.fire("locationerror", {
                            code: h,
                            message: "Geolocation error: " + v + "."
                        })
                    }
                },
                _handleGeolocationResponse: function(o) {
                    if (this._container._leaflet_id) {
                        var h = o.coords.latitude,
                            v = o.coords.longitude,
                            k = new ye(h, v),
                            U = k.toBounds(o.coords.accuracy * 2),
                            Z = this._locateOptions;
                        if (Z.setView) {
                            var de = this.getBoundsZoom(U);
                            this.setView(k, Z.maxZoom ? Math.min(de, Z.maxZoom) : de)
                        }
                        var Pe = {
                            latlng: k,
                            bounds: U,
                            timestamp: o.timestamp
                        };
                        for (var Oe in o.coords) typeof o.coords[Oe] == "number" && (Pe[Oe] = o.coords[Oe]);
                        this.fire("locationfound", Pe)
                    }
                },
                addHandler: function(o, h) {
                    if (!h) return this;
                    var v = this[o] = new h(this);
                    return this._handlers.push(v), this.options[o] && v.enable(), this
                },
                remove: function() {
                    if (this._initEvents(!0), this.options.maxBounds && this.off("moveend", this._panInsideMaxBounds), this._containerId !== this._container._leaflet_id) throw new Error("Map container is being reused by another instance");
                    try {
                        delete this._container._leaflet_id, delete this._containerId
                    } catch {
                        this._container._leaflet_id = void 0, this._containerId = void 0
                    }
                    this._locationWatchId !== void 0 && this.stopLocate(), this._stop(), ze(this._mapPane), this._clearControlPos && this._clearControlPos(), this._resizeRequest && (V(this._resizeRequest), this._resizeRequest = null), this._clearHandlers(), this._loaded && this.fire("unload");
                    var o;
                    for (o in this._layers) this._layers[o].remove();
                    for (o in this._panes) ze(this._panes[o]);
                    return this._layers = [], this._panes = [], delete this._mapPane, delete this._renderer, this
                },
                createPane: function(o, h) {
                    var v = "leaflet-pane" + (o ? " leaflet-" + o.replace("Pane", "") + "-pane" : ""),
                        k = Ee("div", v, h || this._mapPane);
                    return o && (this._panes[o] = k), k
                },
                getCenter: function() {
                    return this._checkIfLoaded(), this._lastCenter && !this._moved() ? this._lastCenter.clone() : this.layerPointToLatLng(this._getCenterLayerPoint())
                },
                getZoom: function() {
                    return this._zoom
                },
                getBounds: function() {
                    var o = this.getPixelBounds(),
                        h = this.unproject(o.getBottomLeft()),
                        v = this.unproject(o.getTopRight());
                    return new we(h, v)
                },
                getMinZoom: function() {
                    return this.options.minZoom === void 0 ? this._layersMinZoom || 0 : this.options.minZoom
                },
                getMaxZoom: function() {
                    return this.options.maxZoom === void 0 ? this._layersMaxZoom === void 0 ? 1 / 0 : this._layersMaxZoom : this.options.maxZoom
                },
                getBoundsZoom: function(o, h, v) {
                    o = De(o), v = ue(v || [0, 0]);
                    var k = this.getZoom() || 0,
                        U = this.getMinZoom(),
                        Z = this.getMaxZoom(),
                        de = o.getNorthWest(),
                        Pe = o.getSouthEast(),
                        Oe = this.getSize().subtract(v),
                        tt = te(this.project(Pe, k), this.project(de, k)).getSize(),
                        Ct = Tt.any3d ? this.options.zoomSnap : 1,
                        Zt = Oe.x / tt.x,
                        gi = Oe.y / tt.y,
                        Ur = h ? Math.max(Zt, gi) : Math.min(Zt, gi);
                    return k = this.getScaleZoom(Ur, k), Ct && (k = Math.round(k / (Ct / 100)) * (Ct / 100), k = h ? Math.ceil(k / Ct) * Ct : Math.floor(k / Ct) * Ct), Math.max(U, Math.min(Z, k))
                },
                getSize: function() {
                    return (!this._size || this._sizeChanged) && (this._size = new re(this._container.clientWidth || 0, this._container.clientHeight || 0), this._sizeChanged = !1), this._size.clone()
                },
                getPixelBounds: function(o, h) {
                    var v = this._getTopLeftPoint(o, h);
                    return new ie(v, v.add(this.getSize()))
                },
                getPixelOrigin: function() {
                    return this._checkIfLoaded(), this._pixelOrigin
                },
                getPixelWorldBounds: function(o) {
                    return this.options.crs.getProjectedBounds(o === void 0 ? this.getZoom() : o)
                },
                getPane: function(o) {
                    return typeof o == "string" ? this._panes[o] : o
                },
                getPanes: function() {
                    return this._panes
                },
                getContainer: function() {
                    return this._container
                },
                getZoomScale: function(o, h) {
                    var v = this.options.crs;
                    return h = h === void 0 ? this._zoom : h, v.scale(o) / v.scale(h)
                },
                getScaleZoom: function(o, h) {
                    var v = this.options.crs;
                    h = h === void 0 ? this._zoom : h;
                    var k = v.zoom(o * v.scale(h));
                    return isNaN(k) ? 1 / 0 : k
                },
                project: function(o, h) {
                    return h = h === void 0 ? this._zoom : h, this.options.crs.latLngToPoint(Ue(o), h)
                },
                unproject: function(o, h) {
                    return h = h === void 0 ? this._zoom : h, this.options.crs.pointToLatLng(ue(o), h)
                },
                layerPointToLatLng: function(o) {
                    var h = ue(o).add(this.getPixelOrigin());
                    return this.unproject(h)
                },
                latLngToLayerPoint: function(o) {
                    var h = this.project(Ue(o))._round();
                    return h._subtract(this.getPixelOrigin())
                },
                wrapLatLng: function(o) {
                    return this.options.crs.wrapLatLng(Ue(o))
                },
                wrapLatLngBounds: function(o) {
                    return this.options.crs.wrapLatLngBounds(De(o))
                },
                distance: function(o, h) {
                    return this.options.crs.distance(Ue(o), Ue(h))
                },
                containerPointToLayerPoint: function(o) {
                    return ue(o).subtract(this._getMapPanePos())
                },
                layerPointToContainerPoint: function(o) {
                    return ue(o).add(this._getMapPanePos())
                },
                containerPointToLatLng: function(o) {
                    var h = this.containerPointToLayerPoint(ue(o));
                    return this.layerPointToLatLng(h)
                },
                latLngToContainerPoint: function(o) {
                    return this.layerPointToContainerPoint(this.latLngToLayerPoint(Ue(o)))
                },
                mouseEventToContainerPoint: function(o) {
                    return ko(o, this._container)
                },
                mouseEventToLayerPoint: function(o) {
                    return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(o))
                },
                mouseEventToLatLng: function(o) {
                    return this.layerPointToLatLng(this.mouseEventToLayerPoint(o))
                },
                _initContainer: function(o) {
                    var h = this._container = ln(o);
                    if (h) {
                        if (h._leaflet_id) throw new Error("Map container is already initialized.")
                    } else throw new Error("Map container not found.");
                    Xt(h, "scroll", this._onScroll, this), this._containerId = s(h)
                },
                _initLayout: function() {
                    var o = this._container;
                    this._fadeAnimated = this.options.fadeAnimation && Tt.any3d, Gt(o, "leaflet-container" + (Tt.touch ? " leaflet-touch" : "") + (Tt.retina ? " leaflet-retina" : "") + (Tt.ielt9 ? " leaflet-oldie" : "") + (Tt.safari ? " leaflet-safari" : "") + (this._fadeAnimated ? " leaflet-fade-anim" : ""));
                    var h = Bn(o, "position");
                    h !== "absolute" && h !== "relative" && h !== "fixed" && h !== "sticky" && (o.style.position = "relative"), this._initPanes(), this._initControlPos && this._initControlPos()
                },
                _initPanes: function() {
                    var o = this._panes = {};
                    this._paneRenderers = {}, this._mapPane = this.createPane("mapPane", this._container), li(this._mapPane, new re(0, 0)), this.createPane("tilePane"), this.createPane("overlayPane"), this.createPane("shadowPane"), this.createPane("markerPane"), this.createPane("tooltipPane"), this.createPane("popupPane"), this.options.markerZoomAnimation || (Gt(o.markerPane, "leaflet-zoom-hide"), Gt(o.shadowPane, "leaflet-zoom-hide"))
                },
                _resetView: function(o, h, v) {
                    li(this._mapPane, new re(0, 0));
                    var k = !this._loaded;
                    this._loaded = !0, h = this._limitZoom(h), this.fire("viewprereset");
                    var U = this._zoom !== h;
                    this._moveStart(U, v)._move(o, h)._moveEnd(U), this.fire("viewreset"), k && this.fire("load")
                },
                _moveStart: function(o, h) {
                    return o && this.fire("zoomstart"), h || this.fire("movestart"), this
                },
                _move: function(o, h, v, k) {
                    h === void 0 && (h = this._zoom);
                    var U = this._zoom !== h;
                    return this._zoom = h, this._lastCenter = o, this._pixelOrigin = this._getNewPixelOrigin(o), k ? v && v.pinch && this.fire("zoom", v) : ((U || v && v.pinch) && this.fire("zoom", v), this.fire("move", v)), this
                },
                _moveEnd: function(o) {
                    return o && this.fire("zoomend"), this.fire("moveend")
                },
                _stop: function() {
                    return V(this._flyToFrame), this._panAnim && this._panAnim.stop(), this
                },
                _rawPanBy: function(o) {
                    li(this._mapPane, this._getMapPanePos().subtract(o))
                },
                _getZoomSpan: function() {
                    return this.getMaxZoom() - this.getMinZoom()
                },
                _panInsideMaxBounds: function() {
                    this._enforcingBounds || this.panInsideBounds(this.options.maxBounds)
                },
                _checkIfLoaded: function() {
                    if (!this._loaded) throw new Error("Set map center and zoom first.")
                },
                _initEvents: function(o) {
                    this._targets = {}, this._targets[s(this._container)] = this;
                    var h = o ? Ui : Xt;
                    h(this._container, "click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup", this._handleDOMEvent, this), this.options.trackResize && h(window, "resize", this._onResize, this), Tt.any3d && this.options.transform3DLimit && (o ? this.off : this.on).call(this, "moveend", this._onMoveEnd)
                },
                _onResize: function() {
                    V(this._resizeRequest), this._resizeRequest = me(function() {
                        this.invalidateSize({
                            debounceMoveend: !0
                        })
                    }, this)
                },
                _onScroll: function() {
                    this._container.scrollTop = 0, this._container.scrollLeft = 0
                },
                _onMoveEnd: function() {
                    var o = this._getMapPanePos();
                    Math.max(Math.abs(o.x), Math.abs(o.y)) >= this.options.transform3DLimit && this._resetView(this.getCenter(), this.getZoom())
                },
                _findEventTargets: function(o, h) {
                    for (var v = [], k, U = h === "mouseout" || h === "mouseover", Z = o.target || o.srcElement, de = !1; Z;) {
                        if (k = this._targets[s(Z)], k && (h === "click" || h === "preclick") && this._draggableMoved(k)) {
                            de = !0;
                            break
                        }
                        if (k && k.listens(h, !0) && (U && !Sa(Z, o) || (v.push(k), U)) || Z === this._container) break;
                        Z = Z.parentNode
                    }
                    return !v.length && !de && !U && this.listens(h, !0) && (v = [this]), v
                },
                _isClickDisabled: function(o) {
                    for (; o && o !== this._container;) {
                        if (o._leaflet_disable_click) return !0;
                        o = o.parentNode
                    }
                },
                _handleDOMEvent: function(o) {
                    var h = o.target || o.srcElement;
                    if (!(!this._loaded || h._leaflet_disable_events || o.type === "click" && this._isClickDisabled(h))) {
                        var v = o.type;
                        v === "mousedown" && Ts(h), this._fireDOMEvent(o, v)
                    }
                },
                _mouseEvents: ["click", "dblclick", "mouseover", "mouseout", "contextmenu"],
                _fireDOMEvent: function(o, h, v) {
                    if (o.type === "click") {
                        var k = i({}, o);
                        k.type = "preclick", this._fireDOMEvent(k, k.type, v)
                    }
                    var U = this._findEventTargets(o, h);
                    if (v) {
                        for (var Z = [], de = 0; de < v.length; de++) v[de].listens(h, !0) && Z.push(v[de]);
                        U = Z.concat(U)
                    }
                    if (U.length) {
                        h === "contextmenu" && Ln(o);
                        var Pe = U[0],
                            Oe = {
                                originalEvent: o
                            };
                        if (o.type !== "keypress" && o.type !== "keydown" && o.type !== "keyup") {
                            var tt = Pe.getLatLng && (!Pe._radius || Pe._radius <= 10);
                            Oe.containerPoint = tt ? this.latLngToContainerPoint(Pe.getLatLng()) : this.mouseEventToContainerPoint(o), Oe.layerPoint = this.containerPointToLayerPoint(Oe.containerPoint), Oe.latlng = tt ? Pe.getLatLng() : this.layerPointToLatLng(Oe.layerPoint)
                        }
                        for (de = 0; de < U.length; de++)
                            if (U[de].fire(h, Oe, !0), Oe.originalEvent._stopped || U[de].options.bubblingMouseEvents === !1 && D(this._mouseEvents, h) !== -1) return
                    }
                },
                _draggableMoved: function(o) {
                    return o = o.dragging && o.dragging.enabled() ? o : this, o.dragging && o.dragging.moved() || this.boxZoom && this.boxZoom.moved()
                },
                _clearHandlers: function() {
                    for (var o = 0, h = this._handlers.length; o < h; o++) this._handlers[o].disable()
                },
                whenReady: function(o, h) {
                    return this._loaded ? o.call(h || this, {
                        target: this
                    }) : this.on("load", o, h), this
                },
                _getMapPanePos: function() {
                    return ir(this._mapPane) || new re(0, 0)
                },
                _moved: function() {
                    var o = this._getMapPanePos();
                    return o && !o.equals([0, 0])
                },
                _getTopLeftPoint: function(o, h) {
                    var v = o && h !== void 0 ? this._getNewPixelOrigin(o, h) : this.getPixelOrigin();
                    return v.subtract(this._getMapPanePos())
                },
                _getNewPixelOrigin: function(o, h) {
                    var v = this.getSize()._divideBy(2);
                    return this.project(o, h)._subtract(v)._add(this._getMapPanePos())._round()
                },
                _latLngToNewLayerPoint: function(o, h, v) {
                    var k = this._getNewPixelOrigin(v, h);
                    return this.project(o, h)._subtract(k)
                },
                _latLngBoundsToNewLayerBounds: function(o, h, v) {
                    var k = this._getNewPixelOrigin(v, h);
                    return te([this.project(o.getSouthWest(), h)._subtract(k), this.project(o.getNorthWest(), h)._subtract(k), this.project(o.getSouthEast(), h)._subtract(k), this.project(o.getNorthEast(), h)._subtract(k)])
                },
                _getCenterLayerPoint: function() {
                    return this.containerPointToLayerPoint(this.getSize()._divideBy(2))
                },
                _getCenterOffset: function(o) {
                    return this.latLngToLayerPoint(o).subtract(this._getCenterLayerPoint())
                },
                _limitCenter: function(o, h, v) {
                    if (!v) return o;
                    var k = this.project(o, h),
                        U = this.getSize().divideBy(2),
                        Z = new ie(k.subtract(U), k.add(U)),
                        de = this._getBoundsOffset(Z, v, h);
                    return Math.abs(de.x) <= 1 && Math.abs(de.y) <= 1 ? o : this.unproject(k.add(de), h)
                },
                _limitOffset: function(o, h) {
                    if (!h) return o;
                    var v = this.getPixelBounds(),
                        k = new ie(v.min.add(o), v.max.add(o));
                    return o.add(this._getBoundsOffset(k, h))
                },
                _getBoundsOffset: function(o, h, v) {
                    var k = te(this.project(h.getNorthEast(), v), this.project(h.getSouthWest(), v)),
                        U = k.min.subtract(o.min),
                        Z = k.max.subtract(o.max),
                        de = this._rebound(U.x, -Z.x),
                        Pe = this._rebound(U.y, -Z.y);
                    return new re(de, Pe)
                },
                _rebound: function(o, h) {
                    return o + h > 0 ? Math.round(o - h) / 2 : Math.max(0, Math.ceil(o)) - Math.max(0, Math.floor(h))
                },
                _limitZoom: function(o) {
                    var h = this.getMinZoom(),
                        v = this.getMaxZoom(),
                        k = Tt.any3d ? this.options.zoomSnap : 1;
                    return k && (o = Math.round(o / k) * k), Math.max(h, Math.min(v, o))
                },
                _onPanTransitionStep: function() {
                    this.fire("move")
                },
                _onPanTransitionEnd: function() {
                    Zi(this._mapPane, "leaflet-pan-anim"), this.fire("moveend")
                },
                _tryAnimatedPan: function(o, h) {
                    var v = this._getCenterOffset(o)._trunc();
                    return (h && h.animate) !== !0 && !this.getSize().contains(v) ? !1 : (this.panBy(v, h), !0)
                },
                _createAnimProxy: function() {
                    var o = this._proxy = Ee("div", "leaflet-proxy leaflet-zoom-animated");
                    this._panes.mapPane.appendChild(o), this.on("zoomanim", function(h) {
                        var v = ua,
                            k = this._proxy.style[v];
                        Ma(this._proxy, this.project(h.center, h.zoom), this.getZoomScale(h.zoom, 1)), k === this._proxy.style[v] && this._animatingZoom && this._onZoomTransitionEnd()
                    }, this), this.on("load moveend", this._animMoveEnd, this), this._on("unload", this._destroyAnimProxy, this)
                },
                _destroyAnimProxy: function() {
                    ze(this._proxy), this.off("load moveend", this._animMoveEnd, this), delete this._proxy
                },
                _animMoveEnd: function() {
                    var o = this.getCenter(),
                        h = this.getZoom();
                    Ma(this._proxy, this.project(o, h), this.getZoomScale(h, 1))
                },
                _catchTransitionEnd: function(o) {
                    this._animatingZoom && o.propertyName.indexOf("transform") >= 0 && this._onZoomTransitionEnd()
                },
                _nothingToAnimate: function() {
                    return !this._container.getElementsByClassName("leaflet-zoom-animated").length
                },
                _tryAnimatedZoom: function(o, h, v) {
                    if (this._animatingZoom) return !0;
                    if (v = v || {}, !this._zoomAnimated || v.animate === !1 || this._nothingToAnimate() || Math.abs(h - this._zoom) > this.options.zoomAnimationThreshold) return !1;
                    var k = this.getZoomScale(h),
                        U = this._getCenterOffset(o)._divideBy(1 - 1 / k);
                    return v.animate !== !0 && !this.getSize().contains(U) ? !1 : (me(function() {
                        this._moveStart(!0, v.noMoveStart || !1)._animateZoom(o, h, !0)
                    }, this), !0)
                },
                _animateZoom: function(o, h, v, k) {
                    this._mapPane && (v && (this._animatingZoom = !0, this._animateToCenter = o, this._animateToZoom = h, Gt(this._mapPane, "leaflet-zoom-anim")), this.fire("zoomanim", {
                        center: o,
                        zoom: h,
                        noUpdate: k
                    }), this._tempFireZoomEvent || (this._tempFireZoomEvent = this._zoom !== this._animateToZoom), this._move(this._animateToCenter, this._animateToZoom, void 0, !0), setTimeout(r(this._onZoomTransitionEnd, this), 250))
                },
                _onZoomTransitionEnd: function() {
                    this._animatingZoom && (this._mapPane && Zi(this._mapPane, "leaflet-zoom-anim"), this._animatingZoom = !1, this._move(this._animateToCenter, this._animateToZoom, void 0, !0), this._tempFireZoomEvent && this.fire("zoom"), delete this._tempFireZoomEvent, this.fire("move"), this._moveEnd(!0))
                }
            });

        function eu(o, h) {
            return new pi(o, h)
        }
        var Zn = P.extend({
                options: {
                    position: "topright"
                },
                initialize: function(o) {
                    x(this, o)
                },
                getPosition: function() {
                    return this.options.position
                },
                setPosition: function(o) {
                    var h = this._map;
                    return h && h.removeControl(this), this.options.position = o, h && h.addControl(this), this
                },
                getContainer: function() {
                    return this._container
                },
                addTo: function(o) {
                    this.remove(), this._map = o;
                    var h = this._container = this.onAdd(o),
                        v = this.getPosition(),
                        k = o._controlCorners[v];
                    return Gt(h, "leaflet-control"), v.indexOf("bottom") !== -1 ? k.insertBefore(h, k.firstChild) : k.appendChild(h), this._map.on("unload", this.remove, this), this
                },
                remove: function() {
                    return this._map ? (ze(this._container), this.onRemove && this.onRemove(this._map), this._map.off("unload", this.remove, this), this._map = null, this) : this
                },
                _refocusOnMap: function(o) {
                    this._map && o && o.screenX > 0 && o.screenY > 0 && this._map.getContainer().focus()
                }
            }),
            g = function(o) {
                return new Zn(o)
            };
        pi.include({
            addControl: function(o) {
                return o.addTo(this), this
            },
            removeControl: function(o) {
                return o.remove(), this
            },
            _initControlPos: function() {
                var o = this._controlCorners = {},
                    h = "leaflet-",
                    v = this._controlContainer = Ee("div", h + "control-container", this._container);

                function k(U, Z) {
                    var de = h + U + " " + h + Z;
                    o[U + Z] = Ee("div", de, v)
                }
                k("top", "left"), k("top", "right"), k("bottom", "left"), k("bottom", "right")
            },
            _clearControlPos: function() {
                for (var o in this._controlCorners) ze(this._controlCorners[o]);
                ze(this._controlContainer), delete this._controlCorners, delete this._controlContainer
            }
        });
        var b = Zn.extend({
                options: {
                    collapsed: !0,
                    position: "topright",
                    autoZIndex: !0,
                    hideSingleBase: !1,
                    sortLayers: !1,
                    sortFunction: function(o, h, v, k) {
                        return v < k ? -1 : k < v ? 1 : 0
                    }
                },
                initialize: function(o, h, v) {
                    x(this, v), this._layerControlInputs = [], this._layers = [], this._lastZIndex = 0, this._handlingClick = !1, this._preventClick = !1;
                    for (var k in o) this._addLayer(o[k], k);
                    for (k in h) this._addLayer(h[k], k, !0)
                },
                onAdd: function(o) {
                    this._initLayout(), this._update(), this._map = o, o.on("zoomend", this._checkDisabledLayers, this);
                    for (var h = 0; h < this._layers.length; h++) this._layers[h].layer.on("add remove", this._onLayerChange, this);
                    return this._container
                },
                addTo: function(o) {
                    return Zn.prototype.addTo.call(this, o), this._expandIfNotCollapsed()
                },
                onRemove: function() {
                    this._map.off("zoomend", this._checkDisabledLayers, this);
                    for (var o = 0; o < this._layers.length; o++) this._layers[o].layer.off("add remove", this._onLayerChange, this)
                },
                addBaseLayer: function(o, h) {
                    return this._addLayer(o, h), this._map ? this._update() : this
                },
                addOverlay: function(o, h) {
                    return this._addLayer(o, h, !0), this._map ? this._update() : this
                },
                removeLayer: function(o) {
                    o.off("add remove", this._onLayerChange, this);
                    var h = this._getLayer(s(o));
                    return h && this._layers.splice(this._layers.indexOf(h), 1), this._map ? this._update() : this
                },
                expand: function() {
                    Gt(this._container, "leaflet-control-layers-expanded"), this._section.style.height = null;
                    var o = this._map.getSize().y - (this._container.offsetTop + 50);
                    return o < this._section.clientHeight ? (Gt(this._section, "leaflet-control-layers-scrollbar"), this._section.style.height = o + "px") : Zi(this._section, "leaflet-control-layers-scrollbar"), this._checkDisabledLayers(), this
                },
                collapse: function() {
                    return Zi(this._container, "leaflet-control-layers-expanded"), this
                },
                _initLayout: function() {
                    var o = "leaflet-control-layers",
                        h = this._container = Ee("div", o),
                        v = this.options.collapsed;
                    h.setAttribute("aria-haspopup", !0), Ua(h), Ws(h);
                    var k = this._section = Ee("section", o + "-list");
                    v && (this._map.on("click", this.collapse, this), Xt(h, {
                        mouseenter: this._expandSafely,
                        mouseleave: this.collapse
                    }, this));
                    var U = this._layersLink = Ee("a", o + "-toggle", h);
                    U.href = "#", U.title = "Layers", U.setAttribute("role", "button"), Xt(U, {
                        keydown: function(Z) {
                            Z.keyCode === 13 && this._expandSafely()
                        },
                        click: function(Z) {
                            Ln(Z), this._expandSafely()
                        }
                    }, this), v || this.expand(), this._baseLayersList = Ee("div", o + "-base", k), this._separator = Ee("div", o + "-separator", k), this._overlaysList = Ee("div", o + "-overlays", k), h.appendChild(k)
                },
                _getLayer: function(o) {
                    for (var h = 0; h < this._layers.length; h++)
                        if (this._layers[h] && s(this._layers[h].layer) === o) return this._layers[h]
                },
                _addLayer: function(o, h, v) {
                    this._map && o.on("add remove", this._onLayerChange, this), this._layers.push({
                        layer: o,
                        name: h,
                        overlay: v
                    }), this.options.sortLayers && this._layers.sort(r(function(k, U) {
                        return this.options.sortFunction(k.layer, U.layer, k.name, U.name)
                    }, this)), this.options.autoZIndex && o.setZIndex && (this._lastZIndex++, o.setZIndex(this._lastZIndex)), this._expandIfNotCollapsed()
                },
                _update: function() {
                    if (!this._container) return this;
                    ot(this._baseLayersList), ot(this._overlaysList), this._layerControlInputs = [];
                    var o, h, v, k, U = 0;
                    for (v = 0; v < this._layers.length; v++) k = this._layers[v], this._addItem(k), h = h || k.overlay, o = o || !k.overlay, U += k.overlay ? 0 : 1;
                    return this.options.hideSingleBase && (o = o && U > 1, this._baseLayersList.style.display = o ? "" : "none"), this._separator.style.display = h && o ? "" : "none", this
                },
                _onLayerChange: function(o) {
                    this._handlingClick || this._update();
                    var h = this._getLayer(s(o.target)),
                        v = h.overlay ? o.type === "add" ? "overlayadd" : "overlayremove" : o.type === "add" ? "baselayerchange" : null;
                    v && this._map.fire(v, h)
                },
                _createRadioElement: function(o, h) {
                    var v = '<input type="radio" class="leaflet-control-layers-selector" name="' + o + '"' + (h ? ' checked="checked"' : "") + "/>",
                        k = document.createElement("div");
                    return k.innerHTML = v, k.firstChild
                },
                _addItem: function(o) {
                    var h = document.createElement("label"),
                        v = this._map.hasLayer(o.layer),
                        k;
                    o.overlay ? (k = document.createElement("input"), k.type = "checkbox", k.className = "leaflet-control-layers-selector", k.defaultChecked = v) : k = this._createRadioElement("leaflet-base-layers_" + s(this), v), this._layerControlInputs.push(k), k.layerId = s(o.layer), Xt(k, "click", this._onInputClick, this);
                    var U = document.createElement("span");
                    U.innerHTML = " " + o.name;
                    var Z = document.createElement("span");
                    h.appendChild(Z), Z.appendChild(k), Z.appendChild(U);
                    var de = o.overlay ? this._overlaysList : this._baseLayersList;
                    return de.appendChild(h), this._checkDisabledLayers(), h
                },
                _onInputClick: function() {
                    if (!this._preventClick) {
                        var o = this._layerControlInputs,
                            h, v, k = [],
                            U = [];
                        this._handlingClick = !0;
                        for (var Z = o.length - 1; Z >= 0; Z--) h = o[Z], v = this._getLayer(h.layerId).layer, h.checked ? k.push(v) : h.checked || U.push(v);
                        for (Z = 0; Z < U.length; Z++) this._map.hasLayer(U[Z]) && this._map.removeLayer(U[Z]);
                        for (Z = 0; Z < k.length; Z++) this._map.hasLayer(k[Z]) || this._map.addLayer(k[Z]);
                        this._handlingClick = !1, this._refocusOnMap()
                    }
                },
                _checkDisabledLayers: function() {
                    for (var o = this._layerControlInputs, h, v, k = this._map.getZoom(), U = o.length - 1; U >= 0; U--) h = o[U], v = this._getLayer(h.layerId).layer, h.disabled = v.options.minZoom !== void 0 && k < v.options.minZoom || v.options.maxZoom !== void 0 && k > v.options.maxZoom
                },
                _expandIfNotCollapsed: function() {
                    return this._map && !this.options.collapsed && this.expand(), this
                },
                _expandSafely: function() {
                    var o = this._section;
                    this._preventClick = !0, Xt(o, "click", Ln), this.expand();
                    var h = this;
                    setTimeout(function() {
                        Ui(o, "click", Ln), h._preventClick = !1
                    })
                }
            }),
            A = function(o, h, v) {
                return new b(o, h, v)
            },
            B = Zn.extend({
                options: {
                    position: "topleft",
                    zoomInText: '<span aria-hidden="true">+</span>',
                    zoomInTitle: "Zoom in",
                    zoomOutText: '<span aria-hidden="true">&#x2212;</span>',
                    zoomOutTitle: "Zoom out"
                },
                onAdd: function(o) {
                    var h = "leaflet-control-zoom",
                        v = Ee("div", h + " leaflet-bar"),
                        k = this.options;
                    return this._zoomInButton = this._createButton(k.zoomInText, k.zoomInTitle, h + "-in", v, this._zoomIn), this._zoomOutButton = this._createButton(k.zoomOutText, k.zoomOutTitle, h + "-out", v, this._zoomOut), this._updateDisabled(), o.on("zoomend zoomlevelschange", this._updateDisabled, this), v
                },
                onRemove: function(o) {
                    o.off("zoomend zoomlevelschange", this._updateDisabled, this)
                },
                disable: function() {
                    return this._disabled = !0, this._updateDisabled(), this
                },
                enable: function() {
                    return this._disabled = !1, this._updateDisabled(), this
                },
                _zoomIn: function(o) {
                    !this._disabled && this._map._zoom < this._map.getMaxZoom() && this._map.zoomIn(this._map.options.zoomDelta * (o.shiftKey ? 3 : 1))
                },
                _zoomOut: function(o) {
                    !this._disabled && this._map._zoom > this._map.getMinZoom() && this._map.zoomOut(this._map.options.zoomDelta * (o.shiftKey ? 3 : 1))
                },
                _createButton: function(o, h, v, k, U) {
                    var Z = Ee("a", v, k);
                    return Z.innerHTML = o, Z.href = "#", Z.title = h, Z.setAttribute("role", "button"), Z.setAttribute("aria-label", h), Ua(Z), Xt(Z, "click", fa), Xt(Z, "click", U, this), Xt(Z, "click", this._refocusOnMap, this), Z
                },
                _updateDisabled: function() {
                    var o = this._map,
                        h = "leaflet-disabled";
                    Zi(this._zoomInButton, h), Zi(this._zoomOutButton, h), this._zoomInButton.setAttribute("aria-disabled", "false"), this._zoomOutButton.setAttribute("aria-disabled", "false"), (this._disabled || o._zoom === o.getMinZoom()) && (Gt(this._zoomOutButton, h), this._zoomOutButton.setAttribute("aria-disabled", "true")), (this._disabled || o._zoom === o.getMaxZoom()) && (Gt(this._zoomInButton, h), this._zoomInButton.setAttribute("aria-disabled", "true"))
                }
            });
        pi.mergeOptions({
            zoomControl: !0
        }), pi.addInitHook(function() {
            this.options.zoomControl && (this.zoomControl = new B, this.addControl(this.zoomControl))
        });
        var z = function(o) {
                return new B(o)
            },
            c = Zn.extend({
                options: {
                    position: "bottomleft",
                    maxWidth: 100,
                    metric: !0,
                    imperial: !0
                },
                onAdd: function(o) {
                    var h = "leaflet-control-scale",
                        v = Ee("div", h),
                        k = this.options;
                    return this._addScales(k, h + "-line", v), o.on(k.updateWhenIdle ? "moveend" : "move", this._update, this), o.whenReady(this._update, this), v
                },
                onRemove: function(o) {
                    o.off(this.options.updateWhenIdle ? "moveend" : "move", this._update, this)
                },
                _addScales: function(o, h, v) {
                    o.metric && (this._mScale = Ee("div", h, v)), o.imperial && (this._iScale = Ee("div", h, v))
                },
                _update: function() {
                    var o = this._map,
                        h = o.getSize().y / 2,
                        v = o.distance(o.containerPointToLatLng([0, h]), o.containerPointToLatLng([this.options.maxWidth, h]));
                    this._updateScales(v)
                },
                _updateScales: function(o) {
                    this.options.metric && o && this._updateMetric(o), this.options.imperial && o && this._updateImperial(o)
                },
                _updateMetric: function(o) {
                    var h = this._getRoundNum(o),
                        v = h < 1e3 ? h + " m" : h / 1e3 + " km";
                    this._updateScale(this._mScale, v, h / o)
                },
                _updateImperial: function(o) {
                    var h = o * 3.2808399,
                        v, k, U;
                    h > 5280 ? (v = h / 5280, k = this._getRoundNum(v), this._updateScale(this._iScale, k + " mi", k / v)) : (U = this._getRoundNum(h), this._updateScale(this._iScale, U + " ft", U / h))
                },
                _updateScale: function(o, h, v) {
                    o.style.width = Math.round(this.options.maxWidth * v) + "px", o.innerHTML = h
                },
                _getRoundNum: function(o) {
                    var h = Math.pow(10, (Math.floor(o) + "").length - 1),
                        v = o / h;
                    return v = v >= 10 ? 10 : v >= 5 ? 5 : v >= 3 ? 3 : v >= 2 ? 2 : 1, h * v
                }
            }),
            p = function(o) {
                return new c(o)
            },
            _ = '<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',
            S = Zn.extend({
                options: {
                    position: "bottomright",
                    prefix: '<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">' + (Tt.inlineSvg ? _ + " " : "") + "Leaflet</a>"
                },
                initialize: function(o) {
                    x(this, o), this._attributions = {}
                },
                onAdd: function(o) {
                    o.attributionControl = this, this._container = Ee("div", "leaflet-control-attribution"), Ua(this._container);
                    for (var h in o._layers) o._layers[h].getAttribution && this.addAttribution(o._layers[h].getAttribution());
                    return this._update(), o.on("layeradd", this._addAttribution, this), this._container
                },
                onRemove: function(o) {
                    o.off("layeradd", this._addAttribution, this)
                },
                _addAttribution: function(o) {
                    o.layer.getAttribution && (this.addAttribution(o.layer.getAttribution()), o.layer.once("remove", function() {
                        this.removeAttribution(o.layer.getAttribution())
                    }, this))
                },
                setPrefix: function(o) {
                    return this.options.prefix = o, this._update(), this
                },
                addAttribution: function(o) {
                    return o ? (this._attributions[o] || (this._attributions[o] = 0), this._attributions[o]++, this._update(), this) : this
                },
                removeAttribution: function(o) {
                    return o ? (this._attributions[o] && (this._attributions[o]--, this._update()), this) : this
                },
                _update: function() {
                    if (this._map) {
                        var o = [];
                        for (var h in this._attributions) this._attributions[h] && o.push(h);
                        var v = [];
                        this.options.prefix && v.push(this.options.prefix), o.length && v.push(o.join(", ")), this._container.innerHTML = v.join(' <span aria-hidden="true">|</span> ')
                    }
                }
            });
        pi.mergeOptions({
            attributionControl: !0
        }), pi.addInitHook(function() {
            this.options.attributionControl && new S().addTo(this)
        });
        var R = function(o) {
            return new S(o)
        };
        Zn.Layers = b, Zn.Zoom = B, Zn.Scale = c, Zn.Attribution = S, g.layers = A, g.zoom = z, g.scale = p, g.attribution = R;
        var M = P.extend({
            initialize: function(o) {
                this._map = o
            },
            enable: function() {
                return this._enabled ? this : (this._enabled = !0, this.addHooks(), this)
            },
            disable: function() {
                return this._enabled ? (this._enabled = !1, this.removeHooks(), this) : this
            },
            enabled: function() {
                return !!this._enabled
            }
        });
        M.addTo = function(o, h) {
            return o.addHandler(h, this), this
        };
        var q = {
                Events: ce
            },
            j = Tt.touch ? "touchstart mousedown" : "mousedown",
            $ = ne.extend({
                options: {
                    clickTolerance: 3
                },
                initialize: function(o, h, v, k) {
                    x(this, k), this._element = o, this._dragStartTarget = h || o, this._preventOutline = v
                },
                enable: function() {
                    this._enabled || (Xt(this._dragStartTarget, j, this._onDown, this), this._enabled = !0)
                },
                disable: function() {
                    this._enabled && ($._dragging === this && this.finishDrag(!0), Ui(this._dragStartTarget, j, this._onDown, this), this._enabled = !1, this._moved = !1)
                },
                _onDown: function(o) {
                    if (this._enabled && (this._moved = !1, !Gi(this._element, "leaflet-zoom-anim"))) {
                        if (o.touches && o.touches.length !== 1) {
                            $._dragging === this && this.finishDrag();
                            return
                        }
                        if (!($._dragging || o.shiftKey || o.which !== 1 && o.button !== 1 && !o.touches) && ($._dragging = this, this._preventOutline && Ts(this._element), hr(), Br(), !this._moving)) {
                            this.fire("down");
                            var h = o.touches ? o.touches[0] : o,
                                v = So(this._element);
                            this._startPoint = new re(h.clientX, h.clientY), this._startPos = ir(this._element), this._parentScale = Ja(v);
                            var k = o.type === "mousedown";
                            Xt(document, k ? "mousemove" : "touchmove", this._onMove, this), Xt(document, k ? "mouseup" : "touchend touchcancel", this._onUp, this)
                        }
                    }
                },
                _onMove: function(o) {
                    if (this._enabled) {
                        if (o.touches && o.touches.length > 1) {
                            this._moved = !0;
                            return
                        }
                        var h = o.touches && o.touches.length === 1 ? o.touches[0] : o,
                            v = new re(h.clientX, h.clientY)._subtract(this._startPoint);
                        !v.x && !v.y || Math.abs(v.x) + Math.abs(v.y) < this.options.clickTolerance || (v.x /= this._parentScale.x, v.y /= this._parentScale.y, Ln(o), this._moved || (this.fire("dragstart"), this._moved = !0, Gt(document.body, "leaflet-dragging"), this._lastTarget = o.target || o.srcElement, window.SVGElementInstance && this._lastTarget instanceof window.SVGElementInstance && (this._lastTarget = this._lastTarget.correspondingUseElement), Gt(this._lastTarget, "leaflet-drag-target")), this._newPos = this._startPos.add(v), this._moving = !0, this._lastEvent = o, this._updatePosition())
                    }
                },
                _updatePosition: function() {
                    var o = {
                        originalEvent: this._lastEvent
                    };
                    this.fire("predrag", o), li(this._element, this._newPos), this.fire("drag", o)
                },
                _onUp: function() {
                    this._enabled && this.finishDrag()
                },
                finishDrag: function(o) {
                    Zi(document.body, "leaflet-dragging"), this._lastTarget && (Zi(this._lastTarget, "leaflet-drag-target"), this._lastTarget = null), Ui(document, "mousemove touchmove", this._onMove, this), Ui(document, "mouseup touchend touchcancel", this._onUp, this), Xa(), Ss();
                    var h = this._moved && this._moving;
                    this._moving = !1, $._dragging = !1, h && this.fire("dragend", {
                        noInertia: o,
                        distance: this._newPos.distanceTo(this._startPos)
                    })
                }
            });

        function he(o, h, v) {
            var k, U = [1, 4, 2, 8],
                Z, de, Pe, Oe, tt, Ct, Zt, gi;
            for (Z = 0, Ct = o.length; Z < Ct; Z++) o[Z]._code = $i(o[Z], h);
            for (Pe = 0; Pe < 4; Pe++) {
                for (Zt = U[Pe], k = [], Z = 0, Ct = o.length, de = Ct - 1; Z < Ct; de = Z++) Oe = o[Z], tt = o[de], Oe._code & Zt ? tt._code & Zt || (gi = Yt(tt, Oe, Zt, h, v), gi._code = $i(gi, h), k.push(gi)) : (tt._code & Zt && (gi = Yt(tt, Oe, Zt, h, v), gi._code = $i(gi, h), k.push(gi)), k.push(Oe));
                o = k
            }
            return o
        }

        function Te(o, h) {
            var v, k, U, Z, de, Pe, Oe, tt, Ct;
            if (!o || o.length === 0) throw new Error("latlngs not passed");
            Di(o) || (console.warn("latlngs are not flat! Only the first ring will be used"), o = o[0]);
            var Zt = Ue([0, 0]),
                gi = De(o),
                Ur = gi.getNorthWest().distanceTo(gi.getSouthWest()) * gi.getNorthEast().distanceTo(gi.getNorthWest());
            Ur < 1700 && (Zt = Le(o));
            var rr = o.length,
                La = [];
            for (v = 0; v < rr; v++) {
                var Jr = Ue(o[v]);
                La.push(h.project(Ue([Jr.lat - Zt.lat, Jr.lng - Zt.lng])))
            }
            for (Pe = Oe = tt = 0, v = 0, k = rr - 1; v < rr; k = v++) U = La[v], Z = La[k], de = U.y * Z.x - Z.y * U.x, Oe += (U.x + Z.x) * de, tt += (U.y + Z.y) * de, Pe += de * 3;
            Pe === 0 ? Ct = La[0] : Ct = [Oe / Pe, tt / Pe];
            var ll = h.unproject(ue(Ct));
            return Ue([ll.lat + Zt.lat, ll.lng + Zt.lng])
        }

        function Le(o) {
            for (var h = 0, v = 0, k = 0, U = 0; U < o.length; U++) {
                var Z = Ue(o[U]);
                h += Z.lat, v += Z.lng, k++
            }
            return Ue([h / k, v / k])
        }
        var Ie = {
            __proto__: null,
            clipPolygon: he,
            polygonCenter: Te,
            centroid: Le
        };

        function Ge(o, h) {
            if (!h || !o.length) return o.slice();
            var v = h * h;
            return o = Mt(o, v), o = ct(o, v), o
        }

        function Dt(o, h, v) {
            return Math.sqrt(Ei(o, h, v, !0))
        }

        function kt(o, h, v) {
            return Ei(o, h, v)
        }

        function ct(o, h) {
            var v = o.length,
                k = typeof Uint8Array != void 0 + "" ? Uint8Array : Array,
                U = new k(v);
            U[0] = U[v - 1] = 1, wi(o, U, h, 0, v - 1);
            var Z, de = [];
            for (Z = 0; Z < v; Z++) U[Z] && de.push(o[Z]);
            return de
        }

        function wi(o, h, v, k, U) {
            var Z = 0,
                de, Pe, Oe;
            for (Pe = k + 1; Pe <= U - 1; Pe++) Oe = Ei(o[Pe], o[k], o[U], !0), Oe > Z && (de = Pe, Z = Oe);
            Z > v && (h[de] = 1, wi(o, h, v, k, de), wi(o, h, v, de, U))
        }

        function Mt(o, h) {
            for (var v = [o[0]], k = 1, U = 0, Z = o.length; k < Z; k++) ii(o[k], o[U]) > h && (v.push(o[k]), U = k);
            return U < Z - 1 && v.push(o[Z - 1]), v
        }
        var vi;

        function Xn(o, h, v, k, U) {
            var Z = k ? vi : $i(o, v),
                de = $i(h, v),
                Pe, Oe, tt;
            for (vi = de;;) {
                if (!(Z | de)) return [o, h];
                if (Z & de) return !1;
                Pe = Z || de, Oe = Yt(o, h, Pe, v, U), tt = $i(Oe, v), Pe === Z ? (o = Oe, Z = tt) : (h = Oe, de = tt)
            }
        }

        function Yt(o, h, v, k, U) {
            var Z = h.x - o.x,
                de = h.y - o.y,
                Pe = k.min,
                Oe = k.max,
                tt, Ct;
            return v & 8 ? (tt = o.x + Z * (Oe.y - o.y) / de, Ct = Oe.y) : v & 4 ? (tt = o.x + Z * (Pe.y - o.y) / de, Ct = Pe.y) : v & 2 ? (tt = Oe.x, Ct = o.y + de * (Oe.x - o.x) / Z) : v & 1 && (tt = Pe.x, Ct = o.y + de * (Pe.x - o.x) / Z), new re(tt, Ct, U)
        }

        function $i(o, h) {
            var v = 0;
            return o.x < h.min.x ? v |= 1 : o.x > h.max.x && (v |= 2), o.y < h.min.y ? v |= 4 : o.y > h.max.y && (v |= 8), v
        }

        function ii(o, h) {
            var v = h.x - o.x,
                k = h.y - o.y;
            return v * v + k * k
        }

        function Ei(o, h, v, k) {
            var U = h.x,
                Z = h.y,
                de = v.x - U,
                Pe = v.y - Z,
                Oe = de * de + Pe * Pe,
                tt;
            return Oe > 0 && (tt = ((o.x - U) * de + (o.y - Z) * Pe) / Oe, tt > 1 ? (U = v.x, Z = v.y) : tt > 0 && (U += de * tt, Z += Pe * tt)), de = o.x - U, Pe = o.y - Z, k ? de * de + Pe * Pe : new re(U, Z)
        }

        function Di(o) {
            return !O(o[0]) || typeof o[0][0] != "object" && typeof o[0][0] < "u"
        }

        function Mr(o) {
            return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."), Di(o)
        }

        function tn(o, h) {
            var v, k, U, Z, de, Pe, Oe, tt;
            if (!o || o.length === 0) throw new Error("latlngs not passed");
            Di(o) || (console.warn("latlngs are not flat! Only the first ring will be used"), o = o[0]);
            var Ct = Ue([0, 0]),
                Zt = De(o),
                gi = Zt.getNorthWest().distanceTo(Zt.getSouthWest()) * Zt.getNorthEast().distanceTo(Zt.getNorthWest());
            gi < 1700 && (Ct = Le(o));
            var Ur = o.length,
                rr = [];
            for (v = 0; v < Ur; v++) {
                var La = Ue(o[v]);
                rr.push(h.project(Ue([La.lat - Ct.lat, La.lng - Ct.lng])))
            }
            for (v = 0, k = 0; v < Ur - 1; v++) k += rr[v].distanceTo(rr[v + 1]) / 2;
            if (k === 0) tt = rr[0];
            else
                for (v = 0, Z = 0; v < Ur - 1; v++)
                    if (de = rr[v], Pe = rr[v + 1], U = de.distanceTo(Pe), Z += U, Z > k) {
                        Oe = (Z - k) / U, tt = [Pe.x - Oe * (Pe.x - de.x), Pe.y - Oe * (Pe.y - de.y)];
                        break
                    } var Jr = h.unproject(ue(tt));
            return Ue([Jr.lat + Ct.lat, Jr.lng + Ct.lng])
        }
        var Cr = {
                __proto__: null,
                simplify: Ge,
                pointToSegmentDistance: Dt,
                closestPointOnSegment: kt,
                clipSegment: Xn,
                _getEdgeIntersection: Yt,
                _getBitCode: $i,
                _sqClosestPointOnSegment: Ei,
                isFlat: Di,
                _flat: Mr,
                polylineCenter: tn
            },
            dr = {
                project: function(o) {
                    return new re(o.lng, o.lat)
                },
                unproject: function(o) {
                    return new ye(o.y, o.x)
                },
                bounds: new ie([-180, -90], [180, 90])
            },
            qn = {
                R: 6378137,
                R_MINOR: 6356752314245179e-9,
                bounds: new ie([-2003750834279e-5, -1549657073972e-5], [2003750834279e-5, 1876465623138e-5]),
                project: function(o) {
                    var h = Math.PI / 180,
                        v = this.R,
                        k = o.lat * h,
                        U = this.R_MINOR / v,
                        Z = Math.sqrt(1 - U * U),
                        de = Z * Math.sin(k),
                        Pe = Math.tan(Math.PI / 4 - k / 2) / Math.pow((1 - de) / (1 + de), Z / 2);
                    return k = -v * Math.log(Math.max(Pe, 1e-10)), new re(o.lng * h * v, k)
                },
                unproject: function(o) {
                    for (var h = 180 / Math.PI, v = this.R, k = this.R_MINOR / v, U = Math.sqrt(1 - k * k), Z = Math.exp(-o.y / v), de = Math.PI / 2 - 2 * Math.atan(Z), Pe = 0, Oe = .1, tt; Pe < 15 && Math.abs(Oe) > 1e-7; Pe++) tt = U * Math.sin(de), tt = Math.pow((1 - tt) / (1 + tt), U / 2), Oe = Math.PI / 2 - 2 * Math.atan(Z * tt) - de, de += Oe;
                    return new ye(de * h, o.x * h / v)
                }
            },
            Gr = {
                __proto__: null,
                LonLat: dr,
                Mercator: qn,
                SphericalMercator: lt
            },
            Qt = i({}, at, {
                code: "EPSG:3395",
                projection: qn,
                transformation: function() {
                    var o = .5 / (Math.PI * qn.R);
                    return Bt(o, .5, -o, .5)
                }()
            }),
            Zr = i({}, at, {
                code: "EPSG:4326",
                projection: dr,
                transformation: Bt(1 / 180, 1, -1 / 180, .5)
            }),
            Xr = i({}, Qe, {
                projection: dr,
                transformation: Bt(1, 0, -1, 0),
                scale: function(o) {
                    return Math.pow(2, o)
                },
                zoom: function(o) {
                    return Math.log(o) / Math.LN2
                },
                distance: function(o, h) {
                    var v = h.lng - o.lng,
                        k = h.lat - o.lat;
                    return Math.sqrt(v * v + k * k)
                },
                infinite: !0
            });
        Qe.Earth = at, Qe.EPSG3395 = Qt, Qe.EPSG3857 = At, Qe.EPSG900913 = F, Qe.EPSG4326 = Zr, Qe.Simple = Xr;
        var un = ne.extend({
            options: {
                pane: "overlayPane",
                attribution: null,
                bubblingMouseEvents: !0
            },
            addTo: function(o) {
                return o.addLayer(this), this
            },
            remove: function() {
                return this.removeFrom(this._map || this._mapToAdd)
            },
            removeFrom: function(o) {
                return o && o.removeLayer(this), this
            },
            getPane: function(o) {
                return this._map.getPane(o ? this.options[o] || o : this.options.pane)
            },
            addInteractiveTarget: function(o) {
                return this._map._targets[s(o)] = this, this
            },
            removeInteractiveTarget: function(o) {
                return delete this._map._targets[s(o)], this
            },
            getAttribution: function() {
                return this.options.attribution
            },
            _layerAdd: function(o) {
                var h = o.target;
                if (h.hasLayer(this)) {
                    if (this._map = h, this._zoomAnimated = h._zoomAnimated, this.getEvents) {
                        var v = this.getEvents();
                        h.on(v, this), this.once("remove", function() {
                            h.off(v, this)
                        }, this)
                    }
                    this.onAdd(h), this.fire("add"), h.fire("layeradd", {
                        layer: this
                    })
                }
            }
        });
        pi.include({
            addLayer: function(o) {
                if (!o._layerAdd) throw new Error("The provided object is not a Layer.");
                var h = s(o);
                return this._layers[h] ? this : (this._layers[h] = o, o._mapToAdd = this, o.beforeAdd && o.beforeAdd(this), this.whenReady(o._layerAdd, o), this)
            },
            removeLayer: function(o) {
                var h = s(o);
                return this._layers[h] ? (this._loaded && o.onRemove(this), delete this._layers[h], this._loaded && (this.fire("layerremove", {
                    layer: o
                }), o.fire("remove")), o._map = o._mapToAdd = null, this) : this
            },
            hasLayer: function(o) {
                return s(o) in this._layers
            },
            eachLayer: function(o, h) {
                for (var v in this._layers) o.call(h, this._layers[v]);
                return this
            },
            _addLayers: function(o) {
                o = o ? O(o) ? o : [o] : [];
                for (var h = 0, v = o.length; h < v; h++) this.addLayer(o[h])
            },
            _addZoomLimit: function(o) {
                (!isNaN(o.options.maxZoom) || !isNaN(o.options.minZoom)) && (this._zoomBoundLayers[s(o)] = o, this._updateZoomLevels())
            },
            _removeZoomLimit: function(o) {
                var h = s(o);
                this._zoomBoundLayers[h] && (delete this._zoomBoundLayers[h], this._updateZoomLevels())
            },
            _updateZoomLevels: function() {
                var o = 1 / 0,
                    h = -1 / 0,
                    v = this._getZoomSpan();
                for (var k in this._zoomBoundLayers) {
                    var U = this._zoomBoundLayers[k].options;
                    o = U.minZoom === void 0 ? o : Math.min(o, U.minZoom), h = U.maxZoom === void 0 ? h : Math.max(h, U.maxZoom)
                }
                this._layersMaxZoom = h === -1 / 0 ? void 0 : h, this._layersMinZoom = o === 1 / 0 ? void 0 : o, v !== this._getZoomSpan() && this.fire("zoomlevelschange"), this.options.maxZoom === void 0 && this._layersMaxZoom && this.getZoom() > this._layersMaxZoom && this.setZoom(this._layersMaxZoom), this.options.minZoom === void 0 && this._layersMinZoom && this.getZoom() < this._layersMinZoom && this.setZoom(this._layersMinZoom)
            }
        });
        var ts = un.extend({
                initialize: function(o, h) {
                    x(this, h), this._layers = {};
                    var v, k;
                    if (o)
                        for (v = 0, k = o.length; v < k; v++) this.addLayer(o[v])
                },
                addLayer: function(o) {
                    var h = this.getLayerId(o);
                    return this._layers[h] = o, this._map && this._map.addLayer(o), this
                },
                removeLayer: function(o) {
                    var h = o in this._layers ? o : this.getLayerId(o);
                    return this._map && this._layers[h] && this._map.removeLayer(this._layers[h]), delete this._layers[h], this
                },
                hasLayer: function(o) {
                    var h = typeof o == "number" ? o : this.getLayerId(o);
                    return h in this._layers
                },
                clearLayers: function() {
                    return this.eachLayer(this.removeLayer, this)
                },
                invoke: function(o) {
                    var h = Array.prototype.slice.call(arguments, 1),
                        v, k;
                    for (v in this._layers) k = this._layers[v], k[o] && k[o].apply(k, h);
                    return this
                },
                onAdd: function(o) {
                    this.eachLayer(o.addLayer, o)
                },
                onRemove: function(o) {
                    this.eachLayer(o.removeLayer, o)
                },
                eachLayer: function(o, h) {
                    for (var v in this._layers) o.call(h, this._layers[v]);
                    return this
                },
                getLayer: function(o) {
                    return this._layers[o]
                },
                getLayers: function() {
                    var o = [];
                    return this.eachLayer(o.push, o), o
                },
                setZIndex: function(o) {
                    return this.invoke("setZIndex", o)
                },
                getLayerId: function(o) {
                    return s(o)
                }
            }),
            Zs = function(o, h) {
                return new ts(o, h)
            },
            ha = ts.extend({
                addLayer: function(o) {
                    return this.hasLayer(o) ? this : (o.addEventParent(this), ts.prototype.addLayer.call(this, o), this.fire("layeradd", {
                        layer: o
                    }))
                },
                removeLayer: function(o) {
                    return this.hasLayer(o) ? (o in this._layers && (o = this._layers[o]), o.removeEventParent(this), ts.prototype.removeLayer.call(this, o), this.fire("layerremove", {
                        layer: o
                    })) : this
                },
                setStyle: function(o) {
                    return this.invoke("setStyle", o)
                },
                bringToFront: function() {
                    return this.invoke("bringToFront")
                },
                bringToBack: function() {
                    return this.invoke("bringToBack")
                },
                getBounds: function() {
                    var o = new we;
                    for (var h in this._layers) {
                        var v = this._layers[h];
                        o.extend(v.getBounds ? v.getBounds() : v.getLatLng())
                    }
                    return o
                }
            }),
            ki = function(o, h) {
                return new ha(o, h)
            },
            da = P.extend({
                options: {
                    popupAnchor: [0, 0],
                    tooltipAnchor: [0, 0],
                    crossOrigin: !1
                },
                initialize: function(o) {
                    x(this, o)
                },
                createIcon: function(o) {
                    return this._createIcon("icon", o)
                },
                createShadow: function(o) {
                    return this._createIcon("shadow", o)
                },
                _createIcon: function(o, h) {
                    var v = this._getIconUrl(o);
                    if (!v) {
                        if (o === "icon") throw new Error("iconUrl not set in Icon options (see the docs).");
                        return null
                    }
                    var k = this._createImg(v, h && h.tagName === "IMG" ? h : null);
                    return this._setIconStyles(k, o), (this.options.crossOrigin || this.options.crossOrigin === "") && (k.crossOrigin = this.options.crossOrigin === !0 ? "" : this.options.crossOrigin), k
                },
                _setIconStyles: function(o, h) {
                    var v = this.options,
                        k = v[h + "Size"];
                    typeof k == "number" && (k = [k, k]);
                    var U = ue(k),
                        Z = ue(h === "shadow" && v.shadowAnchor || v.iconAnchor || U && U.divideBy(2, !0));
                    o.className = "leaflet-marker-" + h + " " + (v.className || ""), Z && (o.style.marginLeft = -Z.x + "px", o.style.marginTop = -Z.y + "px"), U && (o.style.width = U.x + "px", o.style.height = U.y + "px")
                },
                _createImg: function(o, h) {
                    return h = h || document.createElement("img"), h.src = o, h
                },
                _getIconUrl: function(o) {
                    return Tt.retina && this.options[o + "RetinaUrl"] || this.options[o + "Url"]
                }
            });

        function Or(o) {
            return new da(o)
        }
        var Yr = da.extend({
                options: {
                    iconUrl: "marker-icon.png",
                    iconRetinaUrl: "marker-icon-2x.png",
                    shadowUrl: "marker-shadow.png",
                    iconSize: [25, 41],
                    iconAnchor: [12, 41],
                    popupAnchor: [1, -34],
                    tooltipAnchor: [16, -28],
                    shadowSize: [41, 41]
                },
                _getIconUrl: function(o) {
                    return typeof Yr.imagePath != "string" && (Yr.imagePath = this._detectIconPath()), (this.options.imagePath || Yr.imagePath) + da.prototype._getIconUrl.call(this, o)
                },
                _stripUrl: function(o) {
                    var h = function(v, k, U) {
                        var Z = k.exec(v);
                        return Z && Z[U]
                    };
                    return o = h(o, /^url\((['"])?(.+)\1\)$/, 2), o && h(o, /^(.*)marker-icon\.png$/, 1)
                },
                _detectIconPath: function() {
                    var o = Ee("div", "leaflet-default-icon-path", document.body),
                        h = Bn(o, "background-image") || Bn(o, "backgroundImage");
                    if (document.body.removeChild(o), h = this._stripUrl(h), h) return h;
                    var v = document.querySelector('link[href$="leaflet.css"]');
                    return v ? v.href.substring(0, v.href.length - 11 - 1) : ""
                }
            }),
            Ls = M.extend({
                initialize: function(o) {
                    this._marker = o
                },
                addHooks: function() {
                    var o = this._marker._icon;
                    this._draggable || (this._draggable = new $(o, o, !0)), this._draggable.on({
                        dragstart: this._onDragStart,
                        predrag: this._onPreDrag,
                        drag: this._onDrag,
                        dragend: this._onDragEnd
                    }, this).enable(), Gt(o, "leaflet-marker-draggable")
                },
                removeHooks: function() {
                    this._draggable.off({
                        dragstart: this._onDragStart,
                        predrag: this._onPreDrag,
                        drag: this._onDrag,
                        dragend: this._onDragEnd
                    }, this).disable(), this._marker._icon && Zi(this._marker._icon, "leaflet-marker-draggable")
                },
                moved: function() {
                    return this._draggable && this._draggable._moved
                },
                _adjustPan: function(o) {
                    var h = this._marker,
                        v = h._map,
                        k = this._marker.options.autoPanSpeed,
                        U = this._marker.options.autoPanPadding,
                        Z = ir(h._icon),
                        de = v.getPixelBounds(),
                        Pe = v.getPixelOrigin(),
                        Oe = te(de.min._subtract(Pe).add(U), de.max._subtract(Pe).subtract(U));
                    if (!Oe.contains(Z)) {
                        var tt = ue((Math.max(Oe.max.x, Z.x) - Oe.max.x) / (de.max.x - Oe.max.x) - (Math.min(Oe.min.x, Z.x) - Oe.min.x) / (de.min.x - Oe.min.x), (Math.max(Oe.max.y, Z.y) - Oe.max.y) / (de.max.y - Oe.max.y) - (Math.min(Oe.min.y, Z.y) - Oe.min.y) / (de.min.y - Oe.min.y)).multiplyBy(k);
                        v.panBy(tt, {
                            animate: !1
                        }), this._draggable._newPos._add(tt), this._draggable._startPos._add(tt), li(h._icon, this._draggable._newPos), this._onDrag(o), this._panRequest = me(this._adjustPan.bind(this, o))
                    }
                },
                _onDragStart: function() {
                    this._oldLatLng = this._marker.getLatLng(), this._marker.closePopup && this._marker.closePopup(), this._marker.fire("movestart").fire("dragstart")
                },
                _onPreDrag: function(o) {
                    this._marker.options.autoPan && (V(this._panRequest), this._panRequest = me(this._adjustPan.bind(this, o)))
                },
                _onDrag: function(o) {
                    var h = this._marker,
                        v = h._shadow,
                        k = ir(h._icon),
                        U = h._map.layerPointToLatLng(k);
                    v && li(v, k), h._latlng = U, o.latlng = U, o.oldLatLng = this._oldLatLng, h.fire("move", o).fire("drag", o)
                },
                _onDragEnd: function(o) {
                    V(this._panRequest), delete this._oldLatLng, this._marker.fire("moveend").fire("dragend", o)
                }
            }),
            Xs = un.extend({
                options: {
                    icon: new Yr,
                    interactive: !0,
                    keyboard: !0,
                    title: "",
                    alt: "Marker",
                    zIndexOffset: 0,
                    opacity: 1,
                    riseOnHover: !1,
                    riseOffset: 250,
                    pane: "markerPane",
                    shadowPane: "shadowPane",
                    bubblingMouseEvents: !1,
                    autoPanOnFocus: !0,
                    draggable: !1,
                    autoPan: !1,
                    autoPanPadding: [50, 50],
                    autoPanSpeed: 10
                },
                initialize: function(o, h) {
                    x(this, h), this._latlng = Ue(o)
                },
                onAdd: function(o) {
                    this._zoomAnimated = this._zoomAnimated && o.options.markerZoomAnimation, this._zoomAnimated && o.on("zoomanim", this._animateZoom, this), this._initIcon(), this.update()
                },
                onRemove: function(o) {
                    this.dragging && this.dragging.enabled() && (this.options.draggable = !0, this.dragging.removeHooks()), delete this.dragging, this._zoomAnimated && o.off("zoomanim", this._animateZoom, this), this._removeIcon(), this._removeShadow()
                },
                getEvents: function() {
                    return {
                        zoom: this.update,
                        viewreset: this.update
                    }
                },
                getLatLng: function() {
                    return this._latlng
                },
                setLatLng: function(o) {
                    var h = this._latlng;
                    return this._latlng = Ue(o), this.update(), this.fire("move", {
                        oldLatLng: h,
                        latlng: this._latlng
                    })
                },
                setZIndexOffset: function(o) {
                    return this.options.zIndexOffset = o, this.update()
                },
                getIcon: function() {
                    return this.options.icon
                },
                setIcon: function(o) {
                    return this.options.icon = o, this._map && (this._initIcon(), this.update()), this._popup && this.bindPopup(this._popup, this._popup.options), this
                },
                getElement: function() {
                    return this._icon
                },
                update: function() {
                    if (this._icon && this._map) {
                        var o = this._map.latLngToLayerPoint(this._latlng).round();
                        this._setPos(o)
                    }
                    return this
                },
                _initIcon: function() {
                    var o = this.options,
                        h = "leaflet-zoom-" + (this._zoomAnimated ? "animated" : "hide"),
                        v = o.icon.createIcon(this._icon),
                        k = !1;
                    v !== this._icon && (this._icon && this._removeIcon(), k = !0, o.title && (v.title = o.title), v.tagName === "IMG" && (v.alt = o.alt || "")), Gt(v, h), o.keyboard && (v.tabIndex = "0", v.setAttribute("role", "button")), this._icon = v, o.riseOnHover && this.on({
                        mouseover: this._bringToFront,
                        mouseout: this._resetZIndex
                    }), this.options.autoPanOnFocus && Xt(v, "focus", this._panOnFocus, this);
                    var U = o.icon.createShadow(this._shadow),
                        Z = !1;
                    U !== this._shadow && (this._removeShadow(), Z = !0), U && (Gt(U, h), U.alt = ""), this._shadow = U, o.opacity < 1 && this._updateOpacity(), k && this.getPane().appendChild(this._icon), this._initInteraction(), U && Z && this.getPane(o.shadowPane).appendChild(this._shadow)
                },
                _removeIcon: function() {
                    this.options.riseOnHover && this.off({
                        mouseover: this._bringToFront,
                        mouseout: this._resetZIndex
                    }), this.options.autoPanOnFocus && Ui(this._icon, "focus", this._panOnFocus, this), ze(this._icon), this.removeInteractiveTarget(this._icon), this._icon = null
                },
                _removeShadow: function() {
                    this._shadow && ze(this._shadow), this._shadow = null
                },
                _setPos: function(o) {
                    this._icon && li(this._icon, o), this._shadow && li(this._shadow, o), this._zIndex = o.y + this.options.zIndexOffset, this._resetZIndex()
                },
                _updateZIndex: function(o) {
                    this._icon && (this._icon.style.zIndex = this._zIndex + o)
                },
                _animateZoom: function(o) {
                    var h = this._map._latLngToNewLayerPoint(this._latlng, o.zoom, o.center).round();
                    this._setPos(h)
                },
                _initInteraction: function() {
                    if (this.options.interactive && (Gt(this._icon, "leaflet-interactive"), this.addInteractiveTarget(this._icon), Ls)) {
                        var o = this.options.draggable;
                        this.dragging && (o = this.dragging.enabled(), this.dragging.disable()), this.dragging = new Ls(this), o && this.dragging.enable()
                    }
                },
                setOpacity: function(o) {
                    return this.options.opacity = o, this._map && this._updateOpacity(), this
                },
                _updateOpacity: function() {
                    var o = this.options.opacity;
                    this._icon && Fn(this._icon, o), this._shadow && Fn(this._shadow, o)
                },
                _bringToFront: function() {
                    this._updateZIndex(this.options.riseOffset)
                },
                _resetZIndex: function() {
                    this._updateZIndex(0)
                },
                _panOnFocus: function() {
                    var o = this._map;
                    if (o) {
                        var h = this.options.icon.options,
                            v = h.iconSize ? ue(h.iconSize) : ue(0, 0),
                            k = h.iconAnchor ? ue(h.iconAnchor) : ue(0, 0);
                        o.panInside(this._latlng, {
                            paddingTopLeft: k,
                            paddingBottomRight: v.subtract(k)
                        })
                    }
                },
                _getPopupAnchor: function() {
                    return this.options.icon.options.popupAnchor
                },
                _getTooltipAnchor: function() {
                    return this.options.icon.options.tooltipAnchor
                }
            });

        function sl(o, h) {
            return new Xs(o, h)
        }
        var nr = un.extend({
                options: {
                    stroke: !0,
                    color: "#3388ff",
                    weight: 3,
                    opacity: 1,
                    lineCap: "round",
                    lineJoin: "round",
                    dashArray: null,
                    dashOffset: null,
                    fill: !1,
                    fillColor: null,
                    fillOpacity: .2,
                    fillRule: "evenodd",
                    interactive: !0,
                    bubblingMouseEvents: !0
                },
                beforeAdd: function(o) {
                    this._renderer = o.getRenderer(this)
                },
                onAdd: function() {
                    this._renderer._initPath(this), this._reset(), this._renderer._addPath(this)
                },
                onRemove: function() {
                    this._renderer._removePath(this)
                },
                redraw: function() {
                    return this._map && this._renderer._updatePath(this), this
                },
                setStyle: function(o) {
                    return x(this, o), this._renderer && (this._renderer._updateStyle(this), this.options.stroke && o && Object.prototype.hasOwnProperty.call(o, "weight") && this._updateBounds()), this
                },
                bringToFront: function() {
                    return this._renderer && this._renderer._bringToFront(this), this
                },
                bringToBack: function() {
                    return this._renderer && this._renderer._bringToBack(this), this
                },
                getElement: function() {
                    return this._path
                },
                _reset: function() {
                    this._project(), this._update()
                },
                _clickTolerance: function() {
                    return (this.options.stroke ? this.options.weight / 2 : 0) + (this._renderer.options.tolerance || 0)
                }
            }),
            Qr = nr.extend({
                options: {
                    fill: !0,
                    radius: 10
                },
                initialize: function(o, h) {
                    x(this, h), this._latlng = Ue(o), this._radius = this.options.radius
                },
                setLatLng: function(o) {
                    var h = this._latlng;
                    return this._latlng = Ue(o), this.redraw(), this.fire("move", {
                        oldLatLng: h,
                        latlng: this._latlng
                    })
                },
                getLatLng: function() {
                    return this._latlng
                },
                setRadius: function(o) {
                    return this.options.radius = this._radius = o, this.redraw()
                },
                getRadius: function() {
                    return this._radius
                },
                setStyle: function(o) {
                    var h = o && o.radius || this._radius;
                    return nr.prototype.setStyle.call(this, o), this.setRadius(h), this
                },
                _project: function() {
                    this._point = this._map.latLngToLayerPoint(this._latlng), this._updateBounds()
                },
                _updateBounds: function() {
                    var o = this._radius,
                        h = this._radiusY || o,
                        v = this._clickTolerance(),
                        k = [o + v, h + v];
                    this._pxBounds = new ie(this._point.subtract(k), this._point.add(k))
                },
                _update: function() {
                    this._map && this._updatePath()
                },
                _updatePath: function() {
                    this._renderer._updateCircle(this)
                },
                _empty: function() {
                    return this._radius && !this._renderer._bounds.intersects(this._pxBounds)
                },
                _containsPoint: function(o) {
                    return o.distanceTo(this._point) <= this._radius + this._clickTolerance()
                }
            });

        function Ta(o, h) {
            return new Qr(o, h)
        }
        var is = Qr.extend({
            initialize: function(o, h, v) {
                if (typeof h == "number" && (h = i({}, v, {
                        radius: h
                    })), x(this, h), this._latlng = Ue(o), isNaN(this.options.radius)) throw new Error("Circle radius cannot be NaN");
                this._mRadius = this.options.radius
            },
            setRadius: function(o) {
                return this._mRadius = o, this.redraw()
            },
            getRadius: function() {
                return this._mRadius
            },
            getBounds: function() {
                var o = [this._radius, this._radiusY || this._radius];
                return new we(this._map.layerPointToLatLng(this._point.subtract(o)), this._map.layerPointToLatLng(this._point.add(o)))
            },
            setStyle: nr.prototype.setStyle,
            _project: function() {
                var o = this._latlng.lng,
                    h = this._latlng.lat,
                    v = this._map,
                    k = v.options.crs;
                if (k.distance === at.distance) {
                    var U = Math.PI / 180,
                        Z = this._mRadius / at.R / U,
                        de = v.project([h + Z, o]),
                        Pe = v.project([h - Z, o]),
                        Oe = de.add(Pe).divideBy(2),
                        tt = v.unproject(Oe).lat,
                        Ct = Math.acos((Math.cos(Z * U) - Math.sin(h * U) * Math.sin(tt * U)) / (Math.cos(h * U) * Math.cos(tt * U))) / U;
                    (isNaN(Ct) || Ct === 0) && (Ct = Z / Math.cos(Math.PI / 180 * h)), this._point = Oe.subtract(v.getPixelOrigin()), this._radius = isNaN(Ct) ? 0 : Oe.x - v.project([tt, o - Ct]).x, this._radiusY = Oe.y - de.y
                } else {
                    var Zt = k.unproject(k.project(this._latlng).subtract([this._mRadius, 0]));
                    this._point = v.latLngToLayerPoint(this._latlng), this._radius = this._point.x - v.latLngToLayerPoint(Zt).x
                }
                this._updateBounds()
            }
        });

        function pr(o, h, v) {
            return new is(o, h, v)
        }
        var gn = nr.extend({
            options: {
                smoothFactor: 1,
                noClip: !1
            },
            initialize: function(o, h) {
                x(this, h), this._setLatLngs(o)
            },
            getLatLngs: function() {
                return this._latlngs
            },
            setLatLngs: function(o) {
                return this._setLatLngs(o), this.redraw()
            },
            isEmpty: function() {
                return !this._latlngs.length
            },
            closestLayerPoint: function(o) {
                for (var h = 1 / 0, v = null, k = Ei, U, Z, de = 0, Pe = this._parts.length; de < Pe; de++)
                    for (var Oe = this._parts[de], tt = 1, Ct = Oe.length; tt < Ct; tt++) {
                        U = Oe[tt - 1], Z = Oe[tt];
                        var Zt = k(o, U, Z, !0);
                        Zt < h && (h = Zt, v = k(o, U, Z))
                    }
                return v && (v.distance = Math.sqrt(h)), v
            },
            getCenter: function() {
                if (!this._map) throw new Error("Must add layer to map before using getCenter()");
                return tn(this._defaultShape(), this._map.options.crs)
            },
            getBounds: function() {
                return this._bounds
            },
            addLatLng: function(o, h) {
                return h = h || this._defaultShape(), o = Ue(o), h.push(o), this._bounds.extend(o), this.redraw()
            },
            _setLatLngs: function(o) {
                this._bounds = new we, this._latlngs = this._convertLatLngs(o)
            },
            _defaultShape: function() {
                return Di(this._latlngs) ? this._latlngs : this._latlngs[0]
            },
            _convertLatLngs: function(o) {
                for (var h = [], v = Di(o), k = 0, U = o.length; k < U; k++) v ? (h[k] = Ue(o[k]), this._bounds.extend(h[k])) : h[k] = this._convertLatLngs(o[k]);
                return h
            },
            _project: function() {
                var o = new ie;
                this._rings = [], this._projectLatlngs(this._latlngs, this._rings, o), this._bounds.isValid() && o.isValid() && (this._rawPxBounds = o, this._updateBounds())
            },
            _updateBounds: function() {
                var o = this._clickTolerance(),
                    h = new re(o, o);
                this._rawPxBounds && (this._pxBounds = new ie([this._rawPxBounds.min.subtract(h), this._rawPxBounds.max.add(h)]))
            },
            _projectLatlngs: function(o, h, v) {
                var k = o[0] instanceof ye,
                    U = o.length,
                    Z, de;
                if (k) {
                    for (de = [], Z = 0; Z < U; Z++) de[Z] = this._map.latLngToLayerPoint(o[Z]), v.extend(de[Z]);
                    h.push(de)
                } else
                    for (Z = 0; Z < U; Z++) this._projectLatlngs(o[Z], h, v)
            },
            _clipPoints: function() {
                var o = this._renderer._bounds;
                if (this._parts = [], !(!this._pxBounds || !this._pxBounds.intersects(o))) {
                    if (this.options.noClip) {
                        this._parts = this._rings;
                        return
                    }
                    var h = this._parts,
                        v, k, U, Z, de, Pe, Oe;
                    for (v = 0, U = 0, Z = this._rings.length; v < Z; v++)
                        for (Oe = this._rings[v], k = 0, de = Oe.length; k < de - 1; k++) Pe = Xn(Oe[k], Oe[k + 1], o, k, !0), Pe && (h[U] = h[U] || [], h[U].push(Pe[0]), (Pe[1] !== Oe[k + 1] || k === de - 2) && (h[U].push(Pe[1]), U++))
                }
            },
            _simplifyPoints: function() {
                for (var o = this._parts, h = this.options.smoothFactor, v = 0, k = o.length; v < k; v++) o[v] = Ge(o[v], h)
            },
            _update: function() {
                this._map && (this._clipPoints(), this._simplifyPoints(), this._updatePath())
            },
            _updatePath: function() {
                this._renderer._updatePoly(this)
            },
            _containsPoint: function(o, h) {
                var v, k, U, Z, de, Pe, Oe = this._clickTolerance();
                if (!this._pxBounds || !this._pxBounds.contains(o)) return !1;
                for (v = 0, Z = this._parts.length; v < Z; v++)
                    for (Pe = this._parts[v], k = 0, de = Pe.length, U = de - 1; k < de; U = k++)
                        if (!(!h && k === 0) && Dt(o, Pe[U], Pe[k]) <= Oe) return !0;
                return !1
            }
        });

        function ks(o, h) {
            return new gn(o, h)
        }
        gn._flat = Mr;
        var pa = gn.extend({
            options: {
                fill: !0
            },
            isEmpty: function() {
                return !this._latlngs.length || !this._latlngs[0].length
            },
            getCenter: function() {
                if (!this._map) throw new Error("Must add layer to map before using getCenter()");
                return Te(this._defaultShape(), this._map.options.crs)
            },
            _convertLatLngs: function(o) {
                var h = gn.prototype._convertLatLngs.call(this, o),
                    v = h.length;
                return v >= 2 && h[0] instanceof ye && h[0].equals(h[v - 1]) && h.pop(), h
            },
            _setLatLngs: function(o) {
                gn.prototype._setLatLngs.call(this, o), Di(this._latlngs) && (this._latlngs = [this._latlngs])
            },
            _defaultShape: function() {
                return Di(this._latlngs[0]) ? this._latlngs[0] : this._latlngs[0][0]
            },
            _clipPoints: function() {
                var o = this._renderer._bounds,
                    h = this.options.weight,
                    v = new re(h, h);
                if (o = new ie(o.min.subtract(v), o.max.add(v)), this._parts = [], !(!this._pxBounds || !this._pxBounds.intersects(o))) {
                    if (this.options.noClip) {
                        this._parts = this._rings;
                        return
                    }
                    for (var k = 0, U = this._rings.length, Z; k < U; k++) Z = he(this._rings[k], o, !0), Z.length && this._parts.push(Z)
                }
            },
            _updatePath: function() {
                this._renderer._updatePoly(this, !0)
            },
            _containsPoint: function(o) {
                var h = !1,
                    v, k, U, Z, de, Pe, Oe, tt;
                if (!this._pxBounds || !this._pxBounds.contains(o)) return !1;
                for (Z = 0, Oe = this._parts.length; Z < Oe; Z++)
                    for (v = this._parts[Z], de = 0, tt = v.length, Pe = tt - 1; de < tt; Pe = de++) k = v[de], U = v[Pe], k.y > o.y != U.y > o.y && o.x < (U.x - k.x) * (o.y - k.y) / (U.y - k.y) + k.x && (h = !h);
                return h || gn.prototype._containsPoint.call(this, o, !0)
            }
        });

        function ol(o, h) {
            return new pa(o, h)
        }
        var Sr = ha.extend({
            initialize: function(o, h) {
                x(this, h), this._layers = {}, o && this.addData(o)
            },
            addData: function(o) {
                var h = O(o) ? o : o.features,
                    v, k, U;
                if (h) {
                    for (v = 0, k = h.length; v < k; v++) U = h[v], (U.geometries || U.geometry || U.features || U.coordinates) && this.addData(U);
                    return this
                }
                var Z = this.options;
                if (Z.filter && !Z.filter(o)) return this;
                var de = Ci(o, Z);
                return de ? (de.feature = Ne(o), de.defaultOptions = de.options, this.resetStyle(de), Z.onEachFeature && Z.onEachFeature(o, de), this.addLayer(de)) : this
            },
            resetStyle: function(o) {
                return o === void 0 ? this.eachLayer(this.resetStyle, this) : (o.options = i({}, o.defaultOptions), this._setLayerStyle(o, this.options.style), this)
            },
            setStyle: function(o) {
                return this.eachLayer(function(h) {
                    this._setLayerStyle(h, o)
                }, this)
            },
            _setLayerStyle: function(o, h) {
                o.setStyle && (typeof h == "function" && (h = h(o.feature)), o.setStyle(h))
            }
        });

        function Ci(o, h) {
            var v = o.type === "Feature" ? o.geometry : o,
                k = v ? v.coordinates : null,
                U = [],
                Z = h && h.pointToLayer,
                de = h && h.coordsToLatLng || gr,
                Pe, Oe, tt, Ct;
            if (!k && !v) return null;
            switch (v.type) {
                case "Point":
                    return Pe = de(k), Fa(Z, o, Pe, h);
                case "MultiPoint":
                    for (tt = 0, Ct = k.length; tt < Ct; tt++) Pe = de(k[tt]), U.push(Fa(Z, o, Pe, h));
                    return new ha(U);
                case "LineString":
                case "MultiLineString":
                    return Oe = Mn(k, v.type === "LineString" ? 0 : 1, de), new gn(Oe, h);
                case "Polygon":
                case "MultiPolygon":
                    return Oe = Mn(k, v.type === "Polygon" ? 1 : 2, de), new pa(Oe, h);
                case "GeometryCollection":
                    for (tt = 0, Ct = v.geometries.length; tt < Ct; tt++) {
                        var Zt = Ci({
                            geometry: v.geometries[tt],
                            type: "Feature",
                            properties: o.properties
                        }, h);
                        Zt && U.push(Zt)
                    }
                    return new ha(U);
                case "FeatureCollection":
                    for (tt = 0, Ct = v.features.length; tt < Ct; tt++) {
                        var gi = Ci(v.features[tt], h);
                        gi && U.push(gi)
                    }
                    return new ha(U);
                default:
                    throw new Error("Invalid GeoJSON object.")
            }
        }

        function Fa(o, h, v, k) {
            return o ? o(h, v) : new Xs(v, k && k.markersInheritOptions && k)
        }

        function gr(o) {
            return new ye(o[1], o[0], o[2])
        }

        function Mn(o, h, v) {
            for (var k = [], U = 0, Z = o.length, de; U < Z; U++) de = h ? Mn(o[U], h - 1, v) : (v || gr)(o[U]), k.push(de);
            return k
        }

        function ns(o, h) {
            return o = Ue(o), o.alt !== void 0 ? [d(o.lng, h), d(o.lat, h), d(o.alt, h)] : [d(o.lng, h), d(o.lat, h)]
        }

        function le(o, h, v, k) {
            for (var U = [], Z = 0, de = o.length; Z < de; Z++) U.push(h ? le(o[Z], Di(o[Z]) ? 0 : h - 1, v, k) : ns(o[Z], k));
            return !h && v && U.length > 0 && U.push(U[0].slice()), U
        }

        function ve(o, h) {
            return o.feature ? i({}, o.feature, {
                geometry: h
            }) : Ne(h)
        }

        function Ne(o) {
            return o.type === "Feature" || o.type === "FeatureCollection" ? o : {
                type: "Feature",
                properties: {},
                geometry: o
            }
        }
        var Me = {
            toGeoJSON: function(o) {
                return ve(this, {
                    type: "Point",
                    coordinates: ns(this.getLatLng(), o)
                })
            }
        };
        Xs.include(Me), is.include(Me), Qr.include(Me), gn.include({
            toGeoJSON: function(o) {
                var h = !Di(this._latlngs),
                    v = le(this._latlngs, h ? 1 : 0, !1, o);
                return ve(this, {
                    type: (h ? "Multi" : "") + "LineString",
                    coordinates: v
                })
            }
        }), pa.include({
            toGeoJSON: function(o) {
                var h = !Di(this._latlngs),
                    v = h && !Di(this._latlngs[0]),
                    k = le(this._latlngs, v ? 2 : h ? 1 : 0, !0, o);
                return h || (k = [k]), ve(this, {
                    type: (v ? "Multi" : "") + "Polygon",
                    coordinates: k
                })
            }
        }), ts.include({
            toMultiPoint: function(o) {
                var h = [];
                return this.eachLayer(function(v) {
                    h.push(v.toGeoJSON(o).geometry.coordinates)
                }), ve(this, {
                    type: "MultiPoint",
                    coordinates: h
                })
            },
            toGeoJSON: function(o) {
                var h = this.feature && this.feature.geometry && this.feature.geometry.type;
                if (h === "MultiPoint") return this.toMultiPoint(o);
                var v = h === "GeometryCollection",
                    k = [];
                return this.eachLayer(function(U) {
                    if (U.toGeoJSON) {
                        var Z = U.toGeoJSON(o);
                        if (v) k.push(Z.geometry);
                        else {
                            var de = Ne(Z);
                            de.type === "FeatureCollection" ? k.push.apply(k, de.features) : k.push(de)
                        }
                    }
                }), v ? ve(this, {
                    geometries: k,
                    type: "GeometryCollection"
                }) : {
                    type: "FeatureCollection",
                    features: k
                }
            }
        });

        function Ve(o, h) {
            return new Sr(o, h)
        }
        var ut = Ve,
            gt = un.extend({
                options: {
                    opacity: 1,
                    alt: "",
                    interactive: !1,
                    crossOrigin: !1,
                    errorOverlayUrl: "",
                    zIndex: 1,
                    className: ""
                },
                initialize: function(o, h, v) {
                    this._url = o, this._bounds = De(h), x(this, v)
                },
                onAdd: function() {
                    this._image || (this._initImage(), this.options.opacity < 1 && this._updateOpacity()), this.options.interactive && (Gt(this._image, "leaflet-interactive"), this.addInteractiveTarget(this._image)), this.getPane().appendChild(this._image), this._reset()
                },
                onRemove: function() {
                    ze(this._image), this.options.interactive && this.removeInteractiveTarget(this._image)
                },
                setOpacity: function(o) {
                    return this.options.opacity = o, this._image && this._updateOpacity(), this
                },
                setStyle: function(o) {
                    return o.opacity && this.setOpacity(o.opacity), this
                },
                bringToFront: function() {
                    return this._map && Et(this._image), this
                },
                bringToBack: function() {
                    return this._map && en(this._image), this
                },
                setUrl: function(o) {
                    return this._url = o, this._image && (this._image.src = o), this
                },
                setBounds: function(o) {
                    return this._bounds = De(o), this._map && this._reset(), this
                },
                getEvents: function() {
                    var o = {
                        zoom: this._reset,
                        viewreset: this._reset
                    };
                    return this._zoomAnimated && (o.zoomanim = this._animateZoom), o
                },
                setZIndex: function(o) {
                    return this.options.zIndex = o, this._updateZIndex(), this
                },
                getBounds: function() {
                    return this._bounds
                },
                getElement: function() {
                    return this._image
                },
                _initImage: function() {
                    var o = this._url.tagName === "IMG",
                        h = this._image = o ? this._url : Ee("img");
                    if (Gt(h, "leaflet-image-layer"), this._zoomAnimated && Gt(h, "leaflet-zoom-animated"), this.options.className && Gt(h, this.options.className), h.onselectstart = f, h.onmousemove = f, h.onload = r(this.fire, this, "load"), h.onerror = r(this._overlayOnError, this, "error"), (this.options.crossOrigin || this.options.crossOrigin === "") && (h.crossOrigin = this.options.crossOrigin === !0 ? "" : this.options.crossOrigin), this.options.zIndex && this._updateZIndex(), o) {
                        this._url = h.src;
                        return
                    }
                    h.src = this._url, h.alt = this.options.alt
                },
                _animateZoom: function(o) {
                    var h = this._map.getZoomScale(o.zoom),
                        v = this._map._latLngBoundsToNewLayerBounds(this._bounds, o.zoom, o.center).min;
                    Ma(this._image, v, h)
                },
                _reset: function() {
                    var o = this._image,
                        h = new ie(this._map.latLngToLayerPoint(this._bounds.getNorthWest()), this._map.latLngToLayerPoint(this._bounds.getSouthEast())),
                        v = h.getSize();
                    li(o, h.min), o.style.width = v.x + "px", o.style.height = v.y + "px"
                },
                _updateOpacity: function() {
                    Fn(this._image, this.options.opacity)
                },
                _updateZIndex: function() {
                    this._image && this.options.zIndex !== void 0 && this.options.zIndex !== null && (this._image.style.zIndex = this.options.zIndex)
                },
                _overlayOnError: function() {
                    this.fire("error");
                    var o = this.options.errorOverlayUrl;
                    o && this._url !== o && (this._url = o, this._image.src = o)
                },
                getCenter: function() {
                    return this._bounds.getCenter()
                }
            }),
            Lt = function(o, h, v) {
                return new gt(o, h, v)
            },
            mt = gt.extend({
                options: {
                    autoplay: !0,
                    loop: !0,
                    keepAspectRatio: !0,
                    muted: !1,
                    playsInline: !0
                },
                _initImage: function() {
                    var o = this._url.tagName === "VIDEO",
                        h = this._image = o ? this._url : Ee("video");
                    if (Gt(h, "leaflet-image-layer"), this._zoomAnimated && Gt(h, "leaflet-zoom-animated"), this.options.className && Gt(h, this.options.className), h.onselectstart = f, h.onmousemove = f, h.onloadeddata = r(this.fire, this, "load"), o) {
                        for (var v = h.getElementsByTagName("source"), k = [], U = 0; U < v.length; U++) k.push(v[U].src);
                        this._url = v.length > 0 ? k : [h.src];
                        return
                    }
                    O(this._url) || (this._url = [this._url]), !this.options.keepAspectRatio && Object.prototype.hasOwnProperty.call(h.style, "objectFit") && (h.style.objectFit = "fill"), h.autoplay = !!this.options.autoplay, h.loop = !!this.options.loop, h.muted = !!this.options.muted, h.playsInline = !!this.options.playsInline;
                    for (var Z = 0; Z < this._url.length; Z++) {
                        var de = Ee("source");
                        de.src = this._url[Z], h.appendChild(de)
                    }
                }
            });

        function ni(o, h, v) {
            return new mt(o, h, v)
        }
        var qt = gt.extend({
            _initImage: function() {
                var o = this._image = this._url;
                Gt(o, "leaflet-image-layer"), this._zoomAnimated && Gt(o, "leaflet-zoom-animated"), this.options.className && Gt(o, this.options.className), o.onselectstart = f, o.onmousemove = f
            }
        });

        function $t(o, h, v) {
            return new qt(o, h, v)
        }
        var jt = un.extend({
            options: {
                interactive: !1,
                offset: [0, 0],
                className: "",
                pane: void 0,
                content: ""
            },
            initialize: function(o, h) {
                o && (o instanceof ye || O(o)) ? (this._latlng = Ue(o), x(this, h)) : (x(this, o), this._source = h), this.options.content && (this._content = this.options.content)
            },
            openOn: function(o) {
                return o = arguments.length ? o : this._source._map, o.hasLayer(this) || o.addLayer(this), this
            },
            close: function() {
                return this._map && this._map.removeLayer(this), this
            },
            toggle: function(o) {
                return this._map ? this.close() : (arguments.length ? this._source = o : o = this._source, this._prepareOpen(), this.openOn(o._map)), this
            },
            onAdd: function(o) {
                this._zoomAnimated = o._zoomAnimated, this._container || this._initLayout(), o._fadeAnimated && Fn(this._container, 0), clearTimeout(this._removeTimeout), this.getPane().appendChild(this._container), this.update(), o._fadeAnimated && Fn(this._container, 1), this.bringToFront(), this.options.interactive && (Gt(this._container, "leaflet-interactive"), this.addInteractiveTarget(this._container))
            },
            onRemove: function(o) {
                o._fadeAnimated ? (Fn(this._container, 0), this._removeTimeout = setTimeout(r(ze, void 0, this._container), 200)) : ze(this._container), this.options.interactive && (Zi(this._container, "leaflet-interactive"), this.removeInteractiveTarget(this._container))
            },
            getLatLng: function() {
                return this._latlng
            },
            setLatLng: function(o) {
                return this._latlng = Ue(o), this._map && (this._updatePosition(), this._adjustPan()), this
            },
            getContent: function() {
                return this._content
            },
            setContent: function(o) {
                return this._content = o, this.update(), this
            },
            getElement: function() {
                return this._container
            },
            update: function() {
                this._map && (this._container.style.visibility = "hidden", this._updateContent(), this._updateLayout(), this._updatePosition(), this._container.style.visibility = "", this._adjustPan())
            },
            getEvents: function() {
                var o = {
                    zoom: this._updatePosition,
                    viewreset: this._updatePosition
                };
                return this._zoomAnimated && (o.zoomanim = this._animateZoom), o
            },
            isOpen: function() {
                return !!this._map && this._map.hasLayer(this)
            },
            bringToFront: function() {
                return this._map && Et(this._container), this
            },
            bringToBack: function() {
                return this._map && en(this._container), this
            },
            _prepareOpen: function(o) {
                var h = this._source;
                if (!h._map) return !1;
                if (h instanceof ha) {
                    h = null;
                    var v = this._source._layers;
                    for (var k in v)
                        if (v[k]._map) {
                            h = v[k];
                            break
                        }
                    if (!h) return !1;
                    this._source = h
                }
                if (!o)
                    if (h.getCenter) o = h.getCenter();
                    else if (h.getLatLng) o = h.getLatLng();
                else if (h.getBounds) o = h.getBounds().getCenter();
                else throw new Error("Unable to get source layer LatLng.");
                return this.setLatLng(o), this._map && this.update(), !0
            },
            _updateContent: function() {
                if (this._content) {
                    var o = this._contentNode,
                        h = typeof this._content == "function" ? this._content(this._source || this) : this._content;
                    if (typeof h == "string") o.innerHTML = h;
                    else {
                        for (; o.hasChildNodes();) o.removeChild(o.firstChild);
                        o.appendChild(h)
                    }
                    this.fire("contentupdate")
                }
            },
            _updatePosition: function() {
                if (this._map) {
                    var o = this._map.latLngToLayerPoint(this._latlng),
                        h = ue(this.options.offset),
                        v = this._getAnchor();
                    this._zoomAnimated ? li(this._container, o.add(v)) : h = h.add(o).add(v);
                    var k = this._containerBottom = -h.y,
                        U = this._containerLeft = -Math.round(this._containerWidth / 2) + h.x;
                    this._container.style.bottom = k + "px", this._container.style.left = U + "px"
                }
            },
            _getAnchor: function() {
                return [0, 0]
            }
        });
        pi.include({
            _initOverlay: function(o, h, v, k) {
                var U = h;
                return U instanceof o || (U = new o(k).setContent(h)), v && U.setLatLng(v), U
            }
        }), un.include({
            _initOverlay: function(o, h, v, k) {
                var U = v;
                return U instanceof o ? (x(U, k), U._source = this) : (U = h && !k ? h : new o(k, this), U.setContent(v)), U
            }
        });
        var Pt = jt.extend({
                options: {
                    pane: "popupPane",
                    offset: [0, 7],
                    maxWidth: 300,
                    minWidth: 50,
                    maxHeight: null,
                    autoPan: !0,
                    autoPanPaddingTopLeft: null,
                    autoPanPaddingBottomRight: null,
                    autoPanPadding: [5, 5],
                    keepInView: !1,
                    closeButton: !0,
                    autoClose: !0,
                    closeOnEscapeKey: !0,
                    className: ""
                },
                openOn: function(o) {
                    return o = arguments.length ? o : this._source._map, !o.hasLayer(this) && o._popup && o._popup.options.autoClose && o.removeLayer(o._popup), o._popup = this, jt.prototype.openOn.call(this, o)
                },
                onAdd: function(o) {
                    jt.prototype.onAdd.call(this, o), o.fire("popupopen", {
                        popup: this
                    }), this._source && (this._source.fire("popupopen", {
                        popup: this
                    }, !0), this._source instanceof nr || this._source.on("preclick", ca))
                },
                onRemove: function(o) {
                    jt.prototype.onRemove.call(this, o), o.fire("popupclose", {
                        popup: this
                    }), this._source && (this._source.fire("popupclose", {
                        popup: this
                    }, !0), this._source instanceof nr || this._source.off("preclick", ca))
                },
                getEvents: function() {
                    var o = jt.prototype.getEvents.call(this);
                    return (this.options.closeOnClick !== void 0 ? this.options.closeOnClick : this._map.options.closePopupOnClick) && (o.preclick = this.close), this.options.keepInView && (o.moveend = this._adjustPan), o
                },
                _initLayout: function() {
                    var o = "leaflet-popup",
                        h = this._container = Ee("div", o + " " + (this.options.className || "") + " leaflet-zoom-animated"),
                        v = this._wrapper = Ee("div", o + "-content-wrapper", h);
                    if (this._contentNode = Ee("div", o + "-content", v), Ua(h), Ws(this._contentNode), Xt(h, "contextmenu", ca), this._tipContainer = Ee("div", o + "-tip-container", h), this._tip = Ee("div", o + "-tip", this._tipContainer), this.options.closeButton) {
                        var k = this._closeButton = Ee("a", o + "-close-button", h);
                        k.setAttribute("role", "button"), k.setAttribute("aria-label", "Close popup"), k.href = "#close", k.innerHTML = '<span aria-hidden="true">&#215;</span>', Xt(k, "click", function(U) {
                            Ln(U), this.close()
                        }, this)
                    }
                },
                _updateLayout: function() {
                    var o = this._contentNode,
                        h = o.style;
                    h.width = "", h.whiteSpace = "nowrap";
                    var v = o.offsetWidth;
                    v = Math.min(v, this.options.maxWidth), v = Math.max(v, this.options.minWidth), h.width = v + 1 + "px", h.whiteSpace = "", h.height = "";
                    var k = o.offsetHeight,
                        U = this.options.maxHeight,
                        Z = "leaflet-popup-scrolled";
                    U && k > U ? (h.height = U + "px", Gt(o, Z)) : Zi(o, Z), this._containerWidth = this._container.offsetWidth
                },
                _animateZoom: function(o) {
                    var h = this._map._latLngToNewLayerPoint(this._latlng, o.zoom, o.center),
                        v = this._getAnchor();
                    li(this._container, h.add(v))
                },
                _adjustPan: function() {
                    if (this.options.autoPan) {
                        if (this._map._panAnim && this._map._panAnim.stop(), this._autopanning) {
                            this._autopanning = !1;
                            return
                        }
                        var o = this._map,
                            h = parseInt(Bn(this._container, "marginBottom"), 10) || 0,
                            v = this._container.offsetHeight + h,
                            k = this._containerWidth,
                            U = new re(this._containerLeft, -v - this._containerBottom);
                        U._add(ir(this._container));
                        var Z = o.layerPointToContainerPoint(U),
                            de = ue(this.options.autoPanPadding),
                            Pe = ue(this.options.autoPanPaddingTopLeft || de),
                            Oe = ue(this.options.autoPanPaddingBottomRight || de),
                            tt = o.getSize(),
                            Ct = 0,
                            Zt = 0;
                        Z.x + k + Oe.x > tt.x && (Ct = Z.x + k - tt.x + Oe.x), Z.x - Ct - Pe.x < 0 && (Ct = Z.x - Pe.x), Z.y + v + Oe.y > tt.y && (Zt = Z.y + v - tt.y + Oe.y), Z.y - Zt - Pe.y < 0 && (Zt = Z.y - Pe.y), (Ct || Zt) && (this.options.keepInView && (this._autopanning = !0), o.fire("autopanstart").panBy([Ct, Zt]))
                    }
                },
                _getAnchor: function() {
                    return ue(this._source && this._source._getPopupAnchor ? this._source._getPopupAnchor() : [0, 0])
                }
            }),
            Fi = function(o, h) {
                return new Pt(o, h)
            };
        pi.mergeOptions({
            closePopupOnClick: !0
        }), pi.include({
            openPopup: function(o, h, v) {
                return this._initOverlay(Pt, o, h, v).openOn(this), this
            },
            closePopup: function(o) {
                return o = arguments.length ? o : this._popup, o && o.close(), this
            }
        }), un.include({
            bindPopup: function(o, h) {
                return this._popup = this._initOverlay(Pt, this._popup, o, h), this._popupHandlersAdded || (this.on({
                    click: this._openPopup,
                    keypress: this._onKeyPress,
                    remove: this.closePopup,
                    move: this._movePopup
                }), this._popupHandlersAdded = !0), this
            },
            unbindPopup: function() {
                return this._popup && (this.off({
                    click: this._openPopup,
                    keypress: this._onKeyPress,
                    remove: this.closePopup,
                    move: this._movePopup
                }), this._popupHandlersAdded = !1, this._popup = null), this
            },
            openPopup: function(o) {
                return this._popup && (this instanceof ha || (this._popup._source = this), this._popup._prepareOpen(o || this._latlng) && this._popup.openOn(this._map)), this
            },
            closePopup: function() {
                return this._popup && this._popup.close(), this
            },
            togglePopup: function() {
                return this._popup && this._popup.toggle(this), this
            },
            isPopupOpen: function() {
                return this._popup ? this._popup.isOpen() : !1
            },
            setPopupContent: function(o) {
                return this._popup && this._popup.setContent(o), this
            },
            getPopup: function() {
                return this._popup
            },
            _openPopup: function(o) {
                if (!(!this._popup || !this._map)) {
                    fa(o);
                    var h = o.layer || o.target;
                    if (this._popup._source === h && !(h instanceof nr)) {
                        this._map.hasLayer(this._popup) ? this.closePopup() : this.openPopup(o.latlng);
                        return
                    }
                    this._popup._source = h, this.openPopup(o.latlng)
                }
            },
            _movePopup: function(o) {
                this._popup.setLatLng(o.latlng)
            },
            _onKeyPress: function(o) {
                o.originalEvent.keyCode === 13 && this._openPopup(o)
            }
        });
        var Q = jt.extend({
                options: {
                    pane: "tooltipPane",
                    offset: [0, 0],
                    direction: "auto",
                    permanent: !1,
                    sticky: !1,
                    opacity: .9
                },
                onAdd: function(o) {
                    jt.prototype.onAdd.call(this, o), this.setOpacity(this.options.opacity), o.fire("tooltipopen", {
                        tooltip: this
                    }), this._source && (this.addEventParent(this._source), this._source.fire("tooltipopen", {
                        tooltip: this
                    }, !0))
                },
                onRemove: function(o) {
                    jt.prototype.onRemove.call(this, o), o.fire("tooltipclose", {
                        tooltip: this
                    }), this._source && (this.removeEventParent(this._source), this._source.fire("tooltipclose", {
                        tooltip: this
                    }, !0))
                },
                getEvents: function() {
                    var o = jt.prototype.getEvents.call(this);
                    return this.options.permanent || (o.preclick = this.close), o
                },
                _initLayout: function() {
                    var o = "leaflet-tooltip",
                        h = o + " " + (this.options.className || "") + " leaflet-zoom-" + (this._zoomAnimated ? "animated" : "hide");
                    this._contentNode = this._container = Ee("div", h), this._container.setAttribute("role", "tooltip"), this._container.setAttribute("id", "leaflet-tooltip-" + s(this))
                },
                _updateLayout: function() {},
                _adjustPan: function() {},
                _setPosition: function(o) {
                    var h, v, k = this._map,
                        U = this._container,
                        Z = k.latLngToContainerPoint(k.getCenter()),
                        de = k.layerPointToContainerPoint(o),
                        Pe = this.options.direction,
                        Oe = U.offsetWidth,
                        tt = U.offsetHeight,
                        Ct = ue(this.options.offset),
                        Zt = this._getAnchor();
                    Pe === "top" ? (h = Oe / 2, v = tt) : Pe === "bottom" ? (h = Oe / 2, v = 0) : Pe === "center" ? (h = Oe / 2, v = tt / 2) : Pe === "right" ? (h = 0, v = tt / 2) : Pe === "left" ? (h = Oe, v = tt / 2) : de.x < Z.x ? (Pe = "right", h = 0, v = tt / 2) : (Pe = "left", h = Oe + (Ct.x + Zt.x) * 2, v = tt / 2), o = o.subtract(ue(h, v, !0)).add(Ct).add(Zt), Zi(U, "leaflet-tooltip-right"), Zi(U, "leaflet-tooltip-left"), Zi(U, "leaflet-tooltip-top"), Zi(U, "leaflet-tooltip-bottom"), Gt(U, "leaflet-tooltip-" + Pe), li(U, o)
                },
                _updatePosition: function() {
                    var o = this._map.latLngToLayerPoint(this._latlng);
                    this._setPosition(o)
                },
                setOpacity: function(o) {
                    this.options.opacity = o, this._container && Fn(this._container, o)
                },
                _animateZoom: function(o) {
                    var h = this._map._latLngToNewLayerPoint(this._latlng, o.zoom, o.center);
                    this._setPosition(h)
                },
                _getAnchor: function() {
                    return ue(this._source && this._source._getTooltipAnchor && !this.options.sticky ? this._source._getTooltipAnchor() : [0, 0])
                }
            }),
            fe = function(o, h) {
                return new Q(o, h)
            };
        pi.include({
            openTooltip: function(o, h, v) {
                return this._initOverlay(Q, o, h, v).openOn(this), this
            },
            closeTooltip: function(o) {
                return o.close(), this
            }
        }), un.include({
            bindTooltip: function(o, h) {
                return this._tooltip && this.isTooltipOpen() && this.unbindTooltip(), this._tooltip = this._initOverlay(Q, this._tooltip, o, h), this._initTooltipInteractions(), this._tooltip.options.permanent && this._map && this._map.hasLayer(this) && this.openTooltip(), this
            },
            unbindTooltip: function() {
                return this._tooltip && (this._initTooltipInteractions(!0), this.closeTooltip(), this._tooltip = null), this
            },
            _initTooltipInteractions: function(o) {
                if (!(!o && this._tooltipHandlersAdded)) {
                    var h = o ? "off" : "on",
                        v = {
                            remove: this.closeTooltip,
                            move: this._moveTooltip
                        };
                    this._tooltip.options.permanent ? v.add = this._openTooltip : (v.mouseover = this._openTooltip, v.mouseout = this.closeTooltip, v.click = this._openTooltip, this._map ? this._addFocusListeners() : v.add = this._addFocusListeners), this._tooltip.options.sticky && (v.mousemove = this._moveTooltip), this[h](v), this._tooltipHandlersAdded = !o
                }
            },
            openTooltip: function(o) {
                return this._tooltip && (this instanceof ha || (this._tooltip._source = this), this._tooltip._prepareOpen(o) && (this._tooltip.openOn(this._map), this.getElement ? this._setAriaDescribedByOnLayer(this) : this.eachLayer && this.eachLayer(this._setAriaDescribedByOnLayer, this))), this
            },
            closeTooltip: function() {
                if (this._tooltip) return this._tooltip.close()
            },
            toggleTooltip: function() {
                return this._tooltip && this._tooltip.toggle(this), this
            },
            isTooltipOpen: function() {
                return this._tooltip.isOpen()
            },
            setTooltipContent: function(o) {
                return this._tooltip && this._tooltip.setContent(o), this
            },
            getTooltip: function() {
                return this._tooltip
            },
            _addFocusListeners: function() {
                this.getElement ? this._addFocusListenersOnLayer(this) : this.eachLayer && this.eachLayer(this._addFocusListenersOnLayer, this)
            },
            _addFocusListenersOnLayer: function(o) {
                var h = typeof o.getElement == "function" && o.getElement();
                h && (Xt(h, "focus", function() {
                    this._tooltip._source = o, this.openTooltip()
                }, this), Xt(h, "blur", this.closeTooltip, this))
            },
            _setAriaDescribedByOnLayer: function(o) {
                var h = typeof o.getElement == "function" && o.getElement();
                h && h.setAttribute("aria-describedby", this._tooltip._container.id)
            },
            _openTooltip: function(o) {
                if (!(!this._tooltip || !this._map)) {
                    if (this._map.dragging && this._map.dragging.moving() && !this._openOnceFlag) {
                        this._openOnceFlag = !0;
                        var h = this;
                        this._map.once("moveend", function() {
                            h._openOnceFlag = !1, h._openTooltip(o)
                        });
                        return
                    }
                    this._tooltip._source = o.layer || o.target, this.openTooltip(this._tooltip.options.sticky ? o.latlng : void 0)
                }
            },
            _moveTooltip: function(o) {
                var h = o.latlng,
                    v, k;
                this._tooltip.options.sticky && o.originalEvent && (v = this._map.mouseEventToContainerPoint(o.originalEvent), k = this._map.containerPointToLayerPoint(v), h = this._map.layerPointToLatLng(k)), this._tooltip.setLatLng(h)
            }
        });
        var ge = da.extend({
            options: {
                iconSize: [12, 12],
                html: !1,
                bgPos: null,
                className: "leaflet-div-icon"
            },
            createIcon: function(o) {
                var h = o && o.tagName === "DIV" ? o : document.createElement("div"),
                    v = this.options;
                if (v.html instanceof Element ? (ot(h), h.appendChild(v.html)) : h.innerHTML = v.html !== !1 ? v.html : "", v.bgPos) {
                    var k = ue(v.bgPos);
                    h.style.backgroundPosition = -k.x + "px " + -k.y + "px"
                }
                return this._setIconStyles(h, "icon"), h
            },
            createShadow: function() {
                return null
            }
        });

        function Fe(o) {
            return new ge(o)
        }
        da.Default = Yr;
        var Se = un.extend({
            options: {
                tileSize: 256,
                opacity: 1,
                updateWhenIdle: Tt.mobile,
                updateWhenZooming: !0,
                updateInterval: 200,
                zIndex: 1,
                bounds: null,
                minZoom: 0,
                maxZoom: void 0,
                maxNativeZoom: void 0,
                minNativeZoom: void 0,
                noWrap: !1,
                pane: "tilePane",
                className: "",
                keepBuffer: 2
            },
            initialize: function(o) {
                x(this, o)
            },
            onAdd: function() {
                this._initContainer(), this._levels = {}, this._tiles = {}, this._resetView()
            },
            beforeAdd: function(o) {
                o._addZoomLimit(this)
            },
            onRemove: function(o) {
                this._removeAllTiles(), ze(this._container), o._removeZoomLimit(this), this._container = null, this._tileZoom = void 0
            },
            bringToFront: function() {
                return this._map && (Et(this._container), this._setAutoZIndex(Math.max)), this
            },
            bringToBack: function() {
                return this._map && (en(this._container), this._setAutoZIndex(Math.min)), this
            },
            getContainer: function() {
                return this._container
            },
            setOpacity: function(o) {
                return this.options.opacity = o, this._updateOpacity(), this
            },
            setZIndex: function(o) {
                return this.options.zIndex = o, this._updateZIndex(), this
            },
            isLoading: function() {
                return this._loading
            },
            redraw: function() {
                if (this._map) {
                    this._removeAllTiles();
                    var o = this._clampZoom(this._map.getZoom());
                    o !== this._tileZoom && (this._tileZoom = o, this._updateLevels()), this._update()
                }
                return this
            },
            getEvents: function() {
                var o = {
                    viewprereset: this._invalidateAll,
                    viewreset: this._resetView,
                    zoom: this._resetView,
                    moveend: this._onMoveEnd
                };
                return this.options.updateWhenIdle || (this._onMove || (this._onMove = l(this._onMoveEnd, this.options.updateInterval, this)), o.move = this._onMove), this._zoomAnimated && (o.zoomanim = this._animateZoom), o
            },
            createTile: function() {
                return document.createElement("div")
            },
            getTileSize: function() {
                var o = this.options.tileSize;
                return o instanceof re ? o : new re(o, o)
            },
            _updateZIndex: function() {
                this._container && this.options.zIndex !== void 0 && this.options.zIndex !== null && (this._container.style.zIndex = this.options.zIndex)
            },
            _setAutoZIndex: function(o) {
                for (var h = this.getPane().children, v = -o(-1 / 0, 1 / 0), k = 0, U = h.length, Z; k < U; k++) Z = h[k].style.zIndex, h[k] !== this._container && Z && (v = o(v, +Z));
                isFinite(v) && (this.options.zIndex = v + o(-1, 1), this._updateZIndex())
            },
            _updateOpacity: function() {
                if (this._map && !Tt.ielt9) {
                    Fn(this._container, this.options.opacity);
                    var o = +new Date,
                        h = !1,
                        v = !1;
                    for (var k in this._tiles) {
                        var U = this._tiles[k];
                        if (!(!U.current || !U.loaded)) {
                            var Z = Math.min(1, (o - U.loaded) / 200);
                            Fn(U.el, Z), Z < 1 ? h = !0 : (U.active ? v = !0 : this._onOpaqueTile(U), U.active = !0)
                        }
                    }
                    v && !this._noPrune && this._pruneTiles(), h && (V(this._fadeFrame), this._fadeFrame = me(this._updateOpacity, this))
                }
            },
            _onOpaqueTile: f,
            _initContainer: function() {
                this._container || (this._container = Ee("div", "leaflet-layer " + (this.options.className || "")), this._updateZIndex(), this.options.opacity < 1 && this._updateOpacity(), this.getPane().appendChild(this._container))
            },
            _updateLevels: function() {
                var o = this._tileZoom,
                    h = this.options.maxZoom;
                if (o !== void 0) {
                    for (var v in this._levels) v = Number(v), this._levels[v].el.children.length || v === o ? (this._levels[v].el.style.zIndex = h - Math.abs(o - v), this._onUpdateLevel(v)) : (ze(this._levels[v].el), this._removeTilesAtZoom(v), this._onRemoveLevel(v), delete this._levels[v]);
                    var k = this._levels[o],
                        U = this._map;
                    return k || (k = this._levels[o] = {}, k.el = Ee("div", "leaflet-tile-container leaflet-zoom-animated", this._container), k.el.style.zIndex = h, k.origin = U.project(U.unproject(U.getPixelOrigin()), o).round(), k.zoom = o, this._setZoomTransform(k, U.getCenter(), U.getZoom()), f(k.el.offsetWidth), this._onCreateLevel(k)), this._level = k, k
                }
            },
            _onUpdateLevel: f,
            _onRemoveLevel: f,
            _onCreateLevel: f,
            _pruneTiles: function() {
                if (this._map) {
                    var o, h, v = this._map.getZoom();
                    if (v > this.options.maxZoom || v < this.options.minZoom) {
                        this._removeAllTiles();
                        return
                    }
                    for (o in this._tiles) h = this._tiles[o], h.retain = h.current;
                    for (o in this._tiles)
                        if (h = this._tiles[o], h.current && !h.active) {
                            var k = h.coords;
                            this._retainParent(k.x, k.y, k.z, k.z - 5) || this._retainChildren(k.x, k.y, k.z, k.z + 2)
                        }
                    for (o in this._tiles) this._tiles[o].retain || this._removeTile(o)
                }
            },
            _removeTilesAtZoom: function(o) {
                for (var h in this._tiles) this._tiles[h].coords.z === o && this._removeTile(h)
            },
            _removeAllTiles: function() {
                for (var o in this._tiles) this._removeTile(o)
            },
            _invalidateAll: function() {
                for (var o in this._levels) ze(this._levels[o].el), this._onRemoveLevel(Number(o)), delete this._levels[o];
                this._removeAllTiles(), this._tileZoom = void 0
            },
            _retainParent: function(o, h, v, k) {
                var U = Math.floor(o / 2),
                    Z = Math.floor(h / 2),
                    de = v - 1,
                    Pe = new re(+U, +Z);
                Pe.z = +de;
                var Oe = this._tileCoordsToKey(Pe),
                    tt = this._tiles[Oe];
                return tt && tt.active ? (tt.retain = !0, !0) : (tt && tt.loaded && (tt.retain = !0), de > k ? this._retainParent(U, Z, de, k) : !1)
            },
            _retainChildren: function(o, h, v, k) {
                for (var U = 2 * o; U < 2 * o + 2; U++)
                    for (var Z = 2 * h; Z < 2 * h + 2; Z++) {
                        var de = new re(U, Z);
                        de.z = v + 1;
                        var Pe = this._tileCoordsToKey(de),
                            Oe = this._tiles[Pe];
                        if (Oe && Oe.active) {
                            Oe.retain = !0;
                            continue
                        } else Oe && Oe.loaded && (Oe.retain = !0);
                        v + 1 < k && this._retainChildren(U, Z, v + 1, k)
                    }
            },
            _resetView: function(o) {
                var h = o && (o.pinch || o.flyTo);
                this._setView(this._map.getCenter(), this._map.getZoom(), h, h)
            },
            _animateZoom: function(o) {
                this._setView(o.center, o.zoom, !0, o.noUpdate)
            },
            _clampZoom: function(o) {
                var h = this.options;
                return h.minNativeZoom !== void 0 && o < h.minNativeZoom ? h.minNativeZoom : h.maxNativeZoom !== void 0 && h.maxNativeZoom < o ? h.maxNativeZoom : o
            },
            _setView: function(o, h, v, k) {
                var U = Math.round(h);
                this.options.maxZoom !== void 0 && U > this.options.maxZoom || this.options.minZoom !== void 0 && U < this.options.minZoom ? U = void 0 : U = this._clampZoom(U);
                var Z = this.options.updateWhenZooming && U !== this._tileZoom;
                (!k || Z) && (this._tileZoom = U, this._abortLoading && this._abortLoading(), this._updateLevels(), this._resetGrid(), U !== void 0 && this._update(o), v || this._pruneTiles(), this._noPrune = !!v), this._setZoomTransforms(o, h)
            },
            _setZoomTransforms: function(o, h) {
                for (var v in this._levels) this._setZoomTransform(this._levels[v], o, h)
            },
            _setZoomTransform: function(o, h, v) {
                var k = this._map.getZoomScale(v, o.zoom),
                    U = o.origin.multiplyBy(k).subtract(this._map._getNewPixelOrigin(h, v)).round();
                Tt.any3d ? Ma(o.el, U, k) : li(o.el, U)
            },
            _resetGrid: function() {
                var o = this._map,
                    h = o.options.crs,
                    v = this._tileSize = this.getTileSize(),
                    k = this._tileZoom,
                    U = this._map.getPixelWorldBounds(this._tileZoom);
                U && (this._globalTileRange = this._pxBoundsToTileRange(U)), this._wrapX = h.wrapLng && !this.options.noWrap && [Math.floor(o.project([0, h.wrapLng[0]], k).x / v.x), Math.ceil(o.project([0, h.wrapLng[1]], k).x / v.y)], this._wrapY = h.wrapLat && !this.options.noWrap && [Math.floor(o.project([h.wrapLat[0], 0], k).y / v.x), Math.ceil(o.project([h.wrapLat[1], 0], k).y / v.y)]
            },
            _onMoveEnd: function() {
                !this._map || this._map._animatingZoom || this._update()
            },
            _getTiledPixelBounds: function(o) {
                var h = this._map,
                    v = h._animatingZoom ? Math.max(h._animateToZoom, h.getZoom()) : h.getZoom(),
                    k = h.getZoomScale(v, this._tileZoom),
                    U = h.project(o, this._tileZoom).floor(),
                    Z = h.getSize().divideBy(k * 2);
                return new ie(U.subtract(Z), U.add(Z))
            },
            _update: function(o) {
                var h = this._map;
                if (h) {
                    var v = this._clampZoom(h.getZoom());
                    if (o === void 0 && (o = h.getCenter()), this._tileZoom !== void 0) {
                        var k = this._getTiledPixelBounds(o),
                            U = this._pxBoundsToTileRange(k),
                            Z = U.getCenter(),
                            de = [],
                            Pe = this.options.keepBuffer,
                            Oe = new ie(U.getBottomLeft().subtract([Pe, -Pe]), U.getTopRight().add([Pe, -Pe]));
                        if (!(isFinite(U.min.x) && isFinite(U.min.y) && isFinite(U.max.x) && isFinite(U.max.y))) throw new Error("Attempted to load an infinite number of tiles");
                        for (var tt in this._tiles) {
                            var Ct = this._tiles[tt].coords;
                            (Ct.z !== this._tileZoom || !Oe.contains(new re(Ct.x, Ct.y))) && (this._tiles[tt].current = !1)
                        }
                        if (Math.abs(v - this._tileZoom) > 1) {
                            this._setView(o, v);
                            return
                        }
                        for (var Zt = U.min.y; Zt <= U.max.y; Zt++)
                            for (var gi = U.min.x; gi <= U.max.x; gi++) {
                                var Ur = new re(gi, Zt);
                                if (Ur.z = this._tileZoom, !!this._isValidTile(Ur)) {
                                    var rr = this._tiles[this._tileCoordsToKey(Ur)];
                                    rr ? rr.current = !0 : de.push(Ur)
                                }
                            }
                        if (de.sort(function(Jr, ll) {
                                return Jr.distanceTo(Z) - ll.distanceTo(Z)
                            }), de.length !== 0) {
                            this._loading || (this._loading = !0, this.fire("loading"));
                            var La = document.createDocumentFragment();
                            for (gi = 0; gi < de.length; gi++) this._addTile(de[gi], La);
                            this._level.el.appendChild(La)
                        }
                    }
                }
            },
            _isValidTile: function(o) {
                var h = this._map.options.crs;
                if (!h.infinite) {
                    var v = this._globalTileRange;
                    if (!h.wrapLng && (o.x < v.min.x || o.x > v.max.x) || !h.wrapLat && (o.y < v.min.y || o.y > v.max.y)) return !1
                }
                if (!this.options.bounds) return !0;
                var k = this._tileCoordsToBounds(o);
                return De(this.options.bounds).overlaps(k)
            },
            _keyToBounds: function(o) {
                return this._tileCoordsToBounds(this._keyToTileCoords(o))
            },
            _tileCoordsToNwSe: function(o) {
                var h = this._map,
                    v = this.getTileSize(),
                    k = o.scaleBy(v),
                    U = k.add(v),
                    Z = h.unproject(k, o.z),
                    de = h.unproject(U, o.z);
                return [Z, de]
            },
            _tileCoordsToBounds: function(o) {
                var h = this._tileCoordsToNwSe(o),
                    v = new we(h[0], h[1]);
                return this.options.noWrap || (v = this._map.wrapLatLngBounds(v)), v
            },
            _tileCoordsToKey: function(o) {
                return o.x + ":" + o.y + ":" + o.z
            },
            _keyToTileCoords: function(o) {
                var h = o.split(":"),
                    v = new re(+h[0], +h[1]);
                return v.z = +h[2], v
            },
            _removeTile: function(o) {
                var h = this._tiles[o];
                h && (ze(h.el), delete this._tiles[o], this.fire("tileunload", {
                    tile: h.el,
                    coords: this._keyToTileCoords(o)
                }))
            },
            _initTile: function(o) {
                Gt(o, "leaflet-tile");
                var h = this.getTileSize();
                o.style.width = h.x + "px", o.style.height = h.y + "px", o.onselectstart = f, o.onmousemove = f, Tt.ielt9 && this.options.opacity < 1 && Fn(o, this.options.opacity)
            },
            _addTile: function(o, h) {
                var v = this._getTilePos(o),
                    k = this._tileCoordsToKey(o),
                    U = this.createTile(this._wrapCoords(o), r(this._tileReady, this, o));
                this._initTile(U), this.createTile.length < 2 && me(r(this._tileReady, this, o, null, U)), li(U, v), this._tiles[k] = {
                    el: U,
                    coords: o,
                    current: !0
                }, h.appendChild(U), this.fire("tileloadstart", {
                    tile: U,
                    coords: o
                })
            },
            _tileReady: function(o, h, v) {
                h && this.fire("tileerror", {
                    error: h,
                    tile: v,
                    coords: o
                });
                var k = this._tileCoordsToKey(o);
                v = this._tiles[k], v && (v.loaded = +new Date, this._map._fadeAnimated ? (Fn(v.el, 0), V(this._fadeFrame), this._fadeFrame = me(this._updateOpacity, this)) : (v.active = !0, this._pruneTiles()), h || (Gt(v.el, "leaflet-tile-loaded"), this.fire("tileload", {
                    tile: v.el,
                    coords: o
                })), this._noTilesToLoad() && (this._loading = !1, this.fire("load"), Tt.ielt9 || !this._map._fadeAnimated ? me(this._pruneTiles, this) : setTimeout(r(this._pruneTiles, this), 250)))
            },
            _getTilePos: function(o) {
                return o.scaleBy(this.getTileSize()).subtract(this._level.origin)
            },
            _wrapCoords: function(o) {
                var h = new re(this._wrapX ? u(o.x, this._wrapX) : o.x, this._wrapY ? u(o.y, this._wrapY) : o.y);
                return h.z = o.z, h
            },
            _pxBoundsToTileRange: function(o) {
                var h = this.getTileSize();
                return new ie(o.min.unscaleBy(h).floor(), o.max.unscaleBy(h).ceil().subtract([1, 1]))
            },
            _noTilesToLoad: function() {
                for (var o in this._tiles)
                    if (!this._tiles[o].loaded) return !1;
                return !0
            }
        });

        function qe(o) {
            return new Se(o)
        }
        var Ye = Se.extend({
            options: {
                minZoom: 0,
                maxZoom: 18,
                subdomains: "abc",
                errorTileUrl: "",
                zoomOffset: 0,
                tms: !1,
                zoomReverse: !1,
                detectRetina: !1,
                crossOrigin: !1,
                referrerPolicy: !1
            },
            initialize: function(o, h) {
                this._url = o, h = x(this, h), h.detectRetina && Tt.retina && h.maxZoom > 0 ? (h.tileSize = Math.floor(h.tileSize / 2), h.zoomReverse ? (h.zoomOffset--, h.minZoom = Math.min(h.maxZoom, h.minZoom + 1)) : (h.zoomOffset++, h.maxZoom = Math.max(h.minZoom, h.maxZoom - 1)), h.minZoom = Math.max(0, h.minZoom)) : h.zoomReverse ? h.minZoom = Math.min(h.maxZoom, h.minZoom) : h.maxZoom = Math.max(h.minZoom, h.maxZoom), typeof h.subdomains == "string" && (h.subdomains = h.subdomains.split("")), this.on("tileunload", this._onTileRemove)
            },
            setUrl: function(o, h) {
                return this._url === o && h === void 0 && (h = !0), this._url = o, h || this.redraw(), this
            },
            createTile: function(o, h) {
                var v = document.createElement("img");
                return Xt(v, "load", r(this._tileOnLoad, this, h, v)), Xt(v, "error", r(this._tileOnError, this, h, v)), (this.options.crossOrigin || this.options.crossOrigin === "") && (v.crossOrigin = this.options.crossOrigin === !0 ? "" : this.options.crossOrigin), typeof this.options.referrerPolicy == "string" && (v.referrerPolicy = this.options.referrerPolicy), v.alt = "", v.src = this.getTileUrl(o), v
            },
            getTileUrl: function(o) {
                var h = {
                    r: Tt.retina ? "@2x" : "",
                    s: this._getSubdomain(o),
                    x: o.x,
                    y: o.y,
                    z: this._getZoomForUrl()
                };
                if (this._map && !this._map.options.crs.infinite) {
                    var v = this._globalTileRange.max.y - o.y;
                    this.options.tms && (h.y = v), h["-y"] = v
                }
                return E(this._url, i(h, this.options))
            },
            _tileOnLoad: function(o, h) {
                Tt.ielt9 ? setTimeout(r(o, this, null, h), 0) : o(null, h)
            },
            _tileOnError: function(o, h, v) {
                var k = this.options.errorTileUrl;
                k && h.getAttribute("src") !== k && (h.src = k), o(v, h)
            },
            _onTileRemove: function(o) {
                o.tile.onload = null
            },
            _getZoomForUrl: function() {
                var o = this._tileZoom,
                    h = this.options.maxZoom,
                    v = this.options.zoomReverse,
                    k = this.options.zoomOffset;
                return v && (o = h - o), o + k
            },
            _getSubdomain: function(o) {
                var h = Math.abs(o.x + o.y) % this.options.subdomains.length;
                return this.options.subdomains[h]
            },
            _abortLoading: function() {
                var o, h;
                for (o in this._tiles)
                    if (this._tiles[o].coords.z !== this._tileZoom && (h = this._tiles[o].el, h.onload = f, h.onerror = f, !h.complete)) {
                        h.src = I;
                        var v = this._tiles[o].coords;
                        ze(h), delete this._tiles[o], this.fire("tileabort", {
                            tile: h,
                            coords: v
                        })
                    }
            },
            _removeTile: function(o) {
                var h = this._tiles[o];
                if (h) return h.el.setAttribute("src", I), Se.prototype._removeTile.call(this, o)
            },
            _tileReady: function(o, h, v) {
                if (!(!this._map || v && v.getAttribute("src") === I)) return Se.prototype._tileReady.call(this, o, h, v)
            }
        });

        function ft(o, h) {
            return new Ye(o, h)
        }
        var vt = Ye.extend({
            defaultWmsParams: {
                service: "WMS",
                request: "GetMap",
                layers: "",
                styles: "",
                format: "image/jpeg",
                transparent: !1,
                version: "1.1.1"
            },
            options: {
                crs: null,
                uppercase: !1
            },
            initialize: function(o, h) {
                this._url = o;
                var v = i({}, this.defaultWmsParams);
                for (var k in h) k in this.options || (v[k] = h[k]);
                h = x(this, h);
                var U = h.detectRetina && Tt.retina ? 2 : 1,
                    Z = this.getTileSize();
                v.width = Z.x * U, v.height = Z.y * U, this.wmsParams = v
            },
            onAdd: function(o) {
                this._crs = this.options.crs || o.options.crs, this._wmsVersion = parseFloat(this.wmsParams.version);
                var h = this._wmsVersion >= 1.3 ? "crs" : "srs";
                this.wmsParams[h] = this._crs.code, Ye.prototype.onAdd.call(this, o)
            },
            getTileUrl: function(o) {
                var h = this._tileCoordsToNwSe(o),
                    v = this._crs,
                    k = te(v.project(h[0]), v.project(h[1])),
                    U = k.min,
                    Z = k.max,
                    de = (this._wmsVersion >= 1.3 && this._crs === Zr ? [U.y, U.x, Z.y, Z.x] : [U.x, U.y, Z.x, Z.y]).join(","),
                    Pe = Ye.prototype.getTileUrl.call(this, o);
                return Pe + C(this.wmsParams, Pe, this.options.uppercase) + (this.options.uppercase ? "&BBOX=" : "&bbox=") + de
            },
            setParams: function(o, h) {
                return i(this.wmsParams, o), h || this.redraw(), this
            }
        });

        function Vt(o, h) {
            return new vt(o, h)
        }
        Ye.WMS = vt, ft.wms = Vt;
        var It = un.extend({
                options: {
                    padding: .1
                },
                initialize: function(o) {
                    x(this, o), s(this), this._layers = this._layers || {}
                },
                onAdd: function() {
                    this._container || (this._initContainer(), Gt(this._container, "leaflet-zoom-animated")), this.getPane().appendChild(this._container), this._update(), this.on("update", this._updatePaths, this)
                },
                onRemove: function() {
                    this.off("update", this._updatePaths, this), this._destroyContainer()
                },
                getEvents: function() {
                    var o = {
                        viewreset: this._reset,
                        zoom: this._onZoom,
                        moveend: this._update,
                        zoomend: this._onZoomEnd
                    };
                    return this._zoomAnimated && (o.zoomanim = this._onAnimZoom), o
                },
                _onAnimZoom: function(o) {
                    this._updateTransform(o.center, o.zoom)
                },
                _onZoom: function() {
                    this._updateTransform(this._map.getCenter(), this._map.getZoom())
                },
                _updateTransform: function(o, h) {
                    var v = this._map.getZoomScale(h, this._zoom),
                        k = this._map.getSize().multiplyBy(.5 + this.options.padding),
                        U = this._map.project(this._center, h),
                        Z = k.multiplyBy(-v).add(U).subtract(this._map._getNewPixelOrigin(o, h));
                    Tt.any3d ? Ma(this._container, Z, v) : li(this._container, Z)
                },
                _reset: function() {
                    this._update(), this._updateTransform(this._center, this._zoom);
                    for (var o in this._layers) this._layers[o]._reset()
                },
                _onZoomEnd: function() {
                    for (var o in this._layers) this._layers[o]._project()
                },
                _updatePaths: function() {
                    for (var o in this._layers) this._layers[o]._update()
                },
                _update: function() {
                    var o = this.options.padding,
                        h = this._map.getSize(),
                        v = this._map.containerPointToLayerPoint(h.multiplyBy(-o)).round();
                    this._bounds = new ie(v, v.add(h.multiplyBy(1 + o * 2)).round()), this._center = this._map.getCenter(), this._zoom = this._map.getZoom()
                }
            }),
            zt = It.extend({
                options: {
                    tolerance: 0
                },
                getEvents: function() {
                    var o = It.prototype.getEvents.call(this);
                    return o.viewprereset = this._onViewPreReset, o
                },
                _onViewPreReset: function() {
                    this._postponeUpdatePaths = !0
                },
                onAdd: function() {
                    It.prototype.onAdd.call(this), this._draw()
                },
                _initContainer: function() {
                    var o = this._container = document.createElement("canvas");
                    Xt(o, "mousemove", this._onMouseMove, this), Xt(o, "click dblclick mousedown mouseup contextmenu", this._onClick, this), Xt(o, "mouseout", this._handleMouseOut, this), o._leaflet_disable_events = !0, this._ctx = o.getContext("2d")
                },
                _destroyContainer: function() {
                    V(this._redrawRequest), delete this._ctx, ze(this._container), Ui(this._container), delete this._container
                },
                _updatePaths: function() {
                    if (!this._postponeUpdatePaths) {
                        var o;
                        this._redrawBounds = null;
                        for (var h in this._layers) o = this._layers[h], o._update();
                        this._redraw()
                    }
                },
                _update: function() {
                    if (!(this._map._animatingZoom && this._bounds)) {
                        It.prototype._update.call(this);
                        var o = this._bounds,
                            h = this._container,
                            v = o.getSize(),
                            k = Tt.retina ? 2 : 1;
                        li(h, o.min), h.width = k * v.x, h.height = k * v.y, h.style.width = v.x + "px", h.style.height = v.y + "px", Tt.retina && this._ctx.scale(2, 2), this._ctx.translate(-o.min.x, -o.min.y), this.fire("update")
                    }
                },
                _reset: function() {
                    It.prototype._reset.call(this), this._postponeUpdatePaths && (this._postponeUpdatePaths = !1, this._updatePaths())
                },
                _initPath: function(o) {
                    this._updateDashArray(o), this._layers[s(o)] = o;
                    var h = o._order = {
                        layer: o,
                        prev: this._drawLast,
                        next: null
                    };
                    this._drawLast && (this._drawLast.next = h), this._drawLast = h, this._drawFirst = this._drawFirst || this._drawLast
                },
                _addPath: function(o) {
                    this._requestRedraw(o)
                },
                _removePath: function(o) {
                    var h = o._order,
                        v = h.next,
                        k = h.prev;
                    v ? v.prev = k : this._drawLast = k, k ? k.next = v : this._drawFirst = v, delete o._order, delete this._layers[s(o)], this._requestRedraw(o)
                },
                _updatePath: function(o) {
                    this._extendRedrawBounds(o), o._project(), o._update(), this._requestRedraw(o)
                },
                _updateStyle: function(o) {
                    this._updateDashArray(o), this._requestRedraw(o)
                },
                _updateDashArray: function(o) {
                    if (typeof o.options.dashArray == "string") {
                        var h = o.options.dashArray.split(/[, ]+/),
                            v = [],
                            k, U;
                        for (U = 0; U < h.length; U++) {
                            if (k = Number(h[U]), isNaN(k)) return;
                            v.push(k)
                        }
                        o.options._dashArray = v
                    } else o.options._dashArray = o.options.dashArray
                },
                _requestRedraw: function(o) {
                    this._map && (this._extendRedrawBounds(o), this._redrawRequest = this._redrawRequest || me(this._redraw, this))
                },
                _extendRedrawBounds: function(o) {
                    if (o._pxBounds) {
                        var h = (o.options.weight || 0) + 1;
                        this._redrawBounds = this._redrawBounds || new ie, this._redrawBounds.extend(o._pxBounds.min.subtract([h, h])), this._redrawBounds.extend(o._pxBounds.max.add([h, h]))
                    }
                },
                _redraw: function() {
                    this._redrawRequest = null, this._redrawBounds && (this._redrawBounds.min._floor(), this._redrawBounds.max._ceil()), this._clear(), this._draw(), this._redrawBounds = null
                },
                _clear: function() {
                    var o = this._redrawBounds;
                    if (o) {
                        var h = o.getSize();
                        this._ctx.clearRect(o.min.x, o.min.y, h.x, h.y)
                    } else this._ctx.save(), this._ctx.setTransform(1, 0, 0, 1, 0, 0), this._ctx.clearRect(0, 0, this._container.width, this._container.height), this._ctx.restore()
                },
                _draw: function() {
                    var o, h = this._redrawBounds;
                    if (this._ctx.save(), h) {
                        var v = h.getSize();
                        this._ctx.beginPath(), this._ctx.rect(h.min.x, h.min.y, v.x, v.y), this._ctx.clip()
                    }
                    this._drawing = !0;
                    for (var k = this._drawFirst; k; k = k.next) o = k.layer, (!h || o._pxBounds && o._pxBounds.intersects(h)) && o._updatePath();
                    this._drawing = !1, this._ctx.restore()
                },
                _updatePoly: function(o, h) {
                    if (this._drawing) {
                        var v, k, U, Z, de = o._parts,
                            Pe = de.length,
                            Oe = this._ctx;
                        if (Pe) {
                            for (Oe.beginPath(), v = 0; v < Pe; v++) {
                                for (k = 0, U = de[v].length; k < U; k++) Z = de[v][k], Oe[k ? "lineTo" : "moveTo"](Z.x, Z.y);
                                h && Oe.closePath()
                            }
                            this._fillStroke(Oe, o)
                        }
                    }
                },
                _updateCircle: function(o) {
                    if (!(!this._drawing || o._empty())) {
                        var h = o._point,
                            v = this._ctx,
                            k = Math.max(Math.round(o._radius), 1),
                            U = (Math.max(Math.round(o._radiusY), 1) || k) / k;
                        U !== 1 && (v.save(), v.scale(1, U)), v.beginPath(), v.arc(h.x, h.y / U, k, 0, Math.PI * 2, !1), U !== 1 && v.restore(), this._fillStroke(v, o)
                    }
                },
                _fillStroke: function(o, h) {
                    var v = h.options;
                    v.fill && (o.globalAlpha = v.fillOpacity, o.fillStyle = v.fillColor || v.color, o.fill(v.fillRule || "evenodd")), v.stroke && v.weight !== 0 && (o.setLineDash && o.setLineDash(h.options && h.options._dashArray || []), o.globalAlpha = v.opacity, o.lineWidth = v.weight, o.strokeStyle = v.color, o.lineCap = v.lineCap, o.lineJoin = v.lineJoin, o.stroke())
                },
                _onClick: function(o) {
                    for (var h = this._map.mouseEventToLayerPoint(o), v, k, U = this._drawFirst; U; U = U.next) v = U.layer, v.options.interactive && v._containsPoint(h) && (!(o.type === "click" || o.type === "preclick") || !this._map._draggableMoved(v)) && (k = v);
                    this._fireEvent(k ? [k] : !1, o)
                },
                _onMouseMove: function(o) {
                    if (!(!this._map || this._map.dragging.moving() || this._map._animatingZoom)) {
                        var h = this._map.mouseEventToLayerPoint(o);
                        this._handleMouseHover(o, h)
                    }
                },
                _handleMouseOut: function(o) {
                    var h = this._hoveredLayer;
                    h && (Zi(this._container, "leaflet-interactive"), this._fireEvent([h], o, "mouseout"), this._hoveredLayer = null, this._mouseHoverThrottled = !1)
                },
                _handleMouseHover: function(o, h) {
                    if (!this._mouseHoverThrottled) {
                        for (var v, k, U = this._drawFirst; U; U = U.next) v = U.layer, v.options.interactive && v._containsPoint(h) && (k = v);
                        k !== this._hoveredLayer && (this._handleMouseOut(o), k && (Gt(this._container, "leaflet-interactive"), this._fireEvent([k], o, "mouseover"), this._hoveredLayer = k)), this._fireEvent(this._hoveredLayer ? [this._hoveredLayer] : !1, o), this._mouseHoverThrottled = !0, setTimeout(r(function() {
                            this._mouseHoverThrottled = !1
                        }, this), 32)
                    }
                },
                _fireEvent: function(o, h, v) {
                    this._map._fireDOMEvent(h, v || h.type, o)
                },
                _bringToFront: function(o) {
                    var h = o._order;
                    if (h) {
                        var v = h.next,
                            k = h.prev;
                        if (v) v.prev = k;
                        else return;
                        k ? k.next = v : v && (this._drawFirst = v), h.prev = this._drawLast, this._drawLast.next = h, h.next = null, this._drawLast = h, this._requestRedraw(o)
                    }
                },
                _bringToBack: function(o) {
                    var h = o._order;
                    if (h) {
                        var v = h.next,
                            k = h.prev;
                        if (k) k.next = v;
                        else return;
                        v ? v.prev = k : k && (this._drawLast = k), h.prev = null, h.next = this._drawFirst, this._drawFirst.prev = h, this._drawFirst = h, this._requestRedraw(o)
                    }
                }
            });

        function ai(o) {
            return Tt.canvas ? new zt(o) : null
        }
        var Ni = function() {
                try {
                    return document.namespaces.add("lvml", "urn:schemas-microsoft-com:vml"),
                        function(o) {
                            return document.createElement("<lvml:" + o + ' class="lvml">')
                        }
                } catch {}
                return function(o) {
                    return document.createElement("<" + o + ' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')
                }
            }(),
            Ht = {
                _initContainer: function() {
                    this._container = Ee("div", "leaflet-vml-container")
                },
                _update: function() {
                    this._map._animatingZoom || (It.prototype._update.call(this), this.fire("update"))
                },
                _initPath: function(o) {
                    var h = o._container = Ni("shape");
                    Gt(h, "leaflet-vml-shape " + (this.options.className || "")), h.coordsize = "1 1", o._path = Ni("path"), h.appendChild(o._path), this._updateStyle(o), this._layers[s(o)] = o
                },
                _addPath: function(o) {
                    var h = o._container;
                    this._container.appendChild(h), o.options.interactive && o.addInteractiveTarget(h)
                },
                _removePath: function(o) {
                    var h = o._container;
                    ze(h), o.removeInteractiveTarget(h), delete this._layers[s(o)]
                },
                _updateStyle: function(o) {
                    var h = o._stroke,
                        v = o._fill,
                        k = o.options,
                        U = o._container;
                    U.stroked = !!k.stroke, U.filled = !!k.fill, k.stroke ? (h || (h = o._stroke = Ni("stroke")), U.appendChild(h), h.weight = k.weight + "px", h.color = k.color, h.opacity = k.opacity, k.dashArray ? h.dashStyle = O(k.dashArray) ? k.dashArray.join(" ") : k.dashArray.replace(/( *, *)/g, " ") : h.dashStyle = "", h.endcap = k.lineCap.replace("butt", "flat"), h.joinstyle = k.lineJoin) : h && (U.removeChild(h), o._stroke = null), k.fill ? (v || (v = o._fill = Ni("fill")), U.appendChild(v), v.color = k.fillColor || k.color, v.opacity = k.fillOpacity) : v && (U.removeChild(v), o._fill = null)
                },
                _updateCircle: function(o) {
                    var h = o._point.round(),
                        v = Math.round(o._radius),
                        k = Math.round(o._radiusY || v);
                    this._setPath(o, o._empty() ? "M0 0" : "AL " + h.x + "," + h.y + " " + v + "," + k + " 0," + 65535 * 360)
                },
                _setPath: function(o, h) {
                    o._path.v = h
                },
                _bringToFront: function(o) {
                    Et(o._container)
                },
                _bringToBack: function(o) {
                    en(o._container)
                }
            },
            mn = Tt.vml ? Ni : ke,
            kn = It.extend({
                _initContainer: function() {
                    this._container = mn("svg"), this._container.setAttribute("pointer-events", "none"), this._rootGroup = mn("g"), this._container.appendChild(this._rootGroup)
                },
                _destroyContainer: function() {
                    ze(this._container), Ui(this._container), delete this._container, delete this._rootGroup, delete this._svgSize
                },
                _update: function() {
                    if (!(this._map._animatingZoom && this._bounds)) {
                        It.prototype._update.call(this);
                        var o = this._bounds,
                            h = o.getSize(),
                            v = this._container;
                        (!this._svgSize || !this._svgSize.equals(h)) && (this._svgSize = h, v.setAttribute("width", h.x), v.setAttribute("height", h.y)), li(v, o.min), v.setAttribute("viewBox", [o.min.x, o.min.y, h.x, h.y].join(" ")), this.fire("update")
                    }
                },
                _initPath: function(o) {
                    var h = o._path = mn("path");
                    o.options.className && Gt(h, o.options.className), o.options.interactive && Gt(h, "leaflet-interactive"), this._updateStyle(o), this._layers[s(o)] = o
                },
                _addPath: function(o) {
                    this._rootGroup || this._initContainer(), this._rootGroup.appendChild(o._path), o.addInteractiveTarget(o._path)
                },
                _removePath: function(o) {
                    ze(o._path), o.removeInteractiveTarget(o._path), delete this._layers[s(o)]
                },
                _updatePath: function(o) {
                    o._project(), o._update()
                },
                _updateStyle: function(o) {
                    var h = o._path,
                        v = o.options;
                    h && (v.stroke ? (h.setAttribute("stroke", v.color), h.setAttribute("stroke-opacity", v.opacity), h.setAttribute("stroke-width", v.weight), h.setAttribute("stroke-linecap", v.lineCap), h.setAttribute("stroke-linejoin", v.lineJoin), v.dashArray ? h.setAttribute("stroke-dasharray", v.dashArray) : h.removeAttribute("stroke-dasharray"), v.dashOffset ? h.setAttribute("stroke-dashoffset", v.dashOffset) : h.removeAttribute("stroke-dashoffset")) : h.setAttribute("stroke", "none"), v.fill ? (h.setAttribute("fill", v.fillColor || v.color), h.setAttribute("fill-opacity", v.fillOpacity), h.setAttribute("fill-rule", v.fillRule || "evenodd")) : h.setAttribute("fill", "none"))
                },
                _updatePoly: function(o, h) {
                    this._setPath(o, Ce(o._parts, h))
                },
                _updateCircle: function(o) {
                    var h = o._point,
                        v = Math.max(Math.round(o._radius), 1),
                        k = Math.max(Math.round(o._radiusY), 1) || v,
                        U = "a" + v + "," + k + " 0 1,0 ",
                        Z = o._empty() ? "M0 0" : "M" + (h.x - v) + "," + h.y + U + v * 2 + ",0 " + U + -v * 2 + ",0 ";
                    this._setPath(o, Z)
                },
                _setPath: function(o, h) {
                    o._path.setAttribute("d", h)
                },
                _bringToFront: function(o) {
                    Et(o._path)
                },
                _bringToBack: function(o) {
                    en(o._path)
                }
            });
        Tt.vml && kn.include(Ht);

        function Tr(o) {
            return Tt.svg || Tt.vml ? new kn(o) : null
        }
        pi.include({
            getRenderer: function(o) {
                var h = o.options.renderer || this._getPaneRenderer(o.options.pane) || this.options.renderer || this._renderer;
                return h || (h = this._renderer = this._createRenderer()), this.hasLayer(h) || this.addLayer(h), h
            },
            _getPaneRenderer: function(o) {
                if (o === "overlayPane" || o === void 0) return !1;
                var h = this._paneRenderers[o];
                return h === void 0 && (h = this._createRenderer({
                    pane: o
                }), this._paneRenderers[o] = h), h
            },
            _createRenderer: function(o) {
                return this.options.preferCanvas && ai(o) || Tr(o)
            }
        });
        var Xi = pa.extend({
            initialize: function(o, h) {
                pa.prototype.initialize.call(this, this._boundsToLatLngs(o), h)
            },
            setBounds: function(o) {
                return this.setLatLngs(this._boundsToLatLngs(o))
            },
            _boundsToLatLngs: function(o) {
                return o = De(o), [o.getSouthWest(), o.getNorthWest(), o.getNorthEast(), o.getSouthEast()]
            }
        });

        function Do(o, h) {
            return new Xi(o, h)
        }
        kn.create = mn, kn.pointsToPath = Ce, Sr.geometryToLayer = Ci, Sr.coordsToLatLng = gr, Sr.coordsToLatLngs = Mn, Sr.latLngToCoords = ns, Sr.latLngsToCoords = le, Sr.getFeature = ve, Sr.asFeature = Ne, pi.mergeOptions({
            boxZoom: !0
        });
        var Ys = M.extend({
            initialize: function(o) {
                this._map = o, this._container = o._container, this._pane = o._panes.overlayPane, this._resetStateTimeout = 0, o.on("unload", this._destroy, this)
            },
            addHooks: function() {
                Xt(this._container, "mousedown", this._onMouseDown, this)
            },
            removeHooks: function() {
                Ui(this._container, "mousedown", this._onMouseDown, this)
            },
            moved: function() {
                return this._moved
            },
            _destroy: function() {
                ze(this._pane), delete this._pane
            },
            _resetState: function() {
                this._resetStateTimeout = 0, this._moved = !1
            },
            _clearDeferredResetState: function() {
                this._resetStateTimeout !== 0 && (clearTimeout(this._resetStateTimeout), this._resetStateTimeout = 0)
            },
            _onMouseDown: function(o) {
                if (!o.shiftKey || o.which !== 1 && o.button !== 1) return !1;
                this._clearDeferredResetState(), this._resetState(), Br(), hr(), this._startPoint = this._map.mouseEventToContainerPoint(o), Xt(document, {
                    contextmenu: fa,
                    mousemove: this._onMouseMove,
                    mouseup: this._onMouseUp,
                    keydown: this._onKeyDown
                }, this)
            },
            _onMouseMove: function(o) {
                this._moved || (this._moved = !0, this._box = Ee("div", "leaflet-zoom-box", this._container), Gt(this._container, "leaflet-crosshair"), this._map.fire("boxzoomstart")), this._point = this._map.mouseEventToContainerPoint(o);
                var h = new ie(this._point, this._startPoint),
                    v = h.getSize();
                li(this._box, h.min), this._box.style.width = v.x + "px", this._box.style.height = v.y + "px"
            },
            _finish: function() {
                this._moved && (ze(this._box), Zi(this._container, "leaflet-crosshair")), Ss(), Xa(), Ui(document, {
                    contextmenu: fa,
                    mousemove: this._onMouseMove,
                    mouseup: this._onMouseUp,
                    keydown: this._onKeyDown
                }, this)
            },
            _onMouseUp: function(o) {
                if (!(o.which !== 1 && o.button !== 1) && (this._finish(), !!this._moved)) {
                    this._clearDeferredResetState(), this._resetStateTimeout = setTimeout(r(this._resetState, this), 0);
                    var h = new we(this._map.containerPointToLatLng(this._startPoint), this._map.containerPointToLatLng(this._point));
                    this._map.fitBounds(h).fire("boxzoomend", {
                        boxZoomBounds: h
                    })
                }
            },
            _onKeyDown: function(o) {
                o.keyCode === 27 && (this._finish(), this._clearDeferredResetState(), this._resetState())
            }
        });
        pi.addInitHook("addHandler", "boxZoom", Ys), pi.mergeOptions({
            doubleClickZoom: !0
        });
        var Lr = M.extend({
            addHooks: function() {
                this._map.on("dblclick", this._onDoubleClick, this)
            },
            removeHooks: function() {
                this._map.off("dblclick", this._onDoubleClick, this)
            },
            _onDoubleClick: function(o) {
                var h = this._map,
                    v = h.getZoom(),
                    k = h.options.zoomDelta,
                    U = o.originalEvent.shiftKey ? v - k : v + k;
                h.options.doubleClickZoom === "center" ? h.setZoom(U) : h.setZoomAround(o.containerPoint, U)
            }
        });
        pi.addInitHook("addHandler", "doubleClickZoom", Lr), pi.mergeOptions({
            dragging: !0,
            inertia: !0,
            inertiaDeceleration: 3400,
            inertiaMaxSpeed: 1 / 0,
            easeLinearity: .2,
            worldCopyJump: !1,
            maxBoundsViscosity: 0
        });
        var Cg = M.extend({
            addHooks: function() {
                if (!this._draggable) {
                    var o = this._map;
                    this._draggable = new $(o._mapPane, o._container), this._draggable.on({
                        dragstart: this._onDragStart,
                        drag: this._onDrag,
                        dragend: this._onDragEnd
                    }, this), this._draggable.on("predrag", this._onPreDragLimit, this), o.options.worldCopyJump && (this._draggable.on("predrag", this._onPreDragWrap, this), o.on("zoomend", this._onZoomEnd, this), o.whenReady(this._onZoomEnd, this))
                }
                Gt(this._map._container, "leaflet-grab leaflet-touch-drag"), this._draggable.enable(), this._positions = [], this._times = []
            },
            removeHooks: function() {
                Zi(this._map._container, "leaflet-grab"), Zi(this._map._container, "leaflet-touch-drag"), this._draggable.disable()
            },
            moved: function() {
                return this._draggable && this._draggable._moved
            },
            moving: function() {
                return this._draggable && this._draggable._moving
            },
            _onDragStart: function() {
                var o = this._map;
                if (o._stop(), this._map.options.maxBounds && this._map.options.maxBoundsViscosity) {
                    var h = De(this._map.options.maxBounds);
                    this._offsetLimit = te(this._map.latLngToContainerPoint(h.getNorthWest()).multiplyBy(-1), this._map.latLngToContainerPoint(h.getSouthEast()).multiplyBy(-1).add(this._map.getSize())), this._viscosity = Math.min(1, Math.max(0, this._map.options.maxBoundsViscosity))
                } else this._offsetLimit = null;
                o.fire("movestart").fire("dragstart"), o.options.inertia && (this._positions = [], this._times = [])
            },
            _onDrag: function(o) {
                if (this._map.options.inertia) {
                    var h = this._lastTime = +new Date,
                        v = this._lastPos = this._draggable._absPos || this._draggable._newPos;
                    this._positions.push(v), this._times.push(h), this._prunePositions(h)
                }
                this._map.fire("move", o).fire("drag", o)
            },
            _prunePositions: function(o) {
                for (; this._positions.length > 1 && o - this._times[0] > 50;) this._positions.shift(), this._times.shift()
            },
            _onZoomEnd: function() {
                var o = this._map.getSize().divideBy(2),
                    h = this._map.latLngToLayerPoint([0, 0]);
                this._initialWorldOffset = h.subtract(o).x, this._worldWidth = this._map.getPixelWorldBounds().getSize().x
            },
            _viscousLimit: function(o, h) {
                return o - (o - h) * this._viscosity
            },
            _onPreDragLimit: function() {
                if (!(!this._viscosity || !this._offsetLimit)) {
                    var o = this._draggable._newPos.subtract(this._draggable._startPos),
                        h = this._offsetLimit;
                    o.x < h.min.x && (o.x = this._viscousLimit(o.x, h.min.x)), o.y < h.min.y && (o.y = this._viscousLimit(o.y, h.min.y)), o.x > h.max.x && (o.x = this._viscousLimit(o.x, h.max.x)), o.y > h.max.y && (o.y = this._viscousLimit(o.y, h.max.y)), this._draggable._newPos = this._draggable._startPos.add(o)
                }
            },
            _onPreDragWrap: function() {
                var o = this._worldWidth,
                    h = Math.round(o / 2),
                    v = this._initialWorldOffset,
                    k = this._draggable._newPos.x,
                    U = (k - h + v) % o + h - v,
                    Z = (k + h + v) % o - h - v,
                    de = Math.abs(U + v) < Math.abs(Z + v) ? U : Z;
                this._draggable._absPos = this._draggable._newPos.clone(), this._draggable._newPos.x = de
            },
            _onDragEnd: function(o) {
                var h = this._map,
                    v = h.options,
                    k = !v.inertia || o.noInertia || this._times.length < 2;
                if (h.fire("dragend", o), k) h.fire("moveend");
                else {
                    this._prunePositions(+new Date);
                    var U = this._lastPos.subtract(this._positions[0]),
                        Z = (this._lastTime - this._times[0]) / 1e3,
                        de = v.easeLinearity,
                        Pe = U.multiplyBy(de / Z),
                        Oe = Pe.distanceTo([0, 0]),
                        tt = Math.min(v.inertiaMaxSpeed, Oe),
                        Ct = Pe.multiplyBy(tt / Oe),
                        Zt = tt / (v.inertiaDeceleration * de),
                        gi = Ct.multiplyBy(-Zt / 2).round();
                    !gi.x && !gi.y ? h.fire("moveend") : (gi = h._limitOffset(gi, h.options.maxBounds), me(function() {
                        h.panBy(gi, {
                            duration: Zt,
                            easeLinearity: de,
                            noMoveStart: !0,
                            animate: !0
                        })
                    }))
                }
            }
        });
        pi.addInitHook("addHandler", "dragging", Cg), pi.mergeOptions({
            keyboard: !0,
            keyboardPanDelta: 80
        });
        var Sg = M.extend({
            keyCodes: {
                left: [37],
                right: [39],
                down: [40],
                up: [38],
                zoomIn: [187, 107, 61, 171],
                zoomOut: [189, 109, 54, 173]
            },
            initialize: function(o) {
                this._map = o, this._setPanDelta(o.options.keyboardPanDelta), this._setZoomDelta(o.options.zoomDelta)
            },
            addHooks: function() {
                var o = this._map._container;
                o.tabIndex <= 0 && (o.tabIndex = "0"), Xt(o, {
                    focus: this._onFocus,
                    blur: this._onBlur,
                    mousedown: this._onMouseDown
                }, this), this._map.on({
                    focus: this._addHooks,
                    blur: this._removeHooks
                }, this)
            },
            removeHooks: function() {
                this._removeHooks(), Ui(this._map._container, {
                    focus: this._onFocus,
                    blur: this._onBlur,
                    mousedown: this._onMouseDown
                }, this), this._map.off({
                    focus: this._addHooks,
                    blur: this._removeHooks
                }, this)
            },
            _onMouseDown: function() {
                if (!this._focused) {
                    var o = document.body,
                        h = document.documentElement,
                        v = o.scrollTop || h.scrollTop,
                        k = o.scrollLeft || h.scrollLeft;
                    this._map._container.focus(), window.scrollTo(k, v)
                }
            },
            _onFocus: function() {
                this._focused = !0, this._map.fire("focus")
            },
            _onBlur: function() {
                this._focused = !1, this._map.fire("blur")
            },
            _setPanDelta: function(o) {
                var h = this._panKeys = {},
                    v = this.keyCodes,
                    k, U;
                for (k = 0, U = v.left.length; k < U; k++) h[v.left[k]] = [-1 * o, 0];
                for (k = 0, U = v.right.length; k < U; k++) h[v.right[k]] = [o, 0];
                for (k = 0, U = v.down.length; k < U; k++) h[v.down[k]] = [0, o];
                for (k = 0, U = v.up.length; k < U; k++) h[v.up[k]] = [0, -1 * o]
            },
            _setZoomDelta: function(o) {
                var h = this._zoomKeys = {},
                    v = this.keyCodes,
                    k, U;
                for (k = 0, U = v.zoomIn.length; k < U; k++) h[v.zoomIn[k]] = o;
                for (k = 0, U = v.zoomOut.length; k < U; k++) h[v.zoomOut[k]] = -o
            },
            _addHooks: function() {
                Xt(document, "keydown", this._onKeyDown, this)
            },
            _removeHooks: function() {
                Ui(document, "keydown", this._onKeyDown, this)
            },
            _onKeyDown: function(o) {
                if (!(o.altKey || o.ctrlKey || o.metaKey)) {
                    var h = o.keyCode,
                        v = this._map,
                        k;
                    if (h in this._panKeys) {
                        if (!v._panAnim || !v._panAnim._inProgress)
                            if (k = this._panKeys[h], o.shiftKey && (k = ue(k).multiplyBy(3)), v.options.maxBounds && (k = v._limitOffset(ue(k), v.options.maxBounds)), v.options.worldCopyJump) {
                                var U = v.wrapLatLng(v.unproject(v.project(v.getCenter()).add(k)));
                                v.panTo(U)
                            } else v.panBy(k)
                    } else if (h in this._zoomKeys) v.setZoom(v.getZoom() + (o.shiftKey ? 3 : 1) * this._zoomKeys[h]);
                    else if (h === 27 && v._popup && v._popup.options.closeOnEscapeKey) v.closePopup();
                    else return;
                    fa(o)
                }
            }
        });
        pi.addInitHook("addHandler", "keyboard", Sg), pi.mergeOptions({
            scrollWheelZoom: !0,
            wheelDebounceTime: 40,
            wheelPxPerZoomLevel: 60
        });
        var Tg = M.extend({
            addHooks: function() {
                Xt(this._map._container, "wheel", this._onWheelScroll, this), this._delta = 0
            },
            removeHooks: function() {
                Ui(this._map._container, "wheel", this._onWheelScroll, this)
            },
            _onWheelScroll: function(o) {
                var h = Ao(o),
                    v = this._map.options.wheelDebounceTime;
                this._delta += h, this._lastMousePos = this._map.mouseEventToContainerPoint(o), this._startTime || (this._startTime = +new Date);
                var k = Math.max(v - (+new Date - this._startTime), 0);
                clearTimeout(this._timer), this._timer = setTimeout(r(this._performZoom, this), k), fa(o)
            },
            _performZoom: function() {
                var o = this._map,
                    h = o.getZoom(),
                    v = this._map.options.zoomSnap || 0;
                o._stop();
                var k = this._delta / (this._map.options.wheelPxPerZoomLevel * 4),
                    U = 4 * Math.log(2 / (1 + Math.exp(-Math.abs(k)))) / Math.LN2,
                    Z = v ? Math.ceil(U / v) * v : U,
                    de = o._limitZoom(h + (this._delta > 0 ? Z : -Z)) - h;
                this._delta = 0, this._startTime = null, de && (o.options.scrollWheelZoom === "center" ? o.setZoom(h + de) : o.setZoomAround(this._lastMousePos, h + de))
            }
        });
        pi.addInitHook("addHandler", "scrollWheelZoom", Tg);
        var pw = 600;
        pi.mergeOptions({
            tapHold: Tt.touchNative && Tt.safari && Tt.mobile,
            tapTolerance: 15
        });
        var Lg = M.extend({
            addHooks: function() {
                Xt(this._map._container, "touchstart", this._onDown, this)
            },
            removeHooks: function() {
                Ui(this._map._container, "touchstart", this._onDown, this)
            },
            _onDown: function(o) {
                if (clearTimeout(this._holdTimeout), o.touches.length === 1) {
                    var h = o.touches[0];
                    this._startPos = this._newPos = new re(h.clientX, h.clientY), this._holdTimeout = setTimeout(r(function() {
                        this._cancel(), this._isTapValid() && (Xt(document, "touchend", Ln), Xt(document, "touchend touchcancel", this._cancelClickPrevent), this._simulateEvent("contextmenu", h))
                    }, this), pw), Xt(document, "touchend touchcancel contextmenu", this._cancel, this), Xt(document, "touchmove", this._onMove, this)
                }
            },
            _cancelClickPrevent: function o() {
                Ui(document, "touchend", Ln), Ui(document, "touchend touchcancel", o)
            },
            _cancel: function() {
                clearTimeout(this._holdTimeout), Ui(document, "touchend touchcancel contextmenu", this._cancel, this), Ui(document, "touchmove", this._onMove, this)
            },
            _onMove: function(o) {
                var h = o.touches[0];
                this._newPos = new re(h.clientX, h.clientY)
            },
            _isTapValid: function() {
                return this._newPos.distanceTo(this._startPos) <= this._map.options.tapTolerance
            },
            _simulateEvent: function(o, h) {
                var v = new MouseEvent(o, {
                    bubbles: !0,
                    cancelable: !0,
                    view: window,
                    screenX: h.screenX,
                    screenY: h.screenY,
                    clientX: h.clientX,
                    clientY: h.clientY
                });
                v._simulated = !0, h.target.dispatchEvent(v)
            }
        });
        pi.addInitHook("addHandler", "tapHold", Lg), pi.mergeOptions({
            touchZoom: Tt.touch,
            bounceAtZoomLimits: !0
        });
        var kg = M.extend({
            addHooks: function() {
                Gt(this._map._container, "leaflet-touch-zoom"), Xt(this._map._container, "touchstart", this._onTouchStart, this)
            },
            removeHooks: function() {
                Zi(this._map._container, "leaflet-touch-zoom"), Ui(this._map._container, "touchstart", this._onTouchStart, this)
            },
            _onTouchStart: function(o) {
                var h = this._map;
                if (!(!o.touches || o.touches.length !== 2 || h._animatingZoom || this._zooming)) {
                    var v = h.mouseEventToContainerPoint(o.touches[0]),
                        k = h.mouseEventToContainerPoint(o.touches[1]);
                    this._centerPoint = h.getSize()._divideBy(2), this._startLatLng = h.containerPointToLatLng(this._centerPoint), h.options.touchZoom !== "center" && (this._pinchStartLatLng = h.containerPointToLatLng(v.add(k)._divideBy(2))), this._startDist = v.distanceTo(k), this._startZoom = h.getZoom(), this._moved = !1, this._zooming = !0, h._stop(), Xt(document, "touchmove", this._onTouchMove, this), Xt(document, "touchend touchcancel", this._onTouchEnd, this), Ln(o)
                }
            },
            _onTouchMove: function(o) {
                if (!(!o.touches || o.touches.length !== 2 || !this._zooming)) {
                    var h = this._map,
                        v = h.mouseEventToContainerPoint(o.touches[0]),
                        k = h.mouseEventToContainerPoint(o.touches[1]),
                        U = v.distanceTo(k) / this._startDist;
                    if (this._zoom = h.getScaleZoom(U, this._startZoom), !h.options.bounceAtZoomLimits && (this._zoom < h.getMinZoom() && U < 1 || this._zoom > h.getMaxZoom() && U > 1) && (this._zoom = h._limitZoom(this._zoom)), h.options.touchZoom === "center") {
                        if (this._center = this._startLatLng, U === 1) return
                    } else {
                        var Z = v._add(k)._divideBy(2)._subtract(this._centerPoint);
                        if (U === 1 && Z.x === 0 && Z.y === 0) return;
                        this._center = h.unproject(h.project(this._pinchStartLatLng, this._zoom).subtract(Z), this._zoom)
                    }
                    this._moved || (h._moveStart(!0, !1), this._moved = !0), V(this._animRequest);
                    var de = r(h._move, h, this._center, this._zoom, {
                        pinch: !0,
                        round: !1
                    }, void 0);
                    this._animRequest = me(de, this, !0), Ln(o)
                }
            },
            _onTouchEnd: function() {
                if (!this._moved || !this._zooming) {
                    this._zooming = !1;
                    return
                }
                this._zooming = !1, V(this._animRequest), Ui(document, "touchmove", this._onTouchMove, this), Ui(document, "touchend touchcancel", this._onTouchEnd, this), this._map.options.zoomAnimation ? this._map._animateZoom(this._center, this._map._limitZoom(this._zoom), !0, this._map.options.zoomSnap) : this._map._resetView(this._center, this._map._limitZoom(this._zoom))
            }
        });
        pi.addInitHook("addHandler", "touchZoom", kg), pi.BoxZoom = Ys, pi.DoubleClickZoom = Lr, pi.Drag = Cg, pi.Keyboard = Sg, pi.ScrollWheelZoom = Tg, pi.TapHold = Lg, pi.TouchZoom = kg, e.Bounds = ie, e.Browser = Tt, e.CRS = Qe, e.Canvas = zt, e.Circle = is, e.CircleMarker = Qr, e.Class = P, e.Control = Zn, e.DivIcon = ge, e.DivOverlay = jt, e.DomEvent = Ks, e.DomUtil = Jl, e.Draggable = $, e.Evented = ne, e.FeatureGroup = ha, e.GeoJSON = Sr, e.GridLayer = Se, e.Handler = M, e.Icon = da, e.ImageOverlay = gt, e.LatLng = ye, e.LatLngBounds = we, e.Layer = un, e.LayerGroup = ts, e.LineUtil = Cr, e.Map = pi, e.Marker = Xs, e.Mixin = q, e.Path = nr, e.Point = re, e.PolyUtil = Ie, e.Polygon = pa, e.Polyline = gn, e.Popup = Pt, e.PosAnimation = Gs, e.Projection = Gr, e.Rectangle = Xi, e.Renderer = It, e.SVG = kn, e.SVGOverlay = qt, e.TileLayer = Ye, e.Tooltip = Q, e.Transformation = xt, e.Util = W, e.VideoOverlay = mt, e.bind = r, e.bounds = te, e.canvas = ai, e.circle = pr, e.circleMarker = Ta, e.control = g, e.divIcon = Fe, e.extend = i, e.featureGroup = ki, e.geoJSON = Ve, e.geoJson = ut, e.gridLayer = qe, e.icon = Or, e.imageOverlay = Lt, e.latLng = Ue, e.latLngBounds = De, e.layerGroup = Zs, e.map = eu, e.marker = sl, e.point = ue, e.polygon = ol, e.polyline = ks, e.popup = Fi, e.rectangle = Do, e.setOptions = x, e.stamp = s, e.svg = Tr, e.svgOverlay = $t, e.tileLayer = ft, e.tooltip = fe, e.transformation = Bt, e.version = t, e.videoOverlay = ni;
        var gw = window.L;
        e.noConflict = function() {
            return window.L = gw, this
        }, window.L = e
    })
});
var Np = Ke(Q1 => {
    (function(e) {
        typeof define == "function" && define.amd ? define(["jquery"], e) : e(typeof Q1 == "object" ? an() : jQuery)
    })(function(e, t) {
        function i() {
            return new Date(Date.UTC.apply(Date, arguments))
        }

        function n() {
            var D = new Date;
            return i(D.getFullYear(), D.getMonth(), D.getDate())
        }

        function r(D, I) {
            return D.getUTCFullYear() === I.getUTCFullYear() && D.getUTCMonth() === I.getUTCMonth() && D.getUTCDate() === I.getUTCDate()
        }

        function a(D, I) {
            return function() {
                return I !== t && e.fn.datepicker.deprecated(I), this[D].apply(this, arguments)
            }
        }

        function s(D) {
            return D && !isNaN(D.getTime())
        }
        var l = function() {
                var D = {
                    get: function(I) {
                        return this.slice(I)[0]
                    },
                    contains: function(I) {
                        for (var H = I && I.valueOf(), y = 0, w = this.length; y < w; y++)
                            if (0 <= this[y].valueOf() - H && this[y].valueOf() - H < 864e5) return y;
                        return -1
                    },
                    remove: function(I) {
                        this.splice(I, 1)
                    },
                    replace: function(I) {
                        I && (Array.isArray(I) || (I = [I]), this.clear(), this.push.apply(this, I))
                    },
                    clear: function() {
                        this.length = 0
                    },
                    copy: function() {
                        var I = new l;
                        return I.replace(this), I
                    }
                };
                return function() {
                    var I = [];
                    return I.push.apply(I, arguments), e.extend(I, D), I
                }
            }(),
            u = function(D, I) {
                e.data(D, "datepicker", this), this._events = [], this._secondaryEvents = [], this._process_options(I), this.dates = new l, this.viewDate = this.o.defaultViewDate, this.focusDate = null, this.element = e(D), this.isInput = this.element.is("input"), this.inputField = this.isInput ? this.element : this.element.find("input"), this.component = this.element.hasClass("date") ? this.element.find(".add-on, .input-group-addon, .input-group-append, .input-group-prepend, .btn") : !1, this.component && this.component.length === 0 && (this.component = !1), this.o.isInline === null ? this.isInline = !this.component && !this.isInput : this.isInline = this.o.isInline, this.picker = e(O.template), this._check_template(this.o.templates.leftArrow) && this.picker.find(".prev").html(this.o.templates.leftArrow), this._check_template(this.o.templates.rightArrow) && this.picker.find(".next").html(this.o.templates.rightArrow), this._buildEvents(), this._attachEvents(), this.isInline ? this.picker.addClass("datepicker-inline").appendTo(this.element) : this.picker.addClass("datepicker-dropdown dropdown-menu"), this.o.rtl && this.picker.addClass("datepicker-rtl"), this.o.calendarWeeks && this.picker.find(".datepicker-days .datepicker-switch, thead .datepicker-title, tfoot .today, tfoot .clear").attr("colspan", function(H, y) {
                    return Number(y) + 1
                }), this._process_options({
                    startDate: this._o.startDate,
                    endDate: this._o.endDate,
                    daysOfWeekDisabled: this.o.daysOfWeekDisabled,
                    daysOfWeekHighlighted: this.o.daysOfWeekHighlighted,
                    datesDisabled: this.o.datesDisabled
                }), this._allow_update = !1, this.setViewMode(this.o.startView), this._allow_update = !0, this.fillDow(), this.fillMonths(), this.update(), this.isInline && this.show()
            };
        u.prototype = {
            constructor: u,
            _resolveViewName: function(D) {
                return e.each(O.viewModes, function(I, H) {
                    if (D === I || e.inArray(D, H.names) !== -1) return D = I, !1
                }), D
            },
            _resolveDaysOfWeek: function(D) {
                return Array.isArray(D) || (D = D.split(/[,\s]*/)), e.map(D, Number)
            },
            _check_template: function(D) {
                try {
                    if (D === t || D === "") return !1;
                    if ((D.match(/[<>]/g) || []).length <= 0) return !0;
                    var I = e(D);
                    return I.length > 0
                } catch {
                    return !1
                }
            },
            _process_options: function(D) {
                this._o = e.extend({}, this._o, D);
                var I = this.o = e.extend({}, this._o),
                    H = I.language;
                E[H] || (H = H.split("-")[0], E[H] || (H = C.language)), I.language = H, I.startView = this._resolveViewName(I.startView), I.minViewMode = this._resolveViewName(I.minViewMode), I.maxViewMode = this._resolveViewName(I.maxViewMode), I.startView = Math.max(this.o.minViewMode, Math.min(this.o.maxViewMode, I.startView)), I.multidate !== !0 && (I.multidate = Number(I.multidate) || !1, I.multidate !== !1 && (I.multidate = Math.max(0, I.multidate))), I.multidateSeparator = String(I.multidateSeparator), I.weekStart %= 7, I.weekEnd = (I.weekStart + 6) % 7;
                var y = O.parseFormat(I.format);
                I.startDate !== -1 / 0 && (I.startDate ? I.startDate instanceof Date ? I.startDate = this._local_to_utc(this._zero_time(I.startDate)) : I.startDate = O.parseDate(I.startDate, y, I.language, I.assumeNearbyYear) : I.startDate = -1 / 0), I.endDate !== 1 / 0 && (I.endDate ? I.endDate instanceof Date ? I.endDate = this._local_to_utc(this._zero_time(I.endDate)) : I.endDate = O.parseDate(I.endDate, y, I.language, I.assumeNearbyYear) : I.endDate = 1 / 0), I.daysOfWeekDisabled = this._resolveDaysOfWeek(I.daysOfWeekDisabled || []), I.daysOfWeekHighlighted = this._resolveDaysOfWeek(I.daysOfWeekHighlighted || []), I.datesDisabled = I.datesDisabled || [], Array.isArray(I.datesDisabled) || (I.datesDisabled = I.datesDisabled.split(",")), I.datesDisabled = e.map(I.datesDisabled, function(W) {
                    return O.parseDate(W, y, I.language, I.assumeNearbyYear)
                });
                var w = String(I.orientation).toLowerCase().split(/\s+/g),
                    X = I.orientation.toLowerCase();
                if (w = e.grep(w, function(W) {
                        return /^auto|left|right|top|bottom$/.test(W)
                    }), I.orientation = {
                        x: "auto",
                        y: "auto"
                    }, !(!X || X === "auto"))
                    if (w.length === 1) switch (w[0]) {
                        case "top":
                        case "bottom":
                            I.orientation.y = w[0];
                            break;
                        case "left":
                        case "right":
                            I.orientation.x = w[0];
                            break
                    } else X = e.grep(w, function(W) {
                        return /^left|right$/.test(W)
                    }), I.orientation.x = X[0] || "auto", X = e.grep(w, function(W) {
                        return /^top|bottom$/.test(W)
                    }), I.orientation.y = X[0] || "auto";
                if (I.defaultViewDate instanceof Date || typeof I.defaultViewDate == "string") I.defaultViewDate = O.parseDate(I.defaultViewDate, y, I.language, I.assumeNearbyYear);
                else if (I.defaultViewDate) {
                    var oe = I.defaultViewDate.year || new Date().getFullYear(),
                        me = I.defaultViewDate.month || 0,
                        V = I.defaultViewDate.day || 1;
                    I.defaultViewDate = i(oe, me, V)
                } else I.defaultViewDate = n()
            },
            _applyEvents: function(D) {
                for (var I = 0, H, y, w; I < D.length; I++) H = D[I][0], D[I].length === 2 ? (y = t, w = D[I][1]) : D[I].length === 3 && (y = D[I][1], w = D[I][2]), H.on(w, y)
            },
            _unapplyEvents: function(D) {
                for (var I = 0, H, y, w; I < D.length; I++) H = D[I][0], D[I].length === 2 ? (w = t, y = D[I][1]) : D[I].length === 3 && (w = D[I][1], y = D[I][2]), H.off(y, w)
            },
            _buildEvents: function() {
                var D = {
                    keyup: e.proxy(function(I) {
                        e.inArray(I.keyCode, [27, 37, 39, 38, 40, 32, 13, 9]) === -1 && this.update()
                    }, this),
                    keydown: e.proxy(this.keydown, this),
                    paste: e.proxy(this.paste, this)
                };
                this.o.showOnFocus === !0 && (D.focus = e.proxy(this.show, this)), this.isInput ? this._events = [
                    [this.element, D]
                ] : this.component && this.inputField.length ? this._events = [
                    [this.inputField, D],
                    [this.component, {
                        click: e.proxy(this.show, this)
                    }]
                ] : this._events = [
                    [this.element, {
                        click: e.proxy(this.show, this),
                        keydown: e.proxy(this.keydown, this)
                    }]
                ], this._events.push([this.element, "*", {
                    blur: e.proxy(function(I) {
                        this._focused_from = I.target
                    }, this)
                }], [this.element, {
                    blur: e.proxy(function(I) {
                        this._focused_from = I.target
                    }, this)
                }]), this.o.immediateUpdates && this._events.push([this.element, {
                    "changeYear changeMonth": e.proxy(function(I) {
                        this.update(I.date)
                    }, this)
                }]), this._secondaryEvents = [
                    [this.picker, {
                        click: e.proxy(this.click, this)
                    }],
                    [this.picker, ".prev, .next", {
                        click: e.proxy(this.navArrowsClick, this)
                    }],
                    [this.picker, ".day:not(.disabled)", {
                        click: e.proxy(this.dayCellClick, this)
                    }],
                    [e(window), {
                        resize: e.proxy(this.place, this)
                    }],
                    [e(document), {
                        "mousedown touchstart": e.proxy(function(I) {
                            this.element.is(I.target) || this.element.find(I.target).length || this.picker.is(I.target) || this.picker.find(I.target).length || this.isInline || this.hide()
                        }, this)
                    }]
                ]
            },
            _attachEvents: function() {
                this._detachEvents(), this._applyEvents(this._events)
            },
            _detachEvents: function() {
                this._unapplyEvents(this._events)
            },
            _attachSecondaryEvents: function() {
                this._detachSecondaryEvents(), this._applyEvents(this._secondaryEvents)
            },
            _detachSecondaryEvents: function() {
                this._unapplyEvents(this._secondaryEvents)
            },
            _trigger: function(D, I) {
                var H = I || this.dates.get(-1),
                    y = this._utc_to_local(H);
                this.element.trigger({
                    type: D,
                    date: y,
                    viewMode: this.viewMode,
                    dates: e.map(this.dates, this._utc_to_local),
                    format: e.proxy(function(w, X) {
                        arguments.length === 0 ? (w = this.dates.length - 1, X = this.o.format) : typeof w == "string" && (X = w, w = this.dates.length - 1), X = X || this.o.format;
                        var oe = this.dates.get(w);
                        return O.formatDate(oe, X, this.o.language)
                    }, this)
                })
            },
            show: function() {
                if (!(this.inputField.is(":disabled") || this.inputField.prop("readonly") && this.o.enableOnReadonly === !1)) return this.isInline || this.picker.appendTo(this.o.container), this.place(), this.picker.show(), this._attachSecondaryEvents(), this._trigger("show"), (window.navigator.msMaxTouchPoints || "ontouchstart" in document) && this.o.disableTouchKeyboard && e(this.element).blur(), this
            },
            hide: function() {
                return this.isInline || !this.picker.is(":visible") ? this : (this.focusDate = null, this.picker.hide().detach(), this._detachSecondaryEvents(), this.setViewMode(this.o.startView), this.o.forceParse && this.inputField.val() && this.setValue(), this._trigger("hide"), this)
            },
            destroy: function() {
                return this.hide(), this._detachEvents(), this._detachSecondaryEvents(), this.picker.remove(), delete this.element.data().datepicker, this.isInput || delete this.element.data().date, this
            },
            paste: function(D) {
                var I;
                if (D.originalEvent.clipboardData && D.originalEvent.clipboardData.types && e.inArray("text/plain", D.originalEvent.clipboardData.types) !== -1) I = D.originalEvent.clipboardData.getData("text/plain");
                else if (window.clipboardData) I = window.clipboardData.getData("Text");
                else return;
                this.setDate(I), this.update(), D.preventDefault()
            },
            _utc_to_local: function(D) {
                if (!D) return D;
                var I = new Date(D.getTime() + D.getTimezoneOffset() * 6e4);
                return I.getTimezoneOffset() !== D.getTimezoneOffset() && (I = new Date(D.getTime() + I.getTimezoneOffset() * 6e4)), I
            },
            _local_to_utc: function(D) {
                return D && new Date(D.getTime() - D.getTimezoneOffset() * 6e4)
            },
            _zero_time: function(D) {
                return D && new Date(D.getFullYear(), D.getMonth(), D.getDate())
            },
            _zero_utc_time: function(D) {
                return D && i(D.getUTCFullYear(), D.getUTCMonth(), D.getUTCDate())
            },
            getDates: function() {
                return e.map(this.dates, this._utc_to_local)
            },
            getUTCDates: function() {
                return e.map(this.dates, function(D) {
                    return new Date(D)
                })
            },
            getDate: function() {
                return this._utc_to_local(this.getUTCDate())
            },
            getUTCDate: function() {
                var D = this.dates.get(-1);
                return D !== t ? new Date(D) : null
            },
            clearDates: function() {
                this.inputField.val(""), this._trigger("changeDate"), this.update(), this.o.autoclose && this.hide()
            },
            setDates: function() {
                var D = Array.isArray(arguments[0]) ? arguments[0] : arguments;
                return this.update.apply(this, D), this._trigger("changeDate"), this.setValue(), this
            },
            setUTCDates: function() {
                var D = Array.isArray(arguments[0]) ? arguments[0] : arguments;
                return this.setDates.apply(this, e.map(D, this._utc_to_local)), this
            },
            setDate: a("setDates"),
            setUTCDate: a("setUTCDates"),
            remove: a("destroy", "Method `remove` is deprecated and will be removed in version 2.0. Use `destroy` instead"),
            setValue: function() {
                var D = this.getFormattedDate();
                return this.inputField.val(D), this
            },
            getFormattedDate: function(D) {
                D === t && (D = this.o.format);
                var I = this.o.language;
                return e.map(this.dates, function(H) {
                    return O.formatDate(H, D, I)
                }).join(this.o.multidateSeparator)
            },
            getStartDate: function() {
                return this.o.startDate
            },
            setStartDate: function(D) {
                return this._process_options({
                    startDate: D
                }), this.update(), this.updateNavArrows(), this
            },
            getEndDate: function() {
                return this.o.endDate
            },
            setEndDate: function(D) {
                return this._process_options({
                    endDate: D
                }), this.update(), this.updateNavArrows(), this
            },
            setDaysOfWeekDisabled: function(D) {
                return this._process_options({
                    daysOfWeekDisabled: D
                }), this.update(), this
            },
            setDaysOfWeekHighlighted: function(D) {
                return this._process_options({
                    daysOfWeekHighlighted: D
                }), this.update(), this
            },
            setDatesDisabled: function(D) {
                return this._process_options({
                    datesDisabled: D
                }), this.update(), this
            },
            place: function() {
                if (this.isInline) return this;
                var D = this.picker.outerWidth(),
                    I = this.picker.outerHeight(),
                    H = 10,
                    y = e(this.o.container),
                    w = y.width(),
                    X = this.o.container === "body" ? e(document).scrollTop() : y.scrollTop(),
                    oe = y.offset(),
                    me = [0];
                this.element.parents().each(function() {
                    var ie = e(this).css("z-index");
                    ie !== "auto" && Number(ie) !== 0 && me.push(Number(ie))
                });
                var V = Math.max.apply(Math, me) + this.o.zIndexOffset,
                    W = this.component ? this.component.parent().offset() : this.element.offset(),
                    P = this.component ? this.component.outerHeight(!0) : this.element.outerHeight(!1),
                    se = this.component ? this.component.outerWidth(!0) : this.element.outerWidth(!1),
                    ce = W.left - oe.left,
                    ne = W.top - oe.top;
                this.o.container !== "body" && (ne += X), this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"), this.o.orientation.x !== "auto" ? (this.picker.addClass("datepicker-orient-" + this.o.orientation.x), this.o.orientation.x === "right" && (ce -= D - se)) : W.left < 0 ? (this.picker.addClass("datepicker-orient-left"), ce -= W.left - H) : ce + D > w ? (this.picker.addClass("datepicker-orient-right"), ce += se - D) : this.o.rtl ? this.picker.addClass("datepicker-orient-right") : this.picker.addClass("datepicker-orient-left");
                var re = this.o.orientation.y,
                    J;
                if (re === "auto" && (J = -X + ne - I, re = J < 0 ? "bottom" : "top"), this.picker.addClass("datepicker-orient-" + re), re === "top" ? ne -= I + parseInt(this.picker.css("padding-top")) : ne += P, this.o.rtl) {
                    var ue = w - (ce + se);
                    this.picker.css({
                        top: ne,
                        right: ue,
                        zIndex: V
                    })
                } else this.picker.css({
                    top: ne,
                    left: ce,
                    zIndex: V
                });
                return this
            },
            _allow_update: !0,
            update: function() {
                if (!this._allow_update) return this;
                var D = this.dates.copy(),
                    I = [],
                    H = !1;
                return arguments.length ? (e.each(arguments, e.proxy(function(y, w) {
                    w instanceof Date && (w = this._local_to_utc(w)), I.push(w)
                }, this)), H = !0) : (I = this.isInput ? this.element.val() : this.element.data("date") || this.inputField.val(), I && this.o.multidate ? I = I.split(this.o.multidateSeparator) : I = [I], delete this.element.data().date), I = e.map(I, e.proxy(function(y) {
                    return O.parseDate(y, this.o.format, this.o.language, this.o.assumeNearbyYear)
                }, this)), I = e.grep(I, e.proxy(function(y) {
                    return !this.dateWithinRange(y) || !y
                }, this), !0), this.dates.replace(I), this.o.updateViewDate && (this.dates.length ? this.viewDate = new Date(this.dates.get(-1)) : this.viewDate < this.o.startDate ? this.viewDate = new Date(this.o.startDate) : this.viewDate > this.o.endDate ? this.viewDate = new Date(this.o.endDate) : this.viewDate = this.o.defaultViewDate), H ? (this.setValue(), this.element.change()) : this.dates.length && String(D) !== String(this.dates) && H && (this._trigger("changeDate"), this.element.change()), !this.dates.length && D.length && (this._trigger("clearDate"), this.element.change()), this.fill(), this
            },
            fillDow: function() {
                if (this.o.showWeekDays) {
                    var D = this.o.weekStart,
                        I = "<tr>";
                    for (this.o.calendarWeeks && (I += '<th class="cw">&#160;</th>'); D < this.o.weekStart + 7;) I += '<th class="dow', e.inArray(D, this.o.daysOfWeekDisabled) !== -1 && (I += " disabled"), I += '">' + E[this.o.language].daysMin[D++ % 7] + "</th>";
                    I += "</tr>", this.picker.find(".datepicker-days thead").append(I)
                }
            },
            fillMonths: function() {
                for (var D = this._utc_to_local(this.viewDate), I = "", H, y = 0; y < 12; y++) H = D && D.getMonth() === y ? " focused" : "", I += '<span class="month' + H + '">' + E[this.o.language].monthsShort[y] + "</span>";
                this.picker.find(".datepicker-months td").html(I)
            },
            setRange: function(D) {
                !D || !D.length ? delete this.range : this.range = e.map(D, function(I) {
                    return I.valueOf()
                }), this.fill()
            },
            getClassNames: function(D) {
                var I = [],
                    H = this.viewDate.getUTCFullYear(),
                    y = this.viewDate.getUTCMonth(),
                    w = n();
                return D.getUTCFullYear() < H || D.getUTCFullYear() === H && D.getUTCMonth() < y ? I.push("old") : (D.getUTCFullYear() > H || D.getUTCFullYear() === H && D.getUTCMonth() > y) && I.push("new"), this.focusDate && D.valueOf() === this.focusDate.valueOf() && I.push("focused"), this.o.todayHighlight && r(D, w) && I.push("today"), this.dates.contains(D) !== -1 && I.push("active"), this.dateWithinRange(D) || I.push("disabled"), this.dateIsDisabled(D) && I.push("disabled", "disabled-date"), e.inArray(D.getUTCDay(), this.o.daysOfWeekHighlighted) !== -1 && I.push("highlighted"), this.range && (D > this.range[0] && D < this.range[this.range.length - 1] && I.push("range"), e.inArray(D.valueOf(), this.range) !== -1 && I.push("selected"), D.valueOf() === this.range[0] && I.push("range-start"), D.valueOf() === this.range[this.range.length - 1] && I.push("range-end")), I
            },
            _fill_yearsView: function(D, I, H, y, w, X, oe) {
                for (var me = "", V = H / 10, W = this.picker.find(D), P = Math.floor(y / H) * H, se = P + V * 9, ce = Math.floor(this.viewDate.getFullYear() / V) * V, ne = e.map(this.dates, function(te) {
                        return Math.floor(te.getUTCFullYear() / V) * V
                    }), re, J, ue, ie = P - V; ie <= se + V; ie += V) re = [I], J = null, ie === P - V ? re.push("old") : ie === se + V && re.push("new"), e.inArray(ie, ne) !== -1 && re.push("active"), (ie < w || ie > X) && re.push("disabled"), ie === ce && re.push("focused"), oe !== e.noop && (ue = oe(new Date(ie, 0, 1)), ue === t ? ue = {} : typeof ue == "boolean" ? ue = {
                    enabled: ue
                } : typeof ue == "string" && (ue = {
                    classes: ue
                }), ue.enabled === !1 && re.push("disabled"), ue.classes && (re = re.concat(ue.classes.split(/\s+/))), ue.tooltip && (J = ue.tooltip)), me += '<span class="' + re.join(" ") + '"' + (J ? ' title="' + J + '"' : "") + ">" + ie + "</span>";
                W.find(".datepicker-switch").text(P + "-" + se), W.find("td").html(me)
            },
            fill: function() {
                var D = new Date(this.viewDate),
                    I = D.getUTCFullYear(),
                    H = D.getUTCMonth(),
                    y = this.o.startDate !== -1 / 0 ? this.o.startDate.getUTCFullYear() : -1 / 0,
                    w = this.o.startDate !== -1 / 0 ? this.o.startDate.getUTCMonth() : -1 / 0,
                    X = this.o.endDate !== 1 / 0 ? this.o.endDate.getUTCFullYear() : 1 / 0,
                    oe = this.o.endDate !== 1 / 0 ? this.o.endDate.getUTCMonth() : 1 / 0,
                    me = E[this.o.language].today || E.en.today || "",
                    V = E[this.o.language].clear || E.en.clear || "",
                    W = E[this.o.language].titleFormat || E.en.titleFormat,
                    P = n(),
                    se = (this.o.todayBtn === !0 || this.o.todayBtn === "linked") && P >= this.o.startDate && P <= this.o.endDate && !this.weekOfDateIsDisabled(P),
                    ce, ne;
                if (!(isNaN(I) || isNaN(H))) {
                    this.picker.find(".datepicker-days .datepicker-switch").text(O.formatDate(D, W, this.o.language)), this.picker.find("tfoot .today").text(me).css("display", se ? "table-cell" : "none"), this.picker.find("tfoot .clear").text(V).css("display", this.o.clearBtn === !0 ? "table-cell" : "none"), this.picker.find("thead .datepicker-title").text(this.o.title).css("display", typeof this.o.title == "string" && this.o.title !== "" ? "table-cell" : "none"), this.updateNavArrows(), this.fillMonths();
                    var re = i(I, H, 0),
                        J = re.getUTCDate();
                    re.setUTCDate(J - (re.getUTCDay() - this.o.weekStart + 7) % 7);
                    var ue = new Date(re);
                    re.getUTCFullYear() < 100 && ue.setUTCFullYear(re.getUTCFullYear()), ue.setUTCDate(ue.getUTCDate() + 42), ue = ue.valueOf();
                    for (var ie = [], te, we; re.valueOf() < ue;) {
                        if (te = re.getUTCDay(), te === this.o.weekStart && (ie.push("<tr>"), this.o.calendarWeeks)) {
                            var De = new Date(+re + (this.o.weekStart - te - 7) % 7 * 864e5),
                                ye = new Date(Number(De) + (7 + 4 - De.getUTCDay()) % 7 * 864e5),
                                Ue = new Date(Number(Ue = i(ye.getUTCFullYear(), 0, 1)) + (7 + 4 - Ue.getUTCDay()) % 7 * 864e5),
                                Qe = (ye - Ue) / 864e5 / 7 + 1;
                            ie.push('<td class="cw">' + Qe + "</td>")
                        }
                        we = this.getClassNames(re), we.push("day");
                        var at = re.getUTCDate();
                        this.o.beforeShowDay !== e.noop && (ne = this.o.beforeShowDay(this._utc_to_local(re)), ne === t ? ne = {} : typeof ne == "boolean" ? ne = {
                            enabled: ne
                        } : typeof ne == "string" && (ne = {
                            classes: ne
                        }), ne.enabled === !1 && we.push("disabled"), ne.classes && (we = we.concat(ne.classes.split(/\s+/))), ne.tooltip && (ce = ne.tooltip), ne.content && (at = ne.content)), typeof e.uniqueSort == "function" ? we = e.uniqueSort(we) : we = e.unique(we), ie.push('<td class="' + we.join(" ") + '"' + (ce ? ' title="' + ce + '"' : "") + ' data-date="' + re.getTime().toString() + '">' + at + "</td>"), ce = null, te === this.o.weekEnd && ie.push("</tr>"), re.setUTCDate(re.getUTCDate() + 1)
                    }
                    this.picker.find(".datepicker-days tbody").html(ie.join(""));
                    var pt = E[this.o.language].monthsTitle || E.en.monthsTitle || "Months",
                        lt = this.picker.find(".datepicker-months").find(".datepicker-switch").text(this.o.maxViewMode < 2 ? pt : I).end().find("tbody span").removeClass("active");
                    if (e.each(this.dates, function(Bt, At) {
                            At.getUTCFullYear() === I && lt.eq(At.getUTCMonth()).addClass("active")
                        }), (I < y || I > X) && lt.addClass("disabled"), I === y && lt.slice(0, w).addClass("disabled"), I === X && lt.slice(oe + 1).addClass("disabled"), this.o.beforeShowMonth !== e.noop) {
                        var xt = this;
                        e.each(lt, function(Bt, At) {
                            var F = new Date(I, Bt, 1),
                                ke = xt.o.beforeShowMonth(F);
                            ke === t ? ke = {} : typeof ke == "boolean" ? ke = {
                                enabled: ke
                            } : typeof ke == "string" && (ke = {
                                classes: ke
                            }), ke.enabled === !1 && !e(At).hasClass("disabled") && e(At).addClass("disabled"), ke.classes && e(At).addClass(ke.classes), ke.tooltip && e(At).prop("title", ke.tooltip)
                        })
                    }
                    this._fill_yearsView(".datepicker-years", "year", 10, I, y, X, this.o.beforeShowYear), this._fill_yearsView(".datepicker-decades", "decade", 100, I, y, X, this.o.beforeShowDecade), this._fill_yearsView(".datepicker-centuries", "century", 1e3, I, y, X, this.o.beforeShowCentury)
                }
            },
            updateNavArrows: function() {
                if (this._allow_update) {
                    var D = new Date(this.viewDate),
                        I = D.getUTCFullYear(),
                        H = D.getUTCMonth(),
                        y = this.o.startDate !== -1 / 0 ? this.o.startDate.getUTCFullYear() : -1 / 0,
                        w = this.o.startDate !== -1 / 0 ? this.o.startDate.getUTCMonth() : -1 / 0,
                        X = this.o.endDate !== 1 / 0 ? this.o.endDate.getUTCFullYear() : 1 / 0,
                        oe = this.o.endDate !== 1 / 0 ? this.o.endDate.getUTCMonth() : 1 / 0,
                        me, V, W = 1;
                    switch (this.viewMode) {
                        case 4:
                            W *= 10;
                        case 3:
                            W *= 10;
                        case 2:
                            W *= 10;
                        case 1:
                            me = Math.floor(I / W) * W <= y, V = Math.floor(I / W) * W + W > X;
                            break;
                        case 0:
                            me = I <= y && H <= w, V = I >= X && H >= oe;
                            break
                    }
                    this.picker.find(".prev").toggleClass("disabled", me), this.picker.find(".next").toggleClass("disabled", V)
                }
            },
            click: function(D) {
                D.preventDefault(), D.stopPropagation();
                var I, H, y, w, X;
                I = e(D.target), I.hasClass("datepicker-switch") && this.viewMode !== this.o.maxViewMode && this.setViewMode(this.viewMode + 1), I.hasClass("today") && !I.hasClass("day") && (this.setViewMode(0), this._setDate(n(), this.o.todayBtn === "linked" ? null : "view")), I.hasClass("clear") && this.clearDates(), I.hasClass("disabled") || (I.hasClass("month") || I.hasClass("year") || I.hasClass("decade") || I.hasClass("century")) && (this.viewDate.setUTCDate(1), y = 1, this.viewMode === 1 ? (X = I.parent().find("span").index(I), w = this.viewDate.getUTCFullYear(), this.viewDate.setUTCMonth(X)) : (X = 0, w = Number(I.text()), this.viewDate.setUTCFullYear(w)), this._trigger(O.viewModes[this.viewMode - 1].e, this.viewDate), this.viewMode === this.o.minViewMode ? this._setDate(i(w, X, y)) : (this.setViewMode(this.viewMode - 1), this.fill())), this.picker.is(":visible") && this._focused_from && this._focused_from.focus(), delete this._focused_from
            },
            dayCellClick: function(D) {
                var I = e(D.currentTarget),
                    H = I.data("date"),
                    y = new Date(H);
                this.o.updateViewDate && (y.getUTCFullYear() !== this.viewDate.getUTCFullYear() && this._trigger("changeYear", this.viewDate), y.getUTCMonth() !== this.viewDate.getUTCMonth() && this._trigger("changeMonth", this.viewDate)), this._setDate(y)
            },
            navArrowsClick: function(D) {
                var I = e(D.currentTarget),
                    H = I.hasClass("prev") ? -1 : 1;
                this.viewMode !== 0 && (H *= O.viewModes[this.viewMode].navStep * 12), this.viewDate = this.moveMonth(this.viewDate, H), this._trigger(O.viewModes[this.viewMode].e, this.viewDate), this.fill()
            },
            _toggle_multidate: function(D) {
                var I = this.dates.contains(D);
                if (D || this.dates.clear(), I !== -1 ? (this.o.multidate === !0 || this.o.multidate > 1 || this.o.toggleActive) && this.dates.remove(I) : this.o.multidate === !1 ? (this.dates.clear(), this.dates.push(D)) : this.dates.push(D), typeof this.o.multidate == "number")
                    for (; this.dates.length > this.o.multidate;) this.dates.remove(0)
            },
            _setDate: function(D, I) {
                (!I || I === "date") && this._toggle_multidate(D && new Date(D)), (!I && this.o.updateViewDate || I === "view") && (this.viewDate = D && new Date(D)), this.fill(), this.setValue(), (!I || I !== "view") && this._trigger("changeDate"), this.inputField.trigger("change"), this.o.autoclose && (!I || I === "date") && this.hide()
            },
            moveDay: function(D, I) {
                var H = new Date(D);
                return H.setUTCDate(D.getUTCDate() + I), H
            },
            moveWeek: function(D, I) {
                return this.moveDay(D, I * 7)
            },
            moveMonth: function(D, I) {
                if (!s(D)) return this.o.defaultViewDate;
                if (!I) return D;
                var H = new Date(D.valueOf()),
                    y = H.getUTCDate(),
                    w = H.getUTCMonth(),
                    X = Math.abs(I),
                    oe, me;
                if (I = I > 0 ? 1 : -1, X === 1) me = I === -1 ? function() {
                    return H.getUTCMonth() === w
                } : function() {
                    return H.getUTCMonth() !== oe
                }, oe = w + I, H.setUTCMonth(oe), oe = (oe + 12) % 12;
                else {
                    for (var V = 0; V < X; V++) H = this.moveMonth(H, I);
                    oe = H.getUTCMonth(), H.setUTCDate(y), me = function() {
                        return oe !== H.getUTCMonth()
                    }
                }
                for (; me();) H.setUTCDate(--y), H.setUTCMonth(oe);
                return H
            },
            moveYear: function(D, I) {
                return this.moveMonth(D, I * 12)
            },
            moveAvailableDate: function(D, I, H) {
                do {
                    if (D = this[H](D, I), !this.dateWithinRange(D)) return !1;
                    H = "moveDay"
                } while (this.dateIsDisabled(D));
                return D
            },
            weekOfDateIsDisabled: function(D) {
                return e.inArray(D.getUTCDay(), this.o.daysOfWeekDisabled) !== -1
            },
            dateIsDisabled: function(D) {
                return this.weekOfDateIsDisabled(D) || e.grep(this.o.datesDisabled, function(I) {
                    return r(D, I)
                }).length > 0
            },
            dateWithinRange: function(D) {
                return D >= this.o.startDate && D <= this.o.endDate
            },
            keydown: function(D) {
                if (!this.picker.is(":visible")) {
                    (D.keyCode === 40 || D.keyCode === 27) && (this.show(), D.stopPropagation());
                    return
                }
                var I = !1,
                    H, y, w = this.focusDate || this.viewDate;
                switch (D.keyCode) {
                    case 27:
                        this.focusDate ? (this.focusDate = null, this.viewDate = this.dates.get(-1) || this.viewDate, this.fill()) : this.hide(), D.preventDefault(), D.stopPropagation();
                        break;
                    case 37:
                    case 38:
                    case 39:
                    case 40:
                        if (!this.o.keyboardNavigation || this.o.daysOfWeekDisabled.length === 7) break;
                        H = D.keyCode === 37 || D.keyCode === 38 ? -1 : 1, this.viewMode === 0 ? D.ctrlKey ? (y = this.moveAvailableDate(w, H, "moveYear"), y && this._trigger("changeYear", this.viewDate)) : D.shiftKey ? (y = this.moveAvailableDate(w, H, "moveMonth"), y && this._trigger("changeMonth", this.viewDate)) : D.keyCode === 37 || D.keyCode === 39 ? y = this.moveAvailableDate(w, H, "moveDay") : this.weekOfDateIsDisabled(w) || (y = this.moveAvailableDate(w, H, "moveWeek")) : this.viewMode === 1 ? ((D.keyCode === 38 || D.keyCode === 40) && (H = H * 4), y = this.moveAvailableDate(w, H, "moveMonth")) : this.viewMode === 2 && ((D.keyCode === 38 || D.keyCode === 40) && (H = H * 4), y = this.moveAvailableDate(w, H, "moveYear")), y && (this.focusDate = this.viewDate = y, this.setValue(), this.fill(), D.preventDefault());
                        break;
                    case 13:
                        if (!this.o.forceParse) break;
                        w = this.focusDate || this.dates.get(-1) || this.viewDate, this.o.keyboardNavigation && (this._toggle_multidate(w), I = !0), this.focusDate = null, this.viewDate = this.dates.get(-1) || this.viewDate, this.setValue(), this.fill(), this.picker.is(":visible") && (D.preventDefault(), D.stopPropagation(), this.o.autoclose && this.hide());
                        break;
                    case 9:
                        this.focusDate = null, this.viewDate = this.dates.get(-1) || this.viewDate, this.fill(), this.hide();
                        break
                }
                I && (this.dates.length ? this._trigger("changeDate") : this._trigger("clearDate"), this.inputField.trigger("change"))
            },
            setViewMode: function(D) {
                this.viewMode = D, this.picker.children("div").hide().filter(".datepicker-" + O.viewModes[this.viewMode].clsName).show(), this.updateNavArrows(), this._trigger("changeViewMode", new Date(this.viewDate))
            }
        };
        var f = function(D, I) {
            e.data(D, "datepicker", this), this.element = e(D), this.inputs = e.map(I.inputs, function(H) {
                return H.jquery ? H[0] : H
            }), delete I.inputs, this.keepEmptyValues = I.keepEmptyValues, delete I.keepEmptyValues, x.call(e(this.inputs), I).on("changeDate", e.proxy(this.dateUpdated, this)), this.pickers = e.map(this.inputs, function(H) {
                return e.data(H, "datepicker")
            }), this.updateDates()
        };
        f.prototype = {
            updateDates: function() {
                this.dates = e.map(this.pickers, function(D) {
                    return D.getUTCDate()
                }), this.updateRanges()
            },
            updateRanges: function() {
                var D = e.map(this.dates, function(I) {
                    return I.valueOf()
                });
                e.each(this.pickers, function(I, H) {
                    H.setRange(D)
                })
            },
            clearDates: function() {
                e.each(this.pickers, function(D, I) {
                    I.clearDates()
                })
            },
            dateUpdated: function(D) {
                if (!this.updating) {
                    this.updating = !0;
                    var I = e.data(D.target, "datepicker");
                    if (I !== t) {
                        var H = I.getUTCDate(),
                            y = this.keepEmptyValues,
                            w = e.inArray(D.target, this.inputs),
                            X = w - 1,
                            oe = w + 1,
                            me = this.inputs.length;
                        if (w !== -1) {
                            if (e.each(this.pickers, function(V, W) {
                                    !W.getUTCDate() && (W === I || !y) && W.setUTCDate(H)
                                }), H < this.dates[X])
                                for (; X >= 0 && H < this.dates[X] && (this.pickers[X].element.val() || "").length > 0;) this.pickers[X--].setUTCDate(H);
                            else if (H > this.dates[oe])
                                for (; oe < me && H > this.dates[oe] && (this.pickers[oe].element.val() || "").length > 0;) this.pickers[oe++].setUTCDate(H);
                            this.updateDates(), delete this.updating
                        }
                    }
                }
            },
            destroy: function() {
                e.map(this.pickers, function(D) {
                    D.destroy()
                }), e(this.inputs).off("changeDate", this.dateUpdated), delete this.element.data().datepicker
            },
            remove: a("destroy", "Method `remove` is deprecated and will be removed in version 2.0. Use `destroy` instead")
        };

        function d(D, I) {
            var H = e(D).data(),
                y = {},
                w, X = new RegExp("^" + I.toLowerCase() + "([A-Z])");
            I = new RegExp("^" + I.toLowerCase());

            function oe(V, W) {
                return W.toLowerCase()
            }
            for (var me in H) I.test(me) && (w = me.replace(X, oe), y[w] = H[me]);
            return y
        }

        function m(D) {
            var I = {};
            if (!(!E[D] && (D = D.split("-")[0], !E[D]))) {
                var H = E[D];
                return e.each(N, function(y, w) {
                    w in H && (I[w] = H[w])
                }), I
            }
        }
        var T = e.fn.datepicker,
            x = function(D) {
                var I = Array.apply(null, arguments);
                I.shift();
                var H;
                if (this.each(function() {
                        var y = e(this),
                            w = y.data("datepicker"),
                            X = typeof D == "object" && D;
                        if (!w) {
                            var oe = d(this, "date"),
                                me = e.extend({}, C, oe, X),
                                V = m(me.language),
                                W = e.extend({}, C, V, oe, X);
                            y.hasClass("input-daterange") || W.inputs ? (e.extend(W, {
                                inputs: W.inputs || y.find("input").toArray()
                            }), w = new f(this, W)) : w = new u(this, W), y.data("datepicker", w)
                        }
                        typeof D == "string" && typeof w[D] == "function" && (H = w[D].apply(w, I))
                    }), H === t || H instanceof u || H instanceof f) return this;
                if (this.length > 1) throw new Error("Using only allowed for the collection of a single element (" + D + " function)");
                return H
            };
        e.fn.datepicker = x;
        var C = e.fn.datepicker.defaults = {
                assumeNearbyYear: !1,
                autoclose: !1,
                beforeShowDay: e.noop,
                beforeShowMonth: e.noop,
                beforeShowYear: e.noop,
                beforeShowDecade: e.noop,
                beforeShowCentury: e.noop,
                calendarWeeks: !1,
                clearBtn: !1,
                toggleActive: !1,
                daysOfWeekDisabled: [],
                daysOfWeekHighlighted: [],
                datesDisabled: [],
                endDate: 1 / 0,
                forceParse: !0,
                format: "mm/dd/yyyy",
                isInline: null,
                keepEmptyValues: !1,
                keyboardNavigation: !0,
                language: "en",
                minViewMode: 0,
                maxViewMode: 4,
                multidate: !1,
                multidateSeparator: ",",
                orientation: "auto",
                rtl: !1,
                startDate: -1 / 0,
                startView: 0,
                todayBtn: !1,
                todayHighlight: !1,
                updateViewDate: !0,
                weekStart: 0,
                disableTouchKeyboard: !1,
                enableOnReadonly: !0,
                showOnFocus: !0,
                zIndexOffset: 10,
                container: "body",
                immediateUpdates: !1,
                title: "",
                templates: {
                    leftArrow: "&#x00AB;",
                    rightArrow: "&#x00BB;"
                },
                showWeekDays: !0
            },
            N = e.fn.datepicker.locale_opts = ["format", "rtl", "weekStart"];
        e.fn.datepicker.Constructor = u;
        var E = e.fn.datepicker.dates = {
                en: {
                    days: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"],
                    daysShort: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"],
                    daysMin: ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa"],
                    months: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"],
                    monthsShort: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"],
                    today: "Today",
                    clear: "Clear",
                    titleFormat: "MM yyyy"
                }
            },
            O = {
                viewModes: [{
                    names: ["days", "month"],
                    clsName: "days",
                    e: "changeMonth"
                }, {
                    names: ["months", "year"],
                    clsName: "months",
                    e: "changeYear",
                    navStep: 1
                }, {
                    names: ["years", "decade"],
                    clsName: "years",
                    e: "changeDecade",
                    navStep: 10
                }, {
                    names: ["decades", "century"],
                    clsName: "decades",
                    e: "changeCentury",
                    navStep: 100
                }, {
                    names: ["centuries", "millennium"],
                    clsName: "centuries",
                    e: "changeMillennium",
                    navStep: 1e3
                }],
                validParts: /dd?|DD?|mm?|MM?|yy(?:yy)?/g,
                nonpunctuation: /[^ -\/:-@\u5e74\u6708\u65e5\[-`{-~\t\n\r]+/g,
                parseFormat: function(D) {
                    if (typeof D.toValue == "function" && typeof D.toDisplay == "function") return D;
                    var I = D.replace(this.validParts, "\0").split("\0"),
                        H = D.match(this.validParts);
                    if (!I || !I.length || !H || H.length === 0) throw new Error("Invalid date format.");
                    return {
                        separators: I,
                        parts: H
                    }
                },
                parseDate: function(D, I, H, y) {
                    if (!D) return t;
                    if (D instanceof Date) return D;
                    if (typeof I == "string" && (I = O.parseFormat(I)), I.toValue) return I.toValue(D, I, H);
                    var w = {
                            d: "moveDay",
                            m: "moveMonth",
                            w: "moveWeek",
                            y: "moveYear"
                        },
                        X = {
                            yesterday: "-1d",
                            today: "+0d",
                            tomorrow: "+1d"
                        },
                        oe, me, V, W, P;
                    if (D in X && (D = X[D]), /^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/i.test(D)) {
                        for (oe = D.match(/([\-+]\d+)([dmwy])/gi), D = new Date, W = 0; W < oe.length; W++) me = oe[W].match(/([\-+]\d+)([dmwy])/i), V = Number(me[1]), P = w[me[2].toLowerCase()], D = u.prototype[P](D, V);
                        return u.prototype._zero_utc_time(D)
                    }
                    oe = D && D.match(this.nonpunctuation) || [];

                    function se(Ue, Qe) {
                        return Qe === !0 && (Qe = 10), Ue < 100 && (Ue += 2e3, Ue > new Date().getFullYear() + Qe && (Ue -= 100)), Ue
                    }
                    var ce = {},
                        ne = ["yyyy", "yy", "M", "MM", "m", "mm", "d", "dd"],
                        re = {
                            yyyy: function(Ue, Qe) {
                                return Ue.setUTCFullYear(y ? se(Qe, y) : Qe)
                            },
                            m: function(Ue, Qe) {
                                if (isNaN(Ue)) return Ue;
                                for (Qe -= 1; Qe < 0;) Qe += 12;
                                for (Qe %= 12, Ue.setUTCMonth(Qe); Ue.getUTCMonth() !== Qe;) Ue.setUTCDate(Ue.getUTCDate() - 1);
                                return Ue
                            },
                            d: function(Ue, Qe) {
                                return Ue.setUTCDate(Qe)
                            }
                        },
                        J, ue;
                    re.yy = re.yyyy, re.M = re.MM = re.mm = re.m, re.dd = re.d, D = n();
                    var ie = I.parts.slice();
                    oe.length !== ie.length && (ie = e(ie).filter(function(Ue, Qe) {
                        return e.inArray(Qe, ne) !== -1
                    }).toArray());

                    function te() {
                        var Ue = this.slice(0, oe[W].length),
                            Qe = oe[W].slice(0, Ue.length);
                        return Ue.toLowerCase() === Qe.toLowerCase()
                    }
                    if (oe.length === ie.length) {
                        var we;
                        for (W = 0, we = ie.length; W < we; W++) {
                            if (J = parseInt(oe[W], 10), me = ie[W], isNaN(J)) switch (me) {
                                case "MM":
                                    ue = e(E[H].months).filter(te), J = e.inArray(ue[0], E[H].months) + 1;
                                    break;
                                case "M":
                                    ue = e(E[H].monthsShort).filter(te), J = e.inArray(ue[0], E[H].monthsShort) + 1;
                                    break
                            }
                            ce[me] = J
                        }
                        var De, ye;
                        for (W = 0; W < ne.length; W++) ye = ne[W], ye in ce && !isNaN(ce[ye]) && (De = new Date(D), re[ye](De, ce[ye]), isNaN(De) || (D = De))
                    }
                    return D
                },
                formatDate: function(D, I, H) {
                    if (!D) return "";
                    if (typeof I == "string" && (I = O.parseFormat(I)), I.toDisplay) return I.toDisplay(D, I, H);
                    var y = {
                        d: D.getUTCDate(),
                        D: E[H].daysShort[D.getUTCDay()],
                        DD: E[H].days[D.getUTCDay()],
                        m: D.getUTCMonth() + 1,
                        M: E[H].monthsShort[D.getUTCMonth()],
                        MM: E[H].months[D.getUTCMonth()],
                        yy: D.getUTCFullYear().toString().substring(2),
                        yyyy: D.getUTCFullYear()
                    };
                    y.dd = (y.d < 10 ? "0" : "") + y.d, y.mm = (y.m < 10 ? "0" : "") + y.m, D = [];
                    for (var w = e.extend([], I.separators), X = 0, oe = I.parts.length; X <= oe; X++) w.length && D.push(w.shift()), D.push(y[I.parts[X]]);
                    return D.join("")
                },
                headTemplate: '<thead><tr><th colspan="7" class="datepicker-title"></th></tr><tr><th class="prev">' + C.templates.leftArrow + '</th><th colspan="5" class="datepicker-switch"></th><th class="next">' + C.templates.rightArrow + "</th></tr></thead>",
                contTemplate: '<tbody><tr><td colspan="7"></td></tr></tbody>',
                footTemplate: '<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'
            };
        O.template = '<div class="datepicker"><div class="datepicker-days"><table class="table-condensed">' + O.headTemplate + "<tbody></tbody>" + O.footTemplate + '</table></div><div class="datepicker-months"><table class="table-condensed">' + O.headTemplate + O.contTemplate + O.footTemplate + '</table></div><div class="datepicker-years"><table class="table-condensed">' + O.headTemplate + O.contTemplate + O.footTemplate + '</table></div><div class="datepicker-decades"><table class="table-condensed">' + O.headTemplate + O.contTemplate + O.footTemplate + '</table></div><div class="datepicker-centuries"><table class="table-condensed">' + O.headTemplate + O.contTemplate + O.footTemplate + "</table></div></div>", e.fn.datepicker.DPGlobal = O, e.fn.datepicker.noConflict = function() {
            return e.fn.datepicker = T, this
        }, e.fn.datepicker.version = "1.10.0", e.fn.datepicker.deprecated = function(D) {
            var I = window.console;
            I && I.warn && I.warn("DEPRECATED: " + D)
        }, e(document).on("focus.datepicker.data-api click.datepicker.data-api", '[data-provide="datepicker"]', function(D) {
            var I = e(this);
            I.data("datepicker") || (D.preventDefault(), x.call(I, "show"))
        }), e(function() {
            x.call(e('[data-provide="datepicker-inline"]'))
        })
    })
});
var Cx = Ke((c8, Ex) => {
    "use strict";

    function xn(e, t, i) {
        if (i === void 0) return e && e.h5s && e.h5s.data && e.h5s.data[t];
        e.h5s = e.h5s || {}, e.h5s.data = e.h5s.data || {}, e.h5s.data[t] = i
    }

    function hP(e) {
        e.h5s && delete e.h5s.data
    }
    var Hr = function(e, t) {
            if (!(e instanceof NodeList || e instanceof HTMLCollection || e instanceof Array)) throw new Error("You must provide a nodeList/HTMLCollection/Array of elements to be filtered.");
            return typeof t != "string" ? Array.from(e) : Array.from(e).filter(function(i) {
                return i.nodeType === 1 && i.matches(t)
            })
        },
        nl = new Map,
        dP = function() {
            function e() {
                this._config = new Map, this._placeholder = void 0, this._data = new Map
            }
            return Object.defineProperty(e.prototype, "config", {
                get: function() {
                    var t = {};
                    return this._config.forEach(function(i, n) {
                        t[n] = i
                    }), t
                },
                set: function(t) {
                    if (typeof t != "object") throw new Error("You must provide a valid configuration object to the config setter.");
                    var i = Object.assign({}, t);
                    this._config = new Map(Object.entries(i))
                },
                enumerable: !1,
                configurable: !0
            }), e.prototype.setConfig = function(t, i) {
                if (!this._config.has(t)) throw new Error("Trying to set invalid configuration item: " + t);
                this._config.set(t, i)
            }, e.prototype.getConfig = function(t) {
                if (!this._config.has(t)) throw new Error("Invalid configuration item requested: " + t);
                return this._config.get(t)
            }, Object.defineProperty(e.prototype, "placeholder", {
                get: function() {
                    return this._placeholder
                },
                set: function(t) {
                    if (!(t instanceof HTMLElement) && t !== null) throw new Error("A placeholder must be an html element or null.");
                    this._placeholder = t
                },
                enumerable: !1,
                configurable: !0
            }), e.prototype.setData = function(t, i) {
                if (typeof t != "string") throw new Error("The key must be a string.");
                this._data.set(t, i)
            }, e.prototype.getData = function(t) {
                if (typeof t != "string") throw new Error("The key must be a string.");
                return this._data.get(t)
            }, e.prototype.deleteData = function(t) {
                if (typeof t != "string") throw new Error("The key must be a string.");
                return this._data.delete(t)
            }, e
        }(),
        Ji = function(e) {
            if (!(e instanceof HTMLElement)) throw new Error("Please provide a sortable to the store function.");
            return nl.has(e) || nl.set(e, new dP), nl.get(e)
        };

    function $a(e, t, i) {
        if (e instanceof Array) {
            for (var n = 0; n < e.length; ++n) $a(e[n], t, i);
            return
        }
        e.addEventListener(t, i), Ji(e).setData("event" + t, i)
    }

    function wn(e, t) {
        if (e instanceof Array) {
            for (var i = 0; i < e.length; ++i) wn(e[i], t);
            return
        }
        e.removeEventListener(t, Ji(e).getData("event" + t)), Ji(e).deleteData("event" + t)
    }

    function Es(e, t, i) {
        if (e instanceof Array) {
            for (var n = 0; n < e.length; ++n) Es(e[n], t, i);
            return
        }
        e.setAttribute(t, i)
    }

    function $l(e, t) {
        if (e instanceof Array) {
            for (var i = 0; i < e.length; ++i) $l(e[i], t);
            return
        }
        e.removeAttribute(t)
    }
    var Xu = function(e) {
            if (!e.parentElement || e.getClientRects().length === 0) throw new Error("target element must be part of the dom");
            var t = e.getClientRects()[0];
            return {
                left: t.left + window.pageXOffset,
                right: t.right + window.pageXOffset,
                top: t.top + window.pageYOffset,
                bottom: t.bottom + window.pageYOffset
            }
        },
        pP = function(e, t) {
            t === void 0 && (t = 0);
            var i;
            return function() {
                for (var n = [], r = 0; r < arguments.length; r++) n[r] = arguments[r];
                clearTimeout(i), i = setTimeout(function() {
                    e.apply(void 0, n)
                }, t)
            }
        },
        Hl = function(e, t) {
            if (!(e instanceof HTMLElement) || !(t instanceof NodeList || t instanceof HTMLCollection || t instanceof Array)) throw new Error("You must provide an element and a list of elements.");
            return Array.from(t).indexOf(e)
        },
        px = function(e) {
            if (!(e instanceof HTMLElement)) throw new Error("Element is not a node element.");
            return e.parentNode !== null
        },
        _x = function(e, t, i) {
            if (!(e instanceof HTMLElement) || !(e.parentElement instanceof HTMLElement)) throw new Error("target and element must be a node");
            e.parentElement.insertBefore(t, i === "before" ? e : e.nextElementSibling)
        },
        gP = function(e, t) {
            return _x(e, t, "before")
        },
        mP = function(e, t) {
            return _x(e, t, "after")
        },
        vP = function(e, t, i) {
            if (t === void 0 && (t = function(u, f) {
                    return u
                }), i === void 0 && (i = function(u) {
                    return u
                }), !(e instanceof HTMLElement) || !e.isSortable) throw new Error("You need to provide a sortableContainer to be serialized.");
            if (typeof t != "function" || typeof i != "function") throw new Error("You need to provide a valid serializer for items and the container.");
            var n = xn(e, "opts"),
                r = n.items,
                a = Hr(e.children, r),
                s = a.map(function(u) {
                    return {
                        parent: e,
                        node: u,
                        html: u.outerHTML,
                        index: Hl(u, a)
                    }
                }),
                l = {
                    node: e,
                    itemCount: s.length
                };
            return {
                container: i(l),
                items: s.map(function(u) {
                    return t(u, e)
                })
            }
        },
        yP = function(e, t, i) {
            var n;
            if (i === void 0 && (i = "sortable-placeholder"), !(e instanceof HTMLElement)) throw new Error("You must provide a valid element as a sortable.");
            if (!(t instanceof HTMLElement) && t !== void 0) throw new Error("You must provide a valid element as a placeholder or set ot to undefined.");
            return t === void 0 && (["UL", "OL"].includes(e.tagName) ? t = document.createElement("li") : ["TABLE", "TBODY"].includes(e.tagName) ? (t = document.createElement("tr"), t.innerHTML = '<td colspan="100"></td>') : t = document.createElement("div")), typeof i == "string" && (n = t.classList).add.apply(n, i.split(" ")), t
        },
        gx = function(e) {
            if (!(e instanceof HTMLElement)) throw new Error("You must provide a valid dom element");
            var t = window.getComputedStyle(e);
            return t.getPropertyValue("box-sizing") === "border-box" ? parseInt(t.getPropertyValue("height"), 10) : ["height", "padding-top", "padding-bottom"].map(function(i) {
                var n = parseInt(t.getPropertyValue(i), 10);
                return isNaN(n) ? 0 : n
            }).reduce(function(i, n) {
                return i + n
            })
        },
        mx = function(e) {
            if (!(e instanceof HTMLElement)) throw new Error("You must provide a valid dom element");
            var t = window.getComputedStyle(e);
            return ["width", "padding-left", "padding-right"].map(function(i) {
                var n = parseInt(t.getPropertyValue(i), 10);
                return isNaN(n) ? 0 : n
            }).reduce(function(i, n) {
                return i + n
            })
        },
        Ff = function(e, t) {
            if (!(e instanceof Array)) throw new Error("You must provide a Array of HTMLElements to be filtered.");
            return typeof t != "string" ? e : e.filter(function(i) {
                return i.querySelector(t) instanceof HTMLElement || i.shadowRoot && i.shadowRoot.querySelector(t) instanceof HTMLElement
            }).map(function(i) {
                return i.querySelector(t) || i.shadowRoot && i.shadowRoot.querySelector(t)
            })
        },
        jp = function(e) {
            return e.composedPath && e.composedPath()[0] || e.target
        },
        _P = function(e, t, i) {
            return {
                element: e,
                posX: i.pageX - t.left,
                posY: i.pageY - t.top
            }
        },
        bP = function(e, t, i) {
            if (!(e instanceof Event)) throw new Error("setDragImage requires a DragEvent as the first argument.");
            if (!(t instanceof HTMLElement)) throw new Error("setDragImage requires the dragged element as the second argument.");
            if (i || (i = _P), e.dataTransfer && e.dataTransfer.setDragImage) {
                var n = Xu(t),
                    r = i(t, n, e);
                if (!(r.element instanceof HTMLElement) || typeof r.posX != "number" || typeof r.posY != "number") throw new Error("The customDragImage function you provided must return and object with the properties element[string], posX[integer], posY[integer].");
                e.dataTransfer.effectAllowed = "copyMove", e.dataTransfer.setData("text/plain", jp(e).id), e.dataTransfer.setDragImage(r.element, r.posX, r.posY)
            }
        },
        vx = function(e, t) {
            if (e.isSortable === !0) {
                var i = Ji(e).getConfig("acceptFrom");
                if (i !== null && i !== !1 && typeof i != "string") throw new Error('HTML5Sortable: Wrong argument, "acceptFrom" must be "null", "false", or a valid selector string.');
                if (i !== null) return i !== !1 && i.split(",").filter(function(n) {
                    return n.length > 0 && t.matches(n)
                }).length > 0;
                if (e === t) return !0;
                if (Ji(e).getConfig("connectWith") !== void 0 && Ji(e).getConfig("connectWith") !== null) return Ji(e).getConfig("connectWith") === Ji(t).getConfig("connectWith")
            }
            return !1
        },
        xP = {
            items: null,
            connectWith: null,
            disableIEFix: null,
            acceptFrom: null,
            copy: !1,
            placeholder: null,
            placeholderClass: "sortable-placeholder",
            draggingClass: "sortable-dragging",
            hoverClass: !1,
            dropTargetContainerClass: !1,
            debounce: 0,
            throttleTime: 100,
            maxItems: 0,
            itemSerializer: void 0,
            containerSerializer: void 0,
            customDragImage: null,
            orientation: "vertical"
        };

    function wP(e, t) {
        var i = this;
        if (t === void 0 && (t = 250), typeof e != "function") throw new Error("You must provide a function as the first argument for throttle.");
        if (typeof t != "number") throw new Error("You must provide a number as the second argument for throttle.");
        var n = null;
        return function() {
            for (var r = [], a = 0; a < arguments.length; a++) r[a] = arguments[a];
            var s = Date.now();
            (n === null || s - n >= t) && (n = s, e.apply(i, r))
        }
    }
    var Wp = function(e, t) {
            if (typeof Ji(e).getConfig("hoverClass") == "string") {
                var i = Ji(e).getConfig("hoverClass").split(" ");
                t === !0 ? ($a(e, "mousemove", wP(function(n) {
                    n.buttons === 0 && Hr(e.children, Ji(e).getConfig("items")).forEach(function(r) {
                        var a, s;
                        r === n.target || r.contains(n.target) ? (a = r.classList).add.apply(a, i) : (s = r.classList).remove.apply(s, i)
                    })
                }, Ji(e).getConfig("throttleTime"))), $a(e, "mouseleave", function() {
                    Hr(e.children, Ji(e).getConfig("items")).forEach(function(n) {
                        var r;
                        (r = n.classList).remove.apply(r, i)
                    })
                })) : (wn(e, "mousemove"), wn(e, "mouseleave"))
            }
        },
        di, Gu, Zu, ws, il, wo, zp, Yu, Hp, Kp = function(e) {
            wn(e, "dragstart"), wn(e, "dragend"), wn(e, "dragover"), wn(e, "dragenter"), wn(e, "drop"), wn(e, "mouseenter"), wn(e, "mouseleave")
        },
        Gp = function(e, t) {
            e && wn(e, "dragleave"), t && t !== e && wn(t, "dragleave")
        },
        EP = function(e, t) {
            var i = e;
            return Ji(t).getConfig("copy") === !0 && (i = e.cloneNode(!0), Es(i, "aria-copied", "true"), e.parentElement.appendChild(i), i.style.display = "none", i.oldDisplay = e.style.display), i
        },
        bx = function(e) {
            hP(e), $l(e, "aria-dropeffect")
        },
        xx = function(e) {
            $l(e, "aria-grabbed"), $l(e, "aria-copied"), $l(e, "draggable"), $l(e, "role")
        };

    function $p(e, t) {
        if (t.composedPath) return t.composedPath().find(function(i) {
            return i.isSortable
        });
        for (; e.isSortable !== !0;) e = e.parentElement;
        return e
    }

    function yx(e, t) {
        var i = xn(e, "opts"),
            n = Hr(e.children, i.items),
            r = n.filter(function(a) {
                return a.contains(t) || a.shadowRoot && a.shadowRoot.contains(t)
            });
        return r.length > 0 ? r[0] : t
    }
    var CP = function(e) {
            var t = xn(e, "opts") || {},
                i = Hr(e.children, t.items),
                n = Ff(i, t.handle);
            Wp(e, !1), wn(e, "dragover"), wn(e, "dragenter"), wn(e, "dragstart"), wn(e, "dragend"), wn(e, "drop"), bx(e), wn(n, "mousedown"), Kp(i), xx(i), Gp(ws, Yu), e.isSortable = !1
        },
        wx = function(e) {
            var t = xn(e, "opts"),
                i = Hr(e.children, t.items),
                n = Ff(i, t.handle);
            if (Es(e, "aria-dropeffect", "move"), xn(e, "_disabled", "false"), Es(n, "draggable", "true"), Wp(e, !0), t.disableIEFix === !1) {
                var r = (document || window.document).createElement("span");
                typeof r.dragDrop == "function" && $a(n, "mousedown", function() {
                    if (i.indexOf(this) !== -1) this.dragDrop();
                    else {
                        for (var a = this.parentElement; i.indexOf(a) === -1;) a = a.parentElement;
                        a.dragDrop()
                    }
                })
            }
        },
        SP = function(e) {
            var t = xn(e, "opts"),
                i = Hr(e.children, t.items),
                n = Ff(i, t.handle);
            Es(e, "aria-dropeffect", "none"), xn(e, "_disabled", "true"), Es(n, "draggable", "false"), wn(n, "mousedown"), Wp(e, !1)
        },
        TP = function(e) {
            var t = xn(e, "opts"),
                i = Hr(e.children, t.items),
                n = Ff(i, t.handle);
            xn(e, "_disabled", "false"), Kp(i), Gp(ws, Yu), wn(n, "mousedown"), wn(e, "dragover"), wn(e, "dragenter"), wn(e, "drop")
        };

    function jl(e, t) {
        var i = String(t);
        return t = t || {}, typeof e == "string" && (e = document.querySelectorAll(e)), e instanceof HTMLElement && (e = [e]), e = Array.prototype.slice.call(e), /serialize/.test(i) ? e.map(function(n) {
            var r = xn(n, "opts");
            return vP(n, r.itemSerializer, r.containerSerializer)
        }) : (e.forEach(function(n) {
            if (/enable|disable|destroy/.test(i)) return jl[i](n);
            ["connectWith", "disableIEFix"].forEach(function(f) {
                Object.prototype.hasOwnProperty.call(t, f) && t[f] !== null && console.warn('HTML5Sortable: You are using the deprecated configuration "' + f + '". This will be removed in an upcoming version, make sure to migrate to the new options when updating.')
            }), t = Object.assign({}, xP, Ji(n).config, t), Ji(n).config = t, xn(n, "opts", t), n.isSortable = !0, TP(n);
            var r = Hr(n.children, t.items),
                a;
            if (t.placeholder !== null && t.placeholder !== void 0) {
                var s = document.createElement(n.tagName);
                t.placeholder instanceof HTMLElement ? s.appendChild(t.placeholder) : s.innerHTML = t.placeholder, a = s.children[0]
            }
            Ji(n).placeholder = yP(n, a, t.placeholderClass), xn(n, "items", t.items), t.acceptFrom ? xn(n, "acceptFrom", t.acceptFrom) : t.connectWith && xn(n, "connectWith", t.connectWith), wx(n), Es(r, "role", "option"), Es(r, "aria-grabbed", "false"), $a(n, "dragstart", function(f) {
                var d = jp(f);
                if (d.isSortable !== !0 && (f.stopImmediatePropagation(), !(t.handle && !d.matches(t.handle) || d.getAttribute("draggable") === "false"))) {
                    var m = $p(d, f),
                        T = yx(m, d);
                    zp = Hr(m.children, t.items), il = zp.indexOf(T), wo = Hl(T, m.children), ws = m, bP(f, T, t.customDragImage), Gu = gx(T), Zu = mx(T), T.classList.add(t.draggingClass), di = EP(T, m), Es(di, "aria-grabbed", "true"), m.dispatchEvent(new CustomEvent("sortstart", {
                        detail: {
                            origin: {
                                elementIndex: wo,
                                index: il,
                                container: ws
                            },
                            item: di,
                            originalTarget: d
                        }
                    }))
                }
            }), $a(n, "dragenter", function(f) {
                var d = jp(f),
                    m = $p(d, f);
                m && m !== Yu && (Hp = Hr(m.children, xn(m, "items")).filter(function(T) {
                    return T !== Ji(n).placeholder
                }), t.dropTargetContainerClass && m.classList.add(t.dropTargetContainerClass), m.dispatchEvent(new CustomEvent("sortenter", {
                    detail: {
                        origin: {
                            elementIndex: wo,
                            index: il,
                            container: ws
                        },
                        destination: {
                            container: m,
                            itemsBeforeUpdate: Hp
                        },
                        item: di,
                        originalTarget: d
                    }
                })), $a(m, "dragleave", function(T) {
                    var x = T.relatedTarget || T.fromElement;
                    T.currentTarget.contains(x) || (t.dropTargetContainerClass && m.classList.remove(t.dropTargetContainerClass), m.dispatchEvent(new CustomEvent("sortleave", {
                        detail: {
                            origin: {
                                elementIndex: wo,
                                index: il,
                                container: m
                            },
                            item: di,
                            originalTarget: d
                        }
                    })))
                })), Yu = m
            }), $a(n, "dragend", function(f) {
                if (di) {
                    di.classList.remove(t.draggingClass), Es(di, "aria-grabbed", "false"), di.getAttribute("aria-copied") === "true" && xn(di, "dropped") !== "true" && di.remove(), di.oldDisplay !== void 0 && (di.style.display = di.oldDisplay, delete di.oldDisplay);
                    var d = Array.from(nl.values()).map(function(m) {
                        return m.placeholder
                    }).filter(function(m) {
                        return m instanceof HTMLElement
                    }).filter(px)[0];
                    d && d.remove(), n.dispatchEvent(new CustomEvent("sortstop", {
                        detail: {
                            origin: {
                                elementIndex: wo,
                                index: il,
                                container: ws
                            },
                            item: di
                        }
                    })), Yu = null, di = null, Gu = null, Zu = null
                }
            }), $a(n, "drop", function(f) {
                if (vx(n, di.parentElement)) {
                    f.preventDefault(), f.stopPropagation(), xn(di, "dropped", "true");
                    var d = Array.from(nl.values()).map(function(O) {
                        return O.placeholder
                    }).filter(function(O) {
                        return O instanceof HTMLElement
                    }).filter(px)[0];
                    if (d) d.replaceWith(di), di.oldDisplay !== void 0 && (di.style.display = di.oldDisplay, delete di.oldDisplay);
                    else {
                        xn(di, "dropped", "false");
                        return
                    }
                    n.dispatchEvent(new CustomEvent("sortstop", {
                        detail: {
                            origin: {
                                elementIndex: wo,
                                index: il,
                                container: ws
                            },
                            item: di
                        }
                    }));
                    var m = Ji(n).placeholder,
                        T = Hr(ws.children, t.items).filter(function(O) {
                            return O !== m
                        }),
                        x = this.isSortable === !0 ? this : this.parentElement,
                        C = Hr(x.children, xn(x, "items")).filter(function(O) {
                            return O !== m
                        }),
                        N = Hl(di, Array.from(di.parentElement.children).filter(function(O) {
                            return O !== m
                        })),
                        E = Hl(di, C);
                    t.dropTargetContainerClass && x.classList.remove(t.dropTargetContainerClass), (wo !== N || ws !== x) && n.dispatchEvent(new CustomEvent("sortupdate", {
                        detail: {
                            origin: {
                                elementIndex: wo,
                                index: il,
                                container: ws,
                                itemsBeforeUpdate: zp,
                                items: T
                            },
                            destination: {
                                index: E,
                                elementIndex: N,
                                container: x,
                                itemsBeforeUpdate: Hp,
                                items: C
                            },
                            item: di
                        }
                    }))
                }
            });
            var l = pP(function(f, d, m, T) {
                    if (di)
                        if (t.forcePlaceholderSize && (Ji(f).placeholder.style.height = Gu + "px", Ji(f).placeholder.style.width = Zu + "px"), Array.from(f.children).indexOf(d) > -1) {
                            var x = gx(d),
                                C = mx(d),
                                N = Hl(Ji(f).placeholder, d.parentElement.children),
                                E = Hl(d, d.parentElement.children);
                            if (x > Gu || C > Zu) {
                                var O = x - Gu,
                                    D = C - Zu,
                                    I = Xu(d).top,
                                    H = Xu(d).left;
                                if (N < E && (t.orientation === "vertical" && T < I || t.orientation === "horizontal" && m < H) || N > E && (t.orientation === "vertical" && T > I + x - O || t.orientation === "horizontal" && m > H + C - D)) return
                            }
                            di.oldDisplay === void 0 && (di.oldDisplay = di.style.display), di.style.display !== "none" && (di.style.display = "none");
                            var y = !1;
                            try {
                                var w = Xu(d).top + d.offsetHeight / 2,
                                    X = Xu(d).left + d.offsetWidth / 2;
                                y = t.orientation === "vertical" && T >= w || t.orientation === "horizontal" && m >= X
                            } catch {
                                y = N < E
                            }
                            y ? mP(d, Ji(f).placeholder) : gP(d, Ji(f).placeholder), Array.from(nl.values()).filter(function(me) {
                                return me.placeholder !== void 0
                            }).forEach(function(me) {
                                me.placeholder !== Ji(f).placeholder && me.placeholder.remove()
                            })
                        } else {
                            var oe = Array.from(nl.values()).filter(function(me) {
                                return me.placeholder !== void 0
                            }).map(function(me) {
                                return me.placeholder
                            });
                            oe.indexOf(d) === -1 && f === d && !Hr(d.children, t.items).length && (oe.forEach(function(me) {
                                return me.remove()
                            }), d.appendChild(Ji(f).placeholder))
                        }
                }, t.debounce),
                u = function(f) {
                    var d = f.target,
                        m = d.isSortable === !0 ? d : $p(d, f);
                    if (d = yx(m, d), !(!di || !vx(m, di.parentElement) || xn(m, "_disabled") === "true")) {
                        var T = xn(m, "opts");
                        parseInt(T.maxItems) && Hr(m.children, xn(m, "items")).length > parseInt(T.maxItems) && di.parentElement !== m || (f.preventDefault(), f.stopPropagation(), f.dataTransfer.dropEffect = Ji(m).getConfig("copy") === !0 ? "copy" : "move", l(m, d, f.pageX, f.pageY))
                    }
                };
            $a(r.concat(n), "dragover", u), $a(r.concat(n), "dragenter", u)
        }), e)
    }
    jl.destroy = function(e) {
        CP(e)
    };
    jl.enable = function(e) {
        wx(e)
    };
    jl.disable = function(e) {
        SP(e)
    };
    jl.__testing = {
        data: xn,
        removeItemEvents: Kp,
        removeItemData: xx,
        removeSortableData: bx,
        removeContainerEvents: Gp
    };
    Ex.exports = jl
});
var tw = Ke((ew, bg) => {
    (function(e) {
        typeof ew == "object" && typeof bg < "u" ? bg.exports = e() : typeof define == "function" && define.amd ? define([], e) : (typeof window < "u" ? window : typeof global < "u" ? global : typeof self < "u" ? self : this).JSZip = e()
    })(function() {
        return function e(t, i, n) {
            function r(l, u) {
                if (!i[l]) {
                    if (!t[l]) {
                        var f = typeof vn == "function" && vn;
                        if (!u && f) return f(l, !0);
                        if (a) return a(l, !0);
                        var d = new Error("Cannot find module '" + l + "'");
                        throw d.code = "MODULE_NOT_FOUND", d
                    }
                    var m = i[l] = {
                        exports: {}
                    };
                    t[l][0].call(m.exports, function(T) {
                        var x = t[l][1][T];
                        return r(x || T)
                    }, m, m.exports, e, t, i, n)
                }
                return i[l].exports
            }
            for (var a = typeof vn == "function" && vn, s = 0; s < n.length; s++) r(n[s]);
            return r
        }({
            1: [function(e, t, i) {
                "use strict";
                var n = e("./utils"),
                    r = e("./support"),
                    a = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";
                i.encode = function(s) {
                    for (var l, u, f, d, m, T, x, C = [], N = 0, E = s.length, O = E, D = n.getTypeOf(s) !== "string"; N < s.length;) O = E - N, f = D ? (l = s[N++], u = N < E ? s[N++] : 0, N < E ? s[N++] : 0) : (l = s.charCodeAt(N++), u = N < E ? s.charCodeAt(N++) : 0, N < E ? s.charCodeAt(N++) : 0), d = l >> 2, m = (3 & l) << 4 | u >> 4, T = 1 < O ? (15 & u) << 2 | f >> 6 : 64, x = 2 < O ? 63 & f : 64, C.push(a.charAt(d) + a.charAt(m) + a.charAt(T) + a.charAt(x));
                    return C.join("")
                }, i.decode = function(s) {
                    var l, u, f, d, m, T, x = 0,
                        C = 0,
                        N = "data:";
                    if (s.substr(0, N.length) === N) throw new Error("Invalid base64 input, it looks like a data url.");
                    var E, O = 3 * (s = s.replace(/[^A-Za-z0-9+/=]/g, "")).length / 4;
                    if (s.charAt(s.length - 1) === a.charAt(64) && O--, s.charAt(s.length - 2) === a.charAt(64) && O--, O % 1 != 0) throw new Error("Invalid base64 input, bad content length.");
                    for (E = r.uint8array ? new Uint8Array(0 | O) : new Array(0 | O); x < s.length;) l = a.indexOf(s.charAt(x++)) << 2 | (d = a.indexOf(s.charAt(x++))) >> 4, u = (15 & d) << 4 | (m = a.indexOf(s.charAt(x++))) >> 2, f = (3 & m) << 6 | (T = a.indexOf(s.charAt(x++))), E[C++] = l, m !== 64 && (E[C++] = u), T !== 64 && (E[C++] = f);
                    return E
                }
            }, {
                "./support": 30,
                "./utils": 32
            }],
            2: [function(e, t, i) {
                "use strict";
                var n = e("./external"),
                    r = e("./stream/DataWorker"),
                    a = e("./stream/Crc32Probe"),
                    s = e("./stream/DataLengthProbe");

                function l(u, f, d, m, T) {
                    this.compressedSize = u, this.uncompressedSize = f, this.crc32 = d, this.compression = m, this.compressedContent = T
                }
                l.prototype = {
                    getContentWorker: function() {
                        var u = new r(n.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new s("data_length")),
                            f = this;
                        return u.on("end", function() {
                            if (this.streamInfo.data_length !== f.uncompressedSize) throw new Error("Bug : uncompressed data size mismatch")
                        }), u
                    },
                    getCompressedWorker: function() {
                        return new r(n.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize", this.compressedSize).withStreamInfo("uncompressedSize", this.uncompressedSize).withStreamInfo("crc32", this.crc32).withStreamInfo("compression", this.compression)
                    }
                }, l.createWorkerFrom = function(u, f, d) {
                    return u.pipe(new a).pipe(new s("uncompressedSize")).pipe(f.compressWorker(d)).pipe(new s("compressedSize")).withStreamInfo("compression", f)
                }, t.exports = l
            }, {
                "./external": 6,
                "./stream/Crc32Probe": 25,
                "./stream/DataLengthProbe": 26,
                "./stream/DataWorker": 27
            }],
            3: [function(e, t, i) {
                "use strict";
                var n = e("./stream/GenericWorker");
                i.STORE = {
                    magic: "\0\0",
                    compressWorker: function() {
                        return new n("STORE compression")
                    },
                    uncompressWorker: function() {
                        return new n("STORE decompression")
                    }
                }, i.DEFLATE = e("./flate")
            }, {
                "./flate": 7,
                "./stream/GenericWorker": 28
            }],
            4: [function(e, t, i) {
                "use strict";
                var n = e("./utils"),
                    r = function() {
                        for (var a, s = [], l = 0; l < 256; l++) {
                            a = l;
                            for (var u = 0; u < 8; u++) a = 1 & a ? 3988292384 ^ a >>> 1 : a >>> 1;
                            s[l] = a
                        }
                        return s
                    }();
                t.exports = function(a, s) {
                    return a !== void 0 && a.length ? n.getTypeOf(a) !== "string" ? function(l, u, f, d) {
                        var m = r,
                            T = d + f;
                        l ^= -1;
                        for (var x = d; x < T; x++) l = l >>> 8 ^ m[255 & (l ^ u[x])];
                        return -1 ^ l
                    }(0 | s, a, a.length, 0) : function(l, u, f, d) {
                        var m = r,
                            T = d + f;
                        l ^= -1;
                        for (var x = d; x < T; x++) l = l >>> 8 ^ m[255 & (l ^ u.charCodeAt(x))];
                        return -1 ^ l
                    }(0 | s, a, a.length, 0) : 0
                }
            }, {
                "./utils": 32
            }],
            5: [function(e, t, i) {
                "use strict";
                i.base64 = !1, i.binary = !1, i.dir = !1, i.createFolders = !0, i.date = null, i.compression = null, i.compressionOptions = null, i.comment = null, i.unixPermissions = null, i.dosPermissions = null
            }, {}],
            6: [function(e, t, i) {
                "use strict";
                var n = null;
                n = typeof Promise < "u" ? Promise : e("lie"), t.exports = {
                    Promise: n
                }
            }, {
                lie: 37
            }],
            7: [function(e, t, i) {
                "use strict";
                var n = typeof Uint8Array < "u" && typeof Uint16Array < "u" && typeof Uint32Array < "u",
                    r = e("pako"),
                    a = e("./utils"),
                    s = e("./stream/GenericWorker"),
                    l = n ? "uint8array" : "array";

                function u(f, d) {
                    s.call(this, "FlateWorker/" + f), this._pako = null, this._pakoAction = f, this._pakoOptions = d, this.meta = {}
                }
                i.magic = "\b\0", a.inherits(u, s), u.prototype.processChunk = function(f) {
                    this.meta = f.meta, this._pako === null && this._createPako(), this._pako.push(a.transformTo(l, f.data), !1)
                }, u.prototype.flush = function() {
                    s.prototype.flush.call(this), this._pako === null && this._createPako(), this._pako.push([], !0)
                }, u.prototype.cleanUp = function() {
                    s.prototype.cleanUp.call(this), this._pako = null
                }, u.prototype._createPako = function() {
                    this._pako = new r[this._pakoAction]({
                        raw: !0,
                        level: this._pakoOptions.level || -1
                    });
                    var f = this;
                    this._pako.onData = function(d) {
                        f.push({
                            data: d,
                            meta: f.meta
                        })
                    }
                }, i.compressWorker = function(f) {
                    return new u("Deflate", f)
                }, i.uncompressWorker = function() {
                    return new u("Inflate", {})
                }
            }, {
                "./stream/GenericWorker": 28,
                "./utils": 32,
                pako: 38
            }],
            8: [function(e, t, i) {
                "use strict";

                function n(m, T) {
                    var x, C = "";
                    for (x = 0; x < T; x++) C += String.fromCharCode(255 & m), m >>>= 8;
                    return C
                }

                function r(m, T, x, C, N, E) {
                    var O, D, I = m.file,
                        H = m.compression,
                        y = E !== l.utf8encode,
                        w = a.transformTo("string", E(I.name)),
                        X = a.transformTo("string", l.utf8encode(I.name)),
                        oe = I.comment,
                        me = a.transformTo("string", E(oe)),
                        V = a.transformTo("string", l.utf8encode(oe)),
                        W = X.length !== I.name.length,
                        P = V.length !== oe.length,
                        se = "",
                        ce = "",
                        ne = "",
                        re = I.dir,
                        J = I.date,
                        ue = {
                            crc32: 0,
                            compressedSize: 0,
                            uncompressedSize: 0
                        };
                    T && !x || (ue.crc32 = m.crc32, ue.compressedSize = m.compressedSize, ue.uncompressedSize = m.uncompressedSize);
                    var ie = 0;
                    T && (ie |= 8), y || !W && !P || (ie |= 2048);
                    var te = 0,
                        we = 0;
                    re && (te |= 16), N === "UNIX" ? (we = 798, te |= function(ye, Ue) {
                        var Qe = ye;
                        return ye || (Qe = Ue ? 16893 : 33204), (65535 & Qe) << 16
                    }(I.unixPermissions, re)) : (we = 20, te |= function(ye) {
                        return 63 & (ye || 0)
                    }(I.dosPermissions)), O = J.getUTCHours(), O <<= 6, O |= J.getUTCMinutes(), O <<= 5, O |= J.getUTCSeconds() / 2, D = J.getUTCFullYear() - 1980, D <<= 4, D |= J.getUTCMonth() + 1, D <<= 5, D |= J.getUTCDate(), W && (ce = n(1, 1) + n(u(w), 4) + X, se += "up" + n(ce.length, 2) + ce), P && (ne = n(1, 1) + n(u(me), 4) + V, se += "uc" + n(ne.length, 2) + ne);
                    var De = "";
                    return De += `
\0`, De += n(ie, 2), De += H.magic, De += n(O, 2), De += n(D, 2), De += n(ue.crc32, 4), De += n(ue.compressedSize, 4), De += n(ue.uncompressedSize, 4), De += n(w.length, 2), De += n(se.length, 2), {
                        fileRecord: f.LOCAL_FILE_HEADER + De + w + se,
                        dirRecord: f.CENTRAL_FILE_HEADER + n(we, 2) + De + n(me.length, 2) + "\0\0\0\0" + n(te, 4) + n(C, 4) + w + se + me
                    }
                }
                var a = e("../utils"),
                    s = e("../stream/GenericWorker"),
                    l = e("../utf8"),
                    u = e("../crc32"),
                    f = e("../signature");

                function d(m, T, x, C) {
                    s.call(this, "ZipFileWorker"), this.bytesWritten = 0, this.zipComment = T, this.zipPlatform = x, this.encodeFileName = C, this.streamFiles = m, this.accumulate = !1, this.contentBuffer = [], this.dirRecords = [], this.currentSourceOffset = 0, this.entriesCount = 0, this.currentFile = null, this._sources = []
                }
                a.inherits(d, s), d.prototype.push = function(m) {
                    var T = m.meta.percent || 0,
                        x = this.entriesCount,
                        C = this._sources.length;
                    this.accumulate ? this.contentBuffer.push(m) : (this.bytesWritten += m.data.length, s.prototype.push.call(this, {
                        data: m.data,
                        meta: {
                            currentFile: this.currentFile,
                            percent: x ? (T + 100 * (x - C - 1)) / x : 100
                        }
                    }))
                }, d.prototype.openedSource = function(m) {
                    this.currentSourceOffset = this.bytesWritten, this.currentFile = m.file.name;
                    var T = this.streamFiles && !m.file.dir;
                    if (T) {
                        var x = r(m, T, !1, this.currentSourceOffset, this.zipPlatform, this.encodeFileName);
                        this.push({
                            data: x.fileRecord,
                            meta: {
                                percent: 0
                            }
                        })
                    } else this.accumulate = !0
                }, d.prototype.closedSource = function(m) {
                    this.accumulate = !1;
                    var T = this.streamFiles && !m.file.dir,
                        x = r(m, T, !0, this.currentSourceOffset, this.zipPlatform, this.encodeFileName);
                    if (this.dirRecords.push(x.dirRecord), T) this.push({
                        data: function(C) {
                            return f.DATA_DESCRIPTOR + n(C.crc32, 4) + n(C.compressedSize, 4) + n(C.uncompressedSize, 4)
                        }(m),
                        meta: {
                            percent: 100
                        }
                    });
                    else
                        for (this.push({
                                data: x.fileRecord,
                                meta: {
                                    percent: 0
                                }
                            }); this.contentBuffer.length;) this.push(this.contentBuffer.shift());
                    this.currentFile = null
                }, d.prototype.flush = function() {
                    for (var m = this.bytesWritten, T = 0; T < this.dirRecords.length; T++) this.push({
                        data: this.dirRecords[T],
                        meta: {
                            percent: 100
                        }
                    });
                    var x = this.bytesWritten - m,
                        C = function(N, E, O, D, I) {
                            var H = a.transformTo("string", I(D));
                            return f.CENTRAL_DIRECTORY_END + "\0\0\0\0" + n(N, 2) + n(N, 2) + n(E, 4) + n(O, 4) + n(H.length, 2) + H
                        }(this.dirRecords.length, x, m, this.zipComment, this.encodeFileName);
                    this.push({
                        data: C,
                        meta: {
                            percent: 100
                        }
                    })
                }, d.prototype.prepareNextSource = function() {
                    this.previous = this._sources.shift(), this.openedSource(this.previous.streamInfo), this.isPaused ? this.previous.pause() : this.previous.resume()
                }, d.prototype.registerPrevious = function(m) {
                    this._sources.push(m);
                    var T = this;
                    return m.on("data", function(x) {
                        T.processChunk(x)
                    }), m.on("end", function() {
                        T.closedSource(T.previous.streamInfo), T._sources.length ? T.prepareNextSource() : T.end()
                    }), m.on("error", function(x) {
                        T.error(x)
                    }), this
                }, d.prototype.resume = function() {
                    return !!s.prototype.resume.call(this) && (!this.previous && this._sources.length ? (this.prepareNextSource(), !0) : this.previous || this._sources.length || this.generatedError ? void 0 : (this.end(), !0))
                }, d.prototype.error = function(m) {
                    var T = this._sources;
                    if (!s.prototype.error.call(this, m)) return !1;
                    for (var x = 0; x < T.length; x++) try {
                        T[x].error(m)
                    } catch {}
                    return !0
                }, d.prototype.lock = function() {
                    s.prototype.lock.call(this);
                    for (var m = this._sources, T = 0; T < m.length; T++) m[T].lock()
                }, t.exports = d
            }, {
                "../crc32": 4,
                "../signature": 23,
                "../stream/GenericWorker": 28,
                "../utf8": 31,
                "../utils": 32
            }],
            9: [function(e, t, i) {
                "use strict";
                var n = e("../compressions"),
                    r = e("./ZipFileWorker");
                i.generateWorker = function(a, s, l) {
                    var u = new r(s.streamFiles, l, s.platform, s.encodeFileName),
                        f = 0;
                    try {
                        a.forEach(function(d, m) {
                            f++;
                            var T = function(E, O) {
                                    var D = E || O,
                                        I = n[D];
                                    if (!I) throw new Error(D + " is not a valid compression method !");
                                    return I
                                }(m.options.compression, s.compression),
                                x = m.options.compressionOptions || s.compressionOptions || {},
                                C = m.dir,
                                N = m.date;
                            m._compressWorker(T, x).withStreamInfo("file", {
                                name: d,
                                dir: C,
                                date: N,
                                comment: m.comment || "",
                                unixPermissions: m.unixPermissions,
                                dosPermissions: m.dosPermissions
                            }).pipe(u)
                        }), u.entriesCount = f
                    } catch (d) {
                        u.error(d)
                    }
                    return u
                }
            }, {
                "../compressions": 3,
                "./ZipFileWorker": 8
            }],
            10: [function(e, t, i) {
                "use strict";

                function n() {
                    if (!(this instanceof n)) return new n;
                    if (arguments.length) throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");
                    this.files = Object.create(null), this.comment = null, this.root = "", this.clone = function() {
                        var r = new n;
                        for (var a in this) typeof this[a] != "function" && (r[a] = this[a]);
                        return r
                    }
                }(n.prototype = e("./object")).loadAsync = e("./load"), n.support = e("./support"), n.defaults = e("./defaults"), n.version = "3.10.1", n.loadAsync = function(r, a) {
                    return new n().loadAsync(r, a)
                }, n.external = e("./external"), t.exports = n
            }, {
                "./defaults": 5,
                "./external": 6,
                "./load": 11,
                "./object": 15,
                "./support": 30
            }],
            11: [function(e, t, i) {
                "use strict";
                var n = e("./utils"),
                    r = e("./external"),
                    a = e("./utf8"),
                    s = e("./zipEntries"),
                    l = e("./stream/Crc32Probe"),
                    u = e("./nodejsUtils");

                function f(d) {
                    return new r.Promise(function(m, T) {
                        var x = d.decompressed.getContentWorker().pipe(new l);
                        x.on("error", function(C) {
                            T(C)
                        }).on("end", function() {
                            x.streamInfo.crc32 !== d.decompressed.crc32 ? T(new Error("Corrupted zip : CRC32 mismatch")) : m()
                        }).resume()
                    })
                }
                t.exports = function(d, m) {
                    var T = this;
                    return m = n.extend(m || {}, {
                        base64: !1,
                        checkCRC32: !1,
                        optimizedBinaryString: !1,
                        createFolders: !1,
                        decodeFileName: a.utf8decode
                    }), u.isNode && u.isStream(d) ? r.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")) : n.prepareContent("the loaded zip file", d, !0, m.optimizedBinaryString, m.base64).then(function(x) {
                        var C = new s(m);
                        return C.load(x), C
                    }).then(function(x) {
                        var C = [r.Promise.resolve(x)],
                            N = x.files;
                        if (m.checkCRC32)
                            for (var E = 0; E < N.length; E++) C.push(f(N[E]));
                        return r.Promise.all(C)
                    }).then(function(x) {
                        for (var C = x.shift(), N = C.files, E = 0; E < N.length; E++) {
                            var O = N[E],
                                D = O.fileNameStr,
                                I = n.resolve(O.fileNameStr);
                            T.file(I, O.decompressed, {
                                binary: !0,
                                optimizedBinaryString: !0,
                                date: O.date,
                                dir: O.dir,
                                comment: O.fileCommentStr.length ? O.fileCommentStr : null,
                                unixPermissions: O.unixPermissions,
                                dosPermissions: O.dosPermissions,
                                createFolders: m.createFolders
                            }), O.dir || (T.file(I).unsafeOriginalName = D)
                        }
                        return C.zipComment.length && (T.comment = C.zipComment), T
                    })
                }
            }, {
                "./external": 6,
                "./nodejsUtils": 14,
                "./stream/Crc32Probe": 25,
                "./utf8": 31,
                "./utils": 32,
                "./zipEntries": 33
            }],
            12: [function(e, t, i) {
                "use strict";
                var n = e("../utils"),
                    r = e("../stream/GenericWorker");

                function a(s, l) {
                    r.call(this, "Nodejs stream input adapter for " + s), this._upstreamEnded = !1, this._bindStream(l)
                }
                n.inherits(a, r), a.prototype._bindStream = function(s) {
                    var l = this;
                    (this._stream = s).pause(), s.on("data", function(u) {
                        l.push({
                            data: u,
                            meta: {
                                percent: 0
                            }
                        })
                    }).on("error", function(u) {
                        l.isPaused ? this.generatedError = u : l.error(u)
                    }).on("end", function() {
                        l.isPaused ? l._upstreamEnded = !0 : l.end()
                    })
                }, a.prototype.pause = function() {
                    return !!r.prototype.pause.call(this) && (this._stream.pause(), !0)
                }, a.prototype.resume = function() {
                    return !!r.prototype.resume.call(this) && (this._upstreamEnded ? this.end() : this._stream.resume(), !0)
                }, t.exports = a
            }, {
                "../stream/GenericWorker": 28,
                "../utils": 32
            }],
            13: [function(e, t, i) {
                "use strict";
                var n = e("readable-stream").Readable;

                function r(a, s, l) {
                    n.call(this, s), this._helper = a;
                    var u = this;
                    a.on("data", function(f, d) {
                        u.push(f) || u._helper.pause(), l && l(d)
                    }).on("error", function(f) {
                        u.emit("error", f)
                    }).on("end", function() {
                        u.push(null)
                    })
                }
                e("../utils").inherits(r, n), r.prototype._read = function() {
                    this._helper.resume()
                }, t.exports = r
            }, {
                "../utils": 32,
                "readable-stream": 16
            }],
            14: [function(e, t, i) {
                "use strict";
                t.exports = {
                    isNode: typeof Buffer < "u",
                    newBufferFrom: function(n, r) {
                        if (Buffer.from && Buffer.from !== Uint8Array.from) return Buffer.from(n, r);
                        if (typeof n == "number") throw new Error('The "data" argument must not be a number');
                        return new Buffer(n, r)
                    },
                    allocBuffer: function(n) {
                        if (Buffer.alloc) return Buffer.alloc(n);
                        var r = new Buffer(n);
                        return r.fill(0), r
                    },
                    isBuffer: function(n) {
                        return Buffer.isBuffer(n)
                    },
                    isStream: function(n) {
                        return n && typeof n.on == "function" && typeof n.pause == "function" && typeof n.resume == "function"
                    }
                }
            }, {}],
            15: [function(e, t, i) {
                "use strict";

                function n(I, H, y) {
                    var w, X = a.getTypeOf(H),
                        oe = a.extend(y || {}, u);
                    oe.date = oe.date || new Date, oe.compression !== null && (oe.compression = oe.compression.toUpperCase()), typeof oe.unixPermissions == "string" && (oe.unixPermissions = parseInt(oe.unixPermissions, 8)), oe.unixPermissions && 16384 & oe.unixPermissions && (oe.dir = !0), oe.dosPermissions && 16 & oe.dosPermissions && (oe.dir = !0), oe.dir && (I = N(I)), oe.createFolders && (w = C(I)) && E.call(this, w, !0);
                    var me = X === "string" && oe.binary === !1 && oe.base64 === !1;
                    y && y.binary !== void 0 || (oe.binary = !me), (H instanceof f && H.uncompressedSize === 0 || oe.dir || !H || H.length === 0) && (oe.base64 = !1, oe.binary = !0, H = "", oe.compression = "STORE", X = "string");
                    var V = null;
                    V = H instanceof f || H instanceof s ? H : T.isNode && T.isStream(H) ? new x(I, H) : a.prepareContent(I, H, oe.binary, oe.optimizedBinaryString, oe.base64);
                    var W = new d(I, V, oe);
                    this.files[I] = W
                }
                var r = e("./utf8"),
                    a = e("./utils"),
                    s = e("./stream/GenericWorker"),
                    l = e("./stream/StreamHelper"),
                    u = e("./defaults"),
                    f = e("./compressedObject"),
                    d = e("./zipObject"),
                    m = e("./generate"),
                    T = e("./nodejsUtils"),
                    x = e("./nodejs/NodejsStreamInputAdapter"),
                    C = function(I) {
                        I.slice(-1) === "/" && (I = I.substring(0, I.length - 1));
                        var H = I.lastIndexOf("/");
                        return 0 < H ? I.substring(0, H) : ""
                    },
                    N = function(I) {
                        return I.slice(-1) !== "/" && (I += "/"), I
                    },
                    E = function(I, H) {
                        return H = H !== void 0 ? H : u.createFolders, I = N(I), this.files[I] || n.call(this, I, null, {
                            dir: !0,
                            createFolders: H
                        }), this.files[I]
                    };

                function O(I) {
                    return Object.prototype.toString.call(I) === "[object RegExp]"
                }
                var D = {
                    load: function() {
                        throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")
                    },
                    forEach: function(I) {
                        var H, y, w;
                        for (H in this.files) w = this.files[H], (y = H.slice(this.root.length, H.length)) && H.slice(0, this.root.length) === this.root && I(y, w)
                    },
                    filter: function(I) {
                        var H = [];
                        return this.forEach(function(y, w) {
                            I(y, w) && H.push(w)
                        }), H
                    },
                    file: function(I, H, y) {
                        if (arguments.length !== 1) return I = this.root + I, n.call(this, I, H, y), this;
                        if (O(I)) {
                            var w = I;
                            return this.filter(function(oe, me) {
                                return !me.dir && w.test(oe)
                            })
                        }
                        var X = this.files[this.root + I];
                        return X && !X.dir ? X : null
                    },
                    folder: function(I) {
                        if (!I) return this;
                        if (O(I)) return this.filter(function(X, oe) {
                            return oe.dir && I.test(X)
                        });
                        var H = this.root + I,
                            y = E.call(this, H),
                            w = this.clone();
                        return w.root = y.name, w
                    },
                    remove: function(I) {
                        I = this.root + I;
                        var H = this.files[I];
                        if (H || (I.slice(-1) !== "/" && (I += "/"), H = this.files[I]), H && !H.dir) delete this.files[I];
                        else
                            for (var y = this.filter(function(X, oe) {
                                    return oe.name.slice(0, I.length) === I
                                }), w = 0; w < y.length; w++) delete this.files[y[w].name];
                        return this
                    },
                    generate: function() {
                        throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")
                    },
                    generateInternalStream: function(I) {
                        var H, y = {};
                        try {
                            if ((y = a.extend(I || {}, {
                                    streamFiles: !1,
                                    compression: "STORE",
                                    compressionOptions: null,
                                    type: "",
                                    platform: "DOS",
                                    comment: null,
                                    mimeType: "application/zip",
                                    encodeFileName: r.utf8encode
                                })).type = y.type.toLowerCase(), y.compression = y.compression.toUpperCase(), y.type === "binarystring" && (y.type = "string"), !y.type) throw new Error("No output type specified.");
                            a.checkSupport(y.type), y.platform !== "darwin" && y.platform !== "freebsd" && y.platform !== "linux" && y.platform !== "sunos" || (y.platform = "UNIX"), y.platform === "win32" && (y.platform = "DOS");
                            var w = y.comment || this.comment || "";
                            H = m.generateWorker(this, y, w)
                        } catch (X) {
                            (H = new s("error")).error(X)
                        }
                        return new l(H, y.type || "string", y.mimeType)
                    },
                    generateAsync: function(I, H) {
                        return this.generateInternalStream(I).accumulate(H)
                    },
                    generateNodeStream: function(I, H) {
                        return (I = I || {}).type || (I.type = "nodebuffer"), this.generateInternalStream(I).toNodejsStream(H)
                    }
                };
                t.exports = D
            }, {
                "./compressedObject": 2,
                "./defaults": 5,
                "./generate": 9,
                "./nodejs/NodejsStreamInputAdapter": 12,
                "./nodejsUtils": 14,
                "./stream/GenericWorker": 28,
                "./stream/StreamHelper": 29,
                "./utf8": 31,
                "./utils": 32,
                "./zipObject": 35
            }],
            16: [function(e, t, i) {
                "use strict";
                t.exports = e("stream")
            }, {
                stream: void 0
            }],
            17: [function(e, t, i) {
                "use strict";
                var n = e("./DataReader");

                function r(a) {
                    n.call(this, a);
                    for (var s = 0; s < this.data.length; s++) a[s] = 255 & a[s]
                }
                e("../utils").inherits(r, n), r.prototype.byteAt = function(a) {
                    return this.data[this.zero + a]
                }, r.prototype.lastIndexOfSignature = function(a) {
                    for (var s = a.charCodeAt(0), l = a.charCodeAt(1), u = a.charCodeAt(2), f = a.charCodeAt(3), d = this.length - 4; 0 <= d; --d)
                        if (this.data[d] === s && this.data[d + 1] === l && this.data[d + 2] === u && this.data[d + 3] === f) return d - this.zero;
                    return -1
                }, r.prototype.readAndCheckSignature = function(a) {
                    var s = a.charCodeAt(0),
                        l = a.charCodeAt(1),
                        u = a.charCodeAt(2),
                        f = a.charCodeAt(3),
                        d = this.readData(4);
                    return s === d[0] && l === d[1] && u === d[2] && f === d[3]
                }, r.prototype.readData = function(a) {
                    if (this.checkOffset(a), a === 0) return [];
                    var s = this.data.slice(this.zero + this.index, this.zero + this.index + a);
                    return this.index += a, s
                }, t.exports = r
            }, {
                "../utils": 32,
                "./DataReader": 18
            }],
            18: [function(e, t, i) {
                "use strict";
                var n = e("../utils");

                function r(a) {
                    this.data = a, this.length = a.length, this.index = 0, this.zero = 0
                }
                r.prototype = {
                    checkOffset: function(a) {
                        this.checkIndex(this.index + a)
                    },
                    checkIndex: function(a) {
                        if (this.length < this.zero + a || a < 0) throw new Error("End of data reached (data length = " + this.length + ", asked index = " + a + "). Corrupted zip ?")
                    },
                    setIndex: function(a) {
                        this.checkIndex(a), this.index = a
                    },
                    skip: function(a) {
                        this.setIndex(this.index + a)
                    },
                    byteAt: function() {},
                    readInt: function(a) {
                        var s, l = 0;
                        for (this.checkOffset(a), s = this.index + a - 1; s >= this.index; s--) l = (l << 8) + this.byteAt(s);
                        return this.index += a, l
                    },
                    readString: function(a) {
                        return n.transformTo("string", this.readData(a))
                    },
                    readData: function() {},
                    lastIndexOfSignature: function() {},
                    readAndCheckSignature: function() {},
                    readDate: function() {
                        var a = this.readInt(4);
                        return new Date(Date.UTC(1980 + (a >> 25 & 127), (a >> 21 & 15) - 1, a >> 16 & 31, a >> 11 & 31, a >> 5 & 63, (31 & a) << 1))
                    }
                }, t.exports = r
            }, {
                "../utils": 32
            }],
            19: [function(e, t, i) {
                "use strict";
                var n = e("./Uint8ArrayReader");

                function r(a) {
                    n.call(this, a)
                }
                e("../utils").inherits(r, n), r.prototype.readData = function(a) {
                    this.checkOffset(a);
                    var s = this.data.slice(this.zero + this.index, this.zero + this.index + a);
                    return this.index += a, s
                }, t.exports = r
            }, {
                "../utils": 32,
                "./Uint8ArrayReader": 21
            }],
            20: [function(e, t, i) {
                "use strict";
                var n = e("./DataReader");

                function r(a) {
                    n.call(this, a)
                }
                e("../utils").inherits(r, n), r.prototype.byteAt = function(a) {
                    return this.data.charCodeAt(this.zero + a)
                }, r.prototype.lastIndexOfSignature = function(a) {
                    return this.data.lastIndexOf(a) - this.zero
                }, r.prototype.readAndCheckSignature = function(a) {
                    return a === this.readData(4)
                }, r.prototype.readData = function(a) {
                    this.checkOffset(a);
                    var s = this.data.slice(this.zero + this.index, this.zero + this.index + a);
                    return this.index += a, s
                }, t.exports = r
            }, {
                "../utils": 32,
                "./DataReader": 18
            }],
            21: [function(e, t, i) {
                "use strict";
                var n = e("./ArrayReader");

                function r(a) {
                    n.call(this, a)
                }
                e("../utils").inherits(r, n), r.prototype.readData = function(a) {
                    if (this.checkOffset(a), a === 0) return new Uint8Array(0);
                    var s = this.data.subarray(this.zero + this.index, this.zero + this.index + a);
                    return this.index += a, s
                }, t.exports = r
            }, {
                "../utils": 32,
                "./ArrayReader": 17
            }],
            22: [function(e, t, i) {
                "use strict";
                var n = e("../utils"),
                    r = e("../support"),
                    a = e("./ArrayReader"),
                    s = e("./StringReader"),
                    l = e("./NodeBufferReader"),
                    u = e("./Uint8ArrayReader");
                t.exports = function(f) {
                    var d = n.getTypeOf(f);
                    return n.checkSupport(d), d !== "string" || r.uint8array ? d === "nodebuffer" ? new l(f) : r.uint8array ? new u(n.transformTo("uint8array", f)) : new a(n.transformTo("array", f)) : new s(f)
                }
            }, {
                "../support": 30,
                "../utils": 32,
                "./ArrayReader": 17,
                "./NodeBufferReader": 19,
                "./StringReader": 20,
                "./Uint8ArrayReader": 21
            }],
            23: [function(e, t, i) {
                "use strict";
                i.LOCAL_FILE_HEADER = "PK", i.CENTRAL_FILE_HEADER = "PK", i.CENTRAL_DIRECTORY_END = "PK", i.ZIP64_CENTRAL_DIRECTORY_LOCATOR = "PK\x07", i.ZIP64_CENTRAL_DIRECTORY_END = "PK", i.DATA_DESCRIPTOR = "PK\x07\b"
            }, {}],
            24: [function(e, t, i) {
                "use strict";
                var n = e("./GenericWorker"),
                    r = e("../utils");

                function a(s) {
                    n.call(this, "ConvertWorker to " + s), this.destType = s
                }
                r.inherits(a, n), a.prototype.processChunk = function(s) {
                    this.push({
                        data: r.transformTo(this.destType, s.data),
                        meta: s.meta
                    })
                }, t.exports = a
            }, {
                "../utils": 32,
                "./GenericWorker": 28
            }],
            25: [function(e, t, i) {
                "use strict";
                var n = e("./GenericWorker"),
                    r = e("../crc32");

                function a() {
                    n.call(this, "Crc32Probe"), this.withStreamInfo("crc32", 0)
                }
                e("../utils").inherits(a, n), a.prototype.processChunk = function(s) {
                    this.streamInfo.crc32 = r(s.data, this.streamInfo.crc32 || 0), this.push(s)
                }, t.exports = a
            }, {
                "../crc32": 4,
                "../utils": 32,
                "./GenericWorker": 28
            }],
            26: [function(e, t, i) {
                "use strict";
                var n = e("../utils"),
                    r = e("./GenericWorker");

                function a(s) {
                    r.call(this, "DataLengthProbe for " + s), this.propName = s, this.withStreamInfo(s, 0)
                }
                n.inherits(a, r), a.prototype.processChunk = function(s) {
                    if (s) {
                        var l = this.streamInfo[this.propName] || 0;
                        this.streamInfo[this.propName] = l + s.data.length
                    }
                    r.prototype.processChunk.call(this, s)
                }, t.exports = a
            }, {
                "../utils": 32,
                "./GenericWorker": 28
            }],
            27: [function(e, t, i) {
                "use strict";
                var n = e("../utils"),
                    r = e("./GenericWorker");

                function a(s) {
                    r.call(this, "DataWorker");
                    var l = this;
                    this.dataIsReady = !1, this.index = 0, this.max = 0, this.data = null, this.type = "", this._tickScheduled = !1, s.then(function(u) {
                        l.dataIsReady = !0, l.data = u, l.max = u && u.length || 0, l.type = n.getTypeOf(u), l.isPaused || l._tickAndRepeat()
                    }, function(u) {
                        l.error(u)
                    })
                }
                n.inherits(a, r), a.prototype.cleanUp = function() {
                    r.prototype.cleanUp.call(this), this.data = null
                }, a.prototype.resume = function() {
                    return !!r.prototype.resume.call(this) && (!this._tickScheduled && this.dataIsReady && (this._tickScheduled = !0, n.delay(this._tickAndRepeat, [], this)), !0)
                }, a.prototype._tickAndRepeat = function() {
                    this._tickScheduled = !1, this.isPaused || this.isFinished || (this._tick(), this.isFinished || (n.delay(this._tickAndRepeat, [], this), this._tickScheduled = !0))
                }, a.prototype._tick = function() {
                    if (this.isPaused || this.isFinished) return !1;
                    var s = null,
                        l = Math.min(this.max, this.index + 16384);
                    if (this.index >= this.max) return this.end();
                    switch (this.type) {
                        case "string":
                            s = this.data.substring(this.index, l);
                            break;
                        case "uint8array":
                            s = this.data.subarray(this.index, l);
                            break;
                        case "array":
                        case "nodebuffer":
                            s = this.data.slice(this.index, l)
                    }
                    return this.index = l, this.push({
                        data: s,
                        meta: {
                            percent: this.max ? this.index / this.max * 100 : 0
                        }
                    })
                }, t.exports = a
            }, {
                "../utils": 32,
                "./GenericWorker": 28
            }],
            28: [function(e, t, i) {
                "use strict";

                function n(r) {
                    this.name = r || "default", this.streamInfo = {}, this.generatedError = null, this.extraStreamInfo = {}, this.isPaused = !0, this.isFinished = !1, this.isLocked = !1, this._listeners = {
                        data: [],
                        end: [],
                        error: []
                    }, this.previous = null
                }
                n.prototype = {
                    push: function(r) {
                        this.emit("data", r)
                    },
                    end: function() {
                        if (this.isFinished) return !1;
                        this.flush();
                        try {
                            this.emit("end"), this.cleanUp(), this.isFinished = !0
                        } catch (r) {
                            this.emit("error", r)
                        }
                        return !0
                    },
                    error: function(r) {
                        return !this.isFinished && (this.isPaused ? this.generatedError = r : (this.isFinished = !0, this.emit("error", r), this.previous && this.previous.error(r), this.cleanUp()), !0)
                    },
                    on: function(r, a) {
                        return this._listeners[r].push(a), this
                    },
                    cleanUp: function() {
                        this.streamInfo = this.generatedError = this.extraStreamInfo = null, this._listeners = []
                    },
                    emit: function(r, a) {
                        if (this._listeners[r])
                            for (var s = 0; s < this._listeners[r].length; s++) this._listeners[r][s].call(this, a)
                    },
                    pipe: function(r) {
                        return r.registerPrevious(this)
                    },
                    registerPrevious: function(r) {
                        if (this.isLocked) throw new Error("The stream '" + this + "' has already been used.");
                        this.streamInfo = r.streamInfo, this.mergeStreamInfo(), this.previous = r;
                        var a = this;
                        return r.on("data", function(s) {
                            a.processChunk(s)
                        }), r.on("end", function() {
                            a.end()
                        }), r.on("error", function(s) {
                            a.error(s)
                        }), this
                    },
                    pause: function() {
                        return !this.isPaused && !this.isFinished && (this.isPaused = !0, this.previous && this.previous.pause(), !0)
                    },
                    resume: function() {
                        if (!this.isPaused || this.isFinished) return !1;
                        var r = this.isPaused = !1;
                        return this.generatedError && (this.error(this.generatedError), r = !0), this.previous && this.previous.resume(), !r
                    },
                    flush: function() {},
                    processChunk: function(r) {
                        this.push(r)
                    },
                    withStreamInfo: function(r, a) {
                        return this.extraStreamInfo[r] = a, this.mergeStreamInfo(), this
                    },
                    mergeStreamInfo: function() {
                        for (var r in this.extraStreamInfo) Object.prototype.hasOwnProperty.call(this.extraStreamInfo, r) && (this.streamInfo[r] = this.extraStreamInfo[r])
                    },
                    lock: function() {
                        if (this.isLocked) throw new Error("The stream '" + this + "' has already been used.");
                        this.isLocked = !0, this.previous && this.previous.lock()
                    },
                    toString: function() {
                        var r = "Worker " + this.name;
                        return this.previous ? this.previous + " -> " + r : r
                    }
                }, t.exports = n
            }, {}],
            29: [function(e, t, i) {
                "use strict";
                var n = e("../utils"),
                    r = e("./ConvertWorker"),
                    a = e("./GenericWorker"),
                    s = e("../base64"),
                    l = e("../support"),
                    u = e("../external"),
                    f = null;
                if (l.nodestream) try {
                    f = e("../nodejs/NodejsStreamOutputAdapter")
                } catch {}

                function d(T, x) {
                    return new u.Promise(function(C, N) {
                        var E = [],
                            O = T._internalType,
                            D = T._outputType,
                            I = T._mimeType;
                        T.on("data", function(H, y) {
                            E.push(H), x && x(y)
                        }).on("error", function(H) {
                            E = [], N(H)
                        }).on("end", function() {
                            try {
                                var H = function(y, w, X) {
                                    switch (y) {
                                        case "blob":
                                            return n.newBlob(n.transformTo("arraybuffer", w), X);
                                        case "base64":
                                            return s.encode(w);
                                        default:
                                            return n.transformTo(y, w)
                                    }
                                }(D, function(y, w) {
                                    var X, oe = 0,
                                        me = null,
                                        V = 0;
                                    for (X = 0; X < w.length; X++) V += w[X].length;
                                    switch (y) {
                                        case "string":
                                            return w.join("");
                                        case "array":
                                            return Array.prototype.concat.apply([], w);
                                        case "uint8array":
                                            for (me = new Uint8Array(V), X = 0; X < w.length; X++) me.set(w[X], oe), oe += w[X].length;
                                            return me;
                                        case "nodebuffer":
                                            return Buffer.concat(w);
                                        default:
                                            throw new Error("concat : unsupported type '" + y + "'")
                                    }
                                }(O, E), I);
                                C(H)
                            } catch (y) {
                                N(y)
                            }
                            E = []
                        }).resume()
                    })
                }

                function m(T, x, C) {
                    var N = x;
                    switch (x) {
                        case "blob":
                        case "arraybuffer":
                            N = "uint8array";
                            break;
                        case "base64":
                            N = "string"
                    }
                    try {
                        this._internalType = N, this._outputType = x, this._mimeType = C, n.checkSupport(N), this._worker = T.pipe(new r(N)), T.lock()
                    } catch (E) {
                        this._worker = new a("error"), this._worker.error(E)
                    }
                }
                m.prototype = {
                    accumulate: function(T) {
                        return d(this, T)
                    },
                    on: function(T, x) {
                        var C = this;
                        return T === "data" ? this._worker.on(T, function(N) {
                            x.call(C, N.data, N.meta)
                        }) : this._worker.on(T, function() {
                            n.delay(x, arguments, C)
                        }), this
                    },
                    resume: function() {
                        return n.delay(this._worker.resume, [], this._worker), this
                    },
                    pause: function() {
                        return this._worker.pause(), this
                    },
                    toNodejsStream: function(T) {
                        if (n.checkSupport("nodestream"), this._outputType !== "nodebuffer") throw new Error(this._outputType + " is not supported by this method");
                        return new f(this, {
                            objectMode: this._outputType !== "nodebuffer"
                        }, T)
                    }
                }, t.exports = m
            }, {
                "../base64": 1,
                "../external": 6,
                "../nodejs/NodejsStreamOutputAdapter": 13,
                "../support": 30,
                "../utils": 32,
                "./ConvertWorker": 24,
                "./GenericWorker": 28
            }],
            30: [function(e, t, i) {
                "use strict";
                if (i.base64 = !0, i.array = !0, i.string = !0, i.arraybuffer = typeof ArrayBuffer < "u" && typeof Uint8Array < "u", i.nodebuffer = typeof Buffer < "u", i.uint8array = typeof Uint8Array < "u", typeof ArrayBuffer > "u") i.blob = !1;
                else {
                    var n = new ArrayBuffer(0);
                    try {
                        i.blob = new Blob([n], {
                            type: "application/zip"
                        }).size === 0
                    } catch {
                        try {
                            var r = new(self.BlobBuilder || self.WebKitBlobBuilder || self.MozBlobBuilder || self.MSBlobBuilder);
                            r.append(n), i.blob = r.getBlob("application/zip").size === 0
                        } catch {
                            i.blob = !1
                        }
                    }
                }
                try {
                    i.nodestream = !!e("readable-stream").Readable
                } catch {
                    i.nodestream = !1
                }
            }, {
                "readable-stream": 16
            }],
            31: [function(e, t, i) {
                "use strict";
                for (var n = e("./utils"), r = e("./support"), a = e("./nodejsUtils"), s = e("./stream/GenericWorker"), l = new Array(256), u = 0; u < 256; u++) l[u] = 252 <= u ? 6 : 248 <= u ? 5 : 240 <= u ? 4 : 224 <= u ? 3 : 192 <= u ? 2 : 1;
                l[254] = l[254] = 1;

                function f() {
                    s.call(this, "utf-8 decode"), this.leftOver = null
                }

                function d() {
                    s.call(this, "utf-8 encode")
                }
                i.utf8encode = function(m) {
                    return r.nodebuffer ? a.newBufferFrom(m, "utf-8") : function(T) {
                        var x, C, N, E, O, D = T.length,
                            I = 0;
                        for (E = 0; E < D; E++)(64512 & (C = T.charCodeAt(E))) == 55296 && E + 1 < D && (64512 & (N = T.charCodeAt(E + 1))) == 56320 && (C = 65536 + (C - 55296 << 10) + (N - 56320), E++), I += C < 128 ? 1 : C < 2048 ? 2 : C < 65536 ? 3 : 4;
                        for (x = r.uint8array ? new Uint8Array(I) : new Array(I), E = O = 0; O < I; E++)(64512 & (C = T.charCodeAt(E))) == 55296 && E + 1 < D && (64512 & (N = T.charCodeAt(E + 1))) == 56320 && (C = 65536 + (C - 55296 << 10) + (N - 56320), E++), C < 128 ? x[O++] = C : (C < 2048 ? x[O++] = 192 | C >>> 6 : (C < 65536 ? x[O++] = 224 | C >>> 12 : (x[O++] = 240 | C >>> 18, x[O++] = 128 | C >>> 12 & 63), x[O++] = 128 | C >>> 6 & 63), x[O++] = 128 | 63 & C);
                        return x
                    }(m)
                }, i.utf8decode = function(m) {
                    return r.nodebuffer ? n.transformTo("nodebuffer", m).toString("utf-8") : function(T) {
                        var x, C, N, E, O = T.length,
                            D = new Array(2 * O);
                        for (x = C = 0; x < O;)
                            if ((N = T[x++]) < 128) D[C++] = N;
                            else if (4 < (E = l[N])) D[C++] = 65533, x += E - 1;
                        else {
                            for (N &= E === 2 ? 31 : E === 3 ? 15 : 7; 1 < E && x < O;) N = N << 6 | 63 & T[x++], E--;
                            1 < E ? D[C++] = 65533 : N < 65536 ? D[C++] = N : (N -= 65536, D[C++] = 55296 | N >> 10 & 1023, D[C++] = 56320 | 1023 & N)
                        }
                        return D.length !== C && (D.subarray ? D = D.subarray(0, C) : D.length = C), n.applyFromCharCode(D)
                    }(m = n.transformTo(r.uint8array ? "uint8array" : "array", m))
                }, n.inherits(f, s), f.prototype.processChunk = function(m) {
                    var T = n.transformTo(r.uint8array ? "uint8array" : "array", m.data);
                    if (this.leftOver && this.leftOver.length) {
                        if (r.uint8array) {
                            var x = T;
                            (T = new Uint8Array(x.length + this.leftOver.length)).set(this.leftOver, 0), T.set(x, this.leftOver.length)
                        } else T = this.leftOver.concat(T);
                        this.leftOver = null
                    }
                    var C = function(E, O) {
                            var D;
                            for ((O = O || E.length) > E.length && (O = E.length), D = O - 1; 0 <= D && (192 & E[D]) == 128;) D--;
                            return D < 0 || D === 0 ? O : D + l[E[D]] > O ? D : O
                        }(T),
                        N = T;
                    C !== T.length && (r.uint8array ? (N = T.subarray(0, C), this.leftOver = T.subarray(C, T.length)) : (N = T.slice(0, C), this.leftOver = T.slice(C, T.length))), this.push({
                        data: i.utf8decode(N),
                        meta: m.meta
                    })
                }, f.prototype.flush = function() {
                    this.leftOver && this.leftOver.length && (this.push({
                        data: i.utf8decode(this.leftOver),
                        meta: {}
                    }), this.leftOver = null)
                }, i.Utf8DecodeWorker = f, n.inherits(d, s), d.prototype.processChunk = function(m) {
                    this.push({
                        data: i.utf8encode(m.data),
                        meta: m.meta
                    })
                }, i.Utf8EncodeWorker = d
            }, {
                "./nodejsUtils": 14,
                "./stream/GenericWorker": 28,
                "./support": 30,
                "./utils": 32
            }],
            32: [function(e, t, i) {
                "use strict";
                var n = e("./support"),
                    r = e("./base64"),
                    a = e("./nodejsUtils"),
                    s = e("./external");

                function l(x) {
                    return x
                }

                function u(x, C) {
                    for (var N = 0; N < x.length; ++N) C[N] = 255 & x.charCodeAt(N);
                    return C
                }
                e("setimmediate"), i.newBlob = function(x, C) {
                    i.checkSupport("blob");
                    try {
                        return new Blob([x], {
                            type: C
                        })
                    } catch {
                        try {
                            var N = new(self.BlobBuilder || self.WebKitBlobBuilder || self.MozBlobBuilder || self.MSBlobBuilder);
                            return N.append(x), N.getBlob(C)
                        } catch {
                            throw new Error("Bug : can't construct the Blob.")
                        }
                    }
                };
                var f = {
                    stringifyByChunk: function(x, C, N) {
                        var E = [],
                            O = 0,
                            D = x.length;
                        if (D <= N) return String.fromCharCode.apply(null, x);
                        for (; O < D;) C === "array" || C === "nodebuffer" ? E.push(String.fromCharCode.apply(null, x.slice(O, Math.min(O + N, D)))) : E.push(String.fromCharCode.apply(null, x.subarray(O, Math.min(O + N, D)))), O += N;
                        return E.join("")
                    },
                    stringifyByChar: function(x) {
                        for (var C = "", N = 0; N < x.length; N++) C += String.fromCharCode(x[N]);
                        return C
                    },
                    applyCanBeUsed: {
                        uint8array: function() {
                            try {
                                return n.uint8array && String.fromCharCode.apply(null, new Uint8Array(1)).length === 1
                            } catch {
                                return !1
                            }
                        }(),
                        nodebuffer: function() {
                            try {
                                return n.nodebuffer && String.fromCharCode.apply(null, a.allocBuffer(1)).length === 1
                            } catch {
                                return !1
                            }
                        }()
                    }
                };

                function d(x) {
                    var C = 65536,
                        N = i.getTypeOf(x),
                        E = !0;
                    if (N === "uint8array" ? E = f.applyCanBeUsed.uint8array : N === "nodebuffer" && (E = f.applyCanBeUsed.nodebuffer), E)
                        for (; 1 < C;) try {
                            return f.stringifyByChunk(x, N, C)
                        } catch {
                            C = Math.floor(C / 2)
                        }
                    return f.stringifyByChar(x)
                }

                function m(x, C) {
                    for (var N = 0; N < x.length; N++) C[N] = x[N];
                    return C
                }
                i.applyFromCharCode = d;
                var T = {};
                T.string = {
                    string: l,
                    array: function(x) {
                        return u(x, new Array(x.length))
                    },
                    arraybuffer: function(x) {
                        return T.string.uint8array(x).buffer
                    },
                    uint8array: function(x) {
                        return u(x, new Uint8Array(x.length))
                    },
                    nodebuffer: function(x) {
                        return u(x, a.allocBuffer(x.length))
                    }
                }, T.array = {
                    string: d,
                    array: l,
                    arraybuffer: function(x) {
                        return new Uint8Array(x).buffer
                    },
                    uint8array: function(x) {
                        return new Uint8Array(x)
                    },
                    nodebuffer: function(x) {
                        return a.newBufferFrom(x)
                    }
                }, T.arraybuffer = {
                    string: function(x) {
                        return d(new Uint8Array(x))
                    },
                    array: function(x) {
                        return m(new Uint8Array(x), new Array(x.byteLength))
                    },
                    arraybuffer: l,
                    uint8array: function(x) {
                        return new Uint8Array(x)
                    },
                    nodebuffer: function(x) {
                        return a.newBufferFrom(new Uint8Array(x))
                    }
                }, T.uint8array = {
                    string: d,
                    array: function(x) {
                        return m(x, new Array(x.length))
                    },
                    arraybuffer: function(x) {
                        return x.buffer
                    },
                    uint8array: l,
                    nodebuffer: function(x) {
                        return a.newBufferFrom(x)
                    }
                }, T.nodebuffer = {
                    string: d,
                    array: function(x) {
                        return m(x, new Array(x.length))
                    },
                    arraybuffer: function(x) {
                        return T.nodebuffer.uint8array(x).buffer
                    },
                    uint8array: function(x) {
                        return m(x, new Uint8Array(x.length))
                    },
                    nodebuffer: l
                }, i.transformTo = function(x, C) {
                    if (C = C || "", !x) return C;
                    i.checkSupport(x);
                    var N = i.getTypeOf(C);
                    return T[N][x](C)
                }, i.resolve = function(x) {
                    for (var C = x.split("/"), N = [], E = 0; E < C.length; E++) {
                        var O = C[E];
                        O === "." || O === "" && E !== 0 && E !== C.length - 1 || (O === ".." ? N.pop() : N.push(O))
                    }
                    return N.join("/")
                }, i.getTypeOf = function(x) {
                    return typeof x == "string" ? "string" : Object.prototype.toString.call(x) === "[object Array]" ? "array" : n.nodebuffer && a.isBuffer(x) ? "nodebuffer" : n.uint8array && x instanceof Uint8Array ? "uint8array" : n.arraybuffer && x instanceof ArrayBuffer ? "arraybuffer" : void 0
                }, i.checkSupport = function(x) {
                    if (!n[x.toLowerCase()]) throw new Error(x + " is not supported by this platform")
                }, i.MAX_VALUE_16BITS = 65535, i.MAX_VALUE_32BITS = -1, i.pretty = function(x) {
                    var C, N, E = "";
                    for (N = 0; N < (x || "").length; N++) E += "\\x" + ((C = x.charCodeAt(N)) < 16 ? "0" : "") + C.toString(16).toUpperCase();
                    return E
                }, i.delay = function(x, C, N) {
                    setImmediate(function() {
                        x.apply(N || null, C || [])
                    })
                }, i.inherits = function(x, C) {
                    function N() {}
                    N.prototype = C.prototype, x.prototype = new N
                }, i.extend = function() {
                    var x, C, N = {};
                    for (x = 0; x < arguments.length; x++)
                        for (C in arguments[x]) Object.prototype.hasOwnProperty.call(arguments[x], C) && N[C] === void 0 && (N[C] = arguments[x][C]);
                    return N
                }, i.prepareContent = function(x, C, N, E, O) {
                    return s.Promise.resolve(C).then(function(D) {
                        return n.blob && (D instanceof Blob || ["[object File]", "[object Blob]"].indexOf(Object.prototype.toString.call(D)) !== -1) && typeof FileReader < "u" ? new s.Promise(function(I, H) {
                            var y = new FileReader;
                            y.onload = function(w) {
                                I(w.target.result)
                            }, y.onerror = function(w) {
                                H(w.target.error)
                            }, y.readAsArrayBuffer(D)
                        }) : D
                    }).then(function(D) {
                        var I = i.getTypeOf(D);
                        return I ? (I === "arraybuffer" ? D = i.transformTo("uint8array", D) : I === "string" && (O ? D = r.decode(D) : N && E !== !0 && (D = function(H) {
                            return u(H, n.uint8array ? new Uint8Array(H.length) : new Array(H.length))
                        }(D))), D) : s.Promise.reject(new Error("Can't read the data of '" + x + "'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))
                    })
                }
            }, {
                "./base64": 1,
                "./external": 6,
                "./nodejsUtils": 14,
                "./support": 30,
                setimmediate: 54
            }],
            33: [function(e, t, i) {
                "use strict";
                var n = e("./reader/readerFor"),
                    r = e("./utils"),
                    a = e("./signature"),
                    s = e("./zipEntry"),
                    l = e("./support");

                function u(f) {
                    this.files = [], this.loadOptions = f
                }
                u.prototype = {
                    checkSignature: function(f) {
                        if (!this.reader.readAndCheckSignature(f)) {
                            this.reader.index -= 4;
                            var d = this.reader.readString(4);
                            throw new Error("Corrupted zip or bug: unexpected signature (" + r.pretty(d) + ", expected " + r.pretty(f) + ")")
                        }
                    },
                    isSignature: function(f, d) {
                        var m = this.reader.index;
                        this.reader.setIndex(f);
                        var T = this.reader.readString(4) === d;
                        return this.reader.setIndex(m), T
                    },
                    readBlockEndOfCentral: function() {
                        this.diskNumber = this.reader.readInt(2), this.diskWithCentralDirStart = this.reader.readInt(2), this.centralDirRecordsOnThisDisk = this.reader.readInt(2), this.centralDirRecords = this.reader.readInt(2), this.centralDirSize = this.reader.readInt(4), this.centralDirOffset = this.reader.readInt(4), this.zipCommentLength = this.reader.readInt(2);
                        var f = this.reader.readData(this.zipCommentLength),
                            d = l.uint8array ? "uint8array" : "array",
                            m = r.transformTo(d, f);
                        this.zipComment = this.loadOptions.decodeFileName(m)
                    },
                    readBlockZip64EndOfCentral: function() {
                        this.zip64EndOfCentralSize = this.reader.readInt(8), this.reader.skip(4), this.diskNumber = this.reader.readInt(4), this.diskWithCentralDirStart = this.reader.readInt(4), this.centralDirRecordsOnThisDisk = this.reader.readInt(8), this.centralDirRecords = this.reader.readInt(8), this.centralDirSize = this.reader.readInt(8), this.centralDirOffset = this.reader.readInt(8), this.zip64ExtensibleData = {};
                        for (var f, d, m, T = this.zip64EndOfCentralSize - 44; 0 < T;) f = this.reader.readInt(2), d = this.reader.readInt(4), m = this.reader.readData(d), this.zip64ExtensibleData[f] = {
                            id: f,
                            length: d,
                            value: m
                        }
                    },
                    readBlockZip64EndOfCentralLocator: function() {
                        if (this.diskWithZip64CentralDirStart = this.reader.readInt(4), this.relativeOffsetEndOfZip64CentralDir = this.reader.readInt(8), this.disksCount = this.reader.readInt(4), 1 < this.disksCount) throw new Error("Multi-volumes zip are not supported")
                    },
                    readLocalFiles: function() {
                        var f, d;
                        for (f = 0; f < this.files.length; f++) d = this.files[f], this.reader.setIndex(d.localHeaderOffset), this.checkSignature(a.LOCAL_FILE_HEADER), d.readLocalPart(this.reader), d.handleUTF8(), d.processAttributes()
                    },
                    readCentralDir: function() {
                        var f;
                        for (this.reader.setIndex(this.centralDirOffset); this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(f = new s({
                            zip64: this.zip64
                        }, this.loadOptions)).readCentralPart(this.reader), this.files.push(f);
                        if (this.centralDirRecords !== this.files.length && this.centralDirRecords !== 0 && this.files.length === 0) throw new Error("Corrupted zip or bug: expected " + this.centralDirRecords + " records in central dir, got " + this.files.length)
                    },
                    readEndOfCentral: function() {
                        var f = this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);
                        if (f < 0) throw this.isSignature(0, a.LOCAL_FILE_HEADER) ? new Error("Corrupted zip: can't find end of central directory") : new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");
                        this.reader.setIndex(f);
                        var d = f;
                        if (this.checkSignature(a.CENTRAL_DIRECTORY_END), this.readBlockEndOfCentral(), this.diskNumber === r.MAX_VALUE_16BITS || this.diskWithCentralDirStart === r.MAX_VALUE_16BITS || this.centralDirRecordsOnThisDisk === r.MAX_VALUE_16BITS || this.centralDirRecords === r.MAX_VALUE_16BITS || this.centralDirSize === r.MAX_VALUE_32BITS || this.centralDirOffset === r.MAX_VALUE_32BITS) {
                            if (this.zip64 = !0, (f = this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR)) < 0) throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");
                            if (this.reader.setIndex(f), this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR), this.readBlockZip64EndOfCentralLocator(), !this.isSignature(this.relativeOffsetEndOfZip64CentralDir, a.ZIP64_CENTRAL_DIRECTORY_END) && (this.relativeOffsetEndOfZip64CentralDir = this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END), this.relativeOffsetEndOfZip64CentralDir < 0)) throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");
                            this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir), this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END), this.readBlockZip64EndOfCentral()
                        }
                        var m = this.centralDirOffset + this.centralDirSize;
                        this.zip64 && (m += 20, m += 12 + this.zip64EndOfCentralSize);
                        var T = d - m;
                        if (0 < T) this.isSignature(d, a.CENTRAL_FILE_HEADER) || (this.reader.zero = T);
                        else if (T < 0) throw new Error("Corrupted zip: missing " + Math.abs(T) + " bytes.")
                    },
                    prepareReader: function(f) {
                        this.reader = n(f)
                    },
                    load: function(f) {
                        this.prepareReader(f), this.readEndOfCentral(), this.readCentralDir(), this.readLocalFiles()
                    }
                }, t.exports = u
            }, {
                "./reader/readerFor": 22,
                "./signature": 23,
                "./support": 30,
                "./utils": 32,
                "./zipEntry": 34
            }],
            34: [function(e, t, i) {
                "use strict";
                var n = e("./reader/readerFor"),
                    r = e("./utils"),
                    a = e("./compressedObject"),
                    s = e("./crc32"),
                    l = e("./utf8"),
                    u = e("./compressions"),
                    f = e("./support");

                function d(m, T) {
                    this.options = m, this.loadOptions = T
                }
                d.prototype = {
                    isEncrypted: function() {
                        return (1 & this.bitFlag) == 1
                    },
                    useUTF8: function() {
                        return (2048 & this.bitFlag) == 2048
                    },
                    readLocalPart: function(m) {
                        var T, x;
                        if (m.skip(22), this.fileNameLength = m.readInt(2), x = m.readInt(2), this.fileName = m.readData(this.fileNameLength), m.skip(x), this.compressedSize === -1 || this.uncompressedSize === -1) throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");
                        if ((T = function(C) {
                                for (var N in u)
                                    if (Object.prototype.hasOwnProperty.call(u, N) && u[N].magic === C) return u[N];
                                return null
                            }(this.compressionMethod)) === null) throw new Error("Corrupted zip : compression " + r.pretty(this.compressionMethod) + " unknown (inner file : " + r.transformTo("string", this.fileName) + ")");
                        this.decompressed = new a(this.compressedSize, this.uncompressedSize, this.crc32, T, m.readData(this.compressedSize))
                    },
                    readCentralPart: function(m) {
                        this.versionMadeBy = m.readInt(2), m.skip(2), this.bitFlag = m.readInt(2), this.compressionMethod = m.readString(2), this.date = m.readDate(), this.crc32 = m.readInt(4), this.compressedSize = m.readInt(4), this.uncompressedSize = m.readInt(4);
                        var T = m.readInt(2);
                        if (this.extraFieldsLength = m.readInt(2), this.fileCommentLength = m.readInt(2), this.diskNumberStart = m.readInt(2), this.internalFileAttributes = m.readInt(2), this.externalFileAttributes = m.readInt(4), this.localHeaderOffset = m.readInt(4), this.isEncrypted()) throw new Error("Encrypted zip are not supported");
                        m.skip(T), this.readExtraFields(m), this.parseZIP64ExtraField(m), this.fileComment = m.readData(this.fileCommentLength)
                    },
                    processAttributes: function() {
                        this.unixPermissions = null, this.dosPermissions = null;
                        var m = this.versionMadeBy >> 8;
                        this.dir = !!(16 & this.externalFileAttributes), m == 0 && (this.dosPermissions = 63 & this.externalFileAttributes), m == 3 && (this.unixPermissions = this.externalFileAttributes >> 16 & 65535), this.dir || this.fileNameStr.slice(-1) !== "/" || (this.dir = !0)
                    },
                    parseZIP64ExtraField: function() {
                        if (this.extraFields[1]) {
                            var m = n(this.extraFields[1].value);
                            this.uncompressedSize === r.MAX_VALUE_32BITS && (this.uncompressedSize = m.readInt(8)), this.compressedSize === r.MAX_VALUE_32BITS && (this.compressedSize = m.readInt(8)), this.localHeaderOffset === r.MAX_VALUE_32BITS && (this.localHeaderOffset = m.readInt(8)), this.diskNumberStart === r.MAX_VALUE_32BITS && (this.diskNumberStart = m.readInt(4))
                        }
                    },
                    readExtraFields: function(m) {
                        var T, x, C, N = m.index + this.extraFieldsLength;
                        for (this.extraFields || (this.extraFields = {}); m.index + 4 < N;) T = m.readInt(2), x = m.readInt(2), C = m.readData(x), this.extraFields[T] = {
                            id: T,
                            length: x,
                            value: C
                        };
                        m.setIndex(N)
                    },
                    handleUTF8: function() {
                        var m = f.uint8array ? "uint8array" : "array";
                        if (this.useUTF8()) this.fileNameStr = l.utf8decode(this.fileName), this.fileCommentStr = l.utf8decode(this.fileComment);
                        else {
                            var T = this.findExtraFieldUnicodePath();
                            if (T !== null) this.fileNameStr = T;
                            else {
                                var x = r.transformTo(m, this.fileName);
                                this.fileNameStr = this.loadOptions.decodeFileName(x)
                            }
                            var C = this.findExtraFieldUnicodeComment();
                            if (C !== null) this.fileCommentStr = C;
                            else {
                                var N = r.transformTo(m, this.fileComment);
                                this.fileCommentStr = this.loadOptions.decodeFileName(N)
                            }
                        }
                    },
                    findExtraFieldUnicodePath: function() {
                        var m = this.extraFields[28789];
                        if (m) {
                            var T = n(m.value);
                            return T.readInt(1) !== 1 || s(this.fileName) !== T.readInt(4) ? null : l.utf8decode(T.readData(m.length - 5))
                        }
                        return null
                    },
                    findExtraFieldUnicodeComment: function() {
                        var m = this.extraFields[25461];
                        if (m) {
                            var T = n(m.value);
                            return T.readInt(1) !== 1 || s(this.fileComment) !== T.readInt(4) ? null : l.utf8decode(T.readData(m.length - 5))
                        }
                        return null
                    }
                }, t.exports = d
            }, {
                "./compressedObject": 2,
                "./compressions": 3,
                "./crc32": 4,
                "./reader/readerFor": 22,
                "./support": 30,
                "./utf8": 31,
                "./utils": 32
            }],
            35: [function(e, t, i) {
                "use strict";

                function n(T, x, C) {
                    this.name = T, this.dir = C.dir, this.date = C.date, this.comment = C.comment, this.unixPermissions = C.unixPermissions, this.dosPermissions = C.dosPermissions, this._data = x, this._dataBinary = C.binary, this.options = {
                        compression: C.compression,
                        compressionOptions: C.compressionOptions
                    }
                }
                var r = e("./stream/StreamHelper"),
                    a = e("./stream/DataWorker"),
                    s = e("./utf8"),
                    l = e("./compressedObject"),
                    u = e("./stream/GenericWorker");
                n.prototype = {
                    internalStream: function(T) {
                        var x = null,
                            C = "string";
                        try {
                            if (!T) throw new Error("No output type specified.");
                            var N = (C = T.toLowerCase()) === "string" || C === "text";
                            C !== "binarystring" && C !== "text" || (C = "string"), x = this._decompressWorker();
                            var E = !this._dataBinary;
                            E && !N && (x = x.pipe(new s.Utf8EncodeWorker)), !E && N && (x = x.pipe(new s.Utf8DecodeWorker))
                        } catch (O) {
                            (x = new u("error")).error(O)
                        }
                        return new r(x, C, "")
                    },
                    async: function(T, x) {
                        return this.internalStream(T).accumulate(x)
                    },
                    nodeStream: function(T, x) {
                        return this.internalStream(T || "nodebuffer").toNodejsStream(x)
                    },
                    _compressWorker: function(T, x) {
                        if (this._data instanceof l && this._data.compression.magic === T.magic) return this._data.getCompressedWorker();
                        var C = this._decompressWorker();
                        return this._dataBinary || (C = C.pipe(new s.Utf8EncodeWorker)), l.createWorkerFrom(C, T, x)
                    },
                    _decompressWorker: function() {
                        return this._data instanceof l ? this._data.getContentWorker() : this._data instanceof u ? this._data : new a(this._data)
                    }
                };
                for (var f = ["asText", "asBinary", "asNodeBuffer", "asUint8Array", "asArrayBuffer"], d = function() {
                        throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")
                    }, m = 0; m < f.length; m++) n.prototype[f[m]] = d;
                t.exports = n
            }, {
                "./compressedObject": 2,
                "./stream/DataWorker": 27,
                "./stream/GenericWorker": 28,
                "./stream/StreamHelper": 29,
                "./utf8": 31
            }],
            36: [function(e, t, i) {
                (function(n) {
                    "use strict";
                    var r, a, s = n.MutationObserver || n.WebKitMutationObserver;
                    if (s) {
                        var l = 0,
                            u = new s(T),
                            f = n.document.createTextNode("");
                        u.observe(f, {
                            characterData: !0
                        }), r = function() {
                            f.data = l = ++l % 2
                        }
                    } else if (n.setImmediate || n.MessageChannel === void 0) r = "document" in n && "onreadystatechange" in n.document.createElement("script") ? function() {
                        var x = n.document.createElement("script");
                        x.onreadystatechange = function() {
                            T(), x.onreadystatechange = null, x.parentNode.removeChild(x), x = null
                        }, n.document.documentElement.appendChild(x)
                    } : function() {
                        setTimeout(T, 0)
                    };
                    else {
                        var d = new n.MessageChannel;
                        d.port1.onmessage = T, r = function() {
                            d.port2.postMessage(0)
                        }
                    }
                    var m = [];

                    function T() {
                        var x, C;
                        a = !0;
                        for (var N = m.length; N;) {
                            for (C = m, m = [], x = -1; ++x < N;) C[x]();
                            N = m.length
                        }
                        a = !1
                    }
                    t.exports = function(x) {
                        m.push(x) !== 1 || a || r()
                    }
                }).call(this, typeof global < "u" ? global : typeof self < "u" ? self : typeof window < "u" ? window : {})
            }, {}],
            37: [function(e, t, i) {
                "use strict";
                var n = e("immediate");

                function r() {}
                var a = {},
                    s = ["REJECTED"],
                    l = ["FULFILLED"],
                    u = ["PENDING"];

                function f(N) {
                    if (typeof N != "function") throw new TypeError("resolver must be a function");
                    this.state = u, this.queue = [], this.outcome = void 0, N !== r && x(this, N)
                }

                function d(N, E, O) {
                    this.promise = N, typeof E == "function" && (this.onFulfilled = E, this.callFulfilled = this.otherCallFulfilled), typeof O == "function" && (this.onRejected = O, this.callRejected = this.otherCallRejected)
                }

                function m(N, E, O) {
                    n(function() {
                        var D;
                        try {
                            D = E(O)
                        } catch (I) {
                            return a.reject(N, I)
                        }
                        D === N ? a.reject(N, new TypeError("Cannot resolve promise with itself")) : a.resolve(N, D)
                    })
                }

                function T(N) {
                    var E = N && N.then;
                    if (N && (typeof N == "object" || typeof N == "function") && typeof E == "function") return function() {
                        E.apply(N, arguments)
                    }
                }

                function x(N, E) {
                    var O = !1;

                    function D(y) {
                        O || (O = !0, a.reject(N, y))
                    }

                    function I(y) {
                        O || (O = !0, a.resolve(N, y))
                    }
                    var H = C(function() {
                        E(I, D)
                    });
                    H.status === "error" && D(H.value)
                }

                function C(N, E) {
                    var O = {};
                    try {
                        O.value = N(E), O.status = "success"
                    } catch (D) {
                        O.status = "error", O.value = D
                    }
                    return O
                }(t.exports = f).prototype.finally = function(N) {
                    if (typeof N != "function") return this;
                    var E = this.constructor;
                    return this.then(function(O) {
                        return E.resolve(N()).then(function() {
                            return O
                        })
                    }, function(O) {
                        return E.resolve(N()).then(function() {
                            throw O
                        })
                    })
                }, f.prototype.catch = function(N) {
                    return this.then(null, N)
                }, f.prototype.then = function(N, E) {
                    if (typeof N != "function" && this.state === l || typeof E != "function" && this.state === s) return this;
                    var O = new this.constructor(r);
                    return this.state !== u ? m(O, this.state === l ? N : E, this.outcome) : this.queue.push(new d(O, N, E)), O
                }, d.prototype.callFulfilled = function(N) {
                    a.resolve(this.promise, N)
                }, d.prototype.otherCallFulfilled = function(N) {
                    m(this.promise, this.onFulfilled, N)
                }, d.prototype.callRejected = function(N) {
                    a.reject(this.promise, N)
                }, d.prototype.otherCallRejected = function(N) {
                    m(this.promise, this.onRejected, N)
                }, a.resolve = function(N, E) {
                    var O = C(T, E);
                    if (O.status === "error") return a.reject(N, O.value);
                    var D = O.value;
                    if (D) x(N, D);
                    else {
                        N.state = l, N.outcome = E;
                        for (var I = -1, H = N.queue.length; ++I < H;) N.queue[I].callFulfilled(E)
                    }
                    return N
                }, a.reject = function(N, E) {
                    N.state = s, N.outcome = E;
                    for (var O = -1, D = N.queue.length; ++O < D;) N.queue[O].callRejected(E);
                    return N
                }, f.resolve = function(N) {
                    return N instanceof this ? N : a.resolve(new this(r), N)
                }, f.reject = function(N) {
                    var E = new this(r);
                    return a.reject(E, N)
                }, f.all = function(N) {
                    var E = this;
                    if (Object.prototype.toString.call(N) !== "[object Array]") return this.reject(new TypeError("must be an array"));
                    var O = N.length,
                        D = !1;
                    if (!O) return this.resolve([]);
                    for (var I = new Array(O), H = 0, y = -1, w = new this(r); ++y < O;) X(N[y], y);
                    return w;

                    function X(oe, me) {
                        E.resolve(oe).then(function(V) {
                            I[me] = V, ++H !== O || D || (D = !0, a.resolve(w, I))
                        }, function(V) {
                            D || (D = !0, a.reject(w, V))
                        })
                    }
                }, f.race = function(N) {
                    var E = this;
                    if (Object.prototype.toString.call(N) !== "[object Array]") return this.reject(new TypeError("must be an array"));
                    var O = N.length,
                        D = !1;
                    if (!O) return this.resolve([]);
                    for (var I = -1, H = new this(r); ++I < O;) y = N[I], E.resolve(y).then(function(w) {
                        D || (D = !0, a.resolve(H, w))
                    }, function(w) {
                        D || (D = !0, a.reject(H, w))
                    });
                    var y;
                    return H
                }
            }, {
                immediate: 36
            }],
            38: [function(e, t, i) {
                "use strict";
                var n = {};
                (0, e("./lib/utils/common").assign)(n, e("./lib/deflate"), e("./lib/inflate"), e("./lib/zlib/constants")), t.exports = n
            }, {
                "./lib/deflate": 39,
                "./lib/inflate": 40,
                "./lib/utils/common": 41,
                "./lib/zlib/constants": 44
            }],
            39: [function(e, t, i) {
                "use strict";
                var n = e("./zlib/deflate"),
                    r = e("./utils/common"),
                    a = e("./utils/strings"),
                    s = e("./zlib/messages"),
                    l = e("./zlib/zstream"),
                    u = Object.prototype.toString,
                    f = 0,
                    d = -1,
                    m = 0,
                    T = 8;

                function x(N) {
                    if (!(this instanceof x)) return new x(N);
                    this.options = r.assign({
                        level: d,
                        method: T,
                        chunkSize: 16384,
                        windowBits: 15,
                        memLevel: 8,
                        strategy: m,
                        to: ""
                    }, N || {});
                    var E = this.options;
                    E.raw && 0 < E.windowBits ? E.windowBits = -E.windowBits : E.gzip && 0 < E.windowBits && E.windowBits < 16 && (E.windowBits += 16), this.err = 0, this.msg = "", this.ended = !1, this.chunks = [], this.strm = new l, this.strm.avail_out = 0;
                    var O = n.deflateInit2(this.strm, E.level, E.method, E.windowBits, E.memLevel, E.strategy);
                    if (O !== f) throw new Error(s[O]);
                    if (E.header && n.deflateSetHeader(this.strm, E.header), E.dictionary) {
                        var D;
                        if (D = typeof E.dictionary == "string" ? a.string2buf(E.dictionary) : u.call(E.dictionary) === "[object ArrayBuffer]" ? new Uint8Array(E.dictionary) : E.dictionary, (O = n.deflateSetDictionary(this.strm, D)) !== f) throw new Error(s[O]);
                        this._dict_set = !0
                    }
                }

                function C(N, E) {
                    var O = new x(E);
                    if (O.push(N, !0), O.err) throw O.msg || s[O.err];
                    return O.result
                }
                x.prototype.push = function(N, E) {
                    var O, D, I = this.strm,
                        H = this.options.chunkSize;
                    if (this.ended) return !1;
                    D = E === ~~E ? E : E === !0 ? 4 : 0, typeof N == "string" ? I.input = a.string2buf(N) : u.call(N) === "[object ArrayBuffer]" ? I.input = new Uint8Array(N) : I.input = N, I.next_in = 0, I.avail_in = I.input.length;
                    do {
                        if (I.avail_out === 0 && (I.output = new r.Buf8(H), I.next_out = 0, I.avail_out = H), (O = n.deflate(I, D)) !== 1 && O !== f) return this.onEnd(O), !(this.ended = !0);
                        I.avail_out !== 0 && (I.avail_in !== 0 || D !== 4 && D !== 2) || (this.options.to === "string" ? this.onData(a.buf2binstring(r.shrinkBuf(I.output, I.next_out))) : this.onData(r.shrinkBuf(I.output, I.next_out)))
                    } while ((0 < I.avail_in || I.avail_out === 0) && O !== 1);
                    return D === 4 ? (O = n.deflateEnd(this.strm), this.onEnd(O), this.ended = !0, O === f) : D !== 2 || (this.onEnd(f), !(I.avail_out = 0))
                }, x.prototype.onData = function(N) {
                    this.chunks.push(N)
                }, x.prototype.onEnd = function(N) {
                    N === f && (this.options.to === "string" ? this.result = this.chunks.join("") : this.result = r.flattenChunks(this.chunks)), this.chunks = [], this.err = N, this.msg = this.strm.msg
                }, i.Deflate = x, i.deflate = C, i.deflateRaw = function(N, E) {
                    return (E = E || {}).raw = !0, C(N, E)
                }, i.gzip = function(N, E) {
                    return (E = E || {}).gzip = !0, C(N, E)
                }
            }, {
                "./utils/common": 41,
                "./utils/strings": 42,
                "./zlib/deflate": 46,
                "./zlib/messages": 51,
                "./zlib/zstream": 53
            }],
            40: [function(e, t, i) {
                "use strict";
                var n = e("./zlib/inflate"),
                    r = e("./utils/common"),
                    a = e("./utils/strings"),
                    s = e("./zlib/constants"),
                    l = e("./zlib/messages"),
                    u = e("./zlib/zstream"),
                    f = e("./zlib/gzheader"),
                    d = Object.prototype.toString;

                function m(x) {
                    if (!(this instanceof m)) return new m(x);
                    this.options = r.assign({
                        chunkSize: 16384,
                        windowBits: 0,
                        to: ""
                    }, x || {});
                    var C = this.options;
                    C.raw && 0 <= C.windowBits && C.windowBits < 16 && (C.windowBits = -C.windowBits, C.windowBits === 0 && (C.windowBits = -15)), !(0 <= C.windowBits && C.windowBits < 16) || x && x.windowBits || (C.windowBits += 32), 15 < C.windowBits && C.windowBits < 48 && !(15 & C.windowBits) && (C.windowBits |= 15), this.err = 0, this.msg = "", this.ended = !1, this.chunks = [], this.strm = new u, this.strm.avail_out = 0;
                    var N = n.inflateInit2(this.strm, C.windowBits);
                    if (N !== s.Z_OK) throw new Error(l[N]);
                    this.header = new f, n.inflateGetHeader(this.strm, this.header)
                }

                function T(x, C) {
                    var N = new m(C);
                    if (N.push(x, !0), N.err) throw N.msg || l[N.err];
                    return N.result
                }
                m.prototype.push = function(x, C) {
                    var N, E, O, D, I, H, y = this.strm,
                        w = this.options.chunkSize,
                        X = this.options.dictionary,
                        oe = !1;
                    if (this.ended) return !1;
                    E = C === ~~C ? C : C === !0 ? s.Z_FINISH : s.Z_NO_FLUSH, typeof x == "string" ? y.input = a.binstring2buf(x) : d.call(x) === "[object ArrayBuffer]" ? y.input = new Uint8Array(x) : y.input = x, y.next_in = 0, y.avail_in = y.input.length;
                    do {
                        if (y.avail_out === 0 && (y.output = new r.Buf8(w), y.next_out = 0, y.avail_out = w), (N = n.inflate(y, s.Z_NO_FLUSH)) === s.Z_NEED_DICT && X && (H = typeof X == "string" ? a.string2buf(X) : d.call(X) === "[object ArrayBuffer]" ? new Uint8Array(X) : X, N = n.inflateSetDictionary(this.strm, H)), N === s.Z_BUF_ERROR && oe === !0 && (N = s.Z_OK, oe = !1), N !== s.Z_STREAM_END && N !== s.Z_OK) return this.onEnd(N), !(this.ended = !0);
                        y.next_out && (y.avail_out !== 0 && N !== s.Z_STREAM_END && (y.avail_in !== 0 || E !== s.Z_FINISH && E !== s.Z_SYNC_FLUSH) || (this.options.to === "string" ? (O = a.utf8border(y.output, y.next_out), D = y.next_out - O, I = a.buf2string(y.output, O), y.next_out = D, y.avail_out = w - D, D && r.arraySet(y.output, y.output, O, D, 0), this.onData(I)) : this.onData(r.shrinkBuf(y.output, y.next_out)))), y.avail_in === 0 && y.avail_out === 0 && (oe = !0)
                    } while ((0 < y.avail_in || y.avail_out === 0) && N !== s.Z_STREAM_END);
                    return N === s.Z_STREAM_END && (E = s.Z_FINISH), E === s.Z_FINISH ? (N = n.inflateEnd(this.strm), this.onEnd(N), this.ended = !0, N === s.Z_OK) : E !== s.Z_SYNC_FLUSH || (this.onEnd(s.Z_OK), !(y.avail_out = 0))
                }, m.prototype.onData = function(x) {
                    this.chunks.push(x)
                }, m.prototype.onEnd = function(x) {
                    x === s.Z_OK && (this.options.to === "string" ? this.result = this.chunks.join("") : this.result = r.flattenChunks(this.chunks)), this.chunks = [], this.err = x, this.msg = this.strm.msg
                }, i.Inflate = m, i.inflate = T, i.inflateRaw = function(x, C) {
                    return (C = C || {}).raw = !0, T(x, C)
                }, i.ungzip = T
            }, {
                "./utils/common": 41,
                "./utils/strings": 42,
                "./zlib/constants": 44,
                "./zlib/gzheader": 47,
                "./zlib/inflate": 49,
                "./zlib/messages": 51,
                "./zlib/zstream": 53
            }],
            41: [function(e, t, i) {
                "use strict";
                var n = typeof Uint8Array < "u" && typeof Uint16Array < "u" && typeof Int32Array < "u";
                i.assign = function(s) {
                    for (var l = Array.prototype.slice.call(arguments, 1); l.length;) {
                        var u = l.shift();
                        if (u) {
                            if (typeof u != "object") throw new TypeError(u + "must be non-object");
                            for (var f in u) u.hasOwnProperty(f) && (s[f] = u[f])
                        }
                    }
                    return s
                }, i.shrinkBuf = function(s, l) {
                    return s.length === l ? s : s.subarray ? s.subarray(0, l) : (s.length = l, s)
                };
                var r = {
                        arraySet: function(s, l, u, f, d) {
                            if (l.subarray && s.subarray) s.set(l.subarray(u, u + f), d);
                            else
                                for (var m = 0; m < f; m++) s[d + m] = l[u + m]
                        },
                        flattenChunks: function(s) {
                            var l, u, f, d, m, T;
                            for (l = f = 0, u = s.length; l < u; l++) f += s[l].length;
                            for (T = new Uint8Array(f), l = d = 0, u = s.length; l < u; l++) m = s[l], T.set(m, d), d += m.length;
                            return T
                        }
                    },
                    a = {
                        arraySet: function(s, l, u, f, d) {
                            for (var m = 0; m < f; m++) s[d + m] = l[u + m]
                        },
                        flattenChunks: function(s) {
                            return [].concat.apply([], s)
                        }
                    };
                i.setTyped = function(s) {
                    s ? (i.Buf8 = Uint8Array, i.Buf16 = Uint16Array, i.Buf32 = Int32Array, i.assign(i, r)) : (i.Buf8 = Array, i.Buf16 = Array, i.Buf32 = Array, i.assign(i, a))
                }, i.setTyped(n)
            }, {}],
            42: [function(e, t, i) {
                "use strict";
                var n = e("./common"),
                    r = !0,
                    a = !0;
                try {
                    String.fromCharCode.apply(null, [0])
                } catch {
                    r = !1
                }
                try {
                    String.fromCharCode.apply(null, new Uint8Array(1))
                } catch {
                    a = !1
                }
                for (var s = new n.Buf8(256), l = 0; l < 256; l++) s[l] = 252 <= l ? 6 : 248 <= l ? 5 : 240 <= l ? 4 : 224 <= l ? 3 : 192 <= l ? 2 : 1;

                function u(f, d) {
                    if (d < 65537 && (f.subarray && a || !f.subarray && r)) return String.fromCharCode.apply(null, n.shrinkBuf(f, d));
                    for (var m = "", T = 0; T < d; T++) m += String.fromCharCode(f[T]);
                    return m
                }
                s[254] = s[254] = 1, i.string2buf = function(f) {
                    var d, m, T, x, C, N = f.length,
                        E = 0;
                    for (x = 0; x < N; x++)(64512 & (m = f.charCodeAt(x))) == 55296 && x + 1 < N && (64512 & (T = f.charCodeAt(x + 1))) == 56320 && (m = 65536 + (m - 55296 << 10) + (T - 56320), x++), E += m < 128 ? 1 : m < 2048 ? 2 : m < 65536 ? 3 : 4;
                    for (d = new n.Buf8(E), x = C = 0; C < E; x++)(64512 & (m = f.charCodeAt(x))) == 55296 && x + 1 < N && (64512 & (T = f.charCodeAt(x + 1))) == 56320 && (m = 65536 + (m - 55296 << 10) + (T - 56320), x++), m < 128 ? d[C++] = m : (m < 2048 ? d[C++] = 192 | m >>> 6 : (m < 65536 ? d[C++] = 224 | m >>> 12 : (d[C++] = 240 | m >>> 18, d[C++] = 128 | m >>> 12 & 63), d[C++] = 128 | m >>> 6 & 63), d[C++] = 128 | 63 & m);
                    return d
                }, i.buf2binstring = function(f) {
                    return u(f, f.length)
                }, i.binstring2buf = function(f) {
                    for (var d = new n.Buf8(f.length), m = 0, T = d.length; m < T; m++) d[m] = f.charCodeAt(m);
                    return d
                }, i.buf2string = function(f, d) {
                    var m, T, x, C, N = d || f.length,
                        E = new Array(2 * N);
                    for (m = T = 0; m < N;)
                        if ((x = f[m++]) < 128) E[T++] = x;
                        else if (4 < (C = s[x])) E[T++] = 65533, m += C - 1;
                    else {
                        for (x &= C === 2 ? 31 : C === 3 ? 15 : 7; 1 < C && m < N;) x = x << 6 | 63 & f[m++], C--;
                        1 < C ? E[T++] = 65533 : x < 65536 ? E[T++] = x : (x -= 65536, E[T++] = 55296 | x >> 10 & 1023, E[T++] = 56320 | 1023 & x)
                    }
                    return u(E, T)
                }, i.utf8border = function(f, d) {
                    var m;
                    for ((d = d || f.length) > f.length && (d = f.length), m = d - 1; 0 <= m && (192 & f[m]) == 128;) m--;
                    return m < 0 || m === 0 ? d : m + s[f[m]] > d ? m : d
                }
            }, {
                "./common": 41
            }],
            43: [function(e, t, i) {
                "use strict";
                t.exports = function(n, r, a, s) {
                    for (var l = 65535 & n | 0, u = n >>> 16 & 65535 | 0, f = 0; a !== 0;) {
                        for (a -= f = 2e3 < a ? 2e3 : a; u = u + (l = l + r[s++] | 0) | 0, --f;);
                        l %= 65521, u %= 65521
                    }
                    return l | u << 16 | 0
                }
            }, {}],
            44: [function(e, t, i) {
                "use strict";
                t.exports = {
                    Z_NO_FLUSH: 0,
                    Z_PARTIAL_FLUSH: 1,
                    Z_SYNC_FLUSH: 2,
                    Z_FULL_FLUSH: 3,
                    Z_FINISH: 4,
                    Z_BLOCK: 5,
                    Z_TREES: 6,
                    Z_OK: 0,
                    Z_STREAM_END: 1,
                    Z_NEED_DICT: 2,
                    Z_ERRNO: -1,
                    Z_STREAM_ERROR: -2,
                    Z_DATA_ERROR: -3,
                    Z_BUF_ERROR: -5,
                    Z_NO_COMPRESSION: 0,
                    Z_BEST_SPEED: 1,
                    Z_BEST_COMPRESSION: 9,
                    Z_DEFAULT_COMPRESSION: -1,
                    Z_FILTERED: 1,
                    Z_HUFFMAN_ONLY: 2,
                    Z_RLE: 3,
                    Z_FIXED: 4,
                    Z_DEFAULT_STRATEGY: 0,
                    Z_BINARY: 0,
                    Z_TEXT: 1,
                    Z_UNKNOWN: 2,
                    Z_DEFLATED: 8
                }
            }, {}],
            45: [function(e, t, i) {
                "use strict";
                var n = function() {
                    for (var r, a = [], s = 0; s < 256; s++) {
                        r = s;
                        for (var l = 0; l < 8; l++) r = 1 & r ? 3988292384 ^ r >>> 1 : r >>> 1;
                        a[s] = r
                    }
                    return a
                }();
                t.exports = function(r, a, s, l) {
                    var u = n,
                        f = l + s;
                    r ^= -1;
                    for (var d = l; d < f; d++) r = r >>> 8 ^ u[255 & (r ^ a[d])];
                    return -1 ^ r
                }
            }, {}],
            46: [function(e, t, i) {
                "use strict";
                var n, r = e("../utils/common"),
                    a = e("./trees"),
                    s = e("./adler32"),
                    l = e("./crc32"),
                    u = e("./messages"),
                    f = 0,
                    d = 4,
                    m = 0,
                    T = -2,
                    x = -1,
                    C = 4,
                    N = 2,
                    E = 8,
                    O = 9,
                    D = 286,
                    I = 30,
                    H = 19,
                    y = 2 * D + 1,
                    w = 15,
                    X = 3,
                    oe = 258,
                    me = oe + X + 1,
                    V = 42,
                    W = 113,
                    P = 1,
                    se = 2,
                    ce = 3,
                    ne = 4;

                function re(F, ke) {
                    return F.msg = u[ke], ke
                }

                function J(F) {
                    return (F << 1) - (4 < F ? 9 : 0)
                }

                function ue(F) {
                    for (var ke = F.length; 0 <= --ke;) F[ke] = 0
                }

                function ie(F) {
                    var ke = F.state,
                        Ce = ke.pending;
                    Ce > F.avail_out && (Ce = F.avail_out), Ce !== 0 && (r.arraySet(F.output, ke.pending_buf, ke.pending_out, Ce, F.next_out), F.next_out += Ce, ke.pending_out += Ce, F.total_out += Ce, F.avail_out -= Ce, ke.pending -= Ce, ke.pending === 0 && (ke.pending_out = 0))
                }

                function te(F, ke) {
                    a._tr_flush_block(F, 0 <= F.block_start ? F.block_start : -1, F.strstart - F.block_start, ke), F.block_start = F.strstart, ie(F.strm)
                }

                function we(F, ke) {
                    F.pending_buf[F.pending++] = ke
                }

                function De(F, ke) {
                    F.pending_buf[F.pending++] = ke >>> 8 & 255, F.pending_buf[F.pending++] = 255 & ke
                }

                function ye(F, ke) {
                    var Ce, ee, ae = F.max_chain_length,
                        be = F.strstart,
                        je = F.prev_length,
                        Ze = F.nice_match,
                        Re = F.strstart > F.w_size - me ? F.strstart - (F.w_size - me) : 0,
                        Je = F.window,
                        dt = F.w_mask,
                        et = F.prev,
                        We = F.strstart + oe,
                        Ft = Je[be + je - 1],
                        ti = Je[be + je];
                    F.prev_length >= F.good_match && (ae >>= 2), Ze > F.lookahead && (Ze = F.lookahead);
                    do
                        if (Je[(Ce = ke) + je] === ti && Je[Ce + je - 1] === Ft && Je[Ce] === Je[be] && Je[++Ce] === Je[be + 1]) {
                            be += 2, Ce++;
                            do; while (Je[++be] === Je[++Ce] && Je[++be] === Je[++Ce] && Je[++be] === Je[++Ce] && Je[++be] === Je[++Ce] && Je[++be] === Je[++Ce] && Je[++be] === Je[++Ce] && Je[++be] === Je[++Ce] && Je[++be] === Je[++Ce] && be < We);
                            if (ee = oe - (We - be), be = We - oe, je < ee) {
                                if (F.match_start = ke, Ze <= (je = ee)) break;
                                Ft = Je[be + je - 1], ti = Je[be + je]
                            }
                        }
                    while ((ke = et[ke & dt]) > Re && --ae != 0);
                    return je <= F.lookahead ? je : F.lookahead
                }

                function Ue(F) {
                    var ke, Ce, ee, ae, be, je, Ze, Re, Je, dt, et = F.w_size;
                    do {
                        if (ae = F.window_size - F.lookahead - F.strstart, F.strstart >= et + (et - me)) {
                            for (r.arraySet(F.window, F.window, et, et, 0), F.match_start -= et, F.strstart -= et, F.block_start -= et, ke = Ce = F.hash_size; ee = F.head[--ke], F.head[ke] = et <= ee ? ee - et : 0, --Ce;);
                            for (ke = Ce = et; ee = F.prev[--ke], F.prev[ke] = et <= ee ? ee - et : 0, --Ce;);
                            ae += et
                        }
                        if (F.strm.avail_in === 0) break;
                        if (je = F.strm, Ze = F.window, Re = F.strstart + F.lookahead, Je = ae, dt = void 0, dt = je.avail_in, Je < dt && (dt = Je), Ce = dt === 0 ? 0 : (je.avail_in -= dt, r.arraySet(Ze, je.input, je.next_in, dt, Re), je.state.wrap === 1 ? je.adler = s(je.adler, Ze, dt, Re) : je.state.wrap === 2 && (je.adler = l(je.adler, Ze, dt, Re)), je.next_in += dt, je.total_in += dt, dt), F.lookahead += Ce, F.lookahead + F.insert >= X)
                            for (be = F.strstart - F.insert, F.ins_h = F.window[be], F.ins_h = (F.ins_h << F.hash_shift ^ F.window[be + 1]) & F.hash_mask; F.insert && (F.ins_h = (F.ins_h << F.hash_shift ^ F.window[be + X - 1]) & F.hash_mask, F.prev[be & F.w_mask] = F.head[F.ins_h], F.head[F.ins_h] = be, be++, F.insert--, !(F.lookahead + F.insert < X)););
                    } while (F.lookahead < me && F.strm.avail_in !== 0)
                }

                function Qe(F, ke) {
                    for (var Ce, ee;;) {
                        if (F.lookahead < me) {
                            if (Ue(F), F.lookahead < me && ke === f) return P;
                            if (F.lookahead === 0) break
                        }
                        if (Ce = 0, F.lookahead >= X && (F.ins_h = (F.ins_h << F.hash_shift ^ F.window[F.strstart + X - 1]) & F.hash_mask, Ce = F.prev[F.strstart & F.w_mask] = F.head[F.ins_h], F.head[F.ins_h] = F.strstart), Ce !== 0 && F.strstart - Ce <= F.w_size - me && (F.match_length = ye(F, Ce)), F.match_length >= X)
                            if (ee = a._tr_tally(F, F.strstart - F.match_start, F.match_length - X), F.lookahead -= F.match_length, F.match_length <= F.max_lazy_match && F.lookahead >= X) {
                                for (F.match_length--; F.strstart++, F.ins_h = (F.ins_h << F.hash_shift ^ F.window[F.strstart + X - 1]) & F.hash_mask, Ce = F.prev[F.strstart & F.w_mask] = F.head[F.ins_h], F.head[F.ins_h] = F.strstart, --F.match_length != 0;);
                                F.strstart++
                            } else F.strstart += F.match_length, F.match_length = 0, F.ins_h = F.window[F.strstart], F.ins_h = (F.ins_h << F.hash_shift ^ F.window[F.strstart + 1]) & F.hash_mask;
                        else ee = a._tr_tally(F, 0, F.window[F.strstart]), F.lookahead--, F.strstart++;
                        if (ee && (te(F, !1), F.strm.avail_out === 0)) return P
                    }
                    return F.insert = F.strstart < X - 1 ? F.strstart : X - 1, ke === d ? (te(F, !0), F.strm.avail_out === 0 ? ce : ne) : F.last_lit && (te(F, !1), F.strm.avail_out === 0) ? P : se
                }

                function at(F, ke) {
                    for (var Ce, ee, ae;;) {
                        if (F.lookahead < me) {
                            if (Ue(F), F.lookahead < me && ke === f) return P;
                            if (F.lookahead === 0) break
                        }
                        if (Ce = 0, F.lookahead >= X && (F.ins_h = (F.ins_h << F.hash_shift ^ F.window[F.strstart + X - 1]) & F.hash_mask, Ce = F.prev[F.strstart & F.w_mask] = F.head[F.ins_h], F.head[F.ins_h] = F.strstart), F.prev_length = F.match_length, F.prev_match = F.match_start, F.match_length = X - 1, Ce !== 0 && F.prev_length < F.max_lazy_match && F.strstart - Ce <= F.w_size - me && (F.match_length = ye(F, Ce), F.match_length <= 5 && (F.strategy === 1 || F.match_length === X && 4096 < F.strstart - F.match_start) && (F.match_length = X - 1)), F.prev_length >= X && F.match_length <= F.prev_length) {
                            for (ae = F.strstart + F.lookahead - X, ee = a._tr_tally(F, F.strstart - 1 - F.prev_match, F.prev_length - X), F.lookahead -= F.prev_length - 1, F.prev_length -= 2; ++F.strstart <= ae && (F.ins_h = (F.ins_h << F.hash_shift ^ F.window[F.strstart + X - 1]) & F.hash_mask, Ce = F.prev[F.strstart & F.w_mask] = F.head[F.ins_h], F.head[F.ins_h] = F.strstart), --F.prev_length != 0;);
                            if (F.match_available = 0, F.match_length = X - 1, F.strstart++, ee && (te(F, !1), F.strm.avail_out === 0)) return P
                        } else if (F.match_available) {
                            if ((ee = a._tr_tally(F, 0, F.window[F.strstart - 1])) && te(F, !1), F.strstart++, F.lookahead--, F.strm.avail_out === 0) return P
                        } else F.match_available = 1, F.strstart++, F.lookahead--
                    }
                    return F.match_available && (ee = a._tr_tally(F, 0, F.window[F.strstart - 1]), F.match_available = 0), F.insert = F.strstart < X - 1 ? F.strstart : X - 1, ke === d ? (te(F, !0), F.strm.avail_out === 0 ? ce : ne) : F.last_lit && (te(F, !1), F.strm.avail_out === 0) ? P : se
                }

                function pt(F, ke, Ce, ee, ae) {
                    this.good_length = F, this.max_lazy = ke, this.nice_length = Ce, this.max_chain = ee, this.func = ae
                }

                function lt() {
                    this.strm = null, this.status = 0, this.pending_buf = null, this.pending_buf_size = 0, this.pending_out = 0, this.pending = 0, this.wrap = 0, this.gzhead = null, this.gzindex = 0, this.method = E, this.last_flush = -1, this.w_size = 0, this.w_bits = 0, this.w_mask = 0, this.window = null, this.window_size = 0, this.prev = null, this.head = null, this.ins_h = 0, this.hash_size = 0, this.hash_bits = 0, this.hash_mask = 0, this.hash_shift = 0, this.block_start = 0, this.match_length = 0, this.prev_match = 0, this.match_available = 0, this.strstart = 0, this.match_start = 0, this.lookahead = 0, this.prev_length = 0, this.max_chain_length = 0, this.max_lazy_match = 0, this.level = 0, this.strategy = 0, this.good_match = 0, this.nice_match = 0, this.dyn_ltree = new r.Buf16(2 * y), this.dyn_dtree = new r.Buf16(2 * (2 * I + 1)), this.bl_tree = new r.Buf16(2 * (2 * H + 1)), ue(this.dyn_ltree), ue(this.dyn_dtree), ue(this.bl_tree), this.l_desc = null, this.d_desc = null, this.bl_desc = null, this.bl_count = new r.Buf16(w + 1), this.heap = new r.Buf16(2 * D + 1), ue(this.heap), this.heap_len = 0, this.heap_max = 0, this.depth = new r.Buf16(2 * D + 1), ue(this.depth), this.l_buf = 0, this.lit_bufsize = 0, this.last_lit = 0, this.d_buf = 0, this.opt_len = 0, this.static_len = 0, this.matches = 0, this.insert = 0, this.bi_buf = 0, this.bi_valid = 0
                }

                function xt(F) {
                    var ke;
                    return F && F.state ? (F.total_in = F.total_out = 0, F.data_type = N, (ke = F.state).pending = 0, ke.pending_out = 0, ke.wrap < 0 && (ke.wrap = -ke.wrap), ke.status = ke.wrap ? V : W, F.adler = ke.wrap === 2 ? 0 : 1, ke.last_flush = f, a._tr_init(ke), m) : re(F, T)
                }

                function Bt(F) {
                    var ke = xt(F);
                    return ke === m && function(Ce) {
                        Ce.window_size = 2 * Ce.w_size, ue(Ce.head), Ce.max_lazy_match = n[Ce.level].max_lazy, Ce.good_match = n[Ce.level].good_length, Ce.nice_match = n[Ce.level].nice_length, Ce.max_chain_length = n[Ce.level].max_chain, Ce.strstart = 0, Ce.block_start = 0, Ce.lookahead = 0, Ce.insert = 0, Ce.match_length = Ce.prev_length = X - 1, Ce.match_available = 0, Ce.ins_h = 0
                    }(F.state), ke
                }

                function At(F, ke, Ce, ee, ae, be) {
                    if (!F) return T;
                    var je = 1;
                    if (ke === x && (ke = 6), ee < 0 ? (je = 0, ee = -ee) : 15 < ee && (je = 2, ee -= 16), ae < 1 || O < ae || Ce !== E || ee < 8 || 15 < ee || ke < 0 || 9 < ke || be < 0 || C < be) return re(F, T);
                    ee === 8 && (ee = 9);
                    var Ze = new lt;
                    return (F.state = Ze).strm = F, Ze.wrap = je, Ze.gzhead = null, Ze.w_bits = ee, Ze.w_size = 1 << Ze.w_bits, Ze.w_mask = Ze.w_size - 1, Ze.hash_bits = ae + 7, Ze.hash_size = 1 << Ze.hash_bits, Ze.hash_mask = Ze.hash_size - 1, Ze.hash_shift = ~~((Ze.hash_bits + X - 1) / X), Ze.window = new r.Buf8(2 * Ze.w_size), Ze.head = new r.Buf16(Ze.hash_size), Ze.prev = new r.Buf16(Ze.w_size), Ze.lit_bufsize = 1 << ae + 6, Ze.pending_buf_size = 4 * Ze.lit_bufsize, Ze.pending_buf = new r.Buf8(Ze.pending_buf_size), Ze.d_buf = 1 * Ze.lit_bufsize, Ze.l_buf = 3 * Ze.lit_bufsize, Ze.level = ke, Ze.strategy = be, Ze.method = Ce, Bt(F)
                }
                n = [new pt(0, 0, 0, 0, function(F, ke) {
                    var Ce = 65535;
                    for (Ce > F.pending_buf_size - 5 && (Ce = F.pending_buf_size - 5);;) {
                        if (F.lookahead <= 1) {
                            if (Ue(F), F.lookahead === 0 && ke === f) return P;
                            if (F.lookahead === 0) break
                        }
                        F.strstart += F.lookahead, F.lookahead = 0;
                        var ee = F.block_start + Ce;
                        if ((F.strstart === 0 || F.strstart >= ee) && (F.lookahead = F.strstart - ee, F.strstart = ee, te(F, !1), F.strm.avail_out === 0) || F.strstart - F.block_start >= F.w_size - me && (te(F, !1), F.strm.avail_out === 0)) return P
                    }
                    return F.insert = 0, ke === d ? (te(F, !0), F.strm.avail_out === 0 ? ce : ne) : (F.strstart > F.block_start && (te(F, !1), F.strm.avail_out), P)
                }), new pt(4, 4, 8, 4, Qe), new pt(4, 5, 16, 8, Qe), new pt(4, 6, 32, 32, Qe), new pt(4, 4, 16, 16, at), new pt(8, 16, 32, 32, at), new pt(8, 16, 128, 128, at), new pt(8, 32, 128, 256, at), new pt(32, 128, 258, 1024, at), new pt(32, 258, 258, 4096, at)], i.deflateInit = function(F, ke) {
                    return At(F, ke, E, 15, 8, 0)
                }, i.deflateInit2 = At, i.deflateReset = Bt, i.deflateResetKeep = xt, i.deflateSetHeader = function(F, ke) {
                    return F && F.state ? F.state.wrap !== 2 ? T : (F.state.gzhead = ke, m) : T
                }, i.deflate = function(F, ke) {
                    var Ce, ee, ae, be;
                    if (!F || !F.state || 5 < ke || ke < 0) return F ? re(F, T) : T;
                    if (ee = F.state, !F.output || !F.input && F.avail_in !== 0 || ee.status === 666 && ke !== d) return re(F, F.avail_out === 0 ? -5 : T);
                    if (ee.strm = F, Ce = ee.last_flush, ee.last_flush = ke, ee.status === V)
                        if (ee.wrap === 2) F.adler = 0, we(ee, 31), we(ee, 139), we(ee, 8), ee.gzhead ? (we(ee, (ee.gzhead.text ? 1 : 0) + (ee.gzhead.hcrc ? 2 : 0) + (ee.gzhead.extra ? 4 : 0) + (ee.gzhead.name ? 8 : 0) + (ee.gzhead.comment ? 16 : 0)), we(ee, 255 & ee.gzhead.time), we(ee, ee.gzhead.time >> 8 & 255), we(ee, ee.gzhead.time >> 16 & 255), we(ee, ee.gzhead.time >> 24 & 255), we(ee, ee.level === 9 ? 2 : 2 <= ee.strategy || ee.level < 2 ? 4 : 0), we(ee, 255 & ee.gzhead.os), ee.gzhead.extra && ee.gzhead.extra.length && (we(ee, 255 & ee.gzhead.extra.length), we(ee, ee.gzhead.extra.length >> 8 & 255)), ee.gzhead.hcrc && (F.adler = l(F.adler, ee.pending_buf, ee.pending, 0)), ee.gzindex = 0, ee.status = 69) : (we(ee, 0), we(ee, 0), we(ee, 0), we(ee, 0), we(ee, 0), we(ee, ee.level === 9 ? 2 : 2 <= ee.strategy || ee.level < 2 ? 4 : 0), we(ee, 3), ee.status = W);
                        else {
                            var je = E + (ee.w_bits - 8 << 4) << 8;
                            je |= (2 <= ee.strategy || ee.level < 2 ? 0 : ee.level < 6 ? 1 : ee.level === 6 ? 2 : 3) << 6, ee.strstart !== 0 && (je |= 32), je += 31 - je % 31, ee.status = W, De(ee, je), ee.strstart !== 0 && (De(ee, F.adler >>> 16), De(ee, 65535 & F.adler)), F.adler = 1
                        }
                    if (ee.status === 69)
                        if (ee.gzhead.extra) {
                            for (ae = ee.pending; ee.gzindex < (65535 & ee.gzhead.extra.length) && (ee.pending !== ee.pending_buf_size || (ee.gzhead.hcrc && ee.pending > ae && (F.adler = l(F.adler, ee.pending_buf, ee.pending - ae, ae)), ie(F), ae = ee.pending, ee.pending !== ee.pending_buf_size));) we(ee, 255 & ee.gzhead.extra[ee.gzindex]), ee.gzindex++;
                            ee.gzhead.hcrc && ee.pending > ae && (F.adler = l(F.adler, ee.pending_buf, ee.pending - ae, ae)), ee.gzindex === ee.gzhead.extra.length && (ee.gzindex = 0, ee.status = 73)
                        } else ee.status = 73;
                    if (ee.status === 73)
                        if (ee.gzhead.name) {
                            ae = ee.pending;
                            do {
                                if (ee.pending === ee.pending_buf_size && (ee.gzhead.hcrc && ee.pending > ae && (F.adler = l(F.adler, ee.pending_buf, ee.pending - ae, ae)), ie(F), ae = ee.pending, ee.pending === ee.pending_buf_size)) {
                                    be = 1;
                                    break
                                }
                                be = ee.gzindex < ee.gzhead.name.length ? 255 & ee.gzhead.name.charCodeAt(ee.gzindex++) : 0, we(ee, be)
                            } while (be !== 0);
                            ee.gzhead.hcrc && ee.pending > ae && (F.adler = l(F.adler, ee.pending_buf, ee.pending - ae, ae)), be === 0 && (ee.gzindex = 0, ee.status = 91)
                        } else ee.status = 91;
                    if (ee.status === 91)
                        if (ee.gzhead.comment) {
                            ae = ee.pending;
                            do {
                                if (ee.pending === ee.pending_buf_size && (ee.gzhead.hcrc && ee.pending > ae && (F.adler = l(F.adler, ee.pending_buf, ee.pending - ae, ae)), ie(F), ae = ee.pending, ee.pending === ee.pending_buf_size)) {
                                    be = 1;
                                    break
                                }
                                be = ee.gzindex < ee.gzhead.comment.length ? 255 & ee.gzhead.comment.charCodeAt(ee.gzindex++) : 0, we(ee, be)
                            } while (be !== 0);
                            ee.gzhead.hcrc && ee.pending > ae && (F.adler = l(F.adler, ee.pending_buf, ee.pending - ae, ae)), be === 0 && (ee.status = 103)
                        } else ee.status = 103;
                    if (ee.status === 103 && (ee.gzhead.hcrc ? (ee.pending + 2 > ee.pending_buf_size && ie(F), ee.pending + 2 <= ee.pending_buf_size && (we(ee, 255 & F.adler), we(ee, F.adler >> 8 & 255), F.adler = 0, ee.status = W)) : ee.status = W), ee.pending !== 0) {
                        if (ie(F), F.avail_out === 0) return ee.last_flush = -1, m
                    } else if (F.avail_in === 0 && J(ke) <= J(Ce) && ke !== d) return re(F, -5);
                    if (ee.status === 666 && F.avail_in !== 0) return re(F, -5);
                    if (F.avail_in !== 0 || ee.lookahead !== 0 || ke !== f && ee.status !== 666) {
                        var Ze = ee.strategy === 2 ? function(Re, Je) {
                            for (var dt;;) {
                                if (Re.lookahead === 0 && (Ue(Re), Re.lookahead === 0)) {
                                    if (Je === f) return P;
                                    break
                                }
                                if (Re.match_length = 0, dt = a._tr_tally(Re, 0, Re.window[Re.strstart]), Re.lookahead--, Re.strstart++, dt && (te(Re, !1), Re.strm.avail_out === 0)) return P
                            }
                            return Re.insert = 0, Je === d ? (te(Re, !0), Re.strm.avail_out === 0 ? ce : ne) : Re.last_lit && (te(Re, !1), Re.strm.avail_out === 0) ? P : se
                        }(ee, ke) : ee.strategy === 3 ? function(Re, Je) {
                            for (var dt, et, We, Ft, ti = Re.window;;) {
                                if (Re.lookahead <= oe) {
                                    if (Ue(Re), Re.lookahead <= oe && Je === f) return P;
                                    if (Re.lookahead === 0) break
                                }
                                if (Re.match_length = 0, Re.lookahead >= X && 0 < Re.strstart && (et = ti[We = Re.strstart - 1]) === ti[++We] && et === ti[++We] && et === ti[++We]) {
                                    Ft = Re.strstart + oe;
                                    do; while (et === ti[++We] && et === ti[++We] && et === ti[++We] && et === ti[++We] && et === ti[++We] && et === ti[++We] && et === ti[++We] && et === ti[++We] && We < Ft);
                                    Re.match_length = oe - (Ft - We), Re.match_length > Re.lookahead && (Re.match_length = Re.lookahead)
                                }
                                if (Re.match_length >= X ? (dt = a._tr_tally(Re, 1, Re.match_length - X), Re.lookahead -= Re.match_length, Re.strstart += Re.match_length, Re.match_length = 0) : (dt = a._tr_tally(Re, 0, Re.window[Re.strstart]), Re.lookahead--, Re.strstart++), dt && (te(Re, !1), Re.strm.avail_out === 0)) return P
                            }
                            return Re.insert = 0, Je === d ? (te(Re, !0), Re.strm.avail_out === 0 ? ce : ne) : Re.last_lit && (te(Re, !1), Re.strm.avail_out === 0) ? P : se
                        }(ee, ke) : n[ee.level].func(ee, ke);
                        if (Ze !== ce && Ze !== ne || (ee.status = 666), Ze === P || Ze === ce) return F.avail_out === 0 && (ee.last_flush = -1), m;
                        if (Ze === se && (ke === 1 ? a._tr_align(ee) : ke !== 5 && (a._tr_stored_block(ee, 0, 0, !1), ke === 3 && (ue(ee.head), ee.lookahead === 0 && (ee.strstart = 0, ee.block_start = 0, ee.insert = 0))), ie(F), F.avail_out === 0)) return ee.last_flush = -1, m
                    }
                    return ke !== d ? m : ee.wrap <= 0 ? 1 : (ee.wrap === 2 ? (we(ee, 255 & F.adler), we(ee, F.adler >> 8 & 255), we(ee, F.adler >> 16 & 255), we(ee, F.adler >> 24 & 255), we(ee, 255 & F.total_in), we(ee, F.total_in >> 8 & 255), we(ee, F.total_in >> 16 & 255), we(ee, F.total_in >> 24 & 255)) : (De(ee, F.adler >>> 16), De(ee, 65535 & F.adler)), ie(F), 0 < ee.wrap && (ee.wrap = -ee.wrap), ee.pending !== 0 ? m : 1)
                }, i.deflateEnd = function(F) {
                    var ke;
                    return F && F.state ? (ke = F.state.status) !== V && ke !== 69 && ke !== 73 && ke !== 91 && ke !== 103 && ke !== W && ke !== 666 ? re(F, T) : (F.state = null, ke === W ? re(F, -3) : m) : T
                }, i.deflateSetDictionary = function(F, ke) {
                    var Ce, ee, ae, be, je, Ze, Re, Je, dt = ke.length;
                    if (!F || !F.state || (be = (Ce = F.state).wrap) === 2 || be === 1 && Ce.status !== V || Ce.lookahead) return T;
                    for (be === 1 && (F.adler = s(F.adler, ke, dt, 0)), Ce.wrap = 0, dt >= Ce.w_size && (be === 0 && (ue(Ce.head), Ce.strstart = 0, Ce.block_start = 0, Ce.insert = 0), Je = new r.Buf8(Ce.w_size), r.arraySet(Je, ke, dt - Ce.w_size, Ce.w_size, 0), ke = Je, dt = Ce.w_size), je = F.avail_in, Ze = F.next_in, Re = F.input, F.avail_in = dt, F.next_in = 0, F.input = ke, Ue(Ce); Ce.lookahead >= X;) {
                        for (ee = Ce.strstart, ae = Ce.lookahead - (X - 1); Ce.ins_h = (Ce.ins_h << Ce.hash_shift ^ Ce.window[ee + X - 1]) & Ce.hash_mask, Ce.prev[ee & Ce.w_mask] = Ce.head[Ce.ins_h], Ce.head[Ce.ins_h] = ee, ee++, --ae;);
                        Ce.strstart = ee, Ce.lookahead = X - 1, Ue(Ce)
                    }
                    return Ce.strstart += Ce.lookahead, Ce.block_start = Ce.strstart, Ce.insert = Ce.lookahead, Ce.lookahead = 0, Ce.match_length = Ce.prev_length = X - 1, Ce.match_available = 0, F.next_in = Ze, F.input = Re, F.avail_in = je, Ce.wrap = be, m
                }, i.deflateInfo = "pako deflate (from Nodeca project)"
            }, {
                "../utils/common": 41,
                "./adler32": 43,
                "./crc32": 45,
                "./messages": 51,
                "./trees": 52
            }],
            47: [function(e, t, i) {
                "use strict";
                t.exports = function() {
                    this.text = 0, this.time = 0, this.xflags = 0, this.os = 0, this.extra = null, this.extra_len = 0, this.name = "", this.comment = "", this.hcrc = 0, this.done = !1
                }
            }, {}],
            48: [function(e, t, i) {
                "use strict";
                t.exports = function(n, r) {
                    var a, s, l, u, f, d, m, T, x, C, N, E, O, D, I, H, y, w, X, oe, me, V, W, P, se;
                    a = n.state, s = n.next_in, P = n.input, l = s + (n.avail_in - 5), u = n.next_out, se = n.output, f = u - (r - n.avail_out), d = u + (n.avail_out - 257), m = a.dmax, T = a.wsize, x = a.whave, C = a.wnext, N = a.window, E = a.hold, O = a.bits, D = a.lencode, I = a.distcode, H = (1 << a.lenbits) - 1, y = (1 << a.distbits) - 1;
                    e: do {
                        O < 15 && (E += P[s++] << O, O += 8, E += P[s++] << O, O += 8), w = D[E & H];
                        t: for (;;) {
                            if (E >>>= X = w >>> 24, O -= X, (X = w >>> 16 & 255) === 0) se[u++] = 65535 & w;
                            else {
                                if (!(16 & X)) {
                                    if (!(64 & X)) {
                                        w = D[(65535 & w) + (E & (1 << X) - 1)];
                                        continue t
                                    }
                                    if (32 & X) {
                                        a.mode = 12;
                                        break e
                                    }
                                    n.msg = "invalid literal/length code", a.mode = 30;
                                    break e
                                }
                                oe = 65535 & w, (X &= 15) && (O < X && (E += P[s++] << O, O += 8), oe += E & (1 << X) - 1, E >>>= X, O -= X), O < 15 && (E += P[s++] << O, O += 8, E += P[s++] << O, O += 8), w = I[E & y];
                                i: for (;;) {
                                    if (E >>>= X = w >>> 24, O -= X, !(16 & (X = w >>> 16 & 255))) {
                                        if (!(64 & X)) {
                                            w = I[(65535 & w) + (E & (1 << X) - 1)];
                                            continue i
                                        }
                                        n.msg = "invalid distance code", a.mode = 30;
                                        break e
                                    }
                                    if (me = 65535 & w, O < (X &= 15) && (E += P[s++] << O, (O += 8) < X && (E += P[s++] << O, O += 8)), m < (me += E & (1 << X) - 1)) {
                                        n.msg = "invalid distance too far back", a.mode = 30;
                                        break e
                                    }
                                    if (E >>>= X, O -= X, (X = u - f) < me) {
                                        if (x < (X = me - X) && a.sane) {
                                            n.msg = "invalid distance too far back", a.mode = 30;
                                            break e
                                        }
                                        if (W = N, (V = 0) === C) {
                                            if (V += T - X, X < oe) {
                                                for (oe -= X; se[u++] = N[V++], --X;);
                                                V = u - me, W = se
                                            }
                                        } else if (C < X) {
                                            if (V += T + C - X, (X -= C) < oe) {
                                                for (oe -= X; se[u++] = N[V++], --X;);
                                                if (V = 0, C < oe) {
                                                    for (oe -= X = C; se[u++] = N[V++], --X;);
                                                    V = u - me, W = se
                                                }
                                            }
                                        } else if (V += C - X, X < oe) {
                                            for (oe -= X; se[u++] = N[V++], --X;);
                                            V = u - me, W = se
                                        }
                                        for (; 2 < oe;) se[u++] = W[V++], se[u++] = W[V++], se[u++] = W[V++], oe -= 3;
                                        oe && (se[u++] = W[V++], 1 < oe && (se[u++] = W[V++]))
                                    } else {
                                        for (V = u - me; se[u++] = se[V++], se[u++] = se[V++], se[u++] = se[V++], 2 < (oe -= 3););
                                        oe && (se[u++] = se[V++], 1 < oe && (se[u++] = se[V++]))
                                    }
                                    break
                                }
                            }
                            break
                        }
                    } while (s < l && u < d);
                    s -= oe = O >> 3, E &= (1 << (O -= oe << 3)) - 1, n.next_in = s, n.next_out = u, n.avail_in = s < l ? l - s + 5 : 5 - (s - l), n.avail_out = u < d ? d - u + 257 : 257 - (u - d), a.hold = E, a.bits = O
                }
            }, {}],
            49: [function(e, t, i) {
                "use strict";
                var n = e("../utils/common"),
                    r = e("./adler32"),
                    a = e("./crc32"),
                    s = e("./inffast"),
                    l = e("./inftrees"),
                    u = 1,
                    f = 2,
                    d = 0,
                    m = -2,
                    T = 1,
                    x = 852,
                    C = 592;

                function N(V) {
                    return (V >>> 24 & 255) + (V >>> 8 & 65280) + ((65280 & V) << 8) + ((255 & V) << 24)
                }

                function E() {
                    this.mode = 0, this.last = !1, this.wrap = 0, this.havedict = !1, this.flags = 0, this.dmax = 0, this.check = 0, this.total = 0, this.head = null, this.wbits = 0, this.wsize = 0, this.whave = 0, this.wnext = 0, this.window = null, this.hold = 0, this.bits = 0, this.length = 0, this.offset = 0, this.extra = 0, this.lencode = null, this.distcode = null, this.lenbits = 0, this.distbits = 0, this.ncode = 0, this.nlen = 0, this.ndist = 0, this.have = 0, this.next = null, this.lens = new n.Buf16(320), this.work = new n.Buf16(288), this.lendyn = null, this.distdyn = null, this.sane = 0, this.back = 0, this.was = 0
                }

                function O(V) {
                    var W;
                    return V && V.state ? (W = V.state, V.total_in = V.total_out = W.total = 0, V.msg = "", W.wrap && (V.adler = 1 & W.wrap), W.mode = T, W.last = 0, W.havedict = 0, W.dmax = 32768, W.head = null, W.hold = 0, W.bits = 0, W.lencode = W.lendyn = new n.Buf32(x), W.distcode = W.distdyn = new n.Buf32(C), W.sane = 1, W.back = -1, d) : m
                }

                function D(V) {
                    var W;
                    return V && V.state ? ((W = V.state).wsize = 0, W.whave = 0, W.wnext = 0, O(V)) : m
                }

                function I(V, W) {
                    var P, se;
                    return V && V.state ? (se = V.state, W < 0 ? (P = 0, W = -W) : (P = 1 + (W >> 4), W < 48 && (W &= 15)), W && (W < 8 || 15 < W) ? m : (se.window !== null && se.wbits !== W && (se.window = null), se.wrap = P, se.wbits = W, D(V))) : m
                }

                function H(V, W) {
                    var P, se;
                    return V ? (se = new E, (V.state = se).window = null, (P = I(V, W)) !== d && (V.state = null), P) : m
                }
                var y, w, X = !0;

                function oe(V) {
                    if (X) {
                        var W;
                        for (y = new n.Buf32(512), w = new n.Buf32(32), W = 0; W < 144;) V.lens[W++] = 8;
                        for (; W < 256;) V.lens[W++] = 9;
                        for (; W < 280;) V.lens[W++] = 7;
                        for (; W < 288;) V.lens[W++] = 8;
                        for (l(u, V.lens, 0, 288, y, 0, V.work, {
                                bits: 9
                            }), W = 0; W < 32;) V.lens[W++] = 5;
                        l(f, V.lens, 0, 32, w, 0, V.work, {
                            bits: 5
                        }), X = !1
                    }
                    V.lencode = y, V.lenbits = 9, V.distcode = w, V.distbits = 5
                }

                function me(V, W, P, se) {
                    var ce, ne = V.state;
                    return ne.window === null && (ne.wsize = 1 << ne.wbits, ne.wnext = 0, ne.whave = 0, ne.window = new n.Buf8(ne.wsize)), se >= ne.wsize ? (n.arraySet(ne.window, W, P - ne.wsize, ne.wsize, 0), ne.wnext = 0, ne.whave = ne.wsize) : (se < (ce = ne.wsize - ne.wnext) && (ce = se), n.arraySet(ne.window, W, P - se, ce, ne.wnext), (se -= ce) ? (n.arraySet(ne.window, W, P - se, se, 0), ne.wnext = se, ne.whave = ne.wsize) : (ne.wnext += ce, ne.wnext === ne.wsize && (ne.wnext = 0), ne.whave < ne.wsize && (ne.whave += ce))), 0
                }
                i.inflateReset = D, i.inflateReset2 = I, i.inflateResetKeep = O, i.inflateInit = function(V) {
                    return H(V, 15)
                }, i.inflateInit2 = H, i.inflate = function(V, W) {
                    var P, se, ce, ne, re, J, ue, ie, te, we, De, ye, Ue, Qe, at, pt, lt, xt, Bt, At, F, ke, Ce, ee, ae = 0,
                        be = new n.Buf8(4),
                        je = [16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15];
                    if (!V || !V.state || !V.output || !V.input && V.avail_in !== 0) return m;
                    (P = V.state).mode === 12 && (P.mode = 13), re = V.next_out, ce = V.output, ue = V.avail_out, ne = V.next_in, se = V.input, J = V.avail_in, ie = P.hold, te = P.bits, we = J, De = ue, ke = d;
                    e: for (;;) switch (P.mode) {
                        case T:
                            if (P.wrap === 0) {
                                P.mode = 13;
                                break
                            }
                            for (; te < 16;) {
                                if (J === 0) break e;
                                J--, ie += se[ne++] << te, te += 8
                            }
                            if (2 & P.wrap && ie === 35615) {
                                be[P.check = 0] = 255 & ie, be[1] = ie >>> 8 & 255, P.check = a(P.check, be, 2, 0), te = ie = 0, P.mode = 2;
                                break
                            }
                            if (P.flags = 0, P.head && (P.head.done = !1), !(1 & P.wrap) || (((255 & ie) << 8) + (ie >> 8)) % 31) {
                                V.msg = "incorrect header check", P.mode = 30;
                                break
                            }
                            if ((15 & ie) != 8) {
                                V.msg = "unknown compression method", P.mode = 30;
                                break
                            }
                            if (te -= 4, F = 8 + (15 & (ie >>>= 4)), P.wbits === 0) P.wbits = F;
                            else if (F > P.wbits) {
                                V.msg = "invalid window size", P.mode = 30;
                                break
                            }
                            P.dmax = 1 << F, V.adler = P.check = 1, P.mode = 512 & ie ? 10 : 12, te = ie = 0;
                            break;
                        case 2:
                            for (; te < 16;) {
                                if (J === 0) break e;
                                J--, ie += se[ne++] << te, te += 8
                            }
                            if (P.flags = ie, (255 & P.flags) != 8) {
                                V.msg = "unknown compression method", P.mode = 30;
                                break
                            }
                            if (57344 & P.flags) {
                                V.msg = "unknown header flags set", P.mode = 30;
                                break
                            }
                            P.head && (P.head.text = ie >> 8 & 1), 512 & P.flags && (be[0] = 255 & ie, be[1] = ie >>> 8 & 255, P.check = a(P.check, be, 2, 0)), te = ie = 0, P.mode = 3;
                        case 3:
                            for (; te < 32;) {
                                if (J === 0) break e;
                                J--, ie += se[ne++] << te, te += 8
                            }
                            P.head && (P.head.time = ie), 512 & P.flags && (be[0] = 255 & ie, be[1] = ie >>> 8 & 255, be[2] = ie >>> 16 & 255, be[3] = ie >>> 24 & 255, P.check = a(P.check, be, 4, 0)), te = ie = 0, P.mode = 4;
                        case 4:
                            for (; te < 16;) {
                                if (J === 0) break e;
                                J--, ie += se[ne++] << te, te += 8
                            }
                            P.head && (P.head.xflags = 255 & ie, P.head.os = ie >> 8), 512 & P.flags && (be[0] = 255 & ie, be[1] = ie >>> 8 & 255, P.check = a(P.check, be, 2, 0)), te = ie = 0, P.mode = 5;
                        case 5:
                            if (1024 & P.flags) {
                                for (; te < 16;) {
                                    if (J === 0) break e;
                                    J--, ie += se[ne++] << te, te += 8
                                }
                                P.length = ie, P.head && (P.head.extra_len = ie), 512 & P.flags && (be[0] = 255 & ie, be[1] = ie >>> 8 & 255, P.check = a(P.check, be, 2, 0)), te = ie = 0
                            } else P.head && (P.head.extra = null);
                            P.mode = 6;
                        case 6:
                            if (1024 & P.flags && (J < (ye = P.length) && (ye = J), ye && (P.head && (F = P.head.extra_len - P.length, P.head.extra || (P.head.extra = new Array(P.head.extra_len)), n.arraySet(P.head.extra, se, ne, ye, F)), 512 & P.flags && (P.check = a(P.check, se, ye, ne)), J -= ye, ne += ye, P.length -= ye), P.length)) break e;
                            P.length = 0, P.mode = 7;
                        case 7:
                            if (2048 & P.flags) {
                                if (J === 0) break e;
                                for (ye = 0; F = se[ne + ye++], P.head && F && P.length < 65536 && (P.head.name += String.fromCharCode(F)), F && ye < J;);
                                if (512 & P.flags && (P.check = a(P.check, se, ye, ne)), J -= ye, ne += ye, F) break e
                            } else P.head && (P.head.name = null);
                            P.length = 0, P.mode = 8;
                        case 8:
                            if (4096 & P.flags) {
                                if (J === 0) break e;
                                for (ye = 0; F = se[ne + ye++], P.head && F && P.length < 65536 && (P.head.comment += String.fromCharCode(F)), F && ye < J;);
                                if (512 & P.flags && (P.check = a(P.check, se, ye, ne)), J -= ye, ne += ye, F) break e
                            } else P.head && (P.head.comment = null);
                            P.mode = 9;
                        case 9:
                            if (512 & P.flags) {
                                for (; te < 16;) {
                                    if (J === 0) break e;
                                    J--, ie += se[ne++] << te, te += 8
                                }
                                if (ie !== (65535 & P.check)) {
                                    V.msg = "header crc mismatch", P.mode = 30;
                                    break
                                }
                                te = ie = 0
                            }
                            P.head && (P.head.hcrc = P.flags >> 9 & 1, P.head.done = !0), V.adler = P.check = 0, P.mode = 12;
                            break;
                        case 10:
                            for (; te < 32;) {
                                if (J === 0) break e;
                                J--, ie += se[ne++] << te, te += 8
                            }
                            V.adler = P.check = N(ie), te = ie = 0, P.mode = 11;
                        case 11:
                            if (P.havedict === 0) return V.next_out = re, V.avail_out = ue, V.next_in = ne, V.avail_in = J, P.hold = ie, P.bits = te, 2;
                            V.adler = P.check = 1, P.mode = 12;
                        case 12:
                            if (W === 5 || W === 6) break e;
                        case 13:
                            if (P.last) {
                                ie >>>= 7 & te, te -= 7 & te, P.mode = 27;
                                break
                            }
                            for (; te < 3;) {
                                if (J === 0) break e;
                                J--, ie += se[ne++] << te, te += 8
                            }
                            switch (P.last = 1 & ie, te -= 1, 3 & (ie >>>= 1)) {
                                case 0:
                                    P.mode = 14;
                                    break;
                                case 1:
                                    if (oe(P), P.mode = 20, W !== 6) break;
                                    ie >>>= 2, te -= 2;
                                    break e;
                                case 2:
                                    P.mode = 17;
                                    break;
                                case 3:
                                    V.msg = "invalid block type", P.mode = 30
                            }
                            ie >>>= 2, te -= 2;
                            break;
                        case 14:
                            for (ie >>>= 7 & te, te -= 7 & te; te < 32;) {
                                if (J === 0) break e;
                                J--, ie += se[ne++] << te, te += 8
                            }
                            if ((65535 & ie) != (ie >>> 16 ^ 65535)) {
                                V.msg = "invalid stored block lengths", P.mode = 30;
                                break
                            }
                            if (P.length = 65535 & ie, te = ie = 0, P.mode = 15, W === 6) break e;
                        case 15:
                            P.mode = 16;
                        case 16:
                            if (ye = P.length) {
                                if (J < ye && (ye = J), ue < ye && (ye = ue), ye === 0) break e;
                                n.arraySet(ce, se, ne, ye, re), J -= ye, ne += ye, ue -= ye, re += ye, P.length -= ye;
                                break
                            }
                            P.mode = 12;
                            break;
                        case 17:
                            for (; te < 14;) {
                                if (J === 0) break e;
                                J--, ie += se[ne++] << te, te += 8
                            }
                            if (P.nlen = 257 + (31 & ie), ie >>>= 5, te -= 5, P.ndist = 1 + (31 & ie), ie >>>= 5, te -= 5, P.ncode = 4 + (15 & ie), ie >>>= 4, te -= 4, 286 < P.nlen || 30 < P.ndist) {
                                V.msg = "too many length or distance symbols", P.mode = 30;
                                break
                            }
                            P.have = 0, P.mode = 18;
                        case 18:
                            for (; P.have < P.ncode;) {
                                for (; te < 3;) {
                                    if (J === 0) break e;
                                    J--, ie += se[ne++] << te, te += 8
                                }
                                P.lens[je[P.have++]] = 7 & ie, ie >>>= 3, te -= 3
                            }
                            for (; P.have < 19;) P.lens[je[P.have++]] = 0;
                            if (P.lencode = P.lendyn, P.lenbits = 7, Ce = {
                                    bits: P.lenbits
                                }, ke = l(0, P.lens, 0, 19, P.lencode, 0, P.work, Ce), P.lenbits = Ce.bits, ke) {
                                V.msg = "invalid code lengths set", P.mode = 30;
                                break
                            }
                            P.have = 0, P.mode = 19;
                        case 19:
                            for (; P.have < P.nlen + P.ndist;) {
                                for (; pt = (ae = P.lencode[ie & (1 << P.lenbits) - 1]) >>> 16 & 255, lt = 65535 & ae, !((at = ae >>> 24) <= te);) {
                                    if (J === 0) break e;
                                    J--, ie += se[ne++] << te, te += 8
                                }
                                if (lt < 16) ie >>>= at, te -= at, P.lens[P.have++] = lt;
                                else {
                                    if (lt === 16) {
                                        for (ee = at + 2; te < ee;) {
                                            if (J === 0) break e;
                                            J--, ie += se[ne++] << te, te += 8
                                        }
                                        if (ie >>>= at, te -= at, P.have === 0) {
                                            V.msg = "invalid bit length repeat", P.mode = 30;
                                            break
                                        }
                                        F = P.lens[P.have - 1], ye = 3 + (3 & ie), ie >>>= 2, te -= 2
                                    } else if (lt === 17) {
                                        for (ee = at + 3; te < ee;) {
                                            if (J === 0) break e;
                                            J--, ie += se[ne++] << te, te += 8
                                        }
                                        te -= at, F = 0, ye = 3 + (7 & (ie >>>= at)), ie >>>= 3, te -= 3
                                    } else {
                                        for (ee = at + 7; te < ee;) {
                                            if (J === 0) break e;
                                            J--, ie += se[ne++] << te, te += 8
                                        }
                                        te -= at, F = 0, ye = 11 + (127 & (ie >>>= at)), ie >>>= 7, te -= 7
                                    }
                                    if (P.have + ye > P.nlen + P.ndist) {
                                        V.msg = "invalid bit length repeat", P.mode = 30;
                                        break
                                    }
                                    for (; ye--;) P.lens[P.have++] = F
                                }
                            }
                            if (P.mode === 30) break;
                            if (P.lens[256] === 0) {
                                V.msg = "invalid code -- missing end-of-block", P.mode = 30;
                                break
                            }
                            if (P.lenbits = 9, Ce = {
                                    bits: P.lenbits
                                }, ke = l(u, P.lens, 0, P.nlen, P.lencode, 0, P.work, Ce), P.lenbits = Ce.bits, ke) {
                                V.msg = "invalid literal/lengths set", P.mode = 30;
                                break
                            }
                            if (P.distbits = 6, P.distcode = P.distdyn, Ce = {
                                    bits: P.distbits
                                }, ke = l(f, P.lens, P.nlen, P.ndist, P.distcode, 0, P.work, Ce), P.distbits = Ce.bits, ke) {
                                V.msg = "invalid distances set", P.mode = 30;
                                break
                            }
                            if (P.mode = 20, W === 6) break e;
                        case 20:
                            P.mode = 21;
                        case 21:
                            if (6 <= J && 258 <= ue) {
                                V.next_out = re, V.avail_out = ue, V.next_in = ne, V.avail_in = J, P.hold = ie, P.bits = te, s(V, De), re = V.next_out, ce = V.output, ue = V.avail_out, ne = V.next_in, se = V.input, J = V.avail_in, ie = P.hold, te = P.bits, P.mode === 12 && (P.back = -1);
                                break
                            }
                            for (P.back = 0; pt = (ae = P.lencode[ie & (1 << P.lenbits) - 1]) >>> 16 & 255, lt = 65535 & ae, !((at = ae >>> 24) <= te);) {
                                if (J === 0) break e;
                                J--, ie += se[ne++] << te, te += 8
                            }
                            if (pt && !(240 & pt)) {
                                for (xt = at, Bt = pt, At = lt; pt = (ae = P.lencode[At + ((ie & (1 << xt + Bt) - 1) >> xt)]) >>> 16 & 255, lt = 65535 & ae, !(xt + (at = ae >>> 24) <= te);) {
                                    if (J === 0) break e;
                                    J--, ie += se[ne++] << te, te += 8
                                }
                                ie >>>= xt, te -= xt, P.back += xt
                            }
                            if (ie >>>= at, te -= at, P.back += at, P.length = lt, pt === 0) {
                                P.mode = 26;
                                break
                            }
                            if (32 & pt) {
                                P.back = -1, P.mode = 12;
                                break
                            }
                            if (64 & pt) {
                                V.msg = "invalid literal/length code", P.mode = 30;
                                break
                            }
                            P.extra = 15 & pt, P.mode = 22;
                        case 22:
                            if (P.extra) {
                                for (ee = P.extra; te < ee;) {
                                    if (J === 0) break e;
                                    J--, ie += se[ne++] << te, te += 8
                                }
                                P.length += ie & (1 << P.extra) - 1, ie >>>= P.extra, te -= P.extra, P.back += P.extra
                            }
                            P.was = P.length, P.mode = 23;
                        case 23:
                            for (; pt = (ae = P.distcode[ie & (1 << P.distbits) - 1]) >>> 16 & 255, lt = 65535 & ae, !((at = ae >>> 24) <= te);) {
                                if (J === 0) break e;
                                J--, ie += se[ne++] << te, te += 8
                            }
                            if (!(240 & pt)) {
                                for (xt = at, Bt = pt, At = lt; pt = (ae = P.distcode[At + ((ie & (1 << xt + Bt) - 1) >> xt)]) >>> 16 & 255, lt = 65535 & ae, !(xt + (at = ae >>> 24) <= te);) {
                                    if (J === 0) break e;
                                    J--, ie += se[ne++] << te, te += 8
                                }
                                ie >>>= xt, te -= xt, P.back += xt
                            }
                            if (ie >>>= at, te -= at, P.back += at, 64 & pt) {
                                V.msg = "invalid distance code", P.mode = 30;
                                break
                            }
                            P.offset = lt, P.extra = 15 & pt, P.mode = 24;
                        case 24:
                            if (P.extra) {
                                for (ee = P.extra; te < ee;) {
                                    if (J === 0) break e;
                                    J--, ie += se[ne++] << te, te += 8
                                }
                                P.offset += ie & (1 << P.extra) - 1, ie >>>= P.extra, te -= P.extra, P.back += P.extra
                            }
                            if (P.offset > P.dmax) {
                                V.msg = "invalid distance too far back", P.mode = 30;
                                break
                            }
                            P.mode = 25;
                        case 25:
                            if (ue === 0) break e;
                            if (ye = De - ue, P.offset > ye) {
                                if ((ye = P.offset - ye) > P.whave && P.sane) {
                                    V.msg = "invalid distance too far back", P.mode = 30;
                                    break
                                }
                                Ue = ye > P.wnext ? (ye -= P.wnext, P.wsize - ye) : P.wnext - ye, ye > P.length && (ye = P.length), Qe = P.window
                            } else Qe = ce, Ue = re - P.offset, ye = P.length;
                            for (ue < ye && (ye = ue), ue -= ye, P.length -= ye; ce[re++] = Qe[Ue++], --ye;);
                            P.length === 0 && (P.mode = 21);
                            break;
                        case 26:
                            if (ue === 0) break e;
                            ce[re++] = P.length, ue--, P.mode = 21;
                            break;
                        case 27:
                            if (P.wrap) {
                                for (; te < 32;) {
                                    if (J === 0) break e;
                                    J--, ie |= se[ne++] << te, te += 8
                                }
                                if (De -= ue, V.total_out += De, P.total += De, De && (V.adler = P.check = P.flags ? a(P.check, ce, De, re - De) : r(P.check, ce, De, re - De)), De = ue, (P.flags ? ie : N(ie)) !== P.check) {
                                    V.msg = "incorrect data check", P.mode = 30;
                                    break
                                }
                                te = ie = 0
                            }
                            P.mode = 28;
                        case 28:
                            if (P.wrap && P.flags) {
                                for (; te < 32;) {
                                    if (J === 0) break e;
                                    J--, ie += se[ne++] << te, te += 8
                                }
                                if (ie !== (4294967295 & P.total)) {
                                    V.msg = "incorrect length check", P.mode = 30;
                                    break
                                }
                                te = ie = 0
                            }
                            P.mode = 29;
                        case 29:
                            ke = 1;
                            break e;
                        case 30:
                            ke = -3;
                            break e;
                        case 31:
                            return -4;
                        case 32:
                        default:
                            return m
                    }
                    return V.next_out = re, V.avail_out = ue, V.next_in = ne, V.avail_in = J, P.hold = ie, P.bits = te, (P.wsize || De !== V.avail_out && P.mode < 30 && (P.mode < 27 || W !== 4)) && me(V, V.output, V.next_out, De - V.avail_out) ? (P.mode = 31, -4) : (we -= V.avail_in, De -= V.avail_out, V.total_in += we, V.total_out += De, P.total += De, P.wrap && De && (V.adler = P.check = P.flags ? a(P.check, ce, De, V.next_out - De) : r(P.check, ce, De, V.next_out - De)), V.data_type = P.bits + (P.last ? 64 : 0) + (P.mode === 12 ? 128 : 0) + (P.mode === 20 || P.mode === 15 ? 256 : 0), (we == 0 && De === 0 || W === 4) && ke === d && (ke = -5), ke)
                }, i.inflateEnd = function(V) {
                    if (!V || !V.state) return m;
                    var W = V.state;
                    return W.window && (W.window = null), V.state = null, d
                }, i.inflateGetHeader = function(V, W) {
                    var P;
                    return V && V.state && 2 & (P = V.state).wrap ? ((P.head = W).done = !1, d) : m
                }, i.inflateSetDictionary = function(V, W) {
                    var P, se = W.length;
                    return V && V.state ? (P = V.state).wrap !== 0 && P.mode !== 11 ? m : P.mode === 11 && r(1, W, se, 0) !== P.check ? -3 : me(V, W, se, se) ? (P.mode = 31, -4) : (P.havedict = 1, d) : m
                }, i.inflateInfo = "pako inflate (from Nodeca project)"
            }, {
                "../utils/common": 41,
                "./adler32": 43,
                "./crc32": 45,
                "./inffast": 48,
                "./inftrees": 50
            }],
            50: [function(e, t, i) {
                "use strict";
                var n = e("../utils/common"),
                    r = [3, 4, 5, 6, 7, 8, 9, 10, 11, 13, 15, 17, 19, 23, 27, 31, 35, 43, 51, 59, 67, 83, 99, 115, 131, 163, 195, 227, 258, 0, 0],
                    a = [16, 16, 16, 16, 16, 16, 16, 16, 17, 17, 17, 17, 18, 18, 18, 18, 19, 19, 19, 19, 20, 20, 20, 20, 21, 21, 21, 21, 16, 72, 78],
                    s = [1, 2, 3, 4, 5, 7, 9, 13, 17, 25, 33, 49, 65, 97, 129, 193, 257, 385, 513, 769, 1025, 1537, 2049, 3073, 4097, 6145, 8193, 12289, 16385, 24577, 0, 0],
                    l = [16, 16, 16, 16, 17, 17, 18, 18, 19, 19, 20, 20, 21, 21, 22, 22, 23, 23, 24, 24, 25, 25, 26, 26, 27, 27, 28, 28, 29, 29, 64, 64];
                t.exports = function(u, f, d, m, T, x, C, N) {
                    var E, O, D, I, H, y, w, X, oe, me = N.bits,
                        V = 0,
                        W = 0,
                        P = 0,
                        se = 0,
                        ce = 0,
                        ne = 0,
                        re = 0,
                        J = 0,
                        ue = 0,
                        ie = 0,
                        te = null,
                        we = 0,
                        De = new n.Buf16(16),
                        ye = new n.Buf16(16),
                        Ue = null,
                        Qe = 0;
                    for (V = 0; V <= 15; V++) De[V] = 0;
                    for (W = 0; W < m; W++) De[f[d + W]]++;
                    for (ce = me, se = 15; 1 <= se && De[se] === 0; se--);
                    if (se < ce && (ce = se), se === 0) return T[x++] = 20971520, T[x++] = 20971520, N.bits = 1, 0;
                    for (P = 1; P < se && De[P] === 0; P++);
                    for (ce < P && (ce = P), V = J = 1; V <= 15; V++)
                        if (J <<= 1, (J -= De[V]) < 0) return -1;
                    if (0 < J && (u === 0 || se !== 1)) return -1;
                    for (ye[1] = 0, V = 1; V < 15; V++) ye[V + 1] = ye[V] + De[V];
                    for (W = 0; W < m; W++) f[d + W] !== 0 && (C[ye[f[d + W]]++] = W);
                    if (y = u === 0 ? (te = Ue = C, 19) : u === 1 ? (te = r, we -= 257, Ue = a, Qe -= 257, 256) : (te = s, Ue = l, -1), V = P, H = x, re = W = ie = 0, D = -1, I = (ue = 1 << (ne = ce)) - 1, u === 1 && 852 < ue || u === 2 && 592 < ue) return 1;
                    for (;;) {
                        for (w = V - re, oe = C[W] < y ? (X = 0, C[W]) : C[W] > y ? (X = Ue[Qe + C[W]], te[we + C[W]]) : (X = 96, 0), E = 1 << V - re, P = O = 1 << ne; T[H + (ie >> re) + (O -= E)] = w << 24 | X << 16 | oe | 0, O !== 0;);
                        for (E = 1 << V - 1; ie & E;) E >>= 1;
                        if (E !== 0 ? (ie &= E - 1, ie += E) : ie = 0, W++, --De[V] == 0) {
                            if (V === se) break;
                            V = f[d + C[W]]
                        }
                        if (ce < V && (ie & I) !== D) {
                            for (re === 0 && (re = ce), H += P, J = 1 << (ne = V - re); ne + re < se && !((J -= De[ne + re]) <= 0);) ne++, J <<= 1;
                            if (ue += 1 << ne, u === 1 && 852 < ue || u === 2 && 592 < ue) return 1;
                            T[D = ie & I] = ce << 24 | ne << 16 | H - x | 0
                        }
                    }
                    return ie !== 0 && (T[H + ie] = V - re << 24 | 64 << 16 | 0), N.bits = ce, 0
                }
            }, {
                "../utils/common": 41
            }],
            51: [function(e, t, i) {
                "use strict";
                t.exports = {
                    2: "need dictionary",
                    1: "stream end",
                    0: "",
                    "-1": "file error",
                    "-2": "stream error",
                    "-3": "data error",
                    "-4": "insufficient memory",
                    "-5": "buffer error",
                    "-6": "incompatible version"
                }
            }, {}],
            52: [function(e, t, i) {
                "use strict";
                var n = e("../utils/common"),
                    r = 0,
                    a = 1;

                function s(ae) {
                    for (var be = ae.length; 0 <= --be;) ae[be] = 0
                }
                var l = 0,
                    u = 29,
                    f = 256,
                    d = f + 1 + u,
                    m = 30,
                    T = 19,
                    x = 2 * d + 1,
                    C = 15,
                    N = 16,
                    E = 7,
                    O = 256,
                    D = 16,
                    I = 17,
                    H = 18,
                    y = [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 0],
                    w = [0, 0, 0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8, 9, 9, 10, 10, 11, 11, 12, 12, 13, 13],
                    X = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 3, 7],
                    oe = [16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15],
                    me = new Array(2 * (d + 2));
                s(me);
                var V = new Array(2 * m);
                s(V);
                var W = new Array(512);
                s(W);
                var P = new Array(256);
                s(P);
                var se = new Array(u);
                s(se);
                var ce, ne, re, J = new Array(m);

                function ue(ae, be, je, Ze, Re) {
                    this.static_tree = ae, this.extra_bits = be, this.extra_base = je, this.elems = Ze, this.max_length = Re, this.has_stree = ae && ae.length
                }

                function ie(ae, be) {
                    this.dyn_tree = ae, this.max_code = 0, this.stat_desc = be
                }

                function te(ae) {
                    return ae < 256 ? W[ae] : W[256 + (ae >>> 7)]
                }

                function we(ae, be) {
                    ae.pending_buf[ae.pending++] = 255 & be, ae.pending_buf[ae.pending++] = be >>> 8 & 255
                }

                function De(ae, be, je) {
                    ae.bi_valid > N - je ? (ae.bi_buf |= be << ae.bi_valid & 65535, we(ae, ae.bi_buf), ae.bi_buf = be >> N - ae.bi_valid, ae.bi_valid += je - N) : (ae.bi_buf |= be << ae.bi_valid & 65535, ae.bi_valid += je)
                }

                function ye(ae, be, je) {
                    De(ae, je[2 * be], je[2 * be + 1])
                }

                function Ue(ae, be) {
                    for (var je = 0; je |= 1 & ae, ae >>>= 1, je <<= 1, 0 < --be;);
                    return je >>> 1
                }

                function Qe(ae, be, je) {
                    var Ze, Re, Je = new Array(C + 1),
                        dt = 0;
                    for (Ze = 1; Ze <= C; Ze++) Je[Ze] = dt = dt + je[Ze - 1] << 1;
                    for (Re = 0; Re <= be; Re++) {
                        var et = ae[2 * Re + 1];
                        et !== 0 && (ae[2 * Re] = Ue(Je[et]++, et))
                    }
                }

                function at(ae) {
                    var be;
                    for (be = 0; be < d; be++) ae.dyn_ltree[2 * be] = 0;
                    for (be = 0; be < m; be++) ae.dyn_dtree[2 * be] = 0;
                    for (be = 0; be < T; be++) ae.bl_tree[2 * be] = 0;
                    ae.dyn_ltree[2 * O] = 1, ae.opt_len = ae.static_len = 0, ae.last_lit = ae.matches = 0
                }

                function pt(ae) {
                    8 < ae.bi_valid ? we(ae, ae.bi_buf) : 0 < ae.bi_valid && (ae.pending_buf[ae.pending++] = ae.bi_buf), ae.bi_buf = 0, ae.bi_valid = 0
                }

                function lt(ae, be, je, Ze) {
                    var Re = 2 * be,
                        Je = 2 * je;
                    return ae[Re] < ae[Je] || ae[Re] === ae[Je] && Ze[be] <= Ze[je]
                }

                function xt(ae, be, je) {
                    for (var Ze = ae.heap[je], Re = je << 1; Re <= ae.heap_len && (Re < ae.heap_len && lt(be, ae.heap[Re + 1], ae.heap[Re], ae.depth) && Re++, !lt(be, Ze, ae.heap[Re], ae.depth));) ae.heap[je] = ae.heap[Re], je = Re, Re <<= 1;
                    ae.heap[je] = Ze
                }

                function Bt(ae, be, je) {
                    var Ze, Re, Je, dt, et = 0;
                    if (ae.last_lit !== 0)
                        for (; Ze = ae.pending_buf[ae.d_buf + 2 * et] << 8 | ae.pending_buf[ae.d_buf + 2 * et + 1], Re = ae.pending_buf[ae.l_buf + et], et++, Ze === 0 ? ye(ae, Re, be) : (ye(ae, (Je = P[Re]) + f + 1, be), (dt = y[Je]) !== 0 && De(ae, Re -= se[Je], dt), ye(ae, Je = te(--Ze), je), (dt = w[Je]) !== 0 && De(ae, Ze -= J[Je], dt)), et < ae.last_lit;);
                    ye(ae, O, be)
                }

                function At(ae, be) {
                    var je, Ze, Re, Je = be.dyn_tree,
                        dt = be.stat_desc.static_tree,
                        et = be.stat_desc.has_stree,
                        We = be.stat_desc.elems,
                        Ft = -1;
                    for (ae.heap_len = 0, ae.heap_max = x, je = 0; je < We; je++) Je[2 * je] !== 0 ? (ae.heap[++ae.heap_len] = Ft = je, ae.depth[je] = 0) : Je[2 * je + 1] = 0;
                    for (; ae.heap_len < 2;) Je[2 * (Re = ae.heap[++ae.heap_len] = Ft < 2 ? ++Ft : 0)] = 1, ae.depth[Re] = 0, ae.opt_len--, et && (ae.static_len -= dt[2 * Re + 1]);
                    for (be.max_code = Ft, je = ae.heap_len >> 1; 1 <= je; je--) xt(ae, Je, je);
                    for (Re = We; je = ae.heap[1], ae.heap[1] = ae.heap[ae.heap_len--], xt(ae, Je, 1), Ze = ae.heap[1], ae.heap[--ae.heap_max] = je, ae.heap[--ae.heap_max] = Ze, Je[2 * Re] = Je[2 * je] + Je[2 * Ze], ae.depth[Re] = (ae.depth[je] >= ae.depth[Ze] ? ae.depth[je] : ae.depth[Ze]) + 1, Je[2 * je + 1] = Je[2 * Ze + 1] = Re, ae.heap[1] = Re++, xt(ae, Je, 1), 2 <= ae.heap_len;);
                    ae.heap[--ae.heap_max] = ae.heap[1],
                        function(ti, _n) {
                            var Ar, En, cr, ci, Hi, Cn, pn = _n.dyn_tree,
                                sn = _n.max_code,
                                on = _n.stat_desc.static_tree,
                                aa = _n.stat_desc.has_stree,
                                Ba = _n.stat_desc.extra_bits,
                                Dr = _n.stat_desc.extra_base,
                                Pn = _n.stat_desc.max_length,
                                bn = 0;
                            for (ci = 0; ci <= C; ci++) ti.bl_count[ci] = 0;
                            for (pn[2 * ti.heap[ti.heap_max] + 1] = 0, Ar = ti.heap_max + 1; Ar < x; Ar++) Pn < (ci = pn[2 * pn[2 * (En = ti.heap[Ar]) + 1] + 1] + 1) && (ci = Pn, bn++), pn[2 * En + 1] = ci, sn < En || (ti.bl_count[ci]++, Hi = 0, Dr <= En && (Hi = Ba[En - Dr]), Cn = pn[2 * En], ti.opt_len += Cn * (ci + Hi), aa && (ti.static_len += Cn * (on[2 * En + 1] + Hi)));
                            if (bn !== 0) {
                                do {
                                    for (ci = Pn - 1; ti.bl_count[ci] === 0;) ci--;
                                    ti.bl_count[ci]--, ti.bl_count[ci + 1] += 2, ti.bl_count[Pn]--, bn -= 2
                                } while (0 < bn);
                                for (ci = Pn; ci !== 0; ci--)
                                    for (En = ti.bl_count[ci]; En !== 0;) sn < (cr = ti.heap[--Ar]) || (pn[2 * cr + 1] !== ci && (ti.opt_len += (ci - pn[2 * cr + 1]) * pn[2 * cr], pn[2 * cr + 1] = ci), En--)
                            }
                        }(ae, be), Qe(Je, Ft, ae.bl_count)
                }

                function F(ae, be, je) {
                    var Ze, Re, Je = -1,
                        dt = be[1],
                        et = 0,
                        We = 7,
                        Ft = 4;
                    for (dt === 0 && (We = 138, Ft = 3), be[2 * (je + 1) + 1] = 65535, Ze = 0; Ze <= je; Ze++) Re = dt, dt = be[2 * (Ze + 1) + 1], ++et < We && Re === dt || (et < Ft ? ae.bl_tree[2 * Re] += et : Re !== 0 ? (Re !== Je && ae.bl_tree[2 * Re]++, ae.bl_tree[2 * D]++) : et <= 10 ? ae.bl_tree[2 * I]++ : ae.bl_tree[2 * H]++, Je = Re, Ft = (et = 0) === dt ? (We = 138, 3) : Re === dt ? (We = 6, 3) : (We = 7, 4))
                }

                function ke(ae, be, je) {
                    var Ze, Re, Je = -1,
                        dt = be[1],
                        et = 0,
                        We = 7,
                        Ft = 4;
                    for (dt === 0 && (We = 138, Ft = 3), Ze = 0; Ze <= je; Ze++)
                        if (Re = dt, dt = be[2 * (Ze + 1) + 1], !(++et < We && Re === dt)) {
                            if (et < Ft)
                                for (; ye(ae, Re, ae.bl_tree), --et != 0;);
                            else Re !== 0 ? (Re !== Je && (ye(ae, Re, ae.bl_tree), et--), ye(ae, D, ae.bl_tree), De(ae, et - 3, 2)) : et <= 10 ? (ye(ae, I, ae.bl_tree), De(ae, et - 3, 3)) : (ye(ae, H, ae.bl_tree), De(ae, et - 11, 7));
                            Je = Re, Ft = (et = 0) === dt ? (We = 138, 3) : Re === dt ? (We = 6, 3) : (We = 7, 4)
                        }
                }
                s(J);
                var Ce = !1;

                function ee(ae, be, je, Ze) {
                    De(ae, (l << 1) + (Ze ? 1 : 0), 3),
                        function(Re, Je, dt, et) {
                            pt(Re), et && (we(Re, dt), we(Re, ~dt)), n.arraySet(Re.pending_buf, Re.window, Je, dt, Re.pending), Re.pending += dt
                        }(ae, be, je, !0)
                }
                i._tr_init = function(ae) {
                    Ce || (function() {
                        var be, je, Ze, Re, Je, dt = new Array(C + 1);
                        for (Re = Ze = 0; Re < u - 1; Re++)
                            for (se[Re] = Ze, be = 0; be < 1 << y[Re]; be++) P[Ze++] = Re;
                        for (P[Ze - 1] = Re, Re = Je = 0; Re < 16; Re++)
                            for (J[Re] = Je, be = 0; be < 1 << w[Re]; be++) W[Je++] = Re;
                        for (Je >>= 7; Re < m; Re++)
                            for (J[Re] = Je << 7, be = 0; be < 1 << w[Re] - 7; be++) W[256 + Je++] = Re;
                        for (je = 0; je <= C; je++) dt[je] = 0;
                        for (be = 0; be <= 143;) me[2 * be + 1] = 8, be++, dt[8]++;
                        for (; be <= 255;) me[2 * be + 1] = 9, be++, dt[9]++;
                        for (; be <= 279;) me[2 * be + 1] = 7, be++, dt[7]++;
                        for (; be <= 287;) me[2 * be + 1] = 8, be++, dt[8]++;
                        for (Qe(me, d + 1, dt), be = 0; be < m; be++) V[2 * be + 1] = 5, V[2 * be] = Ue(be, 5);
                        ce = new ue(me, y, f + 1, d, C), ne = new ue(V, w, 0, m, C), re = new ue(new Array(0), X, 0, T, E)
                    }(), Ce = !0), ae.l_desc = new ie(ae.dyn_ltree, ce), ae.d_desc = new ie(ae.dyn_dtree, ne), ae.bl_desc = new ie(ae.bl_tree, re), ae.bi_buf = 0, ae.bi_valid = 0, at(ae)
                }, i._tr_stored_block = ee, i._tr_flush_block = function(ae, be, je, Ze) {
                    var Re, Je, dt = 0;
                    0 < ae.level ? (ae.strm.data_type === 2 && (ae.strm.data_type = function(et) {
                        var We, Ft = 4093624447;
                        for (We = 0; We <= 31; We++, Ft >>>= 1)
                            if (1 & Ft && et.dyn_ltree[2 * We] !== 0) return r;
                        if (et.dyn_ltree[18] !== 0 || et.dyn_ltree[20] !== 0 || et.dyn_ltree[26] !== 0) return a;
                        for (We = 32; We < f; We++)
                            if (et.dyn_ltree[2 * We] !== 0) return a;
                        return r
                    }(ae)), At(ae, ae.l_desc), At(ae, ae.d_desc), dt = function(et) {
                        var We;
                        for (F(et, et.dyn_ltree, et.l_desc.max_code), F(et, et.dyn_dtree, et.d_desc.max_code), At(et, et.bl_desc), We = T - 1; 3 <= We && et.bl_tree[2 * oe[We] + 1] === 0; We--);
                        return et.opt_len += 3 * (We + 1) + 5 + 5 + 4, We
                    }(ae), Re = ae.opt_len + 3 + 7 >>> 3, (Je = ae.static_len + 3 + 7 >>> 3) <= Re && (Re = Je)) : Re = Je = je + 5, je + 4 <= Re && be !== -1 ? ee(ae, be, je, Ze) : ae.strategy === 4 || Je === Re ? (De(ae, 2 + (Ze ? 1 : 0), 3), Bt(ae, me, V)) : (De(ae, 4 + (Ze ? 1 : 0), 3), function(et, We, Ft, ti) {
                        var _n;
                        for (De(et, We - 257, 5), De(et, Ft - 1, 5), De(et, ti - 4, 4), _n = 0; _n < ti; _n++) De(et, et.bl_tree[2 * oe[_n] + 1], 3);
                        ke(et, et.dyn_ltree, We - 1), ke(et, et.dyn_dtree, Ft - 1)
                    }(ae, ae.l_desc.max_code + 1, ae.d_desc.max_code + 1, dt + 1), Bt(ae, ae.dyn_ltree, ae.dyn_dtree)), at(ae), Ze && pt(ae)
                }, i._tr_tally = function(ae, be, je) {
                    return ae.pending_buf[ae.d_buf + 2 * ae.last_lit] = be >>> 8 & 255, ae.pending_buf[ae.d_buf + 2 * ae.last_lit + 1] = 255 & be, ae.pending_buf[ae.l_buf + ae.last_lit] = 255 & je, ae.last_lit++, be === 0 ? ae.dyn_ltree[2 * je]++ : (ae.matches++, be--, ae.dyn_ltree[2 * (P[je] + f + 1)]++, ae.dyn_dtree[2 * te(be)]++), ae.last_lit === ae.lit_bufsize - 1
                }, i._tr_align = function(ae) {
                    De(ae, 2, 3), ye(ae, O, me),
                        function(be) {
                            be.bi_valid === 16 ? (we(be, be.bi_buf), be.bi_buf = 0, be.bi_valid = 0) : 8 <= be.bi_valid && (be.pending_buf[be.pending++] = 255 & be.bi_buf, be.bi_buf >>= 8, be.bi_valid -= 8)
                        }(ae)
                }
            }, {
                "../utils/common": 41
            }],
            53: [function(e, t, i) {
                "use strict";
                t.exports = function() {
                    this.input = null, this.next_in = 0, this.avail_in = 0, this.total_in = 0, this.output = null, this.next_out = 0, this.avail_out = 0, this.total_out = 0, this.msg = "", this.state = null, this.data_type = 2, this.adler = 0
                }
            }, {}],
            54: [function(e, t, i) {
                (function(n) {
                    (function(r, a) {
                        "use strict";
                        if (!r.setImmediate) {
                            var s, l, u, f, d = 1,
                                m = {},
                                T = !1,
                                x = r.document,
                                C = Object.getPrototypeOf && Object.getPrototypeOf(r);
                            C = C && C.setTimeout ? C : r, s = {}.toString.call(r.process) === "[object process]" ? function(D) {
                                process.nextTick(function() {
                                    E(D)
                                })
                            } : function() {
                                if (r.postMessage && !r.importScripts) {
                                    var D = !0,
                                        I = r.onmessage;
                                    return r.onmessage = function() {
                                        D = !1
                                    }, r.postMessage("", "*"), r.onmessage = I, D
                                }
                            }() ? (f = "setImmediate$" + Math.random() + "$", r.addEventListener ? r.addEventListener("message", O, !1) : r.attachEvent("onmessage", O), function(D) {
                                r.postMessage(f + D, "*")
                            }) : r.MessageChannel ? ((u = new MessageChannel).port1.onmessage = function(D) {
                                E(D.data)
                            }, function(D) {
                                u.port2.postMessage(D)
                            }) : x && "onreadystatechange" in x.createElement("script") ? (l = x.documentElement, function(D) {
                                var I = x.createElement("script");
                                I.onreadystatechange = function() {
                                    E(D), I.onreadystatechange = null, l.removeChild(I), I = null
                                }, l.appendChild(I)
                            }) : function(D) {
                                setTimeout(E, 0, D)
                            }, C.setImmediate = function(D) {
                                typeof D != "function" && (D = new Function("" + D));
                                for (var I = new Array(arguments.length - 1), H = 0; H < I.length; H++) I[H] = arguments[H + 1];
                                var y = {
                                    callback: D,
                                    args: I
                                };
                                return m[d] = y, s(d), d++
                            }, C.clearImmediate = N
                        }

                        function N(D) {
                            delete m[D]
                        }

                        function E(D) {
                            if (T) setTimeout(E, 0, D);
                            else {
                                var I = m[D];
                                if (I) {
                                    T = !0;
                                    try {
                                        (function(H) {
                                            var y = H.callback,
                                                w = H.args;
                                            switch (w.length) {
                                                case 0:
                                                    y();
                                                    break;
                                                case 1:
                                                    y(w[0]);
                                                    break;
                                                case 2:
                                                    y(w[0], w[1]);
                                                    break;
                                                case 3:
                                                    y(w[0], w[1], w[2]);
                                                    break;
                                                default:
                                                    y.apply(a, w)
                                            }
                                        })(I)
                                    } finally {
                                        N(D), T = !1
                                    }
                                }
                            }
                        }

                        function O(D) {
                            D.source === r && typeof D.data == "string" && D.data.indexOf(f) === 0 && E(+D.data.slice(f.length))
                        }
                    })(typeof self > "u" ? n === void 0 ? this : n : self)
                }).call(this, typeof global < "u" ? global : typeof self < "u" ? self : typeof window < "u" ? window : {})
            }, {}]
        }, {}, [10])(10)
    })
});
var ay = ei(Fg());
var H0 = ei(z0());

function $0() {
    let e = (0, H0.default)();
    this.xml.jsEvaluate = e.evaluate
}
var ya = document.createTreeWalker(document.documentElement, NodeFilter.SHOW_COMMENT),
    md = (e, t, i = {}) => {
        let {
            maxItems: n,
            startElement: r
        } = i, a = ya.currentNode;
        ya.currentNode = r != null ? r : e;
        let s = [];
        for (; ya.nextNode() != null;) {
            let l = ya.currentNode;
            if (!e.contains(l) || t(l.data) && (s.push(l), n != null && s.length === n)) break
        }
        return ya.currentNode = a, s
    },
    vd = (e, t, i) => {
        let n = ya.currentNode;
        ya.currentNode = e;
        let r = -1,
            a = null;
        for (; r < i && ya.nextNode() != null;) {
            let s = ya.currentNode;
            if (s.data === t && (r += 1, r === i)) {
                a = s;
                break
            }
        }
        return ya.currentNode = n, a
    };
var j0 = Symbol("BREAK"),
    W0 = new Set,
    Jc = new Set,
    Wo = class {
        constructor(t, i, n, r, a) {
            var x, C;
            if (W0.has(t)) throw new Error(`The id parameter must be unique per form, "${t}" is already used`);
            Jc.add(this), this.id = t, this.form = i, this.rootElement = n, this.prefix = `${t}:`, this.selector = r, this.refAttr = a != null ? a : null, this.refs = new Set, this.repeatDescendantRefs = new Set, this.topLevelGroupRefs = new Set, this.refIndexCache = new Map([
                ["", new WeakMap]
            ]), this.refElementsCache = new Map;
            let {
                refs: s
            } = this, l = n.querySelectorAll(r), u = l[0], f = u == null || u.parentElement == null;
            this.isNoop = f, this.startElement = f ? n : (x = u == null ? void 0 : u.previousElementSibling) != null ? x : n, this.startElementContainer = f ? n : (C = this.startElement.closest(".or-group")) != null ? C : n;
            let d = u == null ? void 0 : u.nodeName.toLowerCase();
            this.commentToElementKey = d === "input" ? "nextElementSibling" : "parentElement";
            let m = d === "input" ? (N, E) => {
                    N.before(E)
                } : (N, E) => {
                    N.prepend(E)
                },
                T = i.initialized ? !i.features.repeat : n.querySelector(".or-repeat") == null;
            l.forEach(N => {
                let E = a == null ? "" : N.getAttribute(a);
                if (E == null) return;
                this.refs.has(E) || (s.add(E), !T && N.closest(".or-repeat") != null ? (this.repeatDescendantRefs.add(E), this.refIndexCache.set(E, new WeakMap)) : (this.refElementsCache.set(E, [N]), this.refIndexCache.set(E, new WeakMap([
                    [N, 0]
                ]))));
                let O = document.createComment(`${t}:${E}`);
                m(N, O)
            }), this.isStatic = this.isNoop || (i.initialized ? !i.features.repeat : n.querySelector(".or-repeat") == null) || this.repeatDescendantRefs.size === 0
        }
        reset() {
            this.isNoop = !0, this.isStatic = !0, this.refs = new Set, this.repeatDescendantRefs = new Set, this.topLevelGroupRefs = new Set, this.refIndexCache = new Map([
                ["", new WeakMap]
            ]), this.refElementsCache = new Map, this.rootElement = document.createElement("no-op")
        }
        invalidate(t) {
            if (this.isNoop || this.isStatic) return;
            this.refElementsCache.delete(""), this.refIndexCache.set("", new WeakMap);
            let i = Array.from(this.repeatDescendantRefs);
            if (t != null) {
                let n = `${t}/`;
                i = i.filter(r => r === t || r.startsWith(n))
            }
            for (let n of i) this.refElementsCache.delete(n), this.refIndexCache.set(n, new WeakMap)
        }
        hasRef(t) {
            return this.refs.has(t)
        }
        walk(t, i = {}) {
            let {
                isNoop: n,
                prefix: r,
                rootElement: a
            } = this;
            if (n) return;
            let {
                matchRef: s
            } = i, l = 0, {
                startElement: u,
                startElementContainer: f
            } = this;
            f.isConnected || (f = a, this.startElementContainer = f), u.isConnected || (u = f.isConnected ? f : this.rootElement, this.startElement = u);
            let d = s ? `${r}${s}` : null,
                m = md(a, d == null ? x => x.startsWith(r) : x => x === d, {
                    startElement: u
                }),
                {
                    commentToElementKey: T
                } = this;
            for (let x of m) {
                let C = x[T];
                if (t(C, l) === j0) break;
                l += 1
            }
        }
        collect(t = {}) {
            let {
                cacheIndexes: i = !1,
                matchRef: n
            } = t, r = [];
            return this.walk((a, s) => {
                r.push(a), i && this.setRefIndexCache(a, s)
            }, {
                matchRef: n
            }), r
        }
        getIndex(t, i = {}) {
            let {
                matchRef: n,
                cacheIndexes: r = n != null
            } = i, a = -1;
            return this.walk((s, l) => {
                if (r && this.setRefIndexCache(s, l, n != null ? n : ""), s === t) return a = l, j0
            }, {
                matchRef: n
            }), a
        }
        getElements() {
            return this.getElementsByRef("")
        }
        getElement(t = 0) {
            return this.getElements()[t]
        }
        getElementsByRef(t) {
            if (this.isNoop) return [];
            let i = this.refElementsCache.get(t);
            if (i == null) {
                let n = t !== "" || this.refAttr == null,
                    r = t || null;
                i = this.collect({
                    cacheIndexes: n,
                    matchRef: r
                }), this.refElementsCache.set(t, i)
            }
            return i
        }
        getElementByRef(t, i = 0) {
            return this.getElementsByRef(t)[i]
        }
        indexOf(t) {
            return this.isNoop ? 0 : this.getIndex(t)
        }
        setRefIndexCache(t, i, n = this.refAttr == null ? "" : (r => (r = t.getAttribute(this.refAttr)) != null ? r : "")()) {
            let a = this.refIndexCache.get(n);
            a == null && (a = new WeakMap, this.refIndexCache.set(n, a)), a.set(t, i)
        }
        refIndexOf(t, i) {
            var r;
            if (this.isNoop) return 0;
            let n = (r = this.refIndexCache.get(i)) == null ? void 0 : r.get(t);
            return (n == null || n === -1 && this.rootElement.contains(t)) && (n = this.getIndex(t, {
                matchRef: i
            }), this.setRefIndexCache(t, n)), n
        }
    },
    yd = e => {
        let t = e.view.html;
        for (ya.currentNode = t; ya.nextNode() != null;);
        let i = {
                valueChanged: e.features.valueChangedAction ? new Wo("valueChangedActions", e, t, ".xforms-value-changed", "name") : null
            },
            n = new Wo("groups", e, t, ".or-group, .or-group-data", "name"),
            r = new Wo("refTargetContainers", e, t, ".contains-ref-target", "data-contains-ref-target"),
            a = new Wo("repeats", e, t, ".or-repeat", "name"),
            s = new Wo("repeatInfos", e, t, ".or-repeat-info", "data-name");
        return {
            actions: i,
            groups: n,
            refTargetContainers: r,
            repeats: a,
            repeatInfos: s
        }
    },
    ef = e => {
        for (let t of Jc) t.invalidate(e)
    },
    _d = () => {
        for (let e of Jc) e.reset();
        W0 = new Set, Jc = new Set
    };
var bd = e => {
    let t = e.querySelector(".action") != null,
        i = t || e.querySelector("[data-calculate]") != null,
        n = t && e.querySelector(".odk-instance-first-load") != null,
        r = e.querySelector(".itemset-template") != null,
        a = t && e.querySelector(".odk-new-repeat") != null,
        s = e.querySelector(".or-output") != null,
        l = e.classList.contains("pages"),
        u = e.querySelector("[data-relevant]") != null,
        f = e.querySelector(".or-repeat") != null,
        d = f && e.querySelector(".or-repeat-info[data-repeat-count]") != null,
        m = e.querySelector("[data-required]") != null,
        T = e.querySelector(".xforms-value-changed") != null;
    return {
        action: t,
        calculate: i,
        instanceFirstLoadAction: n,
        itemset: r,
        newRepeatAction: a,
        output: s,
        pagination: l,
        relevant: u,
        repeatCount: d,
        repeat: f,
        required: m,
        valueChangedAction: T
    }
};
var xd = e => {
    var u, f, d, m, T;
    if (e.input == null) throw new Error("Must be called after `form.input` initialization");
    let t = e.view.html,
        i = t.querySelector("[data-setvalue], [data-setgeopoint]") != null,
        n = i ? "[name], [data-name], [data-setvalue], [data-setgeopoint]" : ".question [name], .question [data-name]",
        r = t.querySelectorAll(n),
        a = ["odk-instance-first-load", "odk-new-repeat", "xforms-value-changed"],
        s = a.map(x => `non-${x}`),
        l = [];
    for (let x of r) {
        if (i) {
            let C = x.dataset.setvalue != null || x.dataset.setgeopoint != null,
                N = C && x.closest(".question") != null,
                E = [C ? "action" : "non-action", N ? "form-control-action" : "non-form-control-action"],
                O = C ? (d = (f = (u = x.dataset.event) == null ? void 0 : u.trim()) == null ? void 0 : f.split(/\s+/)) != null ? d : [] : [],
                D = C ? a.map((I, H) => O.includes(I) ? I : s[H]) : s;
            l = [...E, ...D], x.classList.add(...l)
        }
        if (!i || !x.matches('.or-group, .or-group-data, .or-repeat, .or-repeat-info, .question [data-event="xforms-value-changed"]')) {
            let C = (m = x.dataset.name) != null ? m : x.getAttribute("name");
            if (C == null) return;
            let N = (T = x.closest(".itemset-template")) != null ? T : e.input.getWrapNode(x);
            x.classList.add("ref-target"), N.classList.add("contains-ref-target"), N.dataset.containsRefTarget = C, x.dataset.ref = C
        }
    }
};

function fo(e, t) {
    return K0(e, t, !0)
}

function Ll(e, t) {
    return K0(e, t)
}

function An(e, t = "*") {
    let i, n = e.parentElement.firstElementChild;
    for (; n && !i;) n !== e && n.matches(t) && (i = n), n = n.nextElementSibling;
    return i
}

function K0(e, t = "*", i = !1) {
    let n = [],
        r = e.parentElement.firstElementChild;
    for (; r;)(r === e && i || r !== e && r.matches(t)) && n.push(r), r = r.nextElementSibling;
    return n
}

function ho(e, t = "*", i = null) {
    let n = [],
        r = e.parentElement;
    for (; r;) r.matches(t) && n.unshift(r), r = i && r.matches(i) ? null : r.parentElement;
    return n
}

function Ko(e, t = "*", i = null) {
    let n = e.parentElement,
        r = null;
    for (; n && !r;) n.matches(t) && (r = n), n = i && n.matches(i) ? null : n.parentElement;
    return r
}

function _u(e, t = "*") {
    return [...e.children].filter(i => i.matches(t))
}

function gs(e, t = "*") {
    return [...e.children].find(i => i.matches(t))
}

function G0(e) {
    [...e.children].forEach(t => t.remove())
}

function wd(e) {
    let t = !1,
        {
            nodeName: i
        } = e;
    for (e = e.previousSibling; e;) {
        if (e.nodeName && e.nodeName === i) {
            t = !0;
            break
        }
        e = e.previousSibling
    }
    return t
}

function kL(e) {
    let t = !1,
        {
            nodeName: i
        } = e;
    for (e = e.nextSibling; e;) {
        if (e.nodeName && e.nodeName === i) {
            t = !0;
            break
        }
        e = e.nextSibling
    }
    return t
}

function IL(e) {
    return kL(e) || wd(e)
}

function Z0(e, t) {
    let i = !1;
    for (e = e.previousSibling; e;) {
        if (e.nodeType === Node.COMMENT_NODE && e.textContent === t) {
            i = !0;
            break
        }
        e = e.previousSibling
    }
    return i
}

function kr(e, t = "#document", i = !1) {
    let n, r = [],
        a = "";
    if (!e || e.nodeType !== 1) return null;
    let {
        nodeName: s
    } = e, l = e.parentElement, u = l ? l.nodeName : null;
    for (i && (n = tf(e), n > 0 && (a = `[${n+1}]`)), r.push(s + a); l && u !== t && u !== "#document";) i && (n = tf(l), a = IL(l) ? `[${n+1}]` : ""), r.push(u + a), l = l.parentElement, u = l ? l.nodeName : null;
    return `/${r.reverse().join("/")}`
}

function tf(e) {
    let t = 0,
        {
            nodeName: i
        } = e,
        n = e.previousSibling;
    for (; n;) n.nodeName && n.nodeName === i && t++, n = n.previousSibling;
    return t
}
var Qn = {
        _storage: new WeakMap,
        put(e, t, i) {
            this._storage.has(e) || this._storage.set(e, new Map), this._storage.get(e).set(t, i)
        },
        get(e, t) {
            let i = this._storage.get(e);
            return i && i.get(t)
        },
        has(e, t) {
            let i = this._storage.get(e);
            return i && i.has(t)
        },
        remove(e, t) {
            let i = this._storage.get(e).delete(t);
            return !this._storage.get(t).size === 0 && this._storage.delete(e), i
        }
    },
    Tl = class {
        constructor(t = document.documentElement) {
            let i = 0,
                n = i;
            this.classChanges = new WeakMap, this.quiet = !0;
            let r = new MutationObserver(s => {
                s.forEach(l => {
                    if (i++, l.type === "attributes" && l.attributeName === "class") {
                        let u = this.classChanges.get(l.target) || [];
                        u.forEach(f => {
                            l.target.classList.contains(f.className) && (f.completed = !0, this.classChanges.set(l.target, u))
                        })
                    }
                })
            });
            r.observe(t, {
                attributes: !0,
                characterData: !0,
                childList: !0,
                subtree: !0,
                attributeOldValue: !0,
                characterDataOldValue: !0
            });
            let a = setInterval(() => {
                n === i ? (this.quiet = !0, r.disconnect(), clearInterval(a)) : (this.quiet = !1, n = i)
            }, 100)
        }
        _resolveWhenTrue(t) {
            return typeof t != "function" ? Promise.reject() : new Promise(i => {
                let n = setInterval(() => {
                    t.call(this) && (clearInterval(n), i())
                }, 10)
            })
        }
        waitForClassChange(t, i) {
            let n = this.classChanges.get(t) || [];
            return n.some(r => r.className === i) || (n.push({
                className: i
            }), this.classChanges.set(t, n)), this._resolveWhenTrue(() => this.classChanges.get(t).find(r => r.className === i).completed)
        }
        waitForQuietness() {
            return this._resolveWhenTrue(() => this.quiet)
        }
    },
    X0 = null,
    Y0 = new IntersectionObserver(e => {
        for (let {
                target: t,
                isIntersecting: i
            } of e) t === X0 && !i && t.scrollIntoView({
            block: "nearest",
            inline: "nearest"
        }), Y0.unobserve(t)
    }),
    Q0 = e => {
        X0 = e, Y0.observe(e)
    };

function nf(e) {
    this.message = e || "unknown", this.name = "FormLogicError", this.stack = new Error().stack
}
nf.prototype = Object.create(Error.prototype);
nf.prototype.constructor = nf;
var Go = nf;
var kl = ei(Po());

function AL(e) {
    return new CustomEvent("dataupdate", {
        detail: e
    })
}

function DL() {
    return new CustomEvent("fakefocus", {
        bubbles: !0
    })
}

function NL() {
    return new CustomEvent("applyfocus")
}

function PL() {
    return new CustomEvent("pageflip", {
        bubbles: !0
    })
}

function RL(e) {
    return new CustomEvent("removed", {
        detail: e,
        bubbles: !0
    })
}

function BL() {
    return new CustomEvent("odk-instance-first-load", {
        bubbles: !0
    })
}

function ML(e) {
    return new CustomEvent("odk-new-repeat", {
        detail: e,
        bubbles: !0
    })
}

function OL(e = {}) {
    return new CustomEvent("addrepeat", {
        detail: e,
        bubbles: !0
    })
}

function UL(e) {
    return new CustomEvent("removerepeat", {
        detail: e,
        bubbles: !0
    })
}

function FL() {
    return new CustomEvent("changelanguage", {
        bubbles: !0
    })
}

function qL() {
    return new Event("change", {
        bubbles: !0
    })
}

function VL(e) {
    return new CustomEvent("xforms-value-changed", {
        detail: e,
        bubbles: !0
    })
}

function zL() {
    return new Event("input", {
        bubbles: !0
    })
}

function HL() {
    return new CustomEvent("inputupdate", {
        bubbles: !0
    })
}

function $L() {
    return new CustomEvent("edited", {
        bubbles: !0
    })
}

function jL() {
    return new CustomEvent("before-save", {
        bubbles: !0
    })
}

function WL() {
    return new CustomEvent("validation-complete", {
        bubbles: !0
    })
}

function KL() {
    return new CustomEvent("invalidated", {
        bubbles: !0
    })
}

function GL(e) {
    return new CustomEvent("progress-update", {
        detail: e,
        bubbles: !0
    })
}

function ZL() {
    return new CustomEvent("goto-irrelevant", {
        bubbles: !0
    })
}

function XL() {
    return new CustomEvent("goto-invisible", {
        bubbles: !0
    })
}

function YL() {
    return new CustomEvent("change-option", {
        bubbles: !0
    })
}

function QL() {
    return new CustomEvent("printify", {
        bubbles: !0
    })
}

function JL() {
    return new CustomEvent("deprintify", {
        bubbles: !0
    })
}

function ek() {
    return new CustomEvent("update-max-size", {
        bubbles: !0
    })
}
var He = {
    DataUpdate: AL,
    FakeFocus: DL,
    ApplyFocus: NL,
    PageFlip: PL,
    Removed: RL,
    InstanceFirstLoad: BL,
    NewRepeat: ML,
    AddRepeat: OL,
    RemoveRepeat: UL,
    ChangeLanguage: FL,
    Change: qL,
    Input: zL,
    InputUpdate: HL,
    Edited: $L,
    BeforeSave: jL,
    ValidationComplete: WL,
    Invalidated: KL,
    ProgressUpdate: GL,
    GoToIrrelevant: ZL,
    GoToInvisible: XL,
    XFormsValueChanged: VL,
    ChangeOption: YL,
    Printify: QL,
    DePrintify: JL,
    UpdateMaxSize: ek
};
var Ed = null,
    J0 = () => {
        let e = Intl.getCanonicalLocales(navigator.languages),
            t = new Date(2e3, 1, 1, 1, 23, 45),
            i = t.toLocaleString(),
            n = t.toLocaleTimeString(),
            r = Intl.DateTimeFormat(e, {
                timeStyle: "short"
            });
        Ed = {
            locales: e,
            dateString: i,
            timeString: n,
            timeFormatter: r
        }
    },
    ey = e => {
        let t = () => {
            J0(), e == null || e.dispatchEvent(He.ChangeLanguage())
        };
        return addEventListener("languagechange", t), J0(), removeEventListener.bind(window, "languagechange", t)
    },
    ur = {
        get hour12() {
            let {
                hour12: e
            } = Ed.timeFormatter.resolvedOptions();
            return Boolean(e)
        },
        get pmNotation() {
            return this.meridianNotation(new Date(2e3, 1, 1, 23, 0, 0))
        },
        get amNotation() {
            return this.meridianNotation(new Date(2e3, 1, 1, 1, 0, 0))
        },
        meridianNotation(e) {
            let i = Ed.timeFormatter.formatToParts(e).find(({
                type: n
            }) => n === "dayPeriod");
            return i != null ? i.value : null
        },
        hasMeridian(e) {
            return e.includes(this.amNotation) || e.includes(this.pmNotation)
        }
    };
var Rs = {
        string: {
            convert(e) {
                return e.replace(/^\s+$/, "")
            },
            validate() {
                return !0
            }
        },
        select: {
            validate() {
                return !0
            }
        },
        select1: {
            validate() {
                return !0
            }
        },
        decimal: {
            convert(e) {
                let t = Number(e);
                return isNaN(t) || t === Number.POSITIVE_INFINITY || t === Number.NEGATIVE_INFINITY ? "" : t
            },
            validate(e) {
                let t = Number(e);
                return !isNaN(t) && t !== Number.POSITIVE_INFINITY && t !== Number.NEGATIVE_INFINITY
            }
        },
        int: {
            convert(e) {
                let t = Number(e);
                return isNaN(t) || t === Number.POSITIVE_INFINITY || t === Number.NEGATIVE_INFINITY ? "" : t >= 0 ? Math.floor(t) : -Math.floor(Math.abs(t))
            },
            validate(e) {
                let t = Number(e);
                return !isNaN(t) && t !== Number.POSITIVE_INFINITY && t !== Number.NEGATIVE_INFINITY && Math.round(t) === t && t.toString() === e.toString()
            }
        },
        date: {
            validate(e) {
                let i = /^([0-9]{4})-([0-9]{2})-([0-9]{2})$/.exec(e);
                if (i && i.length === 4) {
                    let n = Number(i[1]),
                        r = Number(i[2]) - 1,
                        a = Number(i[3]),
                        s = new Date(n, r, a);
                    return s.getFullYear() === n && s.getMonth() === r && s.getDate() === a
                }
                return !1
            },
            convert(e) {
                if (Yn(e)) {
                    let t = new Date(e * 24 * 60 * 60 * 1e3);
                    return t.toString() === "Invalid Date" ? "" : `${t.getFullYear().toString().padStart(4,"0")}-${(t.getMonth()+1).toString().padStart(2,"0")}-${t.getDate().toString().padStart(2,"0")}`
                }
                return /[0-9]T[0-9]/.test(e) && (e = e.split("T")[0]), this.validate(e) ? e : ""
            }
        },
        datetime: {
            validate(e) {
                let t = e.split("T");
                return t.length === 2 ? Rs.date.validate(t[0]) && Rs.time.validate(t[1], !1) : Rs.date.validate(t[0])
            },
            convert(e) {
                let t = "Invalid Date",
                    i = e.split("T");
                if (Yn(e)) t = new Date(e * 24 * 60 * 60 * 1e3);
                else if (/[0-9]T[0-9]/.test(e) && i.length === 2) {
                    let n = Rs.date.convert(i[0]),
                        r = Rs.time.convert(i[1], !1);
                    if (n && r) return `${n}T${r}`
                } else {
                    let n = Rs.date.convert(i[0]);
                    if (n) return `${n}T00:00:00.000${(0,kl.getTimezoneOffsetAsTime)(new Date)}`
                }
                return t.toString() !== "Invalid Date" ? (0, kl.toISOLocalString)(t) : ""
            }
        },
        time: {
            validate(e, t) {
                let i = e.match(/^(\d\d):(\d\d):(\d\d)\.\d\d\d(\+|-)(\d\d):(\d\d)$/);
                return t = typeof t != "boolean" ? !0 : t, !i && !t && (i = e.match(/^(\d\d):(\d\d):(\d\d)(\+|-)(\d\d):(\d\d)$/)), i ? i[1] < 24 && i[1] >= 0 && i[2] < 60 && i[2] >= 0 && i[3] < 60 && i[3] >= 0 && i[5] < 24 && i[5] >= 0 && i[6] < 60 && i[6] >= 0 : !1
            },
            convert(e, t) {
                let i, n = {},
                    r, a, s, l, u, f = /^[0-9]{1,2}:[0-9]{1,2}(:[0-9.]*)?/;
                if (t = typeof t != "boolean" ? !0 : t, !f.test(e))
                    if (i = new Date(e), i.toString() !== "Invalid Date") e = `${i.getHours()}:${i.getMinutes()}:${i.getSeconds()}.${i.getMilliseconds()}${(0,kl.getTimezoneOffsetAsTime)(i)}`;
                    else return "";
                return r = e.toString().split(/(\+|-|Z)/), r.length < 1 ? "" : (a = r[0].split(":"), l = r[2] ? [r[1]].concat(r[2].split(":")) : r[1] === "Z" ? ["+", "00", "00"] : [], n.hours = a[0].padStart(2, "0"), n.minutes = a[1].padStart(2, "0"), s = a[2] ? a[2].split(".") : ["00"], n.seconds = s[0], n.milliseconds = s[1] || (t ? "000" : void 0), l.length === 0 ? u = (0, kl.getTimezoneOffsetAsTime)(new Date) : u = `${l[0]+l[1].padStart(2,"0")}:${l[2]?l[2].padStart(2,"0"):"00"}`, e = `${n.hours}:${n.minutes}:${n.seconds}${n.milliseconds?`.${n.milliseconds}`:""}${u}`, this.validate(e, t) ? e : "")
            },
            convertMeridian(e) {
                if (e = e.trim(), ur.hasMeridian(e)) {
                    let t = e.split(" "),
                        i = t[0].split(":");
                    t.length > 0 && (t[1] === ur.pmNotation ? i[0] = (Number(i[0]) % 12 + 12).toString().padStart(2, "0") : t[1] === ur.amNotation && (i[0] = (Number(i[0]) % 12).toString().padStart(2, "0")), e = i.join(":"))
                }
                return e
            }
        },
        barcode: {
            validate() {
                return !0
            }
        },
        geopoint: {
            validate(e) {
                let t = e.toString().trim().split(" ");
                return t[0] !== "" && t[0] >= -90 && t[0] <= 90 && t[1] !== "" && t[1] >= -360 && t[1] <= 360 && (typeof t[2] > "u" || !isNaN(t[2])) && (typeof t[3] > "u" || !isNaN(t[3]) && t[3] >= 0)
            },
            convert(e) {
                return e.toString().trim()
            }
        },
        geotrace: {
            validate(e) {
                let t = e.toString().split(";");
                return t.length >= 2 && t.every(i => Rs.geopoint.validate(i))
            },
            convert(e) {
                return e.toString().trim()
            }
        },
        geoshape: {
            validate(e) {
                let t = e.toString().split(";");
                return t.length >= 4 && t[0] === t[t.length - 1] && t.every(i => Rs.geopoint.validate(i))
            },
            convert(e) {
                return e.toString().trim()
            }
        },
        binary: {
            validate() {
                return !0
            }
        }
    },
    Hn = Rs;
var ry = ei(an());
var Zo = new Map,
    Cd = e => {
        if (!ji.excludeNonRelevant) return !0;
        let t = Zo.get(e);
        return !(t != null && t.isParentNonRelevant) && !(t != null && t.isSelfNonRelevant)
    },
    iy = (e, t) => {
        Zo.set(e, { ...Zo.get(e),
            nonRelevantValue: t
        })
    };
var ny = {
    form: null,
    init() {
        if (!this.form) throw new Error("Branch module not correctly instantiated with form property.");
        if (!this.form.features.relevant) {
            this.update = () => {};
            return
        }
        this.update()
    },
    update(e, t = ji.forceClearNonRelevant) {
        let i = this.form.getRelatedNodes("data-relevant", "", e).get();
        this.updateNodes(i, t, e != null ? e : {})
    },
    updateNodes(e, t = !1, i = {}) {
        let n = !1,
            r = {},
            a = [],
            s = this.form.features.repeat,
            {
                groups: l,
                repeats: u
            } = this.form.collections;
        e.forEach(f => {
            if (a.includes(f.getAttribute("name"))) return;
            let d = f.closest(".or-branch");
            if (!d) {
                Ko(f.parentsUntil(f, "#or-calculated-items", ".or")) || console.error("could not find branch node for ", f);
                return
            }
            let m = this.form.input.getRelevant(f),
                T = this.form.input.getName(f),
                x = null,
                {
                    repeatIndex: C
                } = i,
                {
                    repeatPath: N
                } = i;
            if (s && N == null && (N = this.form.nodePathToRepeatPath[T], N == null)) {
                for (let w of this.form.repeatPathPrefixes)
                    if (T.startsWith(w)) {
                        N = w.substring(0, w.length - 1);
                        break
                    }
                this.form.nodePathToRepeatPath[T] = N != null ? N : null
            }
            if (N != null) {
                let w = T.split("/");
                if (w.length > 3 && N == null) {
                    let X = w.splice(0, w.length - 1).join("/");
                    if (l.getElementsByRef(X).filter(me => gs(me, ".or-repeat") || !gs(me, ".or-repeat-info")).length === 0) return
                }
            }
            let E = N != null && T.startsWith(`${N}/`),
                O = d.closest(".or-repeat"),
                D = O == null && typeof C == "number" && N != null && T.startsWith(`${N}/`) ? C : null,
                I = T;
            (gs(f, `.or-repeat-info[data-name="${T}"]`) && !gs(f, `.or-repeat[name="${T}"]`) || E && O == null && (i.removed || u.getElementByRef(N) == null)) && (I = null);
            let H = D != null ? D : this.form.repeats.getIndex(O);
            m.indexOf("..") === -1 && (E ? x = `${m}__${T.substring(0,T.lastIndexOf("/"))}__${H}` : x = m);
            let y;
            x && typeof r[x] < "u" ? y = r[x] : (y = this.evaluate(m, I, H), r[x] = y), E || a.push(f.getAttribute("name")), this.process(d, T, y, t, { ...i,
                repeatIndex: H,
                repeatPath: N
            }) === !0 && (n = !0)
        }), n && this.form.features.pagination && this.form.view.$.trigger("changebranch")
    },
    evaluate(e, t, i) {
        return this.form.model.evaluate(e, "boolean", t, i)
    },
    process(e, t, i, n = !1, r = {}) {
        return i === !0 ? this.enable(e, t, r) : this.disable(e, t, n, r)
    },
    selfRelevant(e) {
        return !e.classList.contains("disabled") && !e.classList.contains("pre-init")
    },
    toggleNonRelevantModelNodes(e, t, i) {
        var n, r, a;
        if (ji.excludeNonRelevant) {
            let {
                setRelevant: s
            } = i;
            e.dataset.isNonRelevant = String(!s);
            let {
                repeatIndex: l,
                repeatPath: u
            } = i, f = u && t.startsWith(`${u}/`), d = f && l != null, m = (n = e.parentNode) == null ? void 0 : n.closest(".or-repeat"), T = l == null && m != null, x = null, C = null;
            if (T) {
                let D = this.form.input.getIndex(e);
                x = this.form.model.node(t, D), C = x.getClosestRepeat()
            } else d && (C = {
                repeatIndex: l,
                repeatPath: u
            });
            x == null && (x = this.form.model.node(t, f ? l : null));
            let N = new Set(x.getElements()),
                E = x.getElements().flatMap(D => [...N, ...D.querySelectorAll("*")]).filter(D => !Cd(D) === s);
            if (E.length === 0) return;
            let O = [];
            for (let D of E) {
                let I = D.children.length === 0,
                    H = N.has(D),
                    {
                        textContent: y
                    } = D,
                    w = I ? y || ((a = (r = Zo.get(D)) == null ? void 0 : r.currentValue) != null ? a : y) : null,
                    X = s ? y !== w : y !== "",
                    oe = Zo.get(D),
                    me = Boolean(oe == null ? void 0 : oe.isParentNonRelevant),
                    V = Boolean(oe == null ? void 0 : oe.isSelfNonRelevant);
                s ? (I && y !== w && (H || !V) && (D.textContent = w), Zo.set(D, {
                    isParentNonRelevant: H ? me : !1,
                    isSelfNonRelevant: H ? !1 : V,
                    currentValue: w,
                    nonRelevantValue: H ? null : w
                })) : (I && y !== "" && (D.textContent = ""), Zo.set(D, {
                    isParentNonRelevant: H ? me : !0,
                    isSelfNonRelevant: H ? !0 : V,
                    currentValue: w,
                    nonRelevantValue: w
                })), I && X && O.unshift(D)
            }
            O.length > 0 && this.form.model.events.dispatchEvent(He.DataUpdate({
                nodes: O.map(({
                    nodeName: D
                }) => D),
                ...C
            }))
        } else this.toggleNonRelevantModelNodes = () => {}
    },
    enable(e, t, i) {
        let n = !1;
        return this.selfRelevant(e) || (n = !0, e.classList.remove("disabled", "pre-init"), this.toggleNonRelevantModelNodes(e, t, { ...i,
            setRelevant: !0
        }), this.form.calc.update({
            relevantPath: t
        }), this.form.itemset.update({
            relevantPath: t
        }), this.form.output.update({
            rootNode: e
        }), this.form.widgets.enable(e), this.activate(e)), n
    },
    disable(e, t, i, n) {
        let r = e.classList.contains("pre-init"),
            a = !1;
        return (r || this.selfRelevant(e) || i) && (a = !0, i && this.clear(e, t), this.toggleNonRelevantModelNodes(e, t, { ...n,
            setRelevant: !1
        }), this.deactivate(e)), a
    },
    clear(e, t) {
        this.form.input.clear(e, He.Change(), He.InputUpdate()), e.matches(".or-group, .or-group-data") && this.form.calc.update({
            relevantPath: t
        }, "", !0)
    },
    setDisabledProperty(e, t) {
        let i = e.nodeName.toLowerCase();
        i === "label" ? _u(e, "input, select, textarea").forEach(n => n.disabled = t) : i === "fieldset" || i === "section" ? e.disabled = t : e.querySelectorAll("fieldset, input, select, textarea").forEach(n => n.disabled = t)
    },
    activate(e) {
        this.setDisabledProperty(e, !1)
    },
    deactivate(e) {
        e.classList.add("disabled"), this.form.widgets.disable(e), this.setDisabledProperty(e, !0)
    }
};
var na = function(e, t, i, n) {
    let r = n.hasInstance ? "/model/instance[1]//*" : "//*";
    this.model = n, this.originalSelector = e, this.selector = typeof e == "string" && e.length > 0 ? e : r, i = typeof i < "u" && i !== null ? i : {}, this.filter = i, this.filter.onlyLeaf = typeof i.onlyLeaf < "u" ? i.onlyLeaf : !1, this.filter.noEmpty = typeof i.noEmpty < "u" ? i.noEmpty : !1, this.index = t
};
na.prototype.getElement = function() {
    return this.getElements()[0]
};
na.prototype.getElements = function() {
    let e, t;
    return this._nodes || (this._nodes = this.model.evaluate(this.selector, "nodes-ordered", null, null, !0), this.filter.noEmpty === !0 ? this._nodes = this._nodes.filter(i => (t = i.textContent, i.children.length === 0 && t.trim().length > 0)) : this.filter.onlyLeaf === !0 && (this._nodes = this._nodes.filter(i => i.children.length === 0))), e = this._nodes, typeof this.index < "u" && this.index !== null && (e = typeof e[this.index] > "u" ? [] : [e[this.index]]), e
};
na.prototype.setIndex = function(e) {
    this.index = e
};
na.prototype.setVal = function(e, t) {
    let i, n, r, a = this.getVal();
    typeof e < "u" && e !== null ? i = Array.isArray(e) ? e.join(" ") : e.toString() : i = "", i = this.convert(i, t);
    let s = String(i),
        l = this.getElements();
    if (l.length === 1 && s !== a.toString()) {
        let u = l[0];
        return Cd(u) ? u.textContent = s : iy(u, s), n = this.getClosestRepeat(), n.nodes = [u.nodeName], r = this.model.getUpdateEventData(u, t), n = r ? ry.default.extend({}, n, r) : n, this.model.events.dispatchEvent(He.DataUpdate(n)), t === "binary" && (i.length > 0 ? (u.setAttribute("type", "file"), u.removeAttribute("src")) : u.removeAttribute("type")), n
    }
    return l.length > 1 ? (console.error("nodeset.setVal expected nodeset with one node, but received multiple"), null) : (l.length === 0 && console.warn(`Data node: ${this.selector} with null-based index: ${this.index} not found. Ignored.`), null)
};
na.prototype.getVal = function() {
    let e = this.getElements();
    return e.length ? e[0].textContent : void 0
};
na.prototype.getClosestRepeat = function() {
    let e = this.getElement(),
        {
            nodeName: t
        } = e;
    for (; t && t !== "instance" && !(e.nextElementSibling && e.nextElementSibling.nodeName === t) && !(e.previousElementSibling && e.previousElementSibling.nodeName === t);) e = e.parentElement, t = e ? e.nodeName : null;
    return !t || t === "instance" ? {} : {
        repeatPath: kr(e, "instance"),
        repeatIndex: this.model.determineIndex(e)
    }
};
na.prototype.remove = function() {
    let e = this.getElement();
    if (e) {
        let {
            nodeName: t
        } = e, i = kr(e, "instance"), n = this.model.determineIndex(e), r = this.model.getRemovalEventData(e);
        this.model.templates[i] || this.model.extractFakeTemplates([i]);
        let a = e.nextElementSibling;
        for (e.remove(), this._nodes = null, this.model.events.dispatchEvent(He.DataUpdate({
                nodes: null,
                repeatPath: i,
                repeatIndex: n,
                removed: !0
            })); a && a.nodeName === t;) a = a.nextElementSibling, this.model.events.dispatchEvent(He.DataUpdate({
            nodes: null,
            repeatPath: i,
            repeatIndex: n++
        }));
        this.model.events.dispatchEvent(He.Removed(r))
    } else console.error(`could not find node ${this.selector} with index ${this.index} to remove `)
};
na.prototype.convert = (e, t) => e.toString() === "" ? e : typeof t < "u" && t !== null && typeof Hn[t.toLowerCase()] < "u" && typeof Hn[t.toLowerCase()].convert < "u" ? Hn[t.toLowerCase()].convert(e) : e;
na.prototype.validate = function(e, t, i) {
    let n = this,
        r = {};
    return this.validateRequired(t).then(a => (r.requiredValid = a, a === !1 ? null : n.validateConstraintAndType(e, i))).then(a => (r.constraintValid = a, r))
};
na.prototype.validateConstraintAndType = function(e, t) {
    let i = this,
        n;
    return (!t || typeof Hn[t.toLowerCase()] > "u") && (t = "string"), !e && (t === "string" || t === "select" || t === "select1" || t === "binary") || (n = i.getVal(), n.toString() === "") ? Promise.resolve(!0) : Promise.resolve().then(() => Hn[t.toLowerCase()].validate(n)).then(r => r ? e ? i.model.evaluate(e, "boolean", i.originalSelector, i.index) : !0 : !1)
};
na.prototype.isRequired = function(e) {
    return !e || e.trim() === "false()" ? !1 : e.trim() === "true()" || this.model.evaluate(e, "boolean", this.originalSelector, this.index)
};
na.prototype.validateRequired = function(e) {
    let t = this;
    return !e || this.getVal() ? Promise.resolve(!0) : Promise.resolve().then(() => !t.isRequired(e))
};
typeof console.deprecate > "u" && (console.deprecate = (e, t) => {
    console.warn(`${e} is deprecated. Use ${t} instead.`)
});
var Sd = "repeat:/",
    tk = /instance\(\s*(["'])((?:(?!\1)[A-z0-9.\-_]+))\1\s*\)/g,
    ik = /(decimal-date-time\(|pow\(|indexed-repeat\(|format-date\(|coalesce\(|join\(|max\(|min\(|random\(|substr\(|int\(|uuid\(|regex\(|now\(|today\(|date\(|if\(|boolean-from-string\(|checklist\(|selected\(|selected-at\(|round\(|area\(|position\([^)])/,
    sy = "http://openrosa.org/xforms",
    oy = "http://openrosa.org/javarosa",
    ms = "http://enketo.org/xforms",
    ly = "http://www.opendatakit.org/xforms",
    bu = new DOMParser,
    Jt = function(e, t) {
        typeof e == "string" && (e = {
            modelStr: e
        }), e.external = e.external || [], e.submitted = typeof e.submitted < "u" ? e.submitted : !0, t = t || {}, t.full = typeof t.full < "u" ? t.full : !0, this.events = document.createElement("div"), this.convertedExpressions = new Map, this.templates = {}, this.loadErrors = [], this.data = e, this.options = t, this.namespaces = {}
    };
Jt.prototype = {
    get version() {
        return this.evaluate("/*/@version", "string", null, null, !0)
    },
    get instanceID() {
        return this.getMetaNode("instanceID").getVal()
    },
    get deprecatedID() {
        return this.getMetaNode("deprecatedID").getVal() || ""
    },
    get instanceName() {
        return this.getMetaNode("instanceName").getVal()
    }
};
Jt.prototype.init = function() {
    let e, t, i, n, r = this;
    this.data.modelStr = this.data.modelStr.replace(/\s(xmlns=("|')[^\s>]+("|'))/g, " data-$1"), this.options.full || (this.data.modelStr = this.data.modelStr.replace(/^(<model\s*><instance((?!<instance).)+<\/instance\s*>\s*)(<instance.+<\/instance\s*>)*/, "$1"));
    try {
        e = "model", this.xml = bu.parseFromString(this.data.modelStr, "text/xml"), this.throwParserErrors(this.xml, this.data.modelStr), this.data.external.forEach(a => {
            if (a == null || !a.xml) return;
            for (e = a.id ? `instance "${a.id}"` : 'instance "unknown"', i = r.getSecondaryInstance(a.id), n = i.children, t = n.length - 1; t >= 0; t--) i.removeChild(n[t]);
            let s;
            a.xml instanceof XMLDocument && (s = r.xml.importNode(a.xml.documentElement, !0)), s && i.appendChild(s)
        }), this.createSession("__session", this.data.session)
    } catch (a) {
        console.error("parseXML error"), this.loadErrors.push(`Error trying to parse XML ${e}. ${a.message}`)
    }
    if (this.xml) {
        try {
            this.hasInstance = !!this.xml.querySelector("model > instance"), this.rootElement = this.xml.querySelector("instance > *") || this.xml.documentElement, this.setNamespaces(), this.noRepeatRefErrorExpected = this.evaluate(`/model/@${this.getNamespacePrefix(ly)}:xforms-version`, "boolean", null, null, !0), this.getMetaNode("instanceID").getElement() || r.loadErrors.push("Invalid primary instance. Missing instanceID node."), Array.prototype.slice.call(this.xml.querySelectorAll("model > instance[src]:empty")).forEach(a => {
                let s = a.getAttribute("src"),
                    l = s == null ? `External instance "${a.id}" is empty.` : `Can't find ${s.replace(/.*\//,"")}.`;
                r.loadErrors.push(l)
            }), this.trimValues(), this.extractTemplates()
        } catch (a) {
            console.error(a), this.loadErrors.push(`${a.name}: ${a.message}`)
        }
        try {
            e = "record", this.data.instanceStr && this.mergeXml(this.data.instanceStr), this.setInstanceIdAndDeprecatedId(), this.data.instanceStr || this.events.dispatchEvent(He.InstanceFirstLoad())
        } catch (a) {
            console.error(a), this.loadErrors.push(`Error trying to parse XML ${e}. ${a.message}`)
        }
    }
    return this.loadErrors
};
Jt.prototype.throwParserErrors = (e, t) => {
    if (!e || e.querySelector("parsererror")) throw new Error(`Invalid XML: ${t}`)
};
Jt.prototype.createSession = function(e, t) {
    let i, n, r = this.xml.querySelector("model"),
        a = ["deviceid", "username", "email", "phonenumber", "simserial", "subscriberid"];
    r && (t = typeof t == "object" ? t : {}, i = r.querySelector(`instance#${CSS.escape(e)}`), i || (i = bu.parseFromString(`<instance id="${e}"/>`, "text/xml").documentElement, this.xml.adoptNode(i), r.appendChild(i)), a.forEach(s => {
        t[s] = t[s] || Ng(`__enketo_meta_${s}`) || `${s} not found`
    }), n = bu.parseFromString(`<session><context>${a.map(s=>`<${s}>${t[s]}</${s}>`).join("")}</context></session>`, "text/xml").documentElement, this.xml.adoptNode(n), i.appendChild(n))
};
Jt.prototype.getSecondaryInstance = function(e) {
    let t;
    return [...this.xml.querySelectorAll("model > instance")].some(i => i.getAttribute("id") === e ? (t = i, !0) : !1), t
};
Jt.prototype.node = function(e, t, i) {
    return new na(e, t, i, this)
};
Jt.prototype.mergeXml = function(e) {
    let t = this;
    if (!e) return;
    let i = this.xml.querySelector("instance"),
        n = this.xml.querySelector("instance > *");
    if (!n) throw new Error("Model is corrupt. It does not contain a childnode of instance");
    e = e.replace(/\s(xmlns=("|')[^\s>]+("|'))/g, ""), e = e.replace(/<!--[^>]*-->/g, "");
    let r = bu.parseFromString(e, "text/xml"),
        a = r.querySelectorAll("[*|template]");
    for (let f = 0; f < a.length; f++) a[f].remove();
    Array.prototype.slice.call(r.querySelectorAll("*")).forEach(f => {
        let d, m = 0,
            T, x;
        try {
            d = kr(f, "instance", !1), (typeof t.templates[d] < "u" || tf(f) > 0) && (T = kr(f, "instance", !0), t.evaluate(T, "node", null, null, !0) || (x = T.match(/([^[]+)\[(\d+)\]\//g), x && x.length > 0 && (m = x[x.length - 1].match(/\[(\d+)\]/)[1] - 1), t.addRepeat(d, m, !0)))
        } catch (C) {
            console.warn("Ignored error:", C)
        }
    }), Array.prototype.slice.call(r.querySelectorAll("*")).filter(f => {
        let d = f.textContent;
        return f.children.length === 0 && d.trim().length === 0
    }).forEach(f => {
        let d = kr(f, "instance", !0),
            m = t.node(d, 0).getElement();
        m && (m.children.length === 0 ? t.evaluate("./text()", "nodes-ordered", d, 0, !0).forEach(T => {
            T.textContent = ""
        }) : t.evaluate(".//*[not(*)]", "nodes-ordered", d, 0, !0).forEach(T => {
            T.textContent = ""
        }))
    });
    let s = new ay.default({
            join: !1
        }),
        l = new XMLSerializer().serializeToString(n);
    if (e = new XMLSerializer().serializeToString(r), s.AddSource(l), s.AddSource(e), s.error.code) throw new Error(s.error.text);
    let u = s.dom;
    this.xml.querySelector("instance").removeChild(n), n = this.xml.adoptNode(u.documentElement), i.appendChild(n), this.rootElement = n
};
Jt.prototype.trimValues = function() {
    this.node(null, null, {
        noEmpty: !0
    }).getElements().forEach(e => {
        e.textContent = e.textContent.trim()
    })
};
Jt.prototype.setInstanceIdAndDeprecatedId = function() {
    let e, t, i, n, r;
    if (e = this.getMetaNode("instanceID"), t = e.getElement(), r = e.getVal(), !t) {
        console.warn("Model has no instanceID element");
        return
    }
    if (this.data.instanceStr && this.data.submitted) {
        i = this.getMetaNode("deprecatedID").getElement(), t.textContent = "";
        let a = t.namespaceURI;
        if (!i) {
            let s = a ? this.getNamespacePrefix(a) : "",
                l = a ? `xmlns:${s}="${a}"` : "";
            i = bu.parseFromString(`<${s?`${s}:`:""}deprecatedID ${l}/>`, "text/xml").documentElement, this.xml.adoptNode(i), n = this.xml.querySelector("instance > * > meta"), n.appendChild(i)
        }
    }
    e.getVal() || e.setVal(this.evaluate('concat("uuid:", uuid())', "string")), i && this.getMetaNode("deprecatedID").setVal(r)
};
Jt.prototype.bindJsEvaluator = $0;
Jt.prototype.getMetaNode = function(e) {
    let t = this.getNamespacePrefix(sy),
        i = this.node(`/*/${t}:meta/${t}:${e}`);
    return i.getElement() || (i = this.node(`/*/meta/${e}`)), i
};
Jt.prototype.getRepeatCommentText = e => (e = e.trim(), Sd + e);
Jt.prototype.getRepeatCommentSelector = function(e) {
    return `//comment()[self::comment()="${this.getRepeatCommentText(e)}"]`
};
Jt.prototype.getRepeatCommentNode = function(e, t) {
    return vd(this.xml.documentElement, this.getRepeatCommentText(e), t)
};
Jt.prototype.addRepeat = function(e, t, i) {
    let n, r = this;
    this.templates[e] || this.extractFakeTemplates([e]);
    let a = this.templates[e],
        s = this.getRepeatSeries(e, t),
        l = s.length ? s[s.length - 1] : this.getRepeatCommentNode(e, t);
    i || s.forEach(u => {
        r.addOrdinalAttribute(u, s[0])
    }), a && l ? (n = a.cloneNode(!0), l.after(n), this.removeOrdinalAttributes(n), i || this.addOrdinalAttribute(n, s[0]), i && Array.prototype.slice.call(n.querySelectorAll("*")).filter(u => u.children.length === 0).forEach(u => {
        u.textContent = ""
    })) : console.error("Could not find template node and/or node to insert the clone after")
};
Jt.prototype.addOrdinalAttribute = function(e, t) {
    if (ji.repeatOrdinals === !0 && !e.getAttributeNS(ms, "ordinal")) {
        let i, n, r = this.getNamespacePrefix(ms);
        t = t || e, i = t.getAttributeNS(ms, "last-used-ordinal") || 0, n = Number(i) + 1, t.setAttributeNS(ms, `${r}:last-used-ordinal`, n), e.setAttributeNS(ms, `${r}:ordinal`, n)
    }
};
Jt.prototype.removeOrdinalAttributes = e => {
    if (ji.repeatOrdinals === !0) {
        let t = Array.prototype.slice.call(e.querySelectorAll("[*|ordinal]"));
        t.push(e);
        for (let i = 0; i < t.length; i++) t[i].removeAttributeNS(ms, "last-used-ordinal"), t[i].removeAttributeNS(ms, "ordinal")
    }
};
Jt.prototype.getRepeatSeries = function(e, t) {
    let i, n, r, a = this.getRepeatCommentNode(e, t),
        s = [];
    if (a)
        for (i = a.textContent.substr(Sd.length).split("/"), n = i[i.length - 1], r = a.nextSibling; r;) r.nodeName && r.nodeName === n && s.push(r), r = r.nextSibling;
    return s
};
Jt.prototype.determineIndex = function(e) {
    if (e) {
        let {
            nodeName: t
        } = e, i = kr(e, "instance"), n = Array.prototype.slice.call(this.xml.querySelectorAll(t.replace(/\./g, "\\."))).filter(r => i === kr(r, "instance"));
        return n.length === 1 ? null : n.indexOf(e)
    }
    return console.error("no node, or multiple nodes, provided to determineIndex function"), -1
};
Jt.prototype.extractTemplates = function() {
    let e = this;
    this.getTemplateNodes().reverse().forEach(t => {
        let i = kr(t, "instance");
        e.addTemplate(i, t), t.remove()
    })
};
Jt.prototype.extractFakeTemplates = function(e) {
    let t = this,
        i;
    e.forEach(n => {
        i = t.evaluate(n, "node", null, null, !0), i && t.addTemplate(n, i, !0)
    })
};
Jt.prototype.addRepeatComments = function(e) {
    let t = this.getRepeatCommentText(e);
    this.evaluate(e, "nodes-ordered", null, null, !0).forEach(i => {
        !wd(i) && !Z0(i, t) && i.before(document.createComment(t))
    })
};
Jt.prototype.addTemplate = function(e, t, i) {
    if (this.addRepeatComments(e), !this.templates[e]) {
        let n = t.cloneNode(!0);
        n.removeAttribute("template"), n.removeAttribute("jr:template"), i && Array.prototype.slice.call(n.querySelectorAll("*")).filter(r => r.children.length === 0).forEach(r => {
            r.textContent = ""
        }), this.templates[e] = n
    }
};
Jt.prototype.getTemplateNodes = function() {
    let e = this.getNamespacePrefix(oy);
    return this.evaluate(`/model/instance[1]/*//*[@${e}:template]`, "nodes-ordered", null, null, !0)
};
Jt.prototype.getStr = function() {
    let e = new XMLSerializer().serializeToString(this.xml.querySelector("instance > *") || this.xml.documentElement, "text/xml");
    return e = e.replace(/\s(data-)(xmlns=("|')[^\s>]+("|'))/g, " $2"), e = e.replace(new RegExp(`<!--${Sd}\\/[^>]+-->`, "g"), ""), navigator.userAgent.indexOf("Trident/") === -1 && (e = this.removeDuplicateEnketoNsDeclarations(e)), e
};
Jt.prototype.removeDuplicateEnketoNsDeclarations = function(e) {
    let t = 0,
        i = new RegExp(`( xmlns:${this.getNamespacePrefix(ms)}="${ms}")`, "g");
    return e.replace(i, n => (t++, t > 1 ? "" : n))
};
Jt.prototype.makeBugCompliant = function(e, t, i) {
    if (this.noRepeatRefErrorExpected) return e;
    let n = this.node(t, i).getElement();
    if (!n) return e;
    let r = [n];
    for (; n && n.parentElement && n.nodeName.toLowerCase() !== "instance";) n = n.parentElement, r.push(n);
    return r.forEach(a => {
        let s = a.nodeName.replace(/\./g, "\\."),
            l = fo(a, `${s}:not([template])`);
        if (l.length > 1) {
            let u = kr(a, "instance"),
                f = l.indexOf(a);
            e = e.replace(new RegExp(`${u}/`, "g"), `${u}[${f+1}]/`)
        }
    }), e
};
Jt.prototype.setNamespaces = function() {
    let e = this.hasInstance ? "/model/instance" : "",
        t = this.evaluate(`${e}/*`, "nodes-ordered", null, null, !0),
        i = this,
        n;
    t.forEach(r => {
        r.hasAttributes() && Array.from(r.attributes).forEach(a => {
            a.name.indexOf("xmlns:") === 0 && (i.namespaces[a.name.substring(6)] = a.value)
        }), [
            ["orx", sy, !1],
            ["jr", oy, !1],
            ["enk", ms, ji.repeatOrdinals === !0],
            ["odk", ly, !1]
        ].forEach(a => {
            i.getNamespacePrefix(a[1]) || (n = i.namespaces[a[0]] ? `__${a[0]}` : a[0], i.namespaces[n] = a[1], a[2] && r.setAttributeNS("http://www.w3.org/2000/xmlns/", `xmlns:${n}`, a[1]))
        })
    })
};
Jt.prototype.getNamespacePrefix = function(e) {
    let t = Object.entries(this.namespaces).find(i => i[1] === e);
    return t ? t[0] : void 0
};
Jt.prototype.getNsResolver = function() {
    let e = typeof this.namespaces > "u" ? {} : this.namespaces;
    return {
        lookupNamespaceURI(t) {
            return e[t] || null
        }
    }
};
Jt.prototype.shiftRoot = function(e) {
    let t = /"([^"]*)(")|'([^']*)(')/g;
    return this.hasInstance && (e = e.replace(t, (i, n, r, a, s) => {
        let l = encodeURIComponent(typeof n < "u" ? n : a),
            u = r || s;
        return u + l + u
    }), e = e.replace(/^(\/(?!model\/)[^/][^/\s,"']*\/)/g, "/model/instance[1]$1"), e = e.replace(/([^a-zA-Z0-9.\])/*_-])(\/(?!model\/)[^/][^/\s,"']*\/)/g, "$1/model/instance[1]$2"), e = e.replace(t, (i, n, r, a, s) => {
        let l = decodeURIComponent(typeof n < "u" ? n : a),
            u = r || s;
        return u + l + u
    })), e
};
Jt.prototype.replaceInstanceFn = function(e) {
    let t, i = this;
    return e.replace(tk, (n, r, a) => {
        if (t = `/model/instance[@id="${a}"]`, i.evaluate(t, "nodes-ordered", null, null, !0).length) return t;
        throw new Go(`instance "${a}" does not exist in model`)
    })
};
Jt.prototype.replaceCurrentFn = (e, t) => e.replace(/current\(\)/g, `${t}`);
Jt.prototype.replaceIndexedRepeatFn = function(e, t, i) {
    let n = this;
    return Qs(e, "indexed-repeat").forEach(a => {
        let s, l, u, f = a[1];
        if (f.length % 2 === 1) {
            for (l = f[0], s = f.length - 1; s > 1; s -= 2) u = isNaN(f[s]) ? n.evaluate(f[s], "number", t, i, !0) : f[s], l = l.replace(f[s - 1], `${f[s-1]}[position() = ${u}]`);
            e = e.replace(a[0], l)
        } else throw new Go(`indexed repeat with incorrect number of parameters found: ${a[0]}`)
    }), e
};
Jt.prototype.replaceVersionFn = function(e) {
    let t = this,
        i;
    return Qs(e, "version").forEach(r => {
        i = i || t.evaluate("/*/@version", "string", null, 0, !0), e = e.replace(r[0], `"${i}"`)
    }), e
};
Jt.prototype.replacePullDataFn = function(e, t, i) {
    let n, r = this,
        a = this.convertPullDataFn(e, t, i);
    for (let s in a) Object.prototype.hasOwnProperty.call(a, s) && (n = r.evaluate(a[s], "string", t, i, !0), e = e.replace(s, `"${n}"`));
    return e
};
Jt.prototype.convertPullDataFn = function(e, t, i) {
    let n = this,
        r = Qs(e, "pulldata"),
        a = {};
    return r.length && r.forEach(s => {
        let l, u, f = s[1];
        if (f.length === 4) f[1] = tu(f[1]), f[2] = tu(f[2]), l = `'${n.evaluate(f[3],"string",t,i,!0)}'`, u = `instance(${f[0]})/root/item[${f[2]} = ${l}]/${f[1]}`, a[s[0]] = u;
        else throw new Go(`pulldata with incorrect number of parameters found: ${s[0]}`)
    }), a
};
Jt.prototype.evaluate = function(e, t, i, n, r) {
    let a, s, l, u, f, d, m, T, x, C, N, E;
    N = e, r = r || !1, t = t || "any", n = n || 0, l = this.xml, x = null, i ? (m = this.node(i).getElements(), x = m.length, s = m[n]) : s = this.rootElement, s || console.error("no context element found", i, n), C = [e, i, n, x].join("|"), e = this.replaceIndexedRepeatFn(e, i, n), e = this.replacePullDataFn(e, i, n), E = N === e;
    let O = this.convertedExpressions.get(C);
    O === void 0 ? (e = e.trim(), e = this.replaceInstanceFn(e), e = this.replaceVersionFn(e), e = this.replaceCurrentFn(e, kr(s, "instance", !0)), e = this.shiftRoot(e), x && x > 1 && (e = this.makeBugCompliant(e, i, n)), e = e.replace(/&lt;/g, "<"), e = e.replace(/&gt;/g, ">"), e = e.replace(/&quot;/g, '"'), E && this.convertedExpressions.set(C, e)) : e = O, f = {
        0: ["any", "ANY_TYPE"],
        1: ["number", "NUMBER_TYPE", "numberValue"],
        2: ["string", "STRING_TYPE", "stringValue"],
        3: ["boolean", "BOOLEAN_TYPE", "booleanValue"],
        6: ["nodes", "UNORDERED_NODE_SNAPSHOT_TYPE"],
        7: ["nodes-ordered", "ORDERED_NODE_SNAPSHOT_TYPE"],
        9: ["node", "FIRST_ORDERED_NODE_TYPE", "singleNodeValue"]
    };
    for (u in f)
        if (Object.prototype.hasOwnProperty.call(f, u)) {
            if (u = Number(u), f[u][0] === t) break;
            u = 0
        }
    if (r && typeof l.evaluate < "u" && !ik.test(e)) try {
        d = l.evaluate(e, s, this.getNsResolver(), u, null)
    } catch {}
    if (!d) try {
        typeof l.jsEvaluate > "u" && this.bindJsEvaluator(), d = l.jsEvaluate(e, s, this.getNsResolver(), u, null)
    } catch (D) {
        throw new Go(`Could not evaluate: ${e}, message: ${D.message}`)
    }
    if (d) {
        if (u === 0) {
            for (u in f)
                if (Object.prototype.hasOwnProperty.call(f, u) && (u = Number(u), u === Number(d.resultType) && u > 0 && u < 4)) {
                    T = d[f[u][2]];
                    break
                }
            T || console.error(`Expression: ${e} did not return any boolean, string or number value as expected`)
        } else if (u === 6 || u === 7)
            for (T = [], a = 0; a < d.snapshotLength; a++) T.push(d.snapshotItem(a));
        else T = d[f[u][2]];
        return T
    }
};
Jt.prototype.getUpdateEventData = () => {};
Jt.prototype.getRemovalEventData = () => {};
Jt.prototype.types = Hn;

function Ir(e) {
    return Ir = typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? function(t) {
        return typeof t
    } : function(t) {
        return t && typeof Symbol == "function" && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
    }, Ir(e)
}

function Td(e, t) {
    if (Ir(e) !== "object" || e === null) return e;
    var i = e[Symbol.toPrimitive];
    if (i !== void 0) {
        var n = i.call(e, t || "default");
        if (Ir(n) !== "object") return n;
        throw new TypeError("@@toPrimitive must return a primitive value.")
    }
    return (t === "string" ? String : Number)(e)
}

function xu(e) {
    var t = Td(e, "string");
    return Ir(t) === "symbol" ? t : String(t)
}

function Ld(e, t, i) {
    return t = xu(t), t in e ? Object.defineProperty(e, t, {
        value: i,
        enumerable: !0,
        configurable: !0,
        writable: !0
    }) : e[t] = i, e
}

function Dn(e) {
    for (var t = 1; t < arguments.length; t++) {
        var i = arguments[t] != null ? Object(arguments[t]) : {},
            n = Object.keys(i);
        typeof Object.getOwnPropertySymbols == "function" && n.push.apply(n, Object.getOwnPropertySymbols(i).filter(function(r) {
            return Object.getOwnPropertyDescriptor(i, r).enumerable
        })), n.forEach(function(r) {
            Ld(e, r, i[r])
        })
    }
    return e
}

function _a(e, t) {
    if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
}

function uy(e, t) {
    for (var i = 0; i < t.length; i++) {
        var n = t[i];
        n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, xu(n.key), n)
    }
}

function ba(e, t, i) {
    return t && uy(e.prototype, t), i && uy(e, i), Object.defineProperty(e, "prototype", {
        writable: !1
    }), e
}

function vs(e) {
    if (e === void 0) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    return e
}

function Xo(e, t) {
    if (t && (Ir(t) === "object" || typeof t == "function")) return t;
    if (t !== void 0) throw new TypeError("Derived constructors may only return object or undefined");
    return vs(e)
}

function po(e) {
    return po = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(i) {
        return i.__proto__ || Object.getPrototypeOf(i)
    }, po(e)
}

function wu(e, t) {
    return wu = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(n, r) {
        return n.__proto__ = r, n
    }, wu(e, t)
}

function Il(e, t) {
    if (typeof t != "function" && t !== null) throw new TypeError("Super expression must either be null or a function");
    e.prototype = Object.create(t && t.prototype, {
        constructor: {
            value: e,
            writable: !0,
            configurable: !0
        }
    }), Object.defineProperty(e, "prototype", {
        writable: !1
    }), t && wu(e, t)
}
var nk = {
        type: "logger",
        log: function(t) {
            this.output("log", t)
        },
        warn: function(t) {
            this.output("warn", t)
        },
        error: function(t) {
            this.output("error", t)
        },
        output: function(t, i) {
            console && console[t] && console[t].apply(console, i)
        }
    },
    rk = function() {
        function e(t) {
            var i = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
            _a(this, e), this.init(t, i)
        }
        return ba(e, [{
            key: "init",
            value: function(i) {
                var n = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
                this.prefix = n.prefix || "i18next:", this.logger = i || nk, this.options = n, this.debug = n.debug
            }
        }, {
            key: "setDebug",
            value: function(i) {
                this.debug = i
            }
        }, {
            key: "log",
            value: function() {
                for (var i = arguments.length, n = new Array(i), r = 0; r < i; r++) n[r] = arguments[r];
                return this.forward(n, "log", "", !0)
            }
        }, {
            key: "warn",
            value: function() {
                for (var i = arguments.length, n = new Array(i), r = 0; r < i; r++) n[r] = arguments[r];
                return this.forward(n, "warn", "", !0)
            }
        }, {
            key: "error",
            value: function() {
                for (var i = arguments.length, n = new Array(i), r = 0; r < i; r++) n[r] = arguments[r];
                return this.forward(n, "error", "")
            }
        }, {
            key: "deprecate",
            value: function() {
                for (var i = arguments.length, n = new Array(i), r = 0; r < i; r++) n[r] = arguments[r];
                return this.forward(n, "warn", "WARNING DEPRECATED: ", !0)
            }
        }, {
            key: "forward",
            value: function(i, n, r, a) {
                return a && !this.debug ? null : (typeof i[0] == "string" && (i[0] = "".concat(r).concat(this.prefix, " ").concat(i[0])), this.logger[n](i))
            }
        }, {
            key: "create",
            value: function(i) {
                return new e(this.logger, Dn({}, {
                    prefix: "".concat(this.prefix, ":").concat(i, ":")
                }, this.options))
            }
        }]), e
    }(),
    Bs = new rk,
    go = function() {
        function e() {
            _a(this, e), this.observers = {}
        }
        return ba(e, [{
            key: "on",
            value: function(i, n) {
                var r = this;
                return i.split(" ").forEach(function(a) {
                    r.observers[a] = r.observers[a] || [], r.observers[a].push(n)
                }), this
            }
        }, {
            key: "off",
            value: function(i, n) {
                if (this.observers[i]) {
                    if (!n) {
                        delete this.observers[i];
                        return
                    }
                    this.observers[i] = this.observers[i].filter(function(r) {
                        return r !== n
                    })
                }
            }
        }, {
            key: "emit",
            value: function(i) {
                for (var n = arguments.length, r = new Array(n > 1 ? n - 1 : 0), a = 1; a < n; a++) r[a - 1] = arguments[a];
                if (this.observers[i]) {
                    var s = [].concat(this.observers[i]);
                    s.forEach(function(u) {
                        u.apply(void 0, r)
                    })
                }
                if (this.observers["*"]) {
                    var l = [].concat(this.observers["*"]);
                    l.forEach(function(u) {
                        u.apply(u, [i].concat(r))
                    })
                }
            }
        }]), e
    }();

function Eu() {
    var e, t, i = new Promise(function(n, r) {
        e = n, t = r
    });
    return i.resolve = e, i.reject = t, i
}

function cy(e) {
    return e == null ? "" : "" + e
}

function ak(e, t, i) {
    e.forEach(function(n) {
        t[n] && (i[n] = t[n])
    })
}

function Id(e, t, i) {
    function n(l) {
        return l && l.indexOf("###") > -1 ? l.replace(/###/g, ".") : l
    }

    function r() {
        return !e || typeof e == "string"
    }
    for (var a = typeof t != "string" ? [].concat(t) : t.split("."); a.length > 1;) {
        if (r()) return {};
        var s = n(a.shift());
        !e[s] && i && (e[s] = new i), Object.prototype.hasOwnProperty.call(e, s) ? e = e[s] : e = {}
    }
    return r() ? {} : {
        obj: e,
        k: n(a.shift())
    }
}

function fy(e, t, i) {
    var n = Id(e, t, Object),
        r = n.obj,
        a = n.k;
    r[a] = i
}

function sk(e, t, i, n) {
    var r = Id(e, t, Object),
        a = r.obj,
        s = r.k;
    a[s] = a[s] || [], n && (a[s] = a[s].concat(i)), n || a[s].push(i)
}

function sf(e, t) {
    var i = Id(e, t),
        n = i.obj,
        r = i.k;
    if (n) return n[r]
}

function hy(e, t, i) {
    var n = sf(e, i);
    return n !== void 0 ? n : sf(t, i)
}

function my(e, t, i) {
    for (var n in t) n !== "__proto__" && n !== "constructor" && (n in e ? typeof e[n] == "string" || e[n] instanceof String || typeof t[n] == "string" || t[n] instanceof String ? i && (e[n] = t[n]) : my(e[n], t[n], i) : e[n] = t[n]);
    return e
}

function Al(e) {
    return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g, "\\$&")
}
var ok = {
    "&": "&amp;",
    "<": "&lt;",
    ">": "&gt;",
    '"': "&quot;",
    "'": "&#39;",
    "/": "&#x2F;"
};

function lk(e) {
    return typeof e == "string" ? e.replace(/[&<>"'\/]/g, function(t) {
        return ok[t]
    }) : e
}
var of = typeof window < "u" && window.navigator && window.navigator.userAgent && window.navigator.userAgent.indexOf("MSIE") > -1;

function vy(e, t) {
    var i = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : ".";
    if (e) {
        if (e[t]) return e[t];
        for (var n = t.split(i), r = e, a = 0; a < n.length; ++a) {
            if (!r || typeof r[n[a]] == "string" && a + 1 < n.length) return;
            if (r[n[a]] === void 0) {
                for (var s = 2, l = n.slice(a, a + s).join(i), u = r[l]; u === void 0 && n.length > a + s;) s++, l = n.slice(a, a + s).join(i), u = r[l];
                if (u === void 0) return;
                if (typeof u == "string") return u;
                if (l && typeof u[l] == "string") return u[l];
                var f = n.slice(a + s).join(i);
                return f ? vy(u, f, i) : void 0
            }
            r = r[n[a]]
        }
        return r
    }
}
var uk = function(e) {
        Il(t, e);

        function t(i) {
            var n, r = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {
                ns: ["translation"],
                defaultNS: "translation"
            };
            return _a(this, t), n = Xo(this, po(t).call(this)), of && go.call(vs(n)), n.data = i || {}, n.options = r, n.options.keySeparator === void 0 && (n.options.keySeparator = "."), n.options.ignoreJSONStructure === void 0 && (n.options.ignoreJSONStructure = !0), n
        }
        return ba(t, [{
            key: "addNamespaces",
            value: function(n) {
                this.options.ns.indexOf(n) < 0 && this.options.ns.push(n)
            }
        }, {
            key: "removeNamespaces",
            value: function(n) {
                var r = this.options.ns.indexOf(n);
                r > -1 && this.options.ns.splice(r, 1)
            }
        }, {
            key: "getResource",
            value: function(n, r, a) {
                var s = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : {},
                    l = s.keySeparator !== void 0 ? s.keySeparator : this.options.keySeparator,
                    u = s.ignoreJSONStructure !== void 0 ? s.ignoreJSONStructure : this.options.ignoreJSONStructure,
                    f = [n, r];
                a && typeof a != "string" && (f = f.concat(a)), a && typeof a == "string" && (f = f.concat(l ? a.split(l) : a)), n.indexOf(".") > -1 && (f = n.split("."));
                var d = sf(this.data, f);
                return d || !u || typeof a != "string" ? d : vy(this.data && this.data[n] && this.data[n][r], a, l)
            }
        }, {
            key: "addResource",
            value: function(n, r, a, s) {
                var l = arguments.length > 4 && arguments[4] !== void 0 ? arguments[4] : {
                        silent: !1
                    },
                    u = this.options.keySeparator;
                u === void 0 && (u = ".");
                var f = [n, r];
                a && (f = f.concat(u ? a.split(u) : a)), n.indexOf(".") > -1 && (f = n.split("."), s = r, r = f[1]), this.addNamespaces(r), fy(this.data, f, s), l.silent || this.emit("added", n, r, a, s)
            }
        }, {
            key: "addResources",
            value: function(n, r, a) {
                var s = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : {
                    silent: !1
                };
                for (var l in a)(typeof a[l] == "string" || Object.prototype.toString.apply(a[l]) === "[object Array]") && this.addResource(n, r, l, a[l], {
                    silent: !0
                });
                s.silent || this.emit("added", n, r, a)
            }
        }, {
            key: "addResourceBundle",
            value: function(n, r, a, s, l) {
                var u = arguments.length > 5 && arguments[5] !== void 0 ? arguments[5] : {
                        silent: !1
                    },
                    f = [n, r];
                n.indexOf(".") > -1 && (f = n.split("."), s = a, a = r, r = f[1]), this.addNamespaces(r);
                var d = sf(this.data, f) || {};
                s ? my(d, a, l) : d = Dn({}, d, a), fy(this.data, f, d), u.silent || this.emit("added", n, r, a)
            }
        }, {
            key: "removeResourceBundle",
            value: function(n, r) {
                this.hasResourceBundle(n, r) && delete this.data[n][r], this.removeNamespaces(r), this.emit("removed", n, r)
            }
        }, {
            key: "hasResourceBundle",
            value: function(n, r) {
                return this.getResource(n, r) !== void 0
            }
        }, {
            key: "getResourceBundle",
            value: function(n, r) {
                return r || (r = this.options.defaultNS), this.options.compatibilityAPI === "v1" ? Dn({}, {}, this.getResource(n, r)) : this.getResource(n, r)
            }
        }, {
            key: "getDataByLanguage",
            value: function(n) {
                return this.data[n]
            }
        }, {
            key: "toJSON",
            value: function() {
                return this.data
            }
        }]), t
    }(go),
    yy = {
        processors: {},
        addPostProcessor: function(t) {
            this.processors[t.name] = t
        },
        handle: function(t, i, n, r, a) {
            var s = this;
            return t.forEach(function(l) {
                s.processors[l] && (i = s.processors[l].process(i, n, r, a))
            }), i
        }
    },
    dy = {},
    py = function(e) {
        Il(t, e);

        function t(i) {
            var n, r = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
            return _a(this, t), n = Xo(this, po(t).call(this)), of && go.call(vs(n)), ak(["resourceStore", "languageUtils", "pluralResolver", "interpolator", "backendConnector", "i18nFormat", "utils"], i, vs(n)), n.options = r, n.options.keySeparator === void 0 && (n.options.keySeparator = "."), n.logger = Bs.create("translator"), n
        }
        return ba(t, [{
            key: "changeLanguage",
            value: function(n) {
                n && (this.language = n)
            }
        }, {
            key: "exists",
            value: function(n) {
                var r = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {
                    interpolation: {}
                };
                if (n == null) return !1;
                var a = this.resolve(n, r);
                return a && a.res !== void 0
            }
        }, {
            key: "extractFromKey",
            value: function(n, r) {
                var a = r.nsSeparator !== void 0 ? r.nsSeparator : this.options.nsSeparator;
                a === void 0 && (a = ":");
                var s = r.keySeparator !== void 0 ? r.keySeparator : this.options.keySeparator,
                    l = r.ns || this.options.defaultNS;
                if (a && n.indexOf(a) > -1) {
                    var u = n.match(this.interpolator.nestingRegexp);
                    if (u && u.length > 0) return {
                        key: n,
                        namespaces: l
                    };
                    var f = n.split(a);
                    (a !== s || a === s && this.options.ns.indexOf(f[0]) > -1) && (l = f.shift()), n = f.join(s)
                }
                return typeof l == "string" && (l = [l]), {
                    key: n,
                    namespaces: l
                }
            }
        }, {
            key: "translate",
            value: function(n, r, a) {
                var s = this;
                if (Ir(r) !== "object" && this.options.overloadTranslationOptionHandler && (r = this.options.overloadTranslationOptionHandler(arguments)), r || (r = {}), n == null) return "";
                Array.isArray(n) || (n = [String(n)]);
                var l = r.keySeparator !== void 0 ? r.keySeparator : this.options.keySeparator,
                    u = this.extractFromKey(n[n.length - 1], r),
                    f = u.key,
                    d = u.namespaces,
                    m = d[d.length - 1],
                    T = r.lng || this.language,
                    x = r.appendNamespaceToCIMode || this.options.appendNamespaceToCIMode;
                if (T && T.toLowerCase() === "cimode") {
                    if (x) {
                        var C = r.nsSeparator || this.options.nsSeparator;
                        return m + C + f
                    }
                    return f
                }
                var N = this.resolve(n, r),
                    E = N && N.res,
                    O = N && N.usedKey || f,
                    D = N && N.exactUsedKey || f,
                    I = Object.prototype.toString.apply(E),
                    H = ["[object Number]", "[object Function]", "[object RegExp]"],
                    y = r.joinArrays !== void 0 ? r.joinArrays : this.options.joinArrays,
                    w = !this.i18nFormat || this.i18nFormat.handleAsObject,
                    X = typeof E != "string" && typeof E != "boolean" && typeof E != "number";
                if (w && E && X && H.indexOf(I) < 0 && !(typeof y == "string" && I === "[object Array]")) {
                    if (!r.returnObjects && !this.options.returnObjects) return this.options.returnedObjectHandler || this.logger.warn("accessing an object - but returnObjects options is not enabled!"), this.options.returnedObjectHandler ? this.options.returnedObjectHandler(O, E, Dn({}, r, {
                        ns: d
                    })) : "key '".concat(f, " (").concat(this.language, ")' returned an object instead of string.");
                    if (l) {
                        var oe = I === "[object Array]",
                            me = oe ? [] : {},
                            V = oe ? D : O;
                        for (var W in E)
                            if (Object.prototype.hasOwnProperty.call(E, W)) {
                                var P = "".concat(V).concat(l).concat(W);
                                me[W] = this.translate(P, Dn({}, r, {
                                    joinArrays: !1,
                                    ns: d
                                })), me[W] === P && (me[W] = E[W])
                            }
                        E = me
                    }
                } else if (w && typeof y == "string" && I === "[object Array]") E = E.join(y), E && (E = this.extendTranslation(E, n, r, a));
                else {
                    var se = !1,
                        ce = !1,
                        ne = r.count !== void 0 && typeof r.count != "string",
                        re = t.hasDefaultValue(r),
                        J = ne ? this.pluralResolver.getSuffix(T, r.count) : "",
                        ue = r["defaultValue".concat(J)] || r.defaultValue;
                    !this.isValidLookup(E) && re && (se = !0, E = ue), this.isValidLookup(E) || (ce = !0, E = f);
                    var ie = r.missingKeyNoValueFallbackToKey || this.options.missingKeyNoValueFallbackToKey,
                        te = ie && ce ? void 0 : E,
                        we = re && ue !== E && this.options.updateMissing;
                    if (ce || se || we) {
                        if (this.logger.log(we ? "updateKey" : "missingKey", T, m, f, we ? ue : E), l) {
                            var De = this.resolve(f, Dn({}, r, {
                                keySeparator: !1
                            }));
                            De && De.res && this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")
                        }
                        var ye = [],
                            Ue = this.languageUtils.getFallbackCodes(this.options.fallbackLng, r.lng || this.language);
                        if (this.options.saveMissingTo === "fallback" && Ue && Ue[0])
                            for (var Qe = 0; Qe < Ue.length; Qe++) ye.push(Ue[Qe]);
                        else this.options.saveMissingTo === "all" ? ye = this.languageUtils.toResolveHierarchy(r.lng || this.language) : ye.push(r.lng || this.language);
                        var at = function(lt, xt, Bt) {
                            s.options.missingKeyHandler ? s.options.missingKeyHandler(lt, m, xt, we ? Bt : te, we, r) : s.backendConnector && s.backendConnector.saveMissing && s.backendConnector.saveMissing(lt, m, xt, we ? Bt : te, we, r), s.emit("missingKey", lt, m, xt, E)
                        };
                        this.options.saveMissing && (this.options.saveMissingPlurals && ne ? ye.forEach(function(pt) {
                            s.pluralResolver.getSuffixes(pt).forEach(function(lt) {
                                at([pt], f + lt, r["defaultValue".concat(lt)] || ue)
                            })
                        }) : at(ye, f, ue))
                    }
                    E = this.extendTranslation(E, n, r, N, a), ce && E === f && this.options.appendNamespaceToMissingKey && (E = "".concat(m, ":").concat(f)), (ce || se) && this.options.parseMissingKeyHandler && (E = this.options.parseMissingKeyHandler(E))
                }
                return E
            }
        }, {
            key: "extendTranslation",
            value: function(n, r, a, s, l) {
                var u = this;
                if (this.i18nFormat && this.i18nFormat.parse) n = this.i18nFormat.parse(n, a, s.usedLng, s.usedNS, s.usedKey, {
                    resolved: s
                });
                else if (!a.skipInterpolation) {
                    a.interpolation && this.interpolator.init(Dn({}, a, {
                        interpolation: Dn({}, this.options.interpolation, a.interpolation)
                    }));
                    var f = a.interpolation && a.interpolation.skipOnVariables || this.options.interpolation.skipOnVariables,
                        d;
                    if (f) {
                        var m = n.match(this.interpolator.nestingRegexp);
                        d = m && m.length
                    }
                    var T = a.replace && typeof a.replace != "string" ? a.replace : a;
                    if (this.options.interpolation.defaultVariables && (T = Dn({}, this.options.interpolation.defaultVariables, T)), n = this.interpolator.interpolate(n, T, a.lng || this.language, a), f) {
                        var x = n.match(this.interpolator.nestingRegexp),
                            C = x && x.length;
                        d < C && (a.nest = !1)
                    }
                    a.nest !== !1 && (n = this.interpolator.nest(n, function() {
                        for (var O = arguments.length, D = new Array(O), I = 0; I < O; I++) D[I] = arguments[I];
                        return l && l[0] === D[0] && !a.context ? (u.logger.warn("It seems you are nesting recursively key: ".concat(D[0], " in key: ").concat(r[0])), null) : u.translate.apply(u, D.concat([r]))
                    }, a)), a.interpolation && this.interpolator.reset()
                }
                var N = a.postProcess || this.options.postProcess,
                    E = typeof N == "string" ? [N] : N;
                return n != null && E && E.length && a.applyPostProcessor !== !1 && (n = yy.handle(E, n, r, this.options && this.options.postProcessPassResolved ? Dn({
                    i18nResolved: s
                }, a) : a, this)), n
            }
        }, {
            key: "resolve",
            value: function(n) {
                var r = this,
                    a = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {},
                    s, l, u, f, d;
                return typeof n == "string" && (n = [n]), n.forEach(function(m) {
                    if (!r.isValidLookup(s)) {
                        var T = r.extractFromKey(m, a),
                            x = T.key;
                        l = x;
                        var C = T.namespaces;
                        r.options.fallbackNS && (C = C.concat(r.options.fallbackNS));
                        var N = a.count !== void 0 && typeof a.count != "string",
                            E = a.context !== void 0 && (typeof a.context == "string" || typeof a.context == "number") && a.context !== "",
                            O = a.lngs ? a.lngs : r.languageUtils.toResolveHierarchy(a.lng || r.language, a.fallbackLng);
                        C.forEach(function(D) {
                            r.isValidLookup(s) || (d = D, !dy["".concat(O[0], "-").concat(D)] && r.utils && r.utils.hasLoadedNamespace && !r.utils.hasLoadedNamespace(d) && (dy["".concat(O[0], "-").concat(D)] = !0, r.logger.warn('key "'.concat(l, '" for languages "').concat(O.join(", "), `" won't get resolved as namespace "`).concat(d, '" was not yet loaded'), "This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")), O.forEach(function(I) {
                                if (!r.isValidLookup(s)) {
                                    f = I;
                                    var H = x,
                                        y = [H];
                                    if (r.i18nFormat && r.i18nFormat.addLookupKeys) r.i18nFormat.addLookupKeys(y, x, I, D, a);
                                    else {
                                        var w;
                                        N && (w = r.pluralResolver.getSuffix(I, a.count)), N && E && y.push(H + w), E && y.push(H += "".concat(r.options.contextSeparator).concat(a.context)), N && y.push(H += w)
                                    }
                                    for (var X; X = y.pop();) r.isValidLookup(s) || (u = X, s = r.getResource(I, D, X, a))
                                }
                            }))
                        })
                    }
                }), {
                    res: s,
                    usedKey: l,
                    exactUsedKey: u,
                    usedLng: f,
                    usedNS: d
                }
            }
        }, {
            key: "isValidLookup",
            value: function(n) {
                return n !== void 0 && !(!this.options.returnNull && n === null) && !(!this.options.returnEmptyString && n === "")
            }
        }, {
            key: "getResource",
            value: function(n, r, a) {
                var s = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : {};
                return this.i18nFormat && this.i18nFormat.getResource ? this.i18nFormat.getResource(n, r, a, s) : this.resourceStore.getResource(n, r, a, s)
            }
        }], [{
            key: "hasDefaultValue",
            value: function(n) {
                var r = "defaultValue";
                for (var a in n)
                    if (Object.prototype.hasOwnProperty.call(n, a) && r === a.substring(0, r.length) && n[a] !== void 0) return !0;
                return !1
            }
        }]), t
    }(go);

function kd(e) {
    return e.charAt(0).toUpperCase() + e.slice(1)
}
var ck = function() {
        function e(t) {
            _a(this, e), this.options = t, this.whitelist = this.options.supportedLngs || !1, this.supportedLngs = this.options.supportedLngs || !1, this.logger = Bs.create("languageUtils")
        }
        return ba(e, [{
            key: "getScriptPartFromCode",
            value: function(i) {
                if (!i || i.indexOf("-") < 0) return null;
                var n = i.split("-");
                return n.length === 2 || (n.pop(), n[n.length - 1].toLowerCase() === "x") ? null : this.formatLanguageCode(n.join("-"))
            }
        }, {
            key: "getLanguagePartFromCode",
            value: function(i) {
                if (!i || i.indexOf("-") < 0) return i;
                var n = i.split("-");
                return this.formatLanguageCode(n[0])
            }
        }, {
            key: "formatLanguageCode",
            value: function(i) {
                if (typeof i == "string" && i.indexOf("-") > -1) {
                    var n = ["hans", "hant", "latn", "cyrl", "cans", "mong", "arab"],
                        r = i.split("-");
                    return this.options.lowerCaseLng ? r = r.map(function(a) {
                        return a.toLowerCase()
                    }) : r.length === 2 ? (r[0] = r[0].toLowerCase(), r[1] = r[1].toUpperCase(), n.indexOf(r[1].toLowerCase()) > -1 && (r[1] = kd(r[1].toLowerCase()))) : r.length === 3 && (r[0] = r[0].toLowerCase(), r[1].length === 2 && (r[1] = r[1].toUpperCase()), r[0] !== "sgn" && r[2].length === 2 && (r[2] = r[2].toUpperCase()), n.indexOf(r[1].toLowerCase()) > -1 && (r[1] = kd(r[1].toLowerCase())), n.indexOf(r[2].toLowerCase()) > -1 && (r[2] = kd(r[2].toLowerCase()))), r.join("-")
                }
                return this.options.cleanCode || this.options.lowerCaseLng ? i.toLowerCase() : i
            }
        }, {
            key: "isWhitelisted",
            value: function(i) {
                return this.logger.deprecate("languageUtils.isWhitelisted", `function "isWhitelisted" will be renamed to "isSupportedCode" in the next major - please make sure to rename it's usage asap.`), this.isSupportedCode(i)
            }
        }, {
            key: "isSupportedCode",
            value: function(i) {
                return (this.options.load === "languageOnly" || this.options.nonExplicitSupportedLngs) && (i = this.getLanguagePartFromCode(i)), !this.supportedLngs || !this.supportedLngs.length || this.supportedLngs.indexOf(i) > -1
            }
        }, {
            key: "getBestMatchFromCodes",
            value: function(i) {
                var n = this;
                if (!i) return null;
                var r;
                return i.forEach(function(a) {
                    if (!r) {
                        var s = n.formatLanguageCode(a);
                        (!n.options.supportedLngs || n.isSupportedCode(s)) && (r = s)
                    }
                }), !r && this.options.supportedLngs && i.forEach(function(a) {
                    if (!r) {
                        var s = n.getLanguagePartFromCode(a);
                        if (n.isSupportedCode(s)) return r = s;
                        r = n.options.supportedLngs.find(function(l) {
                            if (l.indexOf(s) === 0) return l
                        })
                    }
                }), r || (r = this.getFallbackCodes(this.options.fallbackLng)[0]), r
            }
        }, {
            key: "getFallbackCodes",
            value: function(i, n) {
                if (!i) return [];
                if (typeof i == "function" && (i = i(n)), typeof i == "string" && (i = [i]), Object.prototype.toString.apply(i) === "[object Array]") return i;
                if (!n) return i.default || [];
                var r = i[n];
                return r || (r = i[this.getScriptPartFromCode(n)]), r || (r = i[this.formatLanguageCode(n)]), r || (r = i[this.getLanguagePartFromCode(n)]), r || (r = i.default), r || []
            }
        }, {
            key: "toResolveHierarchy",
            value: function(i, n) {
                var r = this,
                    a = this.getFallbackCodes(n || this.options.fallbackLng || [], i),
                    s = [],
                    l = function(f) {
                        f && (r.isSupportedCode(f) ? s.push(f) : r.logger.warn("rejecting language code not found in supportedLngs: ".concat(f)))
                    };
                return typeof i == "string" && i.indexOf("-") > -1 ? (this.options.load !== "languageOnly" && l(this.formatLanguageCode(i)), this.options.load !== "languageOnly" && this.options.load !== "currentOnly" && l(this.getScriptPartFromCode(i)), this.options.load !== "currentOnly" && l(this.getLanguagePartFromCode(i))) : typeof i == "string" && l(this.formatLanguageCode(i)), a.forEach(function(u) {
                    s.indexOf(u) < 0 && l(r.formatLanguageCode(u))
                }), s
            }
        }]), e
    }(),
    fk = [{
        lngs: ["ach", "ak", "am", "arn", "br", "fil", "gun", "ln", "mfe", "mg", "mi", "oc", "pt", "pt-BR", "tg", "tl", "ti", "tr", "uz", "wa"],
        nr: [1, 2],
        fc: 1
    }, {
        lngs: ["af", "an", "ast", "az", "bg", "bn", "ca", "da", "de", "dev", "el", "en", "eo", "es", "et", "eu", "fi", "fo", "fur", "fy", "gl", "gu", "ha", "hi", "hu", "hy", "ia", "it", "kk", "kn", "ku", "lb", "mai", "ml", "mn", "mr", "nah", "nap", "nb", "ne", "nl", "nn", "no", "nso", "pa", "pap", "pms", "ps", "pt-PT", "rm", "sco", "se", "si", "so", "son", "sq", "sv", "sw", "ta", "te", "tk", "ur", "yo"],
        nr: [1, 2],
        fc: 2
    }, {
        lngs: ["ay", "bo", "cgg", "fa", "ht", "id", "ja", "jbo", "ka", "km", "ko", "ky", "lo", "ms", "sah", "su", "th", "tt", "ug", "vi", "wo", "zh"],
        nr: [1],
        fc: 3
    }, {
        lngs: ["be", "bs", "cnr", "dz", "hr", "ru", "sr", "uk"],
        nr: [1, 2, 5],
        fc: 4
    }, {
        lngs: ["ar"],
        nr: [0, 1, 2, 3, 11, 100],
        fc: 5
    }, {
        lngs: ["cs", "sk"],
        nr: [1, 2, 5],
        fc: 6
    }, {
        lngs: ["csb", "pl"],
        nr: [1, 2, 5],
        fc: 7
    }, {
        lngs: ["cy"],
        nr: [1, 2, 3, 8],
        fc: 8
    }, {
        lngs: ["fr"],
        nr: [1, 2],
        fc: 9
    }, {
        lngs: ["ga"],
        nr: [1, 2, 3, 7, 11],
        fc: 10
    }, {
        lngs: ["gd"],
        nr: [1, 2, 3, 20],
        fc: 11
    }, {
        lngs: ["is"],
        nr: [1, 2],
        fc: 12
    }, {
        lngs: ["jv"],
        nr: [0, 1],
        fc: 13
    }, {
        lngs: ["kw"],
        nr: [1, 2, 3, 4],
        fc: 14
    }, {
        lngs: ["lt"],
        nr: [1, 2, 10],
        fc: 15
    }, {
        lngs: ["lv"],
        nr: [1, 2, 0],
        fc: 16
    }, {
        lngs: ["mk"],
        nr: [1, 2],
        fc: 17
    }, {
        lngs: ["mnk"],
        nr: [0, 1, 2],
        fc: 18
    }, {
        lngs: ["mt"],
        nr: [1, 2, 11, 20],
        fc: 19
    }, {
        lngs: ["or"],
        nr: [2, 1],
        fc: 2
    }, {
        lngs: ["ro"],
        nr: [1, 2, 20],
        fc: 20
    }, {
        lngs: ["sl"],
        nr: [5, 1, 2, 3],
        fc: 21
    }, {
        lngs: ["he", "iw"],
        nr: [1, 2, 20, 21],
        fc: 22
    }],
    hk = {
        1: function(t) {
            return Number(t > 1)
        },
        2: function(t) {
            return Number(t != 1)
        },
        3: function(t) {
            return 0
        },
        4: function(t) {
            return Number(t % 10 == 1 && t % 100 != 11 ? 0 : t % 10 >= 2 && t % 10 <= 4 && (t % 100 < 10 || t % 100 >= 20) ? 1 : 2)
        },
        5: function(t) {
            return Number(t == 0 ? 0 : t == 1 ? 1 : t == 2 ? 2 : t % 100 >= 3 && t % 100 <= 10 ? 3 : t % 100 >= 11 ? 4 : 5)
        },
        6: function(t) {
            return Number(t == 1 ? 0 : t >= 2 && t <= 4 ? 1 : 2)
        },
        7: function(t) {
            return Number(t == 1 ? 0 : t % 10 >= 2 && t % 10 <= 4 && (t % 100 < 10 || t % 100 >= 20) ? 1 : 2)
        },
        8: function(t) {
            return Number(t == 1 ? 0 : t == 2 ? 1 : t != 8 && t != 11 ? 2 : 3)
        },
        9: function(t) {
            return Number(t >= 2)
        },
        10: function(t) {
            return Number(t == 1 ? 0 : t == 2 ? 1 : t < 7 ? 2 : t < 11 ? 3 : 4)
        },
        11: function(t) {
            return Number(t == 1 || t == 11 ? 0 : t == 2 || t == 12 ? 1 : t > 2 && t < 20 ? 2 : 3)
        },
        12: function(t) {
            return Number(t % 10 != 1 || t % 100 == 11)
        },
        13: function(t) {
            return Number(t !== 0)
        },
        14: function(t) {
            return Number(t == 1 ? 0 : t == 2 ? 1 : t == 3 ? 2 : 3)
        },
        15: function(t) {
            return Number(t % 10 == 1 && t % 100 != 11 ? 0 : t % 10 >= 2 && (t % 100 < 10 || t % 100 >= 20) ? 1 : 2)
        },
        16: function(t) {
            return Number(t % 10 == 1 && t % 100 != 11 ? 0 : t !== 0 ? 1 : 2)
        },
        17: function(t) {
            return Number(t == 1 || t % 10 == 1 && t % 100 != 11 ? 0 : 1)
        },
        18: function(t) {
            return Number(t == 0 ? 0 : t == 1 ? 1 : 2)
        },
        19: function(t) {
            return Number(t == 1 ? 0 : t == 0 || t % 100 > 1 && t % 100 < 11 ? 1 : t % 100 > 10 && t % 100 < 20 ? 2 : 3)
        },
        20: function(t) {
            return Number(t == 1 ? 0 : t == 0 || t % 100 > 0 && t % 100 < 20 ? 1 : 2)
        },
        21: function(t) {
            return Number(t % 100 == 1 ? 1 : t % 100 == 2 ? 2 : t % 100 == 3 || t % 100 == 4 ? 3 : 0)
        },
        22: function(t) {
            return Number(t == 1 ? 0 : t == 2 ? 1 : (t < 0 || t > 10) && t % 10 == 0 ? 2 : 3)
        }
    };

function dk() {
    var e = {};
    return fk.forEach(function(t) {
        t.lngs.forEach(function(i) {
            e[i] = {
                numbers: t.nr,
                plurals: hk[t.fc]
            }
        })
    }), e
}
var pk = function() {
        function e(t) {
            var i = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
            _a(this, e), this.languageUtils = t, this.options = i, this.logger = Bs.create("pluralResolver"), this.rules = dk()
        }
        return ba(e, [{
            key: "addRule",
            value: function(i, n) {
                this.rules[i] = n
            }
        }, {
            key: "getRule",
            value: function(i) {
                return this.rules[i] || this.rules[this.languageUtils.getLanguagePartFromCode(i)]
            }
        }, {
            key: "needsPlural",
            value: function(i) {
                var n = this.getRule(i);
                return n && n.numbers.length > 1
            }
        }, {
            key: "getPluralFormsOfKey",
            value: function(i, n) {
                return this.getSuffixes(i).map(function(r) {
                    return n + r
                })
            }
        }, {
            key: "getSuffixes",
            value: function(i) {
                var n = this,
                    r = this.getRule(i);
                return r ? r.numbers.map(function(a) {
                    return n.getSuffix(i, a)
                }) : []
            }
        }, {
            key: "getSuffix",
            value: function(i, n) {
                var r = this,
                    a = this.getRule(i);
                if (a) {
                    var s = a.noAbs ? a.plurals(n) : a.plurals(Math.abs(n)),
                        l = a.numbers[s];
                    this.options.simplifyPluralSuffix && a.numbers.length === 2 && a.numbers[0] === 1 && (l === 2 ? l = "plural" : l === 1 && (l = ""));
                    var u = function() {
                        return r.options.prepend && l.toString() ? r.options.prepend + l.toString() : l.toString()
                    };
                    return this.options.compatibilityJSON === "v1" ? l === 1 ? "" : typeof l == "number" ? "_plural_".concat(l.toString()) : u() : this.options.compatibilityJSON === "v2" || this.options.simplifyPluralSuffix && a.numbers.length === 2 && a.numbers[0] === 1 ? u() : this.options.prepend && s.toString() ? this.options.prepend + s.toString() : s.toString()
                }
                return this.logger.warn("no plural rule found for: ".concat(i)), ""
            }
        }]), e
    }(),
    gk = function() {
        function e() {
            var t = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};
            _a(this, e), this.logger = Bs.create("interpolator"), this.options = t, this.format = t.interpolation && t.interpolation.format || function(i) {
                return i
            }, this.init(t)
        }
        return ba(e, [{
            key: "init",
            value: function() {
                var i = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};
                i.interpolation || (i.interpolation = {
                    escapeValue: !0
                });
                var n = i.interpolation;
                this.escape = n.escape !== void 0 ? n.escape : lk, this.escapeValue = n.escapeValue !== void 0 ? n.escapeValue : !0, this.useRawValueToEscape = n.useRawValueToEscape !== void 0 ? n.useRawValueToEscape : !1, this.prefix = n.prefix ? Al(n.prefix) : n.prefixEscaped || "{{", this.suffix = n.suffix ? Al(n.suffix) : n.suffixEscaped || "}}", this.formatSeparator = n.formatSeparator ? n.formatSeparator : n.formatSeparator || ",", this.unescapePrefix = n.unescapeSuffix ? "" : n.unescapePrefix || "-", this.unescapeSuffix = this.unescapePrefix ? "" : n.unescapeSuffix || "", this.nestingPrefix = n.nestingPrefix ? Al(n.nestingPrefix) : n.nestingPrefixEscaped || Al("$t("), this.nestingSuffix = n.nestingSuffix ? Al(n.nestingSuffix) : n.nestingSuffixEscaped || Al(")"), this.nestingOptionsSeparator = n.nestingOptionsSeparator ? n.nestingOptionsSeparator : n.nestingOptionsSeparator || ",", this.maxReplaces = n.maxReplaces ? n.maxReplaces : 1e3, this.alwaysFormat = n.alwaysFormat !== void 0 ? n.alwaysFormat : !1, this.resetRegExp()
            }
        }, {
            key: "reset",
            value: function() {
                this.options && this.init(this.options)
            }
        }, {
            key: "resetRegExp",
            value: function() {
                var i = "".concat(this.prefix, "(.+?)").concat(this.suffix);
                this.regexp = new RegExp(i, "g");
                var n = "".concat(this.prefix).concat(this.unescapePrefix, "(.+?)").concat(this.unescapeSuffix).concat(this.suffix);
                this.regexpUnescape = new RegExp(n, "g");
                var r = "".concat(this.nestingPrefix, "(.+?)").concat(this.nestingSuffix);
                this.nestingRegexp = new RegExp(r, "g")
            }
        }, {
            key: "interpolate",
            value: function(i, n, r, a) {
                var s = this,
                    l, u, f, d = this.options && this.options.interpolation && this.options.interpolation.defaultVariables || {};

                function m(E) {
                    return E.replace(/\$/g, "$$$$")
                }
                var T = function(O) {
                    if (O.indexOf(s.formatSeparator) < 0) {
                        var D = hy(n, d, O);
                        return s.alwaysFormat ? s.format(D, void 0, r, Dn({}, a, n, {
                            interpolationkey: O
                        })) : D
                    }
                    var I = O.split(s.formatSeparator),
                        H = I.shift().trim(),
                        y = I.join(s.formatSeparator).trim();
                    return s.format(hy(n, d, H), y, r, Dn({}, a, n, {
                        interpolationkey: H
                    }))
                };
                this.resetRegExp();
                var x = a && a.missingInterpolationHandler || this.options.missingInterpolationHandler,
                    C = a && a.interpolation && a.interpolation.skipOnVariables || this.options.interpolation.skipOnVariables,
                    N = [{
                        regex: this.regexpUnescape,
                        safeValue: function(O) {
                            return m(O)
                        }
                    }, {
                        regex: this.regexp,
                        safeValue: function(O) {
                            return s.escapeValue ? m(s.escape(O)) : m(O)
                        }
                    }];
                return N.forEach(function(E) {
                    for (f = 0; l = E.regex.exec(i);) {
                        if (u = T(l[1].trim()), u === void 0)
                            if (typeof x == "function") {
                                var O = x(i, l, a);
                                u = typeof O == "string" ? O : ""
                            } else if (C) {
                            u = l[0];
                            continue
                        } else s.logger.warn("missed to pass in variable ".concat(l[1], " for interpolating ").concat(i)), u = "";
                        else typeof u != "string" && !s.useRawValueToEscape && (u = cy(u));
                        var D = E.safeValue(u);
                        if (i = i.replace(l[0], D), C ? (E.regex.lastIndex += D.length, E.regex.lastIndex -= l[0].length) : E.regex.lastIndex = 0, f++, f >= s.maxReplaces) break
                    }
                }), i
            }
        }, {
            key: "nest",
            value: function(i, n) {
                var r = this,
                    a = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {},
                    s, l, u = Dn({}, a);
                u.applyPostProcessor = !1, delete u.defaultValue;

                function f(x, C) {
                    var N = this.nestingOptionsSeparator;
                    if (x.indexOf(N) < 0) return x;
                    var E = x.split(new RegExp("".concat(N, "[ ]*{"))),
                        O = "{".concat(E[1]);
                    x = E[0], O = this.interpolate(O, u), O = O.replace(/'/g, '"');
                    try {
                        u = JSON.parse(O), C && (u = Dn({}, C, u))
                    } catch (D) {
                        return this.logger.warn("failed parsing options string in nesting for key ".concat(x), D), "".concat(x).concat(N).concat(O)
                    }
                    return delete u.defaultValue, x
                }
                for (; s = this.nestingRegexp.exec(i);) {
                    var d = [],
                        m = !1;
                    if (s[0].indexOf(this.formatSeparator) !== -1 && !/{.*}/.test(s[1])) {
                        var T = s[1].split(this.formatSeparator).map(function(x) {
                            return x.trim()
                        });
                        s[1] = T.shift(), d = T, m = !0
                    }
                    if (l = n(f.call(this, s[1].trim(), u), u), l && s[0] === i && typeof l != "string") return l;
                    typeof l != "string" && (l = cy(l)), l || (this.logger.warn("missed to resolve ".concat(s[1], " for nesting ").concat(i)), l = ""), m && (l = d.reduce(function(x, C) {
                        return r.format(x, C, a.lng, Dn({}, a, {
                            interpolationkey: s[1].trim()
                        }))
                    }, l.trim())), i = i.replace(s[0], l), this.regexp.lastIndex = 0
                }
                return i
            }
        }]), e
    }();

function mk(e, t) {
    for (var i = e.indexOf(t); i !== -1;) e.splice(i, 1), i = e.indexOf(t)
}
var vk = function(e) {
    Il(t, e);

    function t(i, n, r) {
        var a, s = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : {};
        return _a(this, t), a = Xo(this, po(t).call(this)), of && go.call(vs(a)), a.backend = i, a.store = n, a.services = r, a.languageUtils = r.languageUtils, a.options = s, a.logger = Bs.create("backendConnector"), a.state = {}, a.queue = [], a.backend && a.backend.init && a.backend.init(r, s.backend, s), a
    }
    return ba(t, [{
        key: "queueLoad",
        value: function(n, r, a, s) {
            var l = this,
                u = [],
                f = [],
                d = [],
                m = [];
            return n.forEach(function(T) {
                var x = !0;
                r.forEach(function(C) {
                    var N = "".concat(T, "|").concat(C);
                    !a.reload && l.store.hasResourceBundle(T, C) ? l.state[N] = 2 : l.state[N] < 0 || (l.state[N] === 1 ? f.indexOf(N) < 0 && f.push(N) : (l.state[N] = 1, x = !1, f.indexOf(N) < 0 && f.push(N), u.indexOf(N) < 0 && u.push(N), m.indexOf(C) < 0 && m.push(C)))
                }), x || d.push(T)
            }), (u.length || f.length) && this.queue.push({
                pending: f,
                loaded: {},
                errors: [],
                callback: s
            }), {
                toLoad: u,
                pending: f,
                toLoadLanguages: d,
                toLoadNamespaces: m
            }
        }
    }, {
        key: "loaded",
        value: function(n, r, a) {
            var s = n.split("|"),
                l = s[0],
                u = s[1];
            r && this.emit("failedLoading", l, u, r), a && this.store.addResourceBundle(l, u, a), this.state[n] = r ? -1 : 2;
            var f = {};
            this.queue.forEach(function(d) {
                sk(d.loaded, [l], u), mk(d.pending, n), r && d.errors.push(r), d.pending.length === 0 && !d.done && (Object.keys(d.loaded).forEach(function(m) {
                    f[m] || (f[m] = []), d.loaded[m].length && d.loaded[m].forEach(function(T) {
                        f[m].indexOf(T) < 0 && f[m].push(T)
                    })
                }), d.done = !0, d.errors.length ? d.callback(d.errors) : d.callback())
            }), this.emit("loaded", f), this.queue = this.queue.filter(function(d) {
                return !d.done
            })
        }
    }, {
        key: "read",
        value: function(n, r, a) {
            var s = this,
                l = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : 0,
                u = arguments.length > 4 && arguments[4] !== void 0 ? arguments[4] : 350,
                f = arguments.length > 5 ? arguments[5] : void 0;
            return n.length ? this.backend[a](n, r, function(d, m) {
                if (d && m && l < 5) {
                    setTimeout(function() {
                        s.read.call(s, n, r, a, l + 1, u * 2, f)
                    }, u);
                    return
                }
                f(d, m)
            }) : f(null, {})
        }
    }, {
        key: "prepareLoading",
        value: function(n, r) {
            var a = this,
                s = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {},
                l = arguments.length > 3 ? arguments[3] : void 0;
            if (!this.backend) return this.logger.warn("No backend was added via i18next.use. Will not load resources."), l && l();
            typeof n == "string" && (n = this.languageUtils.toResolveHierarchy(n)), typeof r == "string" && (r = [r]);
            var u = this.queueLoad(n, r, s, l);
            if (!u.toLoad.length) return u.pending.length || l(), null;
            u.toLoad.forEach(function(f) {
                a.loadOne(f)
            })
        }
    }, {
        key: "load",
        value: function(n, r, a) {
            this.prepareLoading(n, r, {}, a)
        }
    }, {
        key: "reload",
        value: function(n, r, a) {
            this.prepareLoading(n, r, {
                reload: !0
            }, a)
        }
    }, {
        key: "loadOne",
        value: function(n) {
            var r = this,
                a = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : "",
                s = n.split("|"),
                l = s[0],
                u = s[1];
            this.read(l, u, "read", void 0, void 0, function(f, d) {
                f && r.logger.warn("".concat(a, "loading namespace ").concat(u, " for language ").concat(l, " failed"), f), !f && d && r.logger.log("".concat(a, "loaded namespace ").concat(u, " for language ").concat(l), d), r.loaded(n, f, d)
            })
        }
    }, {
        key: "saveMissing",
        value: function(n, r, a, s, l) {
            var u = arguments.length > 5 && arguments[5] !== void 0 ? arguments[5] : {};
            if (this.services.utils && this.services.utils.hasLoadedNamespace && !this.services.utils.hasLoadedNamespace(r)) {
                this.logger.warn('did not save key "'.concat(a, '" as the namespace "').concat(r, '" was not yet loaded'), "This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");
                return
            }
            a == null || a === "" || (this.backend && this.backend.create && this.backend.create(n, r, a, s, null, Dn({}, u, {
                isUpdate: l
            })), !(!n || !n[0]) && this.store.addResource(n[0], r, a, s))
        }
    }]), t
}(go);

function yk() {
    return {
        debug: !1,
        initImmediate: !0,
        ns: ["translation"],
        defaultNS: ["translation"],
        fallbackLng: ["dev"],
        fallbackNS: !1,
        whitelist: !1,
        nonExplicitWhitelist: !1,
        supportedLngs: !1,
        nonExplicitSupportedLngs: !1,
        load: "all",
        preload: !1,
        simplifyPluralSuffix: !0,
        keySeparator: ".",
        nsSeparator: ":",
        pluralSeparator: "_",
        contextSeparator: "_",
        partialBundledLanguages: !1,
        saveMissing: !1,
        updateMissing: !1,
        saveMissingTo: "fallback",
        saveMissingPlurals: !0,
        missingKeyHandler: !1,
        missingInterpolationHandler: !1,
        postProcess: !1,
        postProcessPassResolved: !1,
        returnNull: !0,
        returnEmptyString: !0,
        returnObjects: !1,
        joinArrays: !1,
        returnedObjectHandler: !1,
        parseMissingKeyHandler: !1,
        appendNamespaceToMissingKey: !1,
        appendNamespaceToCIMode: !1,
        overloadTranslationOptionHandler: function(t) {
            var i = {};
            if (Ir(t[1]) === "object" && (i = t[1]), typeof t[1] == "string" && (i.defaultValue = t[1]), typeof t[2] == "string" && (i.tDescription = t[2]), Ir(t[2]) === "object" || Ir(t[3]) === "object") {
                var n = t[3] || t[2];
                Object.keys(n).forEach(function(r) {
                    i[r] = n[r]
                })
            }
            return i
        },
        interpolation: {
            escapeValue: !0,
            format: function(t, i, n, r) {
                return t
            },
            prefix: "{{",
            suffix: "}}",
            formatSeparator: ",",
            unescapePrefix: "-",
            nestingPrefix: "$t(",
            nestingSuffix: ")",
            nestingOptionsSeparator: ",",
            maxReplaces: 1e3,
            skipOnVariables: !1
        }
    }
}

function gy(e) {
    return typeof e.ns == "string" && (e.ns = [e.ns]), typeof e.fallbackLng == "string" && (e.fallbackLng = [e.fallbackLng]), typeof e.fallbackNS == "string" && (e.fallbackNS = [e.fallbackNS]), e.whitelist && (e.whitelist && e.whitelist.indexOf("cimode") < 0 && (e.whitelist = e.whitelist.concat(["cimode"])), e.supportedLngs = e.whitelist), e.nonExplicitWhitelist && (e.nonExplicitSupportedLngs = e.nonExplicitWhitelist), e.supportedLngs && e.supportedLngs.indexOf("cimode") < 0 && (e.supportedLngs = e.supportedLngs.concat(["cimode"])), e
}

function af() {}
var _k = function(e) {
        Il(t, e);

        function t() {
            var i, n = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {},
                r = arguments.length > 1 ? arguments[1] : void 0;
            if (_a(this, t), i = Xo(this, po(t).call(this)), of && go.call(vs(i)), i.options = gy(n), i.services = {}, i.logger = Bs, i.modules = {
                    external: []
                }, r && !i.isInitialized && !n.isClone) {
                if (!i.options.initImmediate) return i.init(n, r), Xo(i, vs(i));
                setTimeout(function() {
                    i.init(n, r)
                }, 0)
            }
            return i
        }
        return ba(t, [{
            key: "init",
            value: function() {
                var n = this,
                    r = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {},
                    a = arguments.length > 1 ? arguments[1] : void 0;
                typeof r == "function" && (a = r, r = {}), r.whitelist && !r.supportedLngs && this.logger.deprecate("whitelist", 'option "whitelist" will be renamed to "supportedLngs" in the next major - please make sure to rename this option asap.'), r.nonExplicitWhitelist && !r.nonExplicitSupportedLngs && this.logger.deprecate("whitelist", 'options "nonExplicitWhitelist" will be renamed to "nonExplicitSupportedLngs" in the next major - please make sure to rename this option asap.'), this.options = Dn({}, yk(), this.options, gy(r)), this.format = this.options.interpolation.format, a || (a = af);

                function s(C) {
                    return C ? typeof C == "function" ? new C : C : null
                }
                if (!this.options.isClone) {
                    this.modules.logger ? Bs.init(s(this.modules.logger), this.options) : Bs.init(null, this.options);
                    var l = new ck(this.options);
                    this.store = new uk(this.options.resources, this.options);
                    var u = this.services;
                    u.logger = Bs, u.resourceStore = this.store, u.languageUtils = l, u.pluralResolver = new pk(l, {
                        prepend: this.options.pluralSeparator,
                        compatibilityJSON: this.options.compatibilityJSON,
                        simplifyPluralSuffix: this.options.simplifyPluralSuffix
                    }), u.interpolator = new gk(this.options), u.utils = {
                        hasLoadedNamespace: this.hasLoadedNamespace.bind(this)
                    }, u.backendConnector = new vk(s(this.modules.backend), u.resourceStore, u, this.options), u.backendConnector.on("*", function(C) {
                        for (var N = arguments.length, E = new Array(N > 1 ? N - 1 : 0), O = 1; O < N; O++) E[O - 1] = arguments[O];
                        n.emit.apply(n, [C].concat(E))
                    }), this.modules.languageDetector && (u.languageDetector = s(this.modules.languageDetector), u.languageDetector.init(u, this.options.detection, this.options)), this.modules.i18nFormat && (u.i18nFormat = s(this.modules.i18nFormat), u.i18nFormat.init && u.i18nFormat.init(this)), this.translator = new py(this.services, this.options), this.translator.on("*", function(C) {
                        for (var N = arguments.length, E = new Array(N > 1 ? N - 1 : 0), O = 1; O < N; O++) E[O - 1] = arguments[O];
                        n.emit.apply(n, [C].concat(E))
                    }), this.modules.external.forEach(function(C) {
                        C.init && C.init(n)
                    })
                }
                if (this.options.fallbackLng && !this.services.languageDetector && !this.options.lng) {
                    var f = this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);
                    f.length > 0 && f[0] !== "dev" && (this.options.lng = f[0])
                }!this.services.languageDetector && !this.options.lng && this.logger.warn("init: no languageDetector is used and no lng is defined");
                var d = ["getResource", "hasResourceBundle", "getResourceBundle", "getDataByLanguage"];
                d.forEach(function(C) {
                    n[C] = function() {
                        var N;
                        return (N = n.store)[C].apply(N, arguments)
                    }
                });
                var m = ["addResource", "addResources", "addResourceBundle", "removeResourceBundle"];
                m.forEach(function(C) {
                    n[C] = function() {
                        var N;
                        return (N = n.store)[C].apply(N, arguments), n
                    }
                });
                var T = Eu(),
                    x = function() {
                        var N = function(O, D) {
                            n.isInitialized && !n.initializedStoreOnce && n.logger.warn("init: i18next is already initialized. You should call init just once!"), n.isInitialized = !0, n.options.isClone || n.logger.log("initialized", n.options), n.emit("initialized", n.options), T.resolve(D), a(O, D)
                        };
                        if (n.languages && n.options.compatibilityAPI !== "v1" && !n.isInitialized) return N(null, n.t.bind(n));
                        n.changeLanguage(n.options.lng, N)
                    };
                return this.options.resources || !this.options.initImmediate ? x() : setTimeout(x, 0), T
            }
        }, {
            key: "loadResources",
            value: function(n) {
                var r = this,
                    a = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : af,
                    s = a,
                    l = typeof n == "string" ? n : this.language;
                if (typeof n == "function" && (s = n), !this.options.resources || this.options.partialBundledLanguages) {
                    if (l && l.toLowerCase() === "cimode") return s();
                    var u = [],
                        f = function(T) {
                            if (T) {
                                var x = r.services.languageUtils.toResolveHierarchy(T);
                                x.forEach(function(C) {
                                    u.indexOf(C) < 0 && u.push(C)
                                })
                            }
                        };
                    if (l) f(l);
                    else {
                        var d = this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);
                        d.forEach(function(m) {
                            return f(m)
                        })
                    }
                    this.options.preload && this.options.preload.forEach(function(m) {
                        return f(m)
                    }), this.services.backendConnector.load(u, this.options.ns, s)
                } else s(null)
            }
        }, {
            key: "reloadResources",
            value: function(n, r, a) {
                var s = Eu();
                return n || (n = this.languages), r || (r = this.options.ns), a || (a = af), this.services.backendConnector.reload(n, r, function(l) {
                    s.resolve(), a(l)
                }), s
            }
        }, {
            key: "use",
            value: function(n) {
                if (!n) throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");
                if (!n.type) throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");
                return n.type === "backend" && (this.modules.backend = n), (n.type === "logger" || n.log && n.warn && n.error) && (this.modules.logger = n), n.type === "languageDetector" && (this.modules.languageDetector = n), n.type === "i18nFormat" && (this.modules.i18nFormat = n), n.type === "postProcessor" && yy.addPostProcessor(n), n.type === "3rdParty" && this.modules.external.push(n), this
            }
        }, {
            key: "changeLanguage",
            value: function(n, r) {
                var a = this;
                this.isLanguageChangingTo = n;
                var s = Eu();
                this.emit("languageChanging", n);
                var l = function(d, m) {
                        m ? (a.language = m, a.languages = a.services.languageUtils.toResolveHierarchy(m), a.translator.changeLanguage(m), a.isLanguageChangingTo = void 0, a.emit("languageChanged", m), a.logger.log("languageChanged", m)) : a.isLanguageChangingTo = void 0, s.resolve(function() {
                            return a.t.apply(a, arguments)
                        }), r && r(d, function() {
                            return a.t.apply(a, arguments)
                        })
                    },
                    u = function(d) {
                        !n && !d && a.services.languageDetector && (d = []);
                        var m = typeof d == "string" ? d : a.services.languageUtils.getBestMatchFromCodes(d);
                        m && (a.language || (a.language = m, a.languages = a.services.languageUtils.toResolveHierarchy(m)), a.translator.language || a.translator.changeLanguage(m), a.services.languageDetector && a.services.languageDetector.cacheUserLanguage(m)), a.loadResources(m, function(T) {
                            l(T, m)
                        })
                    };
                return !n && this.services.languageDetector && !this.services.languageDetector.async ? u(this.services.languageDetector.detect()) : !n && this.services.languageDetector && this.services.languageDetector.async ? this.services.languageDetector.detect(u) : u(n), s
            }
        }, {
            key: "getFixedT",
            value: function(n, r, a) {
                var s = this,
                    l = function u(f, d) {
                        var m;
                        if (Ir(d) !== "object") {
                            for (var T = arguments.length, x = new Array(T > 2 ? T - 2 : 0), C = 2; C < T; C++) x[C - 2] = arguments[C];
                            m = s.options.overloadTranslationOptionHandler([f, d].concat(x))
                        } else m = Dn({}, d);
                        m.lng = m.lng || u.lng, m.lngs = m.lngs || u.lngs, m.ns = m.ns || u.ns;
                        var N = s.options.keySeparator || ".",
                            E = a ? "".concat(a).concat(N).concat(f) : f;
                        return s.t(E, m)
                    };
                return typeof n == "string" ? l.lng = n : l.lngs = n, l.ns = r, l.keyPrefix = a, l
            }
        }, {
            key: "t",
            value: function() {
                var n;
                return this.translator && (n = this.translator).translate.apply(n, arguments)
            }
        }, {
            key: "exists",
            value: function() {
                var n;
                return this.translator && (n = this.translator).exists.apply(n, arguments)
            }
        }, {
            key: "setDefaultNamespace",
            value: function(n) {
                this.options.defaultNS = n
            }
        }, {
            key: "hasLoadedNamespace",
            value: function(n) {
                var r = this,
                    a = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
                if (!this.isInitialized) return this.logger.warn("hasLoadedNamespace: i18next was not initialized", this.languages), !1;
                if (!this.languages || !this.languages.length) return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty", this.languages), !1;
                var s = this.languages[0],
                    l = this.options ? this.options.fallbackLng : !1,
                    u = this.languages[this.languages.length - 1];
                if (s.toLowerCase() === "cimode") return !0;
                var f = function(T, x) {
                    var C = r.services.backendConnector.state["".concat(T, "|").concat(x)];
                    return C === -1 || C === 2
                };
                if (a.precheck) {
                    var d = a.precheck(this, f);
                    if (d !== void 0) return d
                }
                return !!(this.hasResourceBundle(s, n) || !this.services.backendConnector.backend || f(s, n) && (!l || f(u, n)))
            }
        }, {
            key: "loadNamespaces",
            value: function(n, r) {
                var a = this,
                    s = Eu();
                return this.options.ns ? (typeof n == "string" && (n = [n]), n.forEach(function(l) {
                    a.options.ns.indexOf(l) < 0 && a.options.ns.push(l)
                }), this.loadResources(function(l) {
                    s.resolve(), r && r(l)
                }), s) : (r && r(), Promise.resolve())
            }
        }, {
            key: "loadLanguages",
            value: function(n, r) {
                var a = Eu();
                typeof n == "string" && (n = [n]);
                var s = this.options.preload || [],
                    l = n.filter(function(u) {
                        return s.indexOf(u) < 0
                    });
                return l.length ? (this.options.preload = s.concat(l), this.loadResources(function(u) {
                    a.resolve(), r && r(u)
                }), a) : (r && r(), Promise.resolve())
            }
        }, {
            key: "dir",
            value: function(n) {
                if (n || (n = this.languages && this.languages.length > 0 ? this.languages[0] : this.language), !n) return "rtl";
                var r = ["ar", "shu", "sqr", "ssh", "xaa", "yhd", "yud", "aao", "abh", "abv", "acm", "acq", "acw", "acx", "acy", "adf", "ads", "aeb", "aec", "afb", "ajp", "apc", "apd", "arb", "arq", "ars", "ary", "arz", "auz", "avl", "ayh", "ayl", "ayn", "ayp", "bbz", "pga", "he", "iw", "ps", "pbt", "pbu", "pst", "prp", "prd", "ug", "ur", "ydd", "yds", "yih", "ji", "yi", "hbo", "men", "xmn", "fa", "jpr", "peo", "pes", "prs", "dv", "sam"];
                return r.indexOf(this.services.languageUtils.getLanguagePartFromCode(n)) >= 0 ? "rtl" : "ltr"
            }
        }, {
            key: "createInstance",
            value: function() {
                var n = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {},
                    r = arguments.length > 1 ? arguments[1] : void 0;
                return new t(n, r)
            }
        }, {
            key: "cloneInstance",
            value: function() {
                var n = this,
                    r = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {},
                    a = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : af,
                    s = Dn({}, this.options, r, {
                        isClone: !0
                    }),
                    l = new t(s),
                    u = ["store", "services", "language"];
                return u.forEach(function(f) {
                    l[f] = n[f]
                }), l.services = Dn({}, this.services), l.services.utils = {
                    hasLoadedNamespace: l.hasLoadedNamespace.bind(l)
                }, l.translator = new py(l.services, l.options), l.translator.on("*", function(f) {
                    for (var d = arguments.length, m = new Array(d > 1 ? d - 1 : 0), T = 1; T < d; T++) m[T - 1] = arguments[T];
                    l.emit.apply(l, [f].concat(m))
                }), l.init(s, a), l.translator.options = l.options, l.translator.backendConnector.services.utils = {
                    hasLoadedNamespace: l.hasLoadedNamespace.bind(l)
                }, l
            }
        }, {
            key: "toJSON",
            value: function() {
                return {
                    options: this.options,
                    store: this.store,
                    language: this.language,
                    languages: this.languages
                }
            }
        }]), t
    }(go),
    bk = new _k,
    Dl = bk;

function Ad(e) {
    return Ad = typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? function(t) {
        return typeof t
    } : function(t) {
        return t && typeof Symbol == "function" && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
    }, Ad(e)
}
var _y = [],
    xk = _y.forEach,
    wk = _y.slice;

function Cu(e) {
    return xk.call(wk.call(arguments, 1), function(t) {
        if (t)
            for (var i in t) e[i] === void 0 && (e[i] = t[i])
    }), e
}

function Dd() {
    return typeof XMLHttpRequest == "function" || (typeof XMLHttpRequest > "u" ? "undefined" : Ad(XMLHttpRequest)) === "object"
}

function Ek(e) {
    return !!e && typeof e.then == "function"
}

function by(e) {
    return Ek(e) ? e : Promise.resolve(e)
}
var ff = ei(Sy(), 1);

function cf(e) {
    return cf = typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? function(t) {
        return typeof t
    } : function(t) {
        return t && typeof Symbol == "function" && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
    }, cf(e)
}
var Os;
typeof fetch == "function" && (typeof global < "u" && global.fetch ? Os = global.fetch : typeof window < "u" && window.fetch ? Os = window.fetch : Os = fetch);
var Tu;
Dd() && (typeof global < "u" && global.XMLHttpRequest ? Tu = global.XMLHttpRequest : typeof window < "u" && window.XMLHttpRequest && (Tu = window.XMLHttpRequest));
var hf;
typeof ActiveXObject == "function" && (typeof global < "u" && global.ActiveXObject ? hf = global.ActiveXObject : typeof window < "u" && window.ActiveXObject && (hf = window.ActiveXObject));
!Os && ff && !Tu && !hf && (Os = ff.default || ff);
typeof Os != "function" && (Os = void 0);
var Pd = function(t, i) {
        if (i && cf(i) === "object") {
            var n = "";
            for (var r in i) n += "&" + encodeURIComponent(r) + "=" + encodeURIComponent(i[r]);
            if (!n) return t;
            t = t + (t.indexOf("?") !== -1 ? "&" : "?") + n.slice(1)
        }
        return t
    },
    Ty = function(t, i, n) {
        Os(t, i).then(function(r) {
            if (!r.ok) return n(r.statusText || "Error", {
                status: r.status
            });
            r.text().then(function(a) {
                n(null, {
                    status: r.status,
                    data: a
                })
            }).catch(n)
        }).catch(n)
    },
    Ly = !1,
    Ck = function(t, i, n, r) {
        t.queryStringParams && (i = Pd(i, t.queryStringParams));
        var a = Cu({}, typeof t.customHeaders == "function" ? t.customHeaders() : t.customHeaders);
        n && (a["Content-Type"] = "application/json");
        var s = typeof t.requestOptions == "function" ? t.requestOptions(n) : t.requestOptions,
            l = Cu({
                method: n ? "POST" : "GET",
                body: n ? t.stringify(n) : void 0,
                headers: a
            }, Ly ? {} : s);
        try {
            Ty(i, l, r)
        } catch (u) {
            if (!s || Object.keys(s).length === 0 || !u.message || u.message.indexOf("not implemented") < 0) return r(u);
            try {
                Object.keys(s).forEach(function(f) {
                    delete l[f]
                }), Ty(i, l, r), Ly = !0
            } catch (f) {
                r(f)
            }
        }
    },
    Sk = function(t, i, n, r) {
        n && cf(n) === "object" && (n = Pd("", n).slice(1)), t.queryStringParams && (i = Pd(i, t.queryStringParams));
        try {
            var a;
            Tu ? a = new Tu : a = new hf("MSXML2.XMLHTTP.3.0"), a.open(n ? "POST" : "GET", i, 1), t.crossDomain || a.setRequestHeader("X-Requested-With", "XMLHttpRequest"), a.withCredentials = !!t.withCredentials, n && a.setRequestHeader("Content-Type", "application/x-www-form-urlencoded"), a.overrideMimeType && a.overrideMimeType("application/json");
            var s = t.customHeaders;
            if (s = typeof s == "function" ? s() : s, s)
                for (var l in s) a.setRequestHeader(l, s[l]);
            a.onreadystatechange = function() {
                a.readyState > 3 && r(a.status >= 400 ? a.statusText : null, {
                    status: a.status,
                    data: a.responseText
                })
            }, a.send(n)
        } catch (u) {
            console && console.log(u)
        }
    },
    Tk = function(t, i, n, r) {
        if (typeof n == "function" && (r = n, n = void 0), r = r || function() {}, Os) return Ck(t, i, n, r);
        if (Dd() || typeof ActiveXObject == "function") return Sk(t, i, n, r);
        r(new Error("No fetch and no xhr implementation found!"))
    },
    ky = Tk;

function Lk(e, t) {
    if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
}

function Iy(e, t) {
    for (var i = 0; i < t.length; i++) {
        var n = t[i];
        n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n)
    }
}

function kk(e, t, i) {
    return t && Iy(e.prototype, t), i && Iy(e, i), Object.defineProperty(e, "prototype", {
        writable: !1
    }), e
}

function Ik(e, t, i) {
    return t in e ? Object.defineProperty(e, t, {
        value: i,
        enumerable: !0,
        configurable: !0,
        writable: !0
    }) : e[t] = i, e
}
var Ak = function() {
        return {
            loadPath: "/locales/{{lng}}/{{ns}}.json",
            addPath: "/locales/add/{{lng}}/{{ns}}",
            allowMultiLoading: !1,
            parse: function(i) {
                return JSON.parse(i)
            },
            stringify: JSON.stringify,
            parsePayload: function(i, n, r) {
                return Ik({}, n, r || "")
            },
            request: ky,
            reloadInterval: typeof window < "u" ? !1 : 60 * 60 * 1e3,
            customHeaders: {},
            queryStringParams: {},
            crossDomain: !1,
            withCredentials: !1,
            overrideMimeType: !1,
            requestOptions: {
                mode: "cors",
                credentials: "same-origin",
                cache: "default"
            }
        }
    },
    Ay = function() {
        function e(t) {
            var i = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {},
                n = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {};
            Lk(this, e), this.services = t, this.options = i, this.allOptions = n, this.type = "backend", this.init(t, i, n)
        }
        return kk(e, [{
            key: "init",
            value: function(i) {
                var n = this,
                    r = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {},
                    a = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {};
                this.services = i, this.options = Cu(r, this.options || {}, Ak()), this.allOptions = a, this.services && this.options.reloadInterval && setInterval(function() {
                    return n.reload()
                }, this.options.reloadInterval)
            }
        }, {
            key: "readMulti",
            value: function(i, n, r) {
                this._readAny(i, i, n, n, r)
            }
        }, {
            key: "read",
            value: function(i, n, r) {
                this._readAny([i], i, [n], n, r)
            }
        }, {
            key: "_readAny",
            value: function(i, n, r, a, s) {
                var l = this,
                    u = this.options.loadPath;
                typeof this.options.loadPath == "function" && (u = this.options.loadPath(i, r)), u = by(u), u.then(function(f) {
                    if (!f) return s(null, {});
                    var d = l.services.interpolator.interpolate(f, {
                        lng: i.join("+"),
                        ns: r.join("+")
                    });
                    l.loadUrl(d, s, n, a)
                })
            }
        }, {
            key: "loadUrl",
            value: function(i, n, r, a) {
                var s = this;
                this.options.request(this.options, i, void 0, function(l, u) {
                    if (u && (u.status >= 500 && u.status < 600 || !u.status)) return n("failed loading " + i + "; status code: " + u.status, !0);
                    if (u && u.status >= 400 && u.status < 500) return n("failed loading " + i + "; status code: " + u.status, !1);
                    if (!u && l && l.message && l.message.indexOf("Failed to fetch") > -1) return n("failed loading " + i + ": " + l.message, !0);
                    if (l) return n(l, !1);
                    var f, d;
                    try {
                        typeof u.data == "string" ? f = s.options.parse(u.data, r, a) : f = u.data
                    } catch {
                        d = "failed parsing " + i + " to json"
                    }
                    if (d) return n(d, !1);
                    n(null, f)
                })
            }
        }, {
            key: "create",
            value: function(i, n, r, a, s) {
                var l = this;
                if (this.options.addPath) {
                    typeof i == "string" && (i = [i]);
                    var u = this.options.parsePayload(n, r, a),
                        f = 0,
                        d = [],
                        m = [];
                    i.forEach(function(T) {
                        var x = l.options.addPath;
                        typeof l.options.addPath == "function" && (x = l.options.addPath(T, n));
                        var C = l.services.interpolator.interpolate(x, {
                            lng: T,
                            ns: n
                        });
                        l.options.request(l.options, C, u, function(N, E) {
                            f += 1, d.push(N), m.push(E), f === i.length && s && s(d, m)
                        })
                    })
                }
            }
        }, {
            key: "reload",
            value: function() {
                var i = this,
                    n = this.services,
                    r = n.backendConnector,
                    a = n.languageUtils,
                    s = n.logger,
                    l = r.language;
                if (!(l && l.toLowerCase() === "cimode")) {
                    var u = [],
                        f = function(m) {
                            var T = a.toResolveHierarchy(m);
                            T.forEach(function(x) {
                                u.indexOf(x) < 0 && u.push(x)
                            })
                        };
                    f(l), this.allOptions.preload && this.allOptions.preload.forEach(function(d) {
                        return f(d)
                    }), u.forEach(function(d) {
                        i.allOptions.ns.forEach(function(m) {
                            r.read(d, m, "read", null, null, function(T, x) {
                                T && s.warn("loading namespace ".concat(m, " for language ").concat(d, " failed"), T), !T && x && s.log("loaded namespace ".concat(m, " for language ").concat(d), x), r.loaded("".concat(d, "|").concat(m), T, x)
                            })
                        })
                    })
                }
            }
        }]), e
    }();
Ay.type = "backend";
var Dy = Ay;
var My = [],
    Dk = My.forEach,
    Nk = My.slice;

function Pk(e) {
    return Dk.call(Nk.call(arguments, 1), function(t) {
        if (t)
            for (var i in t) e[i] === void 0 && (e[i] = t[i])
    }), e
}
var Ny = /^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,
    Rk = function(t, i, n) {
        var r = n || {};
        r.path = r.path || "/";
        var a = encodeURIComponent(i),
            s = "".concat(t, "=").concat(a);
        if (r.maxAge > 0) {
            var l = r.maxAge - 0;
            if (Number.isNaN(l)) throw new Error("maxAge should be a Number");
            s += "; Max-Age=".concat(Math.floor(l))
        }
        if (r.domain) {
            if (!Ny.test(r.domain)) throw new TypeError("option domain is invalid");
            s += "; Domain=".concat(r.domain)
        }
        if (r.path) {
            if (!Ny.test(r.path)) throw new TypeError("option path is invalid");
            s += "; Path=".concat(r.path)
        }
        if (r.expires) {
            if (typeof r.expires.toUTCString != "function") throw new TypeError("option expires is invalid");
            s += "; Expires=".concat(r.expires.toUTCString())
        }
        if (r.httpOnly && (s += "; HttpOnly"), r.secure && (s += "; Secure"), r.sameSite) {
            var u = typeof r.sameSite == "string" ? r.sameSite.toLowerCase() : r.sameSite;
            switch (u) {
                case !0:
                    s += "; SameSite=Strict";
                    break;
                case "lax":
                    s += "; SameSite=Lax";
                    break;
                case "strict":
                    s += "; SameSite=Strict";
                    break;
                case "none":
                    s += "; SameSite=None";
                    break;
                default:
                    throw new TypeError("option sameSite is invalid")
            }
        }
        return s
    },
    Py = {
        create: function(t, i, n, r) {
            var a = arguments.length > 4 && arguments[4] !== void 0 ? arguments[4] : {
                path: "/",
                sameSite: "strict"
            };
            n && (a.expires = new Date, a.expires.setTime(a.expires.getTime() + n * 60 * 1e3)), r && (a.domain = r), document.cookie = Rk(t, encodeURIComponent(i), a)
        },
        read: function(t) {
            for (var i = "".concat(t, "="), n = document.cookie.split(";"), r = 0; r < n.length; r++) {
                for (var a = n[r]; a.charAt(0) === " ";) a = a.substring(1, a.length);
                if (a.indexOf(i) === 0) return a.substring(i.length, a.length)
            }
            return null
        },
        remove: function(t) {
            this.create(t, "", -1)
        }
    },
    Bk = {
        name: "cookie",
        lookup: function(t) {
            var i;
            if (t.lookupCookie && typeof document < "u") {
                var n = Py.read(t.lookupCookie);
                n && (i = n)
            }
            return i
        },
        cacheUserLanguage: function(t, i) {
            i.lookupCookie && typeof document < "u" && Py.create(i.lookupCookie, t, i.cookieMinutes, i.cookieDomain, i.cookieOptions)
        }
    },
    Mk = {
        name: "querystring",
        lookup: function(t) {
            var i;
            if (typeof window < "u") {
                var n = window.location.search;
                !window.location.search && window.location.hash && window.location.hash.indexOf("?") > -1 && (n = window.location.hash.substring(window.location.hash.indexOf("?")));
                for (var r = n.substring(1), a = r.split("&"), s = 0; s < a.length; s++) {
                    var l = a[s].indexOf("=");
                    if (l > 0) {
                        var u = a[s].substring(0, l);
                        u === t.lookupQuerystring && (i = a[s].substring(l + 1))
                    }
                }
            }
            return i
        }
    },
    Lu = null,
    Ry = function() {
        if (Lu !== null) return Lu;
        try {
            Lu = window !== "undefined" && window.localStorage !== null;
            var t = "i18next.translate.boo";
            window.localStorage.setItem(t, "foo"), window.localStorage.removeItem(t)
        } catch {
            Lu = !1
        }
        return Lu
    },
    Ok = {
        name: "localStorage",
        lookup: function(t) {
            var i;
            if (t.lookupLocalStorage && Ry()) {
                var n = window.localStorage.getItem(t.lookupLocalStorage);
                n && (i = n)
            }
            return i
        },
        cacheUserLanguage: function(t, i) {
            i.lookupLocalStorage && Ry() && window.localStorage.setItem(i.lookupLocalStorage, t)
        }
    },
    ku = null,
    By = function() {
        if (ku !== null) return ku;
        try {
            ku = window !== "undefined" && window.sessionStorage !== null;
            var t = "i18next.translate.boo";
            window.sessionStorage.setItem(t, "foo"), window.sessionStorage.removeItem(t)
        } catch {
            ku = !1
        }
        return ku
    },
    Uk = {
        name: "sessionStorage",
        lookup: function(t) {
            var i;
            if (t.lookupSessionStorage && By()) {
                var n = window.sessionStorage.getItem(t.lookupSessionStorage);
                n && (i = n)
            }
            return i
        },
        cacheUserLanguage: function(t, i) {
            i.lookupSessionStorage && By() && window.sessionStorage.setItem(i.lookupSessionStorage, t)
        }
    },
    Fk = {
        name: "navigator",
        lookup: function(t) {
            var i = [];
            if (typeof navigator < "u") {
                if (navigator.languages)
                    for (var n = 0; n < navigator.languages.length; n++) i.push(navigator.languages[n]);
                navigator.userLanguage && i.push(navigator.userLanguage), navigator.language && i.push(navigator.language)
            }
            return i.length > 0 ? i : void 0
        }
    },
    qk = {
        name: "htmlTag",
        lookup: function(t) {
            var i, n = t.htmlTag || (typeof document < "u" ? document.documentElement : null);
            return n && typeof n.getAttribute == "function" && (i = n.getAttribute("lang")), i
        }
    },
    Vk = {
        name: "path",
        lookup: function(t) {
            var i;
            if (typeof window < "u") {
                var n = window.location.pathname.match(/\/([a-zA-Z-]*)/g);
                if (n instanceof Array)
                    if (typeof t.lookupFromPathIndex == "number") {
                        if (typeof n[t.lookupFromPathIndex] != "string") return;
                        i = n[t.lookupFromPathIndex].replace("/", "")
                    } else i = n[0].replace("/", "")
            }
            return i
        }
    },
    zk = {
        name: "subdomain",
        lookup: function(t) {
            var i = typeof t.lookupFromSubdomainIndex == "number" ? t.lookupFromSubdomainIndex + 1 : 1,
                n = typeof window < "u" && window.location && window.location.hostname && window.location.hostname.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);
            if (n) return n[i]
        }
    };

function Hk() {
    return {
        order: ["querystring", "cookie", "localStorage", "sessionStorage", "navigator", "htmlTag"],
        lookupQuerystring: "lng",
        lookupCookie: "i18next",
        lookupLocalStorage: "i18nextLng",
        lookupSessionStorage: "i18nextLng",
        caches: ["localStorage"],
        excludeCacheFor: ["cimode"]
    }
}
var Rd = function() {
    function e(t) {
        var i = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
        _a(this, e), this.type = "languageDetector", this.detectors = {}, this.init(t, i)
    }
    return ba(e, [{
        key: "init",
        value: function(i) {
            var n = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {},
                r = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {};
            this.services = i, this.options = Pk(n, this.options || {}, Hk()), this.options.lookupFromUrlIndex && (this.options.lookupFromPathIndex = this.options.lookupFromUrlIndex), this.i18nOptions = r, this.addDetector(Bk), this.addDetector(Mk), this.addDetector(Ok), this.addDetector(Uk), this.addDetector(Fk), this.addDetector(qk), this.addDetector(Vk), this.addDetector(zk)
        }
    }, {
        key: "addDetector",
        value: function(i) {
            this.detectors[i.name] = i
        }
    }, {
        key: "detect",
        value: function(i) {
            var n = this;
            i || (i = this.options.order);
            var r = [];
            return i.forEach(function(a) {
                if (n.detectors[a]) {
                    var s = n.detectors[a].lookup(n.options);
                    s && typeof s == "string" && (s = [s]), s && (r = r.concat(s))
                }
            }), this.services.languageUtils.getBestMatchFromCodes ? r : r.length > 0 ? r[0] : null
        }
    }, {
        key: "cacheUserLanguage",
        value: function(i, n) {
            var r = this;
            n || (n = this.options.caches), n && (this.options.excludeCacheFor && this.options.excludeCacheFor.indexOf(i) > -1 || n.forEach(function(a) {
                r.detectors[a] && r.detectors[a].cacheUserLanguage(i, r.options)
            }))
        }
    }]), e
}();
Rd.type = "languageDetector";
var Oy = `${rt.basePath}${rt.offlinePath}/locales/build/__lng__/translation-combined.json`,
    Uy = /^[a-z]{2,3}/,
    $k = document.createRange(),
    jk = {
        type: "postProcessor",
        name: "htmlParagraphsPostProcessor",
        process(e) {
            let t = e.split(`
`);
            return t.length > 1 ? `<p>${t.join("</p><p>")}</p>` : e
        }
    },
    Fy = e => Wk.then(() => e),
    Wk = new Promise((e, t) => {
        Dl.use(Dy).use(Rd).use(jk).init({
            whitelist: rt.languagesSupported,
            fallbackLng: "en",
            joinArrays: `
`,
            backend: {
                loadPath: Oy
            },
            load: "languageOnly",
            lowerCaseLng: !0,
            detection: {
                order: ["querystring", "navigator"],
                lookupQuerystring: "lang",
                caches: !1
            },
            interpolation: {
                prefix: "__",
                suffix: "__"
            },
            postProcess: ["htmlParagraphsPostProcessor"]
        }, i => {
            i ? t(i) : e()
        })
    }),
    Ae = (e, t) => Dl.t(e, t),
    df = (e, t) => {
        let i = {},
            n = e.querySelectorAll("[data-i18n]");
        return Promise.resolve().then(() => {
            if (t) return Dl.changeLanguage(t)
        }).then(() => (n.forEach(r => {
            let a = r.dataset.i18n;
            if (a) {
                if (!i[a]) {
                    let s = {};
                    r.dataset.i18nIcon && (s = {
                        icon: `<span class="icon ${r.dataset.i18nIcon}"> </span>`,
                        interpolation: {
                            escapeValue: !1
                        }
                    }), r.dataset.i18nNumber && (s = {
                        number: r.dataset.i18nNumber
                    }), i[a] = Ae(a, s)
                }
                r.placeholder ? r.placeholder = i[a] : r.dataset.i18nIcon ? (r.textContent = "", r.append($k.createContextualFragment(i[a]))) : r.textContent = i[a]
            }
        }), Dl.dir()))
    },
    UM = e => {
        e && (console.log(`loading translations for ${e}`), fetch(Oy.replace("__lng__", e)))
    },
    qy = () => {
        let e = Dl.language.match(Uy);
        return e.length ? e[0] : null
    },
    Vy = () => {
        let e = navigator.language.match(Uy);
        return e.length ? e[0] : null
    };
He.QueueSubmissionSuccess = function(e) {
    return new CustomEvent("queuesubmissionsuccess", {
        detail: e,
        bubbles: !0
    })
};
He.SubmissionSuccess = function() {
    return new CustomEvent("submissionsuccess", {
        bubbles: !0
    })
};
He.Close = function() {
    return new CustomEvent("close", {
        bubbles: !0
    })
};
He.OfflineLaunchCapable = function(e) {
    return new CustomEvent("offlinelaunchcapable", {
        detail: e,
        bubbles: !0
    })
};
He.ApplicationUpdated = function() {
    return new CustomEvent("applicationupdated", {
        bubbles: !0
    })
};
He.FormUpdated = function() {
    return new CustomEvent("formupdated", {
        bubbles: !0
    })
};
He.FormReset = function() {
    return new CustomEvent("formreset", {
        bubbles: !0
    })
};
var Nn = He;
var Bd = navigator.userAgent,
    zy = navigator.platform,
    Us = {
        get ios() {
            return /iPad|iPhone|iPod/i.test(zy) || /Mac/i.test(zy) && document.documentElement.ontouchstart !== void 0
        },
        get android() {
            return /android/i.test(Bd)
        },
        get macos() {
            return /Mac/.test(Bd)
        }
    },
    Hy = {
        get safari() {
            return /^((?!chrome|android).)*safari/i.test(Bd)
        }
    };
var $y = {},
    Md = !1;
["date", "datetime-local", "time", "month"].forEach(e => {
    let t = document.createElement("input");
    t.setAttribute("type", e), $y[e] = t.type !== "text"
});
(Us.ios || Us.android) && (Md = !0, document.documentElement.classList.add("touch"));
var Vi = {
    get inputTypes() {
        return $y
    },
    get touch() {
        return Md
    },
    set touch(e) {
        Md = e
    }
};
var Au = ei(an());
var jy, Iu, pf;
document.addEventListener("DOMContentLoaded", () => Kk());

function Kk() {
    let e = {},
        t = document.body.appendChild(document.createElement("DIV"));
    t.style.width = "1in", t.style.padding = "0", e.v = t.offsetWidth, t.parentNode.removeChild(t), jy = e.v
}

function Gk() {
    for (let e in document.styleSheets)
        if (Object.prototype.hasOwnProperty.call(document.styleSheets, e)) {
            let t = document.styleSheets[e];
            if (t.media.mediaText === "print") return t
        }
    return null
}

function Zk() {
    return document.querySelector('link[media="print"]')
}

function Wy() {
    return Iu = Iu || Gk(), pf = pf || Zk(), Iu.media.mediaText = "all", pf.setAttribute("media", "all"), !!Iu
}

function Ky() {
    Iu.media.mediaText = "print", pf.setAttribute("media", "print"), document.querySelectorAll(".print-height-adjusted, .print-width-adjusted, .main").forEach(e => {
        e.removeAttribute("style"), e.classList.remove("print-height-adjusted", "print-width-adjusted")
    }), (0, Au.default)(".back-to-screen-view").off("click").remove()
}

function Ud() {
    return /theme-.*grid.*/.test(document.querySelector("form.or").getAttribute("class"))
}

function Fd(e, t = 500) {
    let i = new Tl,
        n = document.querySelector(".main"),
        r = "print-width-adjusted",
        a = i.waitForClassChange(n, r);
    return n.style.width = Xk(e), n.classList.add(r), a.then(() => {
        let s = [],
            l, u = document.querySelector("#form-title"),
            f = u ? u.offsetWidth - 1 : null,
            d = document.querySelectorAll(".question:not(.draft), .trigger:not(.draft)");
        return d.forEach((m, T) => {
            let x = T === d.length - 1,
                {
                    top: C
                } = (0, Au.default)(m).offset();
            l = l || l === 0 ? l : C, C === l && (s = s.concat(m)), x && Od(s, f), C > l ? (Od(s, f), x && !s.includes(m) ? Od([m], f) : (s = [m], l = (0, Au.default)(m).offset().top)) : l < C && console.error("unexpected question top position: ", C, "for element:", m, "expected >=", l)
        }), i.waitForQuietness().then(() => new Promise(m => {
            setTimeout(m, t)
        }))
    })
}

function Od(e, t) {
    let i = [],
        n = 0,
        r = 0;
    if (e.forEach(a => {
            let s = Number((0, Au.default)(a).css("width").replace("px", ""));
            i.push(s), n += s
        }), n < t) {
        let a = t - n;
        e.forEach((s, l) => {
            let u = i[l] + i[l] / n * a;
            s.style.width = `${Math.floor(u*100/t*100)/100}%`, s.classList.add("print-width-adjusted")
        })
    }
    e.forEach(a => {
        let s = a.offsetHeight;
        r = s > r ? s : r
    }), e.forEach(a => {
        a.classList.contains("or-appearance-image-map") || (a.classList.add("print-height-adjusted"), a.style.height = `${r}px`)
    })
}

function Xk(e) {
    let t, i = {
        Letter: [8.5, 11],
        Legal: [8.5, 14],
        Tabloid: [11, 17],
        Ledger: [17, 11],
        A0: [33.1, 46.8],
        A1: [23.4, 33.1],
        A2: [16.5, 23.4],
        A3: [11.7, 16.5],
        A4: [8.27, 11.7],
        A5: [5.83, 8.27],
        A6: [4.13, 5.83]
    };
    return e.landscape = typeof e.landscape == "boolean" ? e.landscape : e.orientation === "landscape", delete e.orientation, typeof e.margin > "u" ? e.margin = .4 : /^[\d.]+in$/.test(e.margin.trim()) ? e.margin = parseFloat(e.margin, 10) : /^[\d.]+cm$/.test(e.margin.trim()) ? e.margin = parseFloat(e.margin, 10) / 2.54 : /^[\d.]+mm$/.test(e.margin.trim()) && (e.margin = parseFloat(e.margin, 10) / 25.4), e.format = typeof e.format == "string" && typeof i[e.format] < "u" ? e.format : "A4", t = e.landscape === !0 ? i[e.format][1] : i[e.format][0], `${(t-2*e.margin)*jy}px`
}

function qd() {
    document.querySelectorAll("details.or-form-guidance.active").forEach(e => {
        e.open ? e.dataset.previousOpen = !0 : e.open = !0
    })
}

function Vd() {
    document.querySelectorAll("details.or-form-guidance.active").forEach(e => {
        e.dataset.previousOpen ? delete e.dataset.previousOpen : e.open = !1
    })
}
var xa = ei(Zy()),
    hn = ei(Du()),
    o_ = ei(s_());
var jd = {
    get feedbackBar() {
        return this._fbBar || (this._fbBar = document.querySelector("#feedback-bar")), this._fbBar
    },
    get messages() {
        return this.feedbackBar.querySelectorAll("p")
    },
    setCloseHandler() {
        this.feedbackBar.querySelector(".close").addEventListener("click", () => {
            this.hide()
        })
    },
    show(e, t) {
        this.feedbackBar.classList.add("feedback-bar--show");
        let {
            messages: i
        } = this;
        if (i.length > 1 && i[1].remove(), !i[0] || i[0].innerHTML !== e.trim()) {
            let n = document.createElement("p");
            n.innerHTML = e.trim(), this.feedbackBar.prepend(n), t && setTimeout(() => {
                n.remove(), this.messages.length === 0 && this.hide()
            }, t * 1e3)
        }
    },
    hide() {
        this.feedbackBar.classList.remove("feedback-bar--show"), this.messages.forEach(e => e.remove())
    }
};
var vf = navigator.userAgent,
    Nu = {
        browser: {
            get chrome() {
                let e = /chrome|crios\/(\d+)/i.test(vf);
                return !/edge\//i.test(vf) && e
            },
            get safari() {
                return /^((?!chrome|android|fxios|crios|ucbrowser).)*safari/i.test(vf)
            },
            get firefox() {
                return /firefox|fxios/i.test(vf)
            }
        },
        os: Us
    };
var mo = ei(Du());
mo.default.fn.capitalizeStart = function(e) {
    e || (e = 1);
    let t = this.contents().filter(function() {
            return this.nodeType === 3
        }).first(),
        i = t.text(),
        n = i.split(" ", e).join(" ");
    t.length && (t[0].nodeValue = i.slice(n.length), t.before(`<span class="capitalize">${n}</span>`))
};
mo.default.fn.btnBusyState = function(e) {
    return this.each(function() {
        let t = (0, mo.default)(this),
            i = t.find(".temp").html();
        e && !i ? (i = t.html(), t.empty().append("<progress></progress>").append((0, mo.default)('<span class="temp" style="display: none;"/>').append(i)).attr("disabled", !0)) : !e && i && t.empty().append(i).removeAttr("disabled")
    })
};
mo.default.fn.btnText = function(e) {
    (0, mo.default)(this).add((0, mo.default)(this).find("span")).last()[0].lastChild.textContent = e
};
var u2, Pu, l_, Qo;
xa.default.registerPlugin(o_.default);
xa.default.defaultOptions.className = "vex-theme-plain";

function c2() {
    Fy().then(f2), typeof window.console > "u" && (window.console = {
        log() {}
    }), typeof window.console.debug > "u" && (console.debug = console.log), rt.touch ? (Vi.touch = !0, (0, hn.default)("html").addClass("touch")) : rt.touch === !1 && (Vi.touch = !1, (0, hn.default)("html").removeClass("touch"))
}

function f2() {
    let e = (0, hn.default)(document);
    jd.setCloseHandler(), e.on("click", ".side-slider .close, .slider-overlay", () => {
        (0, hn.default)("body").removeClass("show-side-slider")
    }), (0, hn.default)(".form-header__button--print").on("click", f_), (0, hn.default)(".side-slider__toggle, .offline-enabled__queue-length").on("click", () => {
        let t = (0, hn.default)("body");
        window.scrollTo(0, 0), t.toggleClass("show-side-slider")
    }), (0, hn.default)(".offline-enabled__icon").on("click", () => {
        let t = Ae("alert.offlinesupported.msg");
        Jo(t, Ae("alert.offlinesupported.heading"), "normal")
    }), (0, hn.default)("#save-draft").on("click", ".save-draft-info", () => {
        let t = document.querySelector(".side-slider__toggle").cloneNode(!0);
        t.removeAttribute("aria-label"), t.style.position = "static", t.style.margin = "10px auto", t.style.display = "block", t.disabled = !0;
        let i = Ae("alert.savedraftinfo.msg", {
            icon: t.outerHTML,
            interpolation: {
                escapeValue: !1
            }
        });
        Jo(i, Ae("alert.savedraftinfo.heading"), "normal")
    }), (0, hn.default)("a.branding").on("click", function() {
        let t = this.getAttribute("href");
        return !(!t || t === "#")
    }), c_() && (0, hn.default)(".form-header__button--homescreen").removeClass("hide").on("click", m2), e.on("xpatherror", (t, i) => {
        let n = rt.supportEmail,
            r = `<a href="mailto:${n}?subject=xpath errors for: ${encodeURIComponent(location.href)}&body=${encodeURIComponent(i)}" target="_blank" >${n}</a>`;
        Jo(`${Ae("alert.xpatherror.msg",{emailLink:r,interpolation:{escapeValue:!1}})}<ul class="error-list"><li>${i}</li></ul>`, Ae("alert.xpatherror.heading"))
    }), (0, hn.default)(".side-slider__app-version").on("click", () => {
        (0, hn.default)(".side-slider__advanced").toggleClass("hide")
    })
}

function h2(e) {
    let t = e.theme,
        i = (0, hn.default)("link[rel=stylesheet][href*=theme-]"),
        n = /\/theme-([A-z]+)(\.print)?\.css/.exec(i.eq(0).attr("href"));
    return Qo = n !== null ? n[1] : null, new Promise(r => {
        if (t && t !== Qo && rt.themesSupported.some(a => t === a)) {
            let a = [];
            i.each(function() {
                a.push((0, hn.default)(this.outerHTML.replace(/(href=.*\/theme-)[A-z]+((\.print)?\.css)/, `$1${t}$2`)))
            }), console.log("Swapping theme to", t), a[0].on("load", () => {
                Qo = t, r(e)
            }), i.each(function(s) {
                (0, hn.default)(this).replaceWith(a[s])
            })
        } else console.log("Keeping default theme."), delete e.theme, r(e)
    })
}

function d2(e, t, i = Ae("feedback.header")) {
    Vi.touch ? Jo(e, i, "info", t) : jd.show(e, t)
}

function Jo(e, t, i, n) {
    return i = i || "error", xa.default.closeAll(), xa.default.dialog.alert({
        unsafeMessage: `<span>${e}</span>`,
        title: t || Ae("alert.default.heading"),
        messageClassName: i === "normal" ? "" : `alert-box ${i}`,
        buttons: [{
            text: Ae("alert.validationsuccess.heading"),
            type: "submit",
            className: "btn btn-primary small"
        }],
        autoClose: n,
        showCloseButton: !0
    }), Promise.resolve()
}

function Kd(e, t) {
    let i = "",
        n = typeof e == "string" ? e : e.msg;
    return e.errorMsg && (i = `<p class="alert-box error">${e.errorMsg}</p>`), new Promise(r => {
        t = t || {}, t.allowAlternativeClose = typeof t.allowAlternativeClose < "u" ? t.allowAlternativeClose : !0, xa.default.closeAll(), xa.default.dialog.confirm({
            unsafeMessage: i + (n || Ae("confirm.default.msg")),
            title: e.heading || Ae("confirm.default.heading"),
            buttons: [hn.default.extend({}, xa.default.dialog.buttons.YES, {
                text: t.posButton || Ae("confirm.default.posButton"),
                className: "btn btn-primary small"
            }), hn.default.extend({}, xa.default.dialog.buttons.NO, {
                text: t.negButton || Ae("confirm.default.negButton"),
                className: "btn btn-default small"
            })],
            callback: r,
            afterClose: r,
            showCloseButton: t.allowAlternativeClose,
            escapeButtonCloses: t.allowAlternativeClose,
            overlayClosesOnClick: t.allowAlternativeClose
        })
    })
}

function u_(e, t, i) {
    let n = "",
        r = typeof e == "string" ? e : e.msg;
    return e.errorMsg && (n = `<p class="alert-box error">${e.errorMsg}</p>`), new Promise(a => {
        t = t || {}, xa.default.closeAll(), xa.default.dialog.prompt({
            unsafeMessage: n + (r || ""),
            title: e.heading || Ae("prompt.default.heading"),
            buttons: [hn.default.extend({}, xa.default.dialog.buttons.YES, {
                text: t.posButton || Ae("confirm.default.posButton"),
                className: "btn btn-primary small"
            }), hn.default.extend({}, xa.default.dialog.buttons.NO, {
                text: t.negButton || Ae("confirm.default.negButton"),
                className: "btn btn-default small"
            })],
            input: i,
            callback: a,
            showCloseButton: !0
        })
    })
}

function p2(e) {
    e = e || Ae("confirm.login.msg"), Kd({
        msg: e,
        heading: Ae("confirm.login.heading")
    }, {
        posButton: Ae("confirm.login.posButton"),
        negButton: Ae("confirm.login.negButton")
    }).then(t => {
        if (!t) return;
        let i = `?return_url=${encodeURIComponent(location.href)}`;
        i += rt.touch ? `&touch=${rt.touch}` : "", i += rt.debug ? `&debug=${rt.debug}` : "", location.href = `${location.protocol}//${location.host}${rt.loginUrl}${i}`
    })
}

function g2(e, t, i = {}) {
    let n = e.map(m => `<p>${m.split(`

`).join("</p><p>")}</p>`),
        r = e.length === 1 ? `${n[0]}` : `<ul class="error-list"><li>${n.join("</li><li>")}</li></ul>`,
        a = `* ${e.join(`
* `)}`,
        s = rt.supportEmail,
        u = {
            emailLink: `<a href="mailto:${s}?subject=loading errors for: ${encodeURIComponent(location.href)}&body=${encodeURIComponent(a)}" target="_blank" >${s}</a>`,
            count: e.length,
            interpolation: {
                escapeValue: !1
            }
        };
    t = t || "";
    let f = i.omitIntro ? "" : `${Ae("alert.loaderror.msg1",u)} `,
        d = i.omitSupportContact ? "" : `<p>${Ae("alert.loaderror.msg2",u)}</p>`;
    Jo(`<p>${f}${t}</p>${d}${r}`, Ae("alert.loaderror.heading", u))
}

function m2() {
    Jo(c_(), Ae("alert.addtohomescreen.heading"), "normal")
}

function c_() {
    let e, {
            browser: t
        } = Nu,
        {
            os: i
        } = Nu;
    return Pu || (i.ios && t.safari ? (e = "ios-safari", Pu = Ae("alert.addtohomescreen.iossafari.msg", Wd(e))) : i.android && t.chrome ? (e = "android-chrome", Pu = Ae("alert.addtohomescreen.androidchrome.msg", Wd(e))) : i.android && t.firefox && (Pu = Ae("alert.addtohomescreen.androidfirefox.msg", Wd()))), Pu
}

function Wd(e, t) {
    return {
        image1: e ? `<span class="${e}"/>` : "",
        image2: t ? `<span class="${t}"/>` : "",
        interpolation: {
            escapeValue: !1
        }
    }
}

function f_() {
    let e = h_(),
        t = {
            heading: e.heading,
            msg: e.msg
        },
        i = {
            posButton: e.posButton,
            negButton: e.negButton
        },
        n = e.gridInputs + e.gridWarning,
        r = document.querySelectorAll(".question");
    return qd(), r.forEach(a => a.dispatchEvent(Nn.Printify())), Qo === "grid" || !Qo && Ud() ? u_(t, i, n).then(a => {
        if (a) return v2(a)
    }).then(() => {
        Vd(), r.forEach(a => a.dispatchEvent(Nn.DePrintify()))
    }) : (window.print(), Vd(), r.forEach(a => a.dispatchEvent(Nn.DePrintify())), Promise.resolve())
}

function h_() {
    return {
        heading: Ae("confirm.print.heading"),
        msg: Ae("confirm.print.msg"),
        posButton: Ae("confirm.print.posButton"),
        negButton: Ae("alert.default.button"),
        gridInputs: `<fieldset><legend>${Ae("confirm.print.psize")}</legend><label><input name="format" type="radio" value="A4" required checked/><span>${Ae("confirm.print.a4")}</span></label><label><input name="format" type="radio" value="Letter" required/><span>${Ae("confirm.print.letter")}</span></label></fieldset><fieldset><legend>${Ae("confirm.print.orientation")}</legend><label><input name="orientation" type="radio" value="portrait" required checked/><span>${Ae("confirm.print.portrait")}</span></label><label><input name="orientation" type="radio" value="landscape" required/><span>${Ae("confirm.print.landscape")}</span></label></fieldset>`,
        gridWarning: `<p class="alert-box info" >${Ae("confirm.print.reminder")}</p>`
    }
}

function v2(e) {
    let t = Wy();
    return Fd(e).then(window.print).catch(console.error).then(() => {
        if (t) return new Promise(i => {
            setTimeout(() => {
                Ky(), i()
            }, 500)
        })
    })
}

function y2() {
    _2().then(() => {
        if (qd(), document.querySelectorAll(".question").forEach(e => e.dispatchEvent(Nn.Printify())), Qo === "grid" || !Qo && Ud()) {
            let e = {
                format: rt.format,
                landscape: rt.landscape,
                scale: rt.scale,
                margin: rt.margin
            };
            return Fd(e)
        }
    }).then(() => {
        window.printReady = !0
    }).catch(console.error)
}

function _2() {
    return new Promise(e => {
        let t = [...document.images],
            i = setInterval(() => {
                t = t.filter(n => !n.complete), t.length === 0 && (clearInterval(i), e())
            }, 150)
    })
}

function b2() {
    let e = Ae("alert.offlineunsupported.msg"),
        t = {
            posButton: Ae("alert.offlineunsupported.posButton"),
            negButton: Ae("alert.offlineunsupported.negButton")
        };
    Kd({
        msg: e,
        heading: Ae("alert.offlineunsupported.heading")
    }, t).then(i => {
        i && (window.location = rt.modernBrowsersURL)
    })
}
l_ = {
    offlineCapable(e) {
        e ? (0, hn.default)(".offline-enabled__icon.not-enabled").removeClass("not-enabled") : (0, hn.default)(".offline-enabled__icon").addClass("not-enabled")
    },
    applicationVersion(e) {
        (0, hn.default)(".side-slider__app-version__value").text(e)
    }
};

function x2(e) {
    let t, i = {
            supportEmail: rt.supportEmail
        },
        n = Ae("contact.support", i),
        r = Ae("contact.admin"),
        a = {
            0: Ae("submission.http0"),
            200: `${Ae("submission.http2xx")}<br/>${n}`,
            "2xx": `${Ae("submission.http2xx")}<br/>${n}`,
            400: `${Ae("submission.http400")}<br/>${r}`,
            401: Ae("submission.http401"),
            403: `${Ae("submission.http403")}<br/>${r}`,
            404: Ae("submission.http404"),
            408: Ae("submission.http408"),
            "4xx": Ae("submission.http4xx"),
            413: `${Ae("submission.http413")}<br/>${n}`,
            500: Ae("submission.http500", i),
            503: Ae("submission.http500", i),
            504: Ae("submission.http504", i),
            "5xx": Ae("submission.http500", i)
        };
    return e = typeof e < "u" ? e.toString() : "undefined", a[e] ? t = `${a[e]} (${e})` : a[e.replace(e.substring(1), "xx")] ? t = `${a[e.replace(e.substring(1),"xx")]} (${e})` : t = `${Ae("error.unknown")} (${e})`, t
}(0, hn.default)(document).ready(() => {
    c2()
});
var oi = {
    alert: Jo,
    confirm: Kd,
    prompt: u_,
    feedback: d2,
    updateStatus: l_,
    pages: u2,
    swapTheme: h2,
    confirmLogin: p2,
    alertLoadErrors: g2,
    alertCacheUnsupported: b2,
    getErrorResponseMsg: x2,
    applyPrintStyle: y2,
    getPrintDialogComponents: h_,
    printForm: f_
};
var w_ = ei(p_());
var wa = ei(hd());
var w2 = "AES-CFB",
    E2 = "RSA-OAEP",
    C2 = {
        md: wa.default.md.sha256.create(),
        mgf: wa.default.mgf.mgf1.create(wa.default.md.sha1.create())
    };

function S2() {
    return typeof ArrayBuffer < "u" && new ArrayBuffer(8).byteLength === 8 && typeof Uint8Array < "u" && new Uint8Array(8).length === 8
}
var g_ = Symbol("isEncryptionEnabled");

function m_(e) {
    return Boolean(e[g_])
}

function T2(e) {
    return m_(e) ? { ...e,
        isEncryptionEnabled: !0
    } : e
}

function L2(e) {
    if (e.isEncryptionEnabled) {
        let t = { ...e
        };
        return delete t.isEncryptionEnabled, v_(t)
    }
    return e
}

function v_(e) {
    return Object.defineProperty(e, g_, {
        configurable: !1,
        value: !0
    })
}

function k2(e, t) {
    let i = I2(),
        n = `-----BEGIN PUBLIC KEY-----${e.encryptionKey}-----END PUBLIC KEY-----`,
        r = wa.default.pki.publicKeyFromPem(n),
        a = y_(i, r),
        s = new b_(t.instanceId, i),
        l = new P2(e.id, e.version);
    l.addElement("base64EncryptedKey", a), l.addMetaElement("instanceID", t.instanceId);
    let u = [e.id];
    return e.version && u.push(e.version), u = u.concat([a, t.instanceId]), D2(t.files, i, s).then(l.addMediaFiles).then(f => {
        let d = N2(t.xml, i, s);
        return l.addXmlSubmissionFile(d), f.push(d), f
    }).then(f => {
        let d = f.map(m => `${m.name.substring(0,m.name.length-4)}::${m.md5}`);
        return u = u.concat(d), l.addElement("base64EncryptedElementSignature", A2(u, r)), t.xml = l.getXmlStr(), t.files = f, t
    })
}

function I2() {
    return wa.default.random.getBytesSync(32)
}

function y_(e, t) {
    let i = t.encrypt(e, E2, C2);
    return wa.default.util.encode64(i)
}

function yf(e) {
    let t = wa.default.md.md5.create();
    return t.update(e), t.digest()
}

function A2(e, t) {
    let i = `${e.join(`
`)}
`,
        n = yf(i).getBytes();
    return y_(n, t)
}

function D2(e, t, i) {
    return e = e || [], e.map(r => () => ea.blobToDataUri(r).then(a => {
        let s = wa.default.util.decode64(a.split(",")[1]),
            l = wa.default.util.createBuffer(s, "raw"),
            u = __(l, t, i);
        return u.name = `${r.name}.enc`, u.md5 = yf(s).toHex(), u
    })).reduce((r, a) => r.then(s => a().then(l => (s.push(l), s))), Promise.resolve([]))
}

function N2(e, t, i) {
    let n = __(wa.default.util.createBuffer(e, "utf8"), t, i);
    return n.name = "submission.xml.enc", n.md5 = yf(e).toHex(), n
}

function __(e, t, i) {
    let n = wa.default.cipher.createCipher(w2, t),
        r = i.getIncrementedSeedByteString();
    n.mode.pad = wa.default.cipher.modes.cbc.prototype.pad.bind(n.mode), n.start({
        iv: r
    }), n.update(e);
    let a = n.finish(),
        s = n.output.getBytes();
    if (!a) throw new Error("Encryption failed.");
    let l = new ArrayBuffer(s.length),
        u = new Uint8Array(l);
    for (let f = 0; f < s.length; f++) u[f] = s.charCodeAt(f);
    return new Blob([u])
}

function b_(e, t) {
    let n = yf(e + t).getBytes().split("").map(a => a.charCodeAt(0)),
        r = 0;
    this.getIncrementedSeedByteString = () => (++n[r % n.length], ++r, n.map(a => String.fromCharCode(a)).join(""))
}

function P2(e, t) {
    let i = "http://opendatakit.org/submissions",
        n = "http://openrosa.org/xforms",
        r = document.createElementNS(i, "data");
    r.setAttribute("encrypted", "yes"), r.setAttribute("id", e), t && r.setAttribute("version", t), this.getXmlStr = () => new XMLSerializer().serializeToString(r), this.addElement = (s, l) => {
        let u = document.createElementNS(i, s);
        u.textContent = l, r.appendChild(u)
    }, this.addMetaElement = (s, l) => {
        let u = r.querySelector("meta"),
            f = u || document.createElementNS(n, "meta"),
            d = document.createElementNS(n, s);
        d.textContent = l, f.appendChild(d), u || r.appendChild(f)
    }, this.addMediaFiles = s => s.map(a), this.addXmlSubmissionFile = s => {
        let l = document.createElementNS(i, "encryptedXmlFile");
        l.setAttribute("type", "file"), l.textContent = s.name, r.appendChild(l)
    };

    function a(s) {
        let l = document.createElementNS(i, "media"),
            u = document.createElementNS(i, "file");
        return u.setAttribute("type", "file"), u.textContent = s.name, l.appendChild(u), r.appendChild(l), s
    }
}
var Ha = {
    isEncryptionEnabled: m_,
    setEncryptionEnabled: v_,
    serializeEncryptedSurvey: T2,
    deserializeEncryptedSurvey: L2,
    isSupported: S2,
    encryptRecord: k2,
    Seed: b_
};
var R2 = new DOMParser,
    zi, Qd, E_ = !1,
    _f = "enketo",
    Zd = 4,
    Xd = 4;

function B2({
    failSilently: e
} = {}) {
    return M2().then(() => Zd !== Xd ? Promise.resolve() : new Promise((t, i) => {
        let n = indexedDB.open(_f, Zd);
        n.addEventListener("blocked", i), n.addEventListener("success", t), n.addEventListener("error", i), n.addEventListener("upgradeneeded", r => {
            let {
                transaction: a
            } = n;
            try {
                if (r.oldVersion !== Xd - 1 || r.newVersion !== Xd) return a.abort(), t(r);
                let s = a.objectStore("records");
                s.createIndex("recordName", ["enketoId", "name"], {
                    unique: !0
                }), s.deleteIndex("name")
            } catch (s) {
                i(s)
            }
        })
    })).then(() => w_.default.open({
        server: _f,
        version: Zd,
        schema: {
            surveys: {
                key: {
                    keyPath: "enketoId",
                    autoIncrement: !1
                },
                indexes: {
                    enketoId: {
                        unique: !0
                    }
                }
            },
            resources: {
                key: {
                    autoIncrement: !1
                },
                indexes: {
                    key: {
                        unique: !0
                    }
                }
            },
            records: {
                key: {
                    keyPath: "instanceId"
                },
                indexes: {
                    recordName: {
                        keyPath: ["enketoId", "name"],
                        unique: !0
                    },
                    instanceId: {
                        unique: !0
                    },
                    enketoId: {
                        unique: !1
                    }
                }
            },
            lastSavedRecords: {
                key: {
                    keyPath: "_enketoId",
                    autoIncrement: !1
                }
            },
            files: {
                key: {
                    autoIncrement: !1
                },
                indexes: {
                    key: {
                        unique: !0
                    }
                }
            },
            properties: {
                key: {
                    keyPath: "name",
                    autoIncrement: !1
                },
                indexes: {
                    key: {
                        unique: !0
                    }
                }
            },
            data: {
                key: {
                    keyPath: "enketoId",
                    autoIncrement: !1
                },
                indexes: {
                    enketoId: {
                        unique: !0
                    }
                }
            }
        }
    })).then(t => {
        zi = t
    }).then(O2).then(F2).then(() => {
        E_ = !0
    }).catch(t => {
        if (!e) throw console.error("store initialization error", t), typeof t == "string" ? t = new Error(t) : t instanceof Error || (t = new Error(Ae("store.error.notavailable", {
            error: JSON.stringify(t)
        }))), t.status = 500, t
    })
}

function M2() {
    let e;
    return new Promise((t, i) => {
        typeof indexedDB == "object" ? t() : (Nu.os.ios ? e = new Error(Ae("store.error.iosusesafari")) : e = new Error(Ae("store.error.notsupported")), e.status = 500, i(e))
    })
}

function O2() {
    return vo.update({
        name: "testWrite",
        value: new Date().getTime()
    })
}

function U2() {
    let e = new Blob(['<a id="a"><b id="b">hey!</b></a>'], {
        type: "text/xml"
    });
    return vo.update({
        name: "testBlobWrite",
        value: e
    })
}

function F2() {
    return U2().then(() => {
        Qd = !1
    }).catch(() => {
        console.log("This browser is not able to store blobs directly, so blobs will be Base64 encoded"), Qd = !0
    })
}
var vo = {
        get(e) {
            return zi.properties.get(e).then(ys)
        },
        update(e) {
            return zi.properties.update(e).then(ys)
        },
        removeAll() {
            return Ru("properties")
        },
        getSurveyStats(e) {
            return zi.properties.get(`${e}:stats`)
        },
        incrementRecordCount(e) {
            return vo.getSurveyStats(e.enketoId).then(t => (t || (t = {
                name: `${e.enketoId}:stats`
            }), t.recordCount || (t.recordCount = 0), ++t.recordCount, vo.update(t)))
        },
        addSubmittedInstanceId(e) {
            return vo.getSurveyStats(e.enketoId).then(t => (t || (t = {
                name: `${e.enketoId}:stats`
            }), t.submitted || (t.submitted = []), t.submitted.push(e.instanceId), vo.update(t)))
        }
    },
    Rl = {
        get(e) {
            return zi.surveys.get(e).then(ys).then(Yd)
        },
        set(e) {
            if (!e.form || !e.model || !e.enketoId || !e.hash) throw new Error("Survey not complete");
            return zi.surveys.add(x_(e)).then(ys).then(t => {
                let i = [];
                return e.binaryDefaults && e.binaryDefaults.forEach(n => {
                    i.push(Rl.resource.update(e.enketoId, n))
                }), Promise.all(i).then(() => t)
            }).then(Yd)
        },
        update(e) {
            let t = [],
                i = [];
            if (!e.form || !e.model || !e.enketoId) throw new Error("Survey not complete");
            let n = [].concat(e.resources || []).map(a => a.url),
                r = [].concat(e.binaryDefaults || []).map(a => a.url);
            return zi.surveys.get(e.enketoId).then(a => {
                e.resources && (t = (a.resources || []).filter(l => n.indexOf(l) < 0)), e.binaryDefaults && (i = (a.binaryDefaults || []).filter(l => r.indexOf(l) < 0));
                let s = { ...x_(e)
                };
                return e.resources && (s.resources = n), e.binaryDefaults && (s.binaryDefaults = r), zi.surveys.update(s)
            }).then(ys).then(a => {
                let s = [];
                return (e.resources || []).concat(e.binaryDefaults || []).forEach(l => {
                    s.push(Rl.resource.update(e.enketoId, l))
                }), t.concat(i).forEach(l => {
                    s.push(Rl.resource.remove(e.enketoId, l).then(() => null))
                }), Promise.all(s).then(l => (e.resources && (a.resources = l.filter(u => u != null)), Yd(a)))
            })
        },
        remove(e) {
            let t, i = [];
            return Rl.get(e).then(n => (t = n.resources || [], t.forEach(r => {
                i.push(Rl.resource.remove(e, r))
            }), i.push(zi.surveys.remove(e)), Promise.all(i))).then(() => {})
        },
        removeAll() {
            return Ru("surveys").then(() => Ru("resources"))
        },
        resource: {
            get(e, t) {
                return S_("resources", e, t)
            },
            update(e, t) {
                return T_("resources", e, t)
            },
            remove(e, t) {
                return zi.resources.remove(`${e}:${t}`)
            }
        }
    },
    C_ = {
        get(e) {
            return zi.data.get(e).then(ys)
        },
        update(e) {
            if (!e.enketoId) throw new Error("Dynamic data object not complete");
            return zi.data.update(e).then(ys)
        },
        remove(e) {
            return C_.remove(e)
        }
    },
    Bl = {
        get(e) {
            let t = [];
            return zi.records.get(e).then(ys).then(i => i && (i.files.forEach(n => {
                t.push(Bl.file.get(i.instanceId, n))
            }), Promise.all(t).then(n => (n = n.filter(r => r), i.files = n || [], i))))
        },
        getAll(e, t) {
            return e ? zi.records.query("enketoId").only(e).execute().then(i => (t && (i = i.filter(n => !n.draft)), i.sort((n, r) => n.updated - r.updated))) : Promise.reject(new Error("No Enketo ID provided"))
        },
        set(e) {
            let t;
            return !e.instanceId || !e.enketoId || !e.name || !e.xml ? Promise.reject(new Error("Record not complete")) : (e.files = e.files || [], t = e.files.map(i => i.name), zi.records.add({
                instanceId: e.instanceId,
                enketoId: e.enketoId,
                name: e.name,
                xml: e.xml,
                files: t,
                created: new Date().getTime(),
                updated: new Date().getTime(),
                draft: e.draft
            }).then(ys).then(vo.incrementRecordCount).then(() => e.files.reduce((i, n) => i.then(() => n && n.item && n.item instanceof Blob ? Bl.file.update(e.instanceId, n) : Promise.resolve()), Promise.resolve())).then(() => e))
        },
        update(e) {
            let t, i = [];
            if (!e.instanceId || !e.enketoId || !e.name || !e.xml) throw new Error("Record not complete");
            return e.files = e.files || [], t = e.files.map(n => n.name), zi.records.get(e.instanceId).then(n => (n && n.files && (i = n.files.filter(r => t.indexOf(r) < 0)), zi.records.update({
                instanceId: e.instanceId,
                enketoId: e.enketoId,
                name: e.name,
                xml: e.xml,
                files: t,
                created: n && n.created ? n.created : new Date().getTime(),
                updated: new Date().getTime(),
                draft: e.draft
            }))).then(() => e.files.reduce((n, r) => n.then(() => r && r.item && r.item instanceof Blob ? Bl.file.update(e.instanceId, r) : Promise.resolve()), Promise.resolve()).then(() => i.reduce((n, r) => n.then(() => Bl.file.remove(e.instanceId, r)), Promise.resolve())).then(() => e))
        },
        remove(e) {
            return zi.records.get(e).then(ys).then(t => {
                let i = [];
                return (t && t.files ? t.files : []).forEach(r => {
                    i.push(Bl.file.remove(e, r))
                }), i.push(zi.records.remove(e)), Promise.all(i)
            })
        },
        removeAll() {
            return Ru("records").then(() => Ru("files"))
        },
        file: {
            get(e, t) {
                return S_("files", e, t)
            },
            update(e, t) {
                return T_("files", e, t)
            },
            remove(e, t) {
                return zi.files.remove(`${e}:${t}`)
            }
        }
    };

function ys(e) {
    return Array.isArray(e) ? Promise.resolve(e[0]) : Promise.resolve(e)
}

function x_(e) {
    if (e) return e.externalData && (e.externalData = e.externalData.map(t => (t.xml instanceof XMLDocument && (t.xml = new XMLSerializer().serializeToString(t.xml.documentElement, "text/xml")), t))), Ha.serializeEncryptedSurvey(e)
}

function Yd(e) {
    if (e) return e.externalData && (e.externalData = e.externalData.map(t => (typeof t.xml == "string" && (t.xml = R2.parseFromString(t.xml, "text/xml")), t))), Ha.deserializeEncryptedSurvey(e)
}

function S_(e, t, i) {
    let n, r = {};
    return new Promise((a, s) => {
        if (e === "resources" || e === "files") return n = e === "resources" ? "url" : "name", zi[e].get(`${t}:${i}`).then(l => {
            r[n] = i, l instanceof Blob ? (r.item = l, a(r)) : typeof l == "string" ? ea.dataUriToBlob(l).then(u => {
                r.item = u, a(r)
            }) : a(void 0)
        }).catch(s);
        s(new Error("Unknown table or missing id or key."))
    })
}

function T_(e, t, i) {
    let n, r, a;
    return e === "resources" || e === "files" ? (r = e === "resources" ? "url" : "name", t && i && i.item instanceof Blob && i[r] ? (a = i[r], i.key = `${t}:${i[r]}`, delete i[r], Qd ? ea.blobToDataUri(i.item).then(s => (i.item = s, zi[e].update(i).then(() => (i[r] = a, delete i.key, i)))) : zi[e].update(i).then(() => (i[r] = a, delete i.key, i))) : (n = new Error("DataError. File not complete or ID not provided."), n.name = "DataError", Promise.reject(n))) : Promise.reject(new Error("Unknown table or missing ID or key."))
}

function q2() {
    let e;
    return new Promise((t, i) => {
        try {
            zi.close(_f)
        } catch (n) {
            console.log("Database has probably been removed already. Doing nothing.", n), t()
        }
        e = indexedDB.deleteDatabase(_f), e.onsuccess = () => {
            console.log("Deleted database successfully"), t()
        }, e.onerror = n => {
            i(n)
        }, e.onblocked = n => {
            i(n)
        }
    })
}

function Ru(e) {
    return zi[e].clear()
}
var V2 = {
        resources() {
            zi.resources.query().all().execute().done(e => {
                console.log(`${e.length} resources found`), e.forEach(t => {
                    t instanceof Blob ? console.log(t.type, t.size, URL.createObjectURL(t)) : console.log("resource string with length ", t.length, "found")
                })
            })
        },
        surveys() {
            zi.surveys.query().all().execute().done(e => {
                console.log(`${e.length} surveys found`), e.forEach(t => {
                    console.log("survey", t)
                })
            })
        },
        records() {
            zi.records.query().all().execute().done(e => {
                console.log(`${e.length} records found`), e.forEach(t => {
                    console.log("survey", t)
                })
            })
        },
        files() {
            zi.files.query().all().execute().done(e => {
                console.log(`${e.length} resources found`), e.forEach(t => {
                    t instanceof Blob ? console.log(t.type, t.size, URL.createObjectURL(t)) : console.log("resource string with length ", t.length, "found")
                })
            })
        }
    },
    hi = {
        init: B2,
        get available() {
            return E_
        },
        property: vo,
        survey: Rl,
        dynamicData: C_,
        record: Bl,
        flush: q2,
        dump: V2,
        get lastSavedRecords() {
            return zi.lastSavedRecords
        }
    };
var bf = "jr://instance/last-saved",
    k_ = e => Array.isArray(e.externalData) && e.externalData.some(t => (t == null ? void 0 : t.src) === bf),
    Bu = e => rt.type === "other" && hi.available && k_(e) && !Ha.isEncryptionEnabled(e),
    Ml = e => !hi.available || rt.type !== "other" ? Promise.resolve() : hi.lastSavedRecords.get(e).then(t => {
        if (t != null) return delete t._enketoId, Object.assign(t, {
            enketoId: e
        })
    }),
    xf = async e => {
        hi.available && await hi.lastSavedRecords.remove(e)
    },
    L_ = new DOMParser,
    z2 = (e, t) => {
        if (t == null || !Bu(e)) {
            let n = L_.parseFromString(e.model, "text/xml").querySelector("model > instance > *").cloneNode(!0),
                r = document.implementation.createDocument(null, "", null);
            return r.appendChild(n), r
        }
        return L_.parseFromString(t.xml, "text/xml")
    },
    yo = (e, t) => {
        if (!k_(e)) return e;
        let i = z2(e, t),
            n = e.externalData.map(r => (r == null ? void 0 : r.src) === bf ? { ...r,
                xml: i
            } : r);
        return { ...e,
            externalData: n
        }
    },
    wf = (e, t) => {
        if (!hi.available || rt.type !== "other") return Promise.resolve({
            survey: yo(e)
        });
        let i = Bu(e) ? { ...t,
            _enketoId: t.enketoId
        } : null;
        return (i == null ? xf(e.enketoId) : hi.lastSavedRecords.update(i)).then(([n] = []) => ({
            survey: yo(e, n),
            lastSavedRecord: n
        }))
    };
var I_ = "Feature",
    Ef = "Point",
    ep = "LineString",
    H2 = "Polygon",
    $2 = new Set([Ef, ep, H2]),
    j2 = "Only Points, LineStrings and Polygons are currently supported",
    Jd = e => {
        if (!Array.isArray(e) || e.length !== 2 || typeof e[0] != "number" || typeof e[1] != "number") throw new TypeError(`Only ${Ef}s with latitude and longitude are currently supported`)
    },
    W2 = e => {
        let [t, i] = e;
        return `${i} ${t} 0 0`
    },
    K2 = (e, t) => {
        let i = e.createElement("geometry"),
            n;
        return t.type === Ef ? n = [t.coordinates] : t.type === ep ? n = t.coordinates : n = t.coordinates[0], i.textContent = n.map(W2).join("; "), i
    },
    G2 = e => {
        if (e == null || typeof e != "object" || !$2.has(e.type) || !Array.isArray(e.coordinates)) throw new TypeError(j2)
    },
    Z2 = e => {
        var t;
        G2(e), e.type === Ef ? Jd(e.coordinates) : e.type === ep ? e.coordinates.forEach(Jd) : Array.isArray(e.coordinates[0]) && ((t = e.coordinates[0]) == null || t.forEach(Jd))
    },
    X2 = e => {
        if (e == null) throw new TypeError("Feature object expected");
        let {
            geometry: t,
            type: i
        } = e;
        if (i !== I_ || t == null) throw new TypeError(`Item of type ${i} found but expected item of type ${I_}`);
        Z2(t)
    },
    Y2 = "FeatureCollection",
    Q2 = e => {
        let {
            type: t,
            features: i
        } = e != null ? e : {};
        if (t !== Y2 || !Array.isArray(i)) throw new TypeError("GeoJSON file must be a FeatureCollection");
        i.forEach(X2)
    },
    J2 = new DOMParser,
    A_ = e => {
        Q2(e);
        let t = J2.parseFromString("<root/>", "text/xml"),
            i = t.documentElement;
        return e.features.forEach(({
            id: n,
            geometry: r,
            properties: a
        }) => {
            let {
                id: s,
                ...l
            } = a != null ? a : {}, u = Object.entries(l), f = n != null ? n : s;
            f !== void 0 && u.push(["id", f]);
            let d = t.createElement("item");
            d.append(K2(t, r)), u.forEach(([m, T]) => {
                let x = t.createElement(m);
                x.textContent = String(T != null ? T : ""), d.append(x)
            }), i.append(d)
        }), t
    };
var _o = (e, t = {}, i = {}) => {
        let n = e.querySelectorAll('[href^="jr:"], [src^="jr:"], [data-offline-src^="jr:"]'),
            r = e instanceof HTMLElement;
        if (n.forEach(a => {
                var m;
                let s = a.hasAttribute("href") ? "href" : "src",
                    l = r ? a.dataset.offlineSrc : null,
                    f = ((m = l != null ? l : a[s]) != null ? m : a.getAttribute(s)).replace(/.*\/([^/]+)$/, "$1"),
                    d = t[f];
                d != null && (l != null ? a.dataset.offlineSrc = d : r ? a[s] = d : a.setAttribute(s, d))
            }), r) {
            let a = t["form_logo.png"];
            if (a != null) {
                let s = e.querySelector(".form-logo");
                if (s.firstElementChild == null) {
                    let l = document.createElement("img");
                    i.isOffline ? l.dataset.offlineSrc = a : l.src = a, l.alt = "form logo", s.append(l)
                }
            }
        }
    },
    tp = (e, t = {}) => {
        let i = null;
        Object.defineProperty(e.model, "rootElement", {
            get() {
                return i
            },
            set(n) {
                n !== i && (i = n, _o(i, t))
            }
        })
    };
var Ol = new DOMParser,
    eI = new XMLSerializer,
    tI = `${rt.basePath}/connection`,
    iI = `${rt.basePath}/transform/xform/hash/${rt.enketoId}`,
    nI = rt.enketoId ? `${rt.basePath}/submission/${rt.enketoId}` : null,
    rI = rt.enketoId ? `${rt.basePath}/submission/max-size/${rt.enketoId}` : `${rt.basePath}/submission/max-size/?xformUrl=${encodeURIComponent(rt.xformUrl)}`;

function aI() {
    return fetch(tI, {
        cache: "no-cache",
        headers: {
            "Content-Type": "text/plain"
        }
    }).then(e => e.text()).then(e => /connected/.test(e)).catch(() => !1)
}

function N_(e) {
    let t;
    try {
        t = uI(e)
    } catch (r) {
        return Promise.reject(r)
    }
    let i = Promise.resolve([]),
        n;
    return t.reduce((r, a) => r.then(s => lI(a).then(l => (s.push(l), s))), i).then(r => {
        console.log("results of all batches submitted", r), n = r[0]
    }).then(() => n)
}
var sI = N_,
    oI = (e, t) => wf(e, t).then(() => N_(t));

function lI(e) {
    let t = rt.enketoId ? `${rt.basePath}/submission/${rt.enketoId}${ip()}` : null,
        i = new AbortController;
    return setTimeout(() => {
        i.abort()
    }, rt.timeout), fetch(t, {
        method: "POST",
        cache: "no-cache",
        headers: {
            "X-OpenRosa-Version": "1.0",
            "X-OpenRosa-Deprecated-Id": e.deprecatedId,
            "X-OpenRosa-Instance-Id": e.instanceId
        },
        signal: i.signal,
        body: e.formData
    }).then(n => {
        let r = {
            status: n.status,
            failedFiles: e.failedFiles ? e.failedFiles : void 0
        };
        if (n.status === 400) return n.text().then(a => {
            let s = Ol.parseFromString(a, "text/xml");
            if (s) {
                let l = s.querySelector("OpenRosaResponse > message");
                l && (r.message = l.textContent)
            }
            throw r
        });
        if (n.status !== 201 && n.status !== 202) throw r;
        return r
    }).catch(n => {
        throw n.name === "AbortError" && typeof n.status > "u" && (n.status = 408), n
    })
}

function uI(e) {
    let t = Ol.parseFromString(e.xml, "text/xml"),
        i = Array.prototype.slice.call(t.querySelectorAll('[type="file"]')).map(T => (T.removeAttribute("type"), T)),
        n = eI.serializeToString(t.documentElement),
        r = new Blob([n], {
            type: "text/xml"
        }),
        a = e.files || [],
        s = [],
        l = [],
        u = [],
        f = [
            []
        ],
        d = [],
        {
            maxSize: m
        } = rt;
    return i.forEach(T => {
        let x, {
                nodeName: C
            } = T,
            N = T.textContent;
        a.some(E => E.name === N ? (x = E, !0) : !1), x ? (u.push({
            nodeName: C,
            file: x
        }), s.push(x.size)) : (l.push(N), console.error(`Error occured when trying to retrieve ${N}`))
    }), u.length > 0 && (f = cI(s, m)), console.log(`splitting record into ${f.length} batches to reduce submission size `, f), f.forEach(T => {
        let x = new FormData;
        x.append("xml_submission_file", r, "xml_submission_file");
        let C = (document.cookie.split("; ").find(E => E.startsWith(rt.csrfCookieName)) || "").split("=")[1];
        C && x.append(rt.csrfCookieName, C);
        let N = {
            instanceId: e.instanceId,
            deprecatedId: e.deprecatedId,
            formData: x,
            failedFiles: l
        };
        T.forEach(E => {
            N.formData.append(u[E].file.name, u[E].file, u[E].file.name)
        }), d.push(N)
    }), d
}

function cI(e, t) {
    let i, n, r, a, s = [],
        l = [];
    for (i = 0; i < e.length; i++) s.push({
        index: i,
        size: e[i]
    });
    for (; s.length > 0;) {
        if (r = [s[0].index], a = s[0].size, s[0].size < t)
            for (i = 1; i < s.length; i++) a + s[i].size < t && (r.push(s[i].index), a += s[i].size);
        for (l.push(r), i = 0; i < s.length; i++)
            for (n = 0; n < r.length; n++) s[i].index === r[n] && s.splice(i, 1)
    }
    return l
}

function fI(e) {
    return fetch(rI).then(t => t.json()).then(t => {
        t && t.maxSize && !isNaN(t.maxSize) ? e.maxSize = Number(t.maxSize) : console.error("Error retrieving maximum submission size. Unexpected response: ", t)
    }).catch(() => {}).then(() => e)
}
var hI = (e, t) => {
        let i = t ? `/${t}` : "";
        return `${e}/transform/xform${i}${ip()}`
    },
    dI = async (e, t, i = {}) => {
        _o(t, e.media);
        let n = [];
        return [...t.querySelectorAll("instance[id][src]")].map(a => ({
            id: a.id,
            src: a.getAttribute("src")
        })).forEach((a, s) => {
            let {
                src: l
            } = a;
            if (l === bf) {
                n.push(Promise.resolve(a));
                return
            }
            let u = async () => {
                try {
                    let f = await yI(l, e.languageMap);
                    return { ...a,
                        xml: f
                    }
                } catch (f) {
                    if (n.splice(s, 1), i.isPreview) return;
                    throw f
                }
            };
            n.push(u())
        }), Promise.all(n)
    },
    pI = async e => {
        let {
            transform: t
        } = await
        import ("./transformer-ZDAQRDQF.js"), n = await (await fetch(e, {
            credentials: "same-origin",
            mode: "cors"
        })).text(), r = await t({
            xform: n
        }), a = Object.fromEntries([{
            docStr: r.form,
            mimeType: "text/html"
        }, {
            docStr: r.model,
            mimeType: "text/xml"
        }].flatMap(({
            docStr: s,
            mimeType: l
        }) => [...Ol.parseFromString(s, l).querySelectorAll('[src^="jr:"]:not(instance[src="jr://instance/last-saved"]), a[href^="jr:"]')].map(d => {
            var x;
            return [((x = d.getAttribute("href")) != null ? x : d.getAttribute("src")).replace(/.*\/([^/]+$)/, "$1"), "data:,"]
        })));
        return { ...r,
            media: a
        }
    };
async function gI(e) {
    let t;
    try {
        if (e.xformUrl) {
            if (!e.isPreview || e.enketoId != null) throw new Error("Unexpected preview request");
            t = await pI(e.xformUrl)
        } else {
            let l = hI(rt.basePath, e.enketoId);
            t = await P_(l, {
                xformUrl: e.xformUrl
            })
        }
    } catch (l) {
        throw l.status === void 0 && (l.message = Ae("error.formloadfailed")), l
    }
    let i = Ol.parseFromString(t.model, "text/xml"),
        n = i.querySelector("submission[base64RsaPublicKey]"),
        r = { ...t,
            enketoId: e.enketoId,
            theme: t.theme || ea.getThemeFromFormStr(t.form) || rt.defaultTheme
        };
    n != null && (r = Ha.setEncryptionEnabled(r));
    let a = await dI(r, i, {
        isPreview: e.isPreview
    });
    Object.assign(r, {
        externalData: a
    });
    let s = e.isPreview ? null : await Ml(r.enketoId);
    return yo(r, s)
}

function P_(e, t = {}) {
    return R_(e, "POST", t)
}

function mI(e, t = {}) {
    return R_(e, "GET", t)
}

function R_(e, t = "POST", i = {}) {
    let n = {
        method: t,
        headers: {
            "Content-Type": "application/x-www-form-urlencoded",
            Accept: "application/json"
        }
    };
    if (t === "GET" || t === "HEAD") {
        if (Object.keys(i).length) {
            let r = new URL(e, location.href),
                a = r.search.slice(1);
            r.search = `?${a}${a?"&":""}${D_(i)}`, e = r.href
        }
    } else n.body = D_(i);
    return fetch(e, n).then(B_).then(r => r.json())
}

function B_(e) {
    return e.ok ? e : e.json().then(t => {
        throw typeof t.status > "u" && (t.status = e.status), typeof t.message > "u" && (t.status = e.statusText), t
    })
}

function D_(e) {
    return Object.keys(e).filter(t => e[t]).map(t => `${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`).join("&")
}

function vI(e) {
    return fetch(e).then(B_).then(t => t.blob()).then(t => ({
        url: e,
        item: t
    })).catch(t => {
        let i = new Error(t.message || Ae("error.loadfailed", {
            resource: e,
            interpolation: {
                escapeValue: !1
            }
        }));
        throw i.status = t.status, i
    })
}

function yI(e, t) {
    let i;
    return fetch(e).then(n => {
        var r, a;
        return i = (a = (r = n.headers.get("Content-Type")) == null ? void 0 : r.split(";")[0]) != null ? a : "", (i === "" || String(i) === "null") && e.endsWith(".geojson") && (i = "application/geo+json"), i === "application/geo+json" ? n.json() : n.text()
    }).then(n => {
        let r;
        switch (i) {
            case "application/geo+json":
                r = A_(n);
                break;
            case "text/csv":
                r = ea.csvToXml(n, t);
                break;
            case "text/xml":
                r = Ol.parseFromString(n, i);
                break;
            default:
                console.error("External data not served with expected Content-Type.", i), r = Ol.parseFromString(n, "text/xml")
        }
        return r && r.querySelector("parsererror") && i !== "text/csv" && (console.log("Failed to parse external data as XML, am going to try as CSV"), r = ea.csvToXml(n, t)), r
    }).catch(n => {
        let r = !n.message || /fetch/.test(n.message) ? Ae("error.dataloadfailed", {
            filename: e.replace(/.*\//, "")
        }) : n.message;
        throw new Error(r)
    })
}

function _I(e) {
    return fetch(e).then(t => t.text()).then(t => {
        let i = t.match(/version\s?=\s?'([^\n]+)'/);
        return i ? i[1] : "unknown"
    })
}

function bI() {
    return P_(iI + ip()).then(e => e.hash)
}

function xI(e) {
    return mI(nI, e)
}

function ip() {
    return ea.getQueryString([rt.languageOverrideParameter, rt.submissionParameter])
}
var ra = {
    uploadRecord: oI,
    uploadQueuedRecord: sI,
    getMaximumSubmissionSize: fI,
    getOnlineStatus: aI,
    getFormParts: gI,
    getFormPartsHash: bI,
    getMediaFile: vI,
    getExistingInstance: xI,
    getServiceWorkerVersion: _I
};
var M_ = {
    init() {
        if (!this.form) throw new Error("Preload module not correctly instantiated with form property.");
        this.form.view.html.querySelectorAll("input[data-preload], select[data-preload], textarea[data-preload]").forEach(e => {
            let t = this.form.input.getProps(e),
                i = e.dataset && e.dataset.preload ? e.dataset.preload.toLowerCase() : void 0,
                n = e.dataset && e.dataset.preloadParams ? e.dataset.preloadParams.toLowerCase() : void 0;
            if (typeof this[i] < "u") {
                let r = this.form.model.node(t.path, t.index);
                if (r.getElements().length) {
                    let a = r.getVal(),
                        s = this[i]({
                            param: n,
                            curVal: a,
                            dataNode: r
                        });
                    r.setVal(s, t.xmlType)
                }
            } else console.warn(`Preload "${i}" not supported. May or may not be a big deal.`)
        })
    },
    timestamp(e) {
        let t, i = this;
        return e.param === "start" ? e.curVal.length > 0 ? e.curVal : this.form.model.evaluate("now()", "string") : e.param === "end" ? (this.form.view.html.addEventListener(He.BeforeSave().type, () => {
            t = i.form.model.evaluate("now()", "string"), e.dataNode.setVal(t, "datetime")
        }), this.form.model.evaluate("now()", "string")) : "error - unknown timestamp parameter"
    },
    date(e) {
        let t, i, n, r;
        return e.curVal.length === 0 ? (t = new Date(this.form.model.evaluate("today()", "string")), i = t.getFullYear().toString().padStart(4, "0"), n = (t.getMonth() + 1).toString().padStart(2, "0"), r = t.getDate().toString().padStart(2, "0"), `${i}-${n}-${r}`) : e.curVal
    },
    property(e) {
        let t;
        return e.curVal.length === 0 ? (t = this.form.model.node(`instance("__session")/session/context/${e.param}`), t.getElements().length ? t.getVal() : `no ${e.param} property in enketo`) : e.curVal
    },
    context(e) {
        return e.curVal.length === 0 ? e.param === "application" ? "enketo" : `${e.param} not supported in enketo` : e.curVal
    },
    patient(e) {
        return e.curVal.length === 0 ? "patient preload item not supported in enketo" : e.curVal
    },
    user(e) {
        return e.curVal.length === 0 ? "user preload item not supported in enketo yet" : e.curVal
    },
    uid(e) {
        return e.curVal.length === 0 ? this.form.model.evaluate('concat("uuid:", uuid())', "string") : e.curVal
    }
};
var Mu = e => new Promise((t, i) => {
    navigator.geolocation.getCurrentPosition(n => {
        let {
            latitude: r,
            longitude: a,
            altitude: s,
            accuracy: l
        } = n.coords, u = Math.round(r * 1e6) / 1e6, f = Math.round(a * 1e6) / 1e6, d = `${u} ${f} ${s||"0.0"} ${l||"0.0"}`;
        t({
            geopoint: d,
            lat: u,
            lng: f,
            position: n
        })
    }, i, e)
});
var O_ = {
    form: null,
    preInitRelevance: new WeakMap,
    init() {
        if (!this.form) throw new Error("Calculation module not correctly instantiated with form property.");
        if (!this.form.features.calculate) {
            this.update = () => {}, this.performAction = () => {};
            return
        }
        this.initialized = !1, this.preInitRelevance = new WeakMap, this.update(), this.initialized = !0
    },
    update(e = {}, t = "", i = !1) {
        let n;
        e.relevantPath ? n = this.form.getRelatedNodes("data-calculate", `[name^="${e.relevantPath}/"]${t}`).add(this.form.getRelatedNodes("data-calculate", `[name="${e.relevantPath}"]${t}`)).add(this.form.getRelatedNodes("data-calculate", `[data-name="${e.relevantPath}"]${t}`)).get() : n = this.form.getRelatedNodes("data-calculate", t, e).get(), n.forEach(r => {
            let a = this.form.input.getName(r),
                s = this.form.model.node(a),
                l = s.getElements(),
                u = {
                    name: a,
                    expr: this.form.input.getCalculation(r),
                    dataType: this.form.input.getXmlType(r),
                    relevantExpr: this.form.input.getRelevant(r),
                    index: 0,
                    dataNodesObj: s
                };
            if (l.length > 1)
                if (e.repeatPath && a.indexOf(`${e.repeatPath}/`) !== -1 && l[e.repeatIndex]) {
                    let f = a.lastIndexOf("/") !== -1 ? a.substring(a.lastIndexOf("/") + 1) : a,
                        d = this.form.model.node(e.repeatPath, e.repeatIndex).getElement().querySelectorAll(f),
                        m = Array.from(d).filter(T => l.includes(T))[0];
                    u.index = l.indexOf(m), u.index > -1 && this._updateCalc(r, u, i)
                } else if (r.type === "hidden") l.forEach((f, d) => {
                let m = Object.create(u);
                m.index = d, this._updateCalc(r, m, i)
            });
            else {
                let f = fo(r.closest(".or-repeat"), ".or-repeat");
                f.length === l.length && (u.index = f.indexOf(r.closest(".or-repeat")), this._updateCalc(r, u, i))
            } else l.length === 1 && this._updateCalc(r, u, i)
        })
    },
    _getNodesForAction(e, t) {
        if (t.type === new He.InstanceFirstLoad().type) return [...this.form.view.html.querySelectorAll(`.non-form-control-action[data-${e}].odk-instance-first-load`)].concat(this.form.filterRadioCheckSiblings([...this.form.view.html.querySelectorAll(`.form-control-action[data-${e}].odk-instance-first-load`)]));
        if (t.type === new He.NewRepeat().type) return this.form.getRelatedNodes(`data-${e}`, ".non-form-control-action.odk-new-repeat", t.detail).get().concat(this.form.getRelatedNodes(`data-${e}`, ".form-control-action.odk-new-repeat", t.detail).get());
        if (t.type === new He.XFormsValueChanged().type) {
            let i = t.target.closest(".question");
            return i ? [...i.querySelectorAll(".xforms-value-changed")].filter(n => n.dataset[e] != null) : []
        }
        return []
    },
    performAction(e, t) {
        if (!t) return;
        this._getNodesForAction(e, t).forEach(n => {
            let r = this.form.input.getName(n),
                a = this.form.model.node(r),
                s = a.getElements(),
                l = {
                    name: r,
                    dataType: this.form.input.getXmlType(n),
                    relevantExpr: this.form.input.getRelevant(n),
                    index: t.detail && typeof t.detail.repeatIndex < "u" ? t.detail.repeatIndex : 0,
                    dataNodesObj: a,
                    type: e
                };
            if (e === "setvalue" && (l.expr = n.dataset.setvalue), s.length > 1 && t.type !== new He.NewRepeat().type && t.type !== new He.XFormsValueChanged().type) s.forEach((u, f) => {
                let d = Object.create(l),
                    m = n;
                d.index = f, this._updateCalc(m, d)
            });
            else if (t.type === new He.XFormsValueChanged().type) {
                let u = this.form.input.find(l.name, l.index);
                u || (l.index = 0, u = this.form.input.find(l.name, 0)), this._updateCalc(u, l)
            } else if (s[l.index]) {
                let u = n;
                this._updateCalc(u, l)
            } else console.error("performAction called for node that does not exist in model.")
        })
    },
    _updateCalc(e, t, i) {
        if (!i && t.type !== "setvalue" && t.type !== "setgeopoint" && this._hasNeverBeenRelevant(e, t) && !this._isRelevant(t)) return;
        if (t.type === "setgeopoint") {
            Mu({
                enableHighAccuracy: !0,
                maximumAge: 0
            }).then(({
                geopoint: l
            }) => {
                this._updateValue(e, t, l)
            }).catch(() => {
                this._updateValue(e, t, "")
            });
            return
        }
        let n = i ? !this._isRelevant(t) : !1,
            r = this.form.replaceChoiceNameFn(t.expr, "string", t.name, t.index),
            a = !n && r ? this.form.model.evaluate(r, "string", t.name, t.index) : "";
        this._updateValue(e, t, a)
    },
    _updateValue(e, t, i) {
        t.dataNodesObj.setIndex(t.index);
        let n = t.dataNodesObj.getVal();
        t.dataNodesObj.setVal(i, t.dataType);
        let r = t.dataNodesObj.getVal();
        e && n !== r && (this.form.input.setVal(e, r), e.type !== "hidden" && ji.validateContinuously === !0 && this.form.validateInput(e))
    },
    _isRelevant(e) {
        if (!this.form.features.relevant) return !0;
        let {
            groups: t,
            repeats: i
        } = this.form.collections, {
            relevantExpr: n,
            name: r,
            index: a
        } = e, s = n ? this.form.model.evaluate(n, "boolean", r, a) : !0, l = null;
        if (s) {
            let u = r.split("/"),
                f = u.splice(0, u.length - 1).join("/");
            a === 0 ? l = t.getElementByRef(f) : l = i.getElementByRef(f, a) || t.getElementByRef(f, a);
            let d = l ? [l].concat(ho(l, ".or-group[data-relevant], .or-group-data[data-relevant]")) : [];
            d.length && (s = d.map(m => {
                let x = m.classList.contains("or-repeat") ? i : t,
                    C = this.form.input.getName(m),
                    N = x.refIndexOf(m, C);
                return {
                    element: m,
                    context: C,
                    index: N,
                    expr: this.form.input.getRelevant(m)
                }
            }).concat([{
                context: e.name,
                index: e.index,
                expr: e.relevantExpr
            }]).every(m => {
                let {
                    element: T,
                    expr: x,
                    context: C,
                    index: N
                } = m, E = this.preInitRelevance.get(T);
                if (E != null && !this.initialized) return E;
                let O = m.expr ? this.form.model.evaluate(x, "boolean", C, N) : !0;
                return T != null && !this.initialized && this.preInitRelevance.set(T, O), O
            }))
        }
        return s
    },
    _hasNeverBeenRelevant(e, t) {
        if (!this.form.features.relevant) return !1;
        if (e && e.closest(".pre-init")) return !0;
        let {
            name: i,
            index: n
        } = t, r = i.split("/"), a = r.splice(0, r.length - 1).join("/"), s = null, {
            groups: l,
            repeats: u
        } = this.form.collections;
        return n === 0 ? s = l.getElementByRef(a) : s = u.getElementByRef(a, n) || l.getElementByRef(a, n), s ? s.closest(".pre-init") != null : !1
    }
};
var I1 = ei(L1());
var A1 = 3 * 1e3,
    D1 = 20 * 60 * 1e3,
    Vu;

function UN(e) {
    return hi.init().then(() => N1(e)).then(t => t || FN(e)).then(qN).then(VN)
}

function N1({
    enketoId: e
}) {
    return hi.survey.get(e).then(t => Promise.all([t, Ml(e)])).then(([t, i]) => t == null ? t : yo(t, i))
}

function P1(e) {
    return Promise.resolve(HN(e)).then($N)
}
var mp = e => (Bu(e) ? Promise.resolve(e) : xf(e.enketoId)).then(() => hi.survey.update(e));

function FN(e) {
    return ra.getFormParts(e).then(P1).then(hi.survey.set)
}

function R1(e) {
    return hi.survey.remove(e.enketoId)
}

function qN(e) {
    return e && hi.dynamicData.get(e.enketoId).then(t => {
        let i = {
            enketoId: e.enketoId
        };
        return (0, I1.default)(i, t), rt.submissionParameter && rt.submissionParameter.name ? rt.submissionParameter.value ? i.submissionParameter = rt.submissionParameter : rt.submissionParameter.value === "" ? delete i.submissionParameter : t && t.submissionParameter && t.submissionParameter.value && (rt.submissionParameter.value = t.submissionParameter.value) : delete i.submissionParameter, typeof rt.parentWindowOrigin < "u" ? rt.parentWindowOrigin ? i.parentWindowOrigin = rt.parentWindowOrigin : rt.parentWindowOrigin === "" ? delete i.parentWindowOrigin : t && t.parentWindowOrigin && (rt.parentWindowOrigin = t.parentWindowOrigin) : delete i.parentWindowOrigin, hi.dynamicData.update(i)
    }).then(() => e)
}

function VN(e) {
    return Vu = e.hash, setTimeout(() => {
        k1(e)
    }, A1), setInterval(() => {
        k1(e)
    }, D1), Promise.resolve(e)
}

function zN(e) {
    return document.querySelector("form.or").addEventListener(Nn.AddRepeat().type, t => {
        B1(e, [t.target])
    }), Promise.resolve(e)
}

function HN(e) {
    return e.form = e.form.replace(/(src="[^"]*")/g, 'data-offline-$1 src=""'), e
}

function $N(e) {
    let t = new DOMParser().parseFromString(e.model, "text/xml");
    _o(t, e.media);
    let i = [...t.querySelectorAll("instance:first-child > * *[src]")],
        n = [];
    return e.binaryDefaults = [], i.forEach(r => {
        n.push(ra.getMediaFile(r.getAttribute("src")).then(a => {
            a.url = r.textContent, e.binaryDefaults.push(a), r.removeAttribute("src")
        }).catch(a => {
            console.error(a)
        }))
    }), Promise.all(n).then(() => (e.model = new XMLSerializer().serializeToString(t), e))
}

function jN(e) {
    return e.maxSize ? Promise.resolve(e) : ra.getMaximumSubmissionSize(e).then(t => t.maxSize ? (delete t.binaryDefaults, mp(t)) : t)
}

function WN(e) {
    let t = document.querySelector("form.or");
    _o(t, e.media, {
        isOffline: !0
    });
    let i = [t],
        n = document.querySelector(".form-header");
    return n && i.push(n), B1(e, i).then(r => r ? (e.resources = r.filter(a => !!a), console.log("Survey media has been updated. Updating cache."), mp(e)) : e).then(zN).catch(r => (console.error("updateMedia failed", r), e))
}

function KN(e) {
    return e.then(t => t, t => {
        console.error(t)
    })
}

function B1(e, t) {
    let i = !1,
        n = [];
    return GN(t).forEach(r => {
        let a = r[0].dataset.offlineSrc,
            s = hi.survey.resource.get(e.enketoId, a).then(async l => {
                if (!l || !l.item) {
                    let u = await ra.getMediaFile(a);
                    return i = !0, u
                }
                return l
            }).then(l => {
                if (l.item) {
                    let u = URL.createObjectURL(l.item);
                    r.forEach(f => {
                        f.src = u
                    })
                }
                return l
            }).catch(l => {
                console.error(l)
            });
        n.push(s)
    }), Promise.all(n.map(KN)).then(r => {
        if (i) return r
    })
}

function GN(e) {
    let t = [],
        i = {},
        n = [];
    return e.forEach(r => n = n.concat([...r.querySelectorAll("[data-offline-src]")])), n.forEach(r => {
        if (!i[r.dataset.offlineSrc]) {
            let a = r.dataset.offlineSrc,
                s = n.filter(l => {
                    if (l.dataset.offlineSrc === a) return !0
                });
            i[a] = !0, t.push(s)
        }
    }), t
}

function k1(e) {
    return console.log("Checking for survey update..."), ra.getFormPartsHash(e).then(t => {
        if (Vu === t) console.log("Cached survey is up to date!", Vu);
        else return console.log("Cached survey is outdated! old:", Vu, "new:", t), ra.getFormParts(e).then(i => (i.resources = void 0, i)).then(P1).then(mp).then(i => {
            if (Vu = i.hash, !Bu(i)) return xf(i.enketoId)
        }).then(() => {
            console.log("Survey is now updated in the store. Need to refresh."), document.dispatchEvent(Nn.FormUpdated())
        })
    }).catch(t => {
        t.status === 404 || t.status === 401 ? R1(e).then(() => {
            console.log(`survey ${e.enketoId} removed from storage`, t.status)
        }).catch(i => {
            console.error("an error occurred when attempting to remove the survey from storage", i)
        }) : console.log("Could not obtain latest survey or hash from server or failed to save it. Probably offline.", t.stack)
    })
}

function ZN() {
    return hi.survey.removeAll().then(() => {
        console.log("Done! The form cache is empty now. (Records have not been removed)")
    })
}
var zu = {
    init: UN,
    get: N1,
    updateMaxSubmissionSize: jN,
    updateMedia: WN,
    remove: R1,
    flush: ZN,
    CACHE_UPDATE_INITIAL_DELAY: A1,
    CACHE_UPDATE_INTERVAL: D1
};
var Co = ei(an());
var If = ei(Po());
var Hu = {
    form: null,
    getWrapNode(e) {
        return e.closest(".question, .calculation, .setvalue, .setgeopoint")
    },
    getWrapNodes(e) {
        let t = [];
        return e.forEach(i => {
            let n = this.getWrapNode(i);
            t.includes(n) || t.push(n)
        }), t
    },
    getProps(e) {
        return {
            path: this.getName(e),
            ind: this.getIndex(e),
            inputType: this.getInputType(e),
            xmlType: this.getXmlType(e),
            constraint: this.getConstraint(e),
            calculation: this.getCalculation(e),
            relevant: this.getRelevant(e),
            readonly: this.getReadonly(e),
            val: this.getVal(e),
            required: this.getRequired(e),
            enabled: this.isEnabled(e),
            multiple: this.isMultiple(e)
        }
    },
    getInputType(e) {
        let t = e.nodeName.toLowerCase();
        return t === "input" ? e.dataset.drawing ? "drawing" : e.type ? e.type === "text" && this.getXmlType(e) === "date" ? "date" : e.type === "text" && this.getXmlType(e) === "datetime" ? "datetime-local" : e.type.toLowerCase() : console.error("<input> node has no type") : t === "select" ? "select" : t === "textarea" ? "textarea" : t === "fieldset" || t === "section" ? "fieldset" : console.error("unexpected input node type provided")
    },
    getConstraint(e) {
        return e.dataset.constraint
    },
    getRequired(e) {
        let {
            required: t
        } = e.dataset;
        if (t != null && !Ko(e, ".or-appearance-label", ".or")) return t
    },
    getRelevant(e) {
        return e.dataset.relevant
    },
    getReadonly(e) {
        return e.matches("[readonly]")
    },
    getCalculation(e) {
        return e.dataset.calculate
    },
    getXmlType(e) {
        return (e.dataset.typeXml || "string").toLowerCase()
    },
    getName(e) {
        let t = e.dataset.name || e.getAttribute("name");
        return t || console.error("input node has no name"), t
    },
    getIndex(e) {
        return this.form.repeats.getIndex(e.closest(".or-repeat"))
    },
    isMultiple(e) {
        return this.getInputType(e) === "checkbox" || e.multiple
    },
    isEnabled(e) {
        return !(e.disabled || Ko(e, ".disabled", ".or"))
    },
    getVal(e) {
        let t = "",
            i = this.getInputType(e),
            n = this.getName(e);
        switch (i) {
            case "radio":
                {
                    let r = this.getWrapNode(e).querySelector(`input[type="radio"][data-name="${n}"]:checked`);t = r ? r.value : "";
                    break
                }
            case "checkbox":
                {
                    t = [...this.getWrapNode(e).querySelectorAll(`input[type="checkbox"][name="${n}"]:checked`)].map(r => r.value);
                    break
                }
            case "select":
                {
                    if (this.isMultiple(e)) t = [...e.querySelectorAll("option:checked")].map(r => r.value);
                    else {
                        let r = e.querySelector("option:checked");
                        t = r ? r.value : ""
                    }
                    break
                }
            case "datetime-local":
                {
                    if (e.value) {
                        let r = e.value.split("T")[1].length === 5 ? `${e.value}:00` : e.value;
                        t = r + (0, If.getTimezoneOffsetAsTime)(new Date(r))
                    }
                    break
                }
            default:
                t = e.value
        }
        return t || ""
    },
    find(e, t = 0) {
        var i;
        return (i = this.form.collections.refTargetContainers.getElementByRef(e, t)) == null ? void 0 : i.querySelector(".ref-target:not(.ignore)")
    },
    setVal(e, t, i = He.InputUpdate()) {
        let n, r = this.getInputType(e),
            a = this.getXmlType(e),
            s = this.getWrapNode(e),
            l = this.getName(e);
        if (r === "radio") n = s.querySelectorAll(`[data-name="${l}"]:not(.ignore)`);
        else {
            if (n = s.querySelectorAll(`[name="${l}"]:not(.ignore)`), r === "file" && t) return e.setAttribute("data-loaded-file-name", t), !1;
            if ((a === "date" || a === "datetime") && t && (t = Hn[a.toLowerCase()].convert(t), a === "datetime")) {
                t = (0, If.toISOLocalString)(new Date(t));
                let u = t.split("T"),
                    f = u[0],
                    d = u && u[1] ? u[1].split(/[Z\-+]/)[0] : "00:00";
                t = `${f}T${d}`
            }
            if (r === "time" && /(\+|-)/.test(t)) {
                let u = new Date().toLocaleDateString("en", {
                        month: "short",
                        day: "numeric",
                        year: "numeric"
                    }),
                    f = t.replace(/(\d\d:\d\d:\d\d)(\.\d{1,3})(\s?((\+|-)\d\d))(:)?(\d\d)?/, "$1 GMT$3$7"),
                    d = new Date(`${u} ${f}`);
                d.toString() !== "Invalid Date" ? t = `${d.getHours().toString().padStart(2,"0")}:${d.getMinutes().toString().padStart(2,"0")}` : console.error("could not parse time:", t)
            }
        }
        if (this.isMultiple(e) === !0 ? t = t.split(" ") : r === "radio" && (t = [t]), n.length) {
            let u = this.getVal(e);
            if (u === void 0 || u.toString() !== t.toString()) {
                switch (r) {
                    case "radio":
                        {
                            if (t.toString() === "") n.forEach(f => f.checked = !1);
                            else {
                                let f = this.getWrapNode(e).querySelector(`input[type="radio"][data-name="${l}"][value="${CSS.escape(t)}"]`);
                                f && (f.checked = !0)
                            }
                            break
                        }
                    case "checkbox":
                        {
                            this.getWrapNode(e).querySelectorAll(`input[type="checkbox"][name="${l}"]`).forEach(f => f.checked = t.includes(f.value));
                            break
                        }
                    case "select":
                        {
                            if (this.isMultiple(e)) e.querySelectorAll("option").forEach(f => f.selected = t.includes(f.value));
                            else {
                                let f = e.querySelector(`option[value="${CSS.escape(t)}"]`);
                                f ? f.selected = !0 : e.querySelectorAll("option").forEach(d => d.selected = !1)
                            }
                            break
                        }
                    default:
                        e.value = t
                }
                i && (n[0].dispatchEvent(i), i.type === He.InputUpdate().type && n[0].dispatchEvent(He.XFormsValueChanged()))
            }
        }
        return n[0]
    },
    clear(e, t, i) {
        (e.matches(".question") ? [e] : e.querySelectorAll(".question")).forEach(r => {
            let a = r.querySelector("input:not(.ignore), select:not(.ignore), textarea:not(.ignore)");
            a && (this.setVal(a, "", t), i && a.dispatchEvent(i))
        })
    },
    validate(e) {
        return this.form.validateInput(e)
    }
};
var _s = ei(an());

function vp(e) {
    return /^\s*instance\(.+\)/.test(e) ? /\[.+\]/.test(e) ? /\[\d+\]/.test(e) : !0 : !1
}
var M1 = {
    form: null,
    init() {
        if (!this.form) throw new Error("Itemset module not correctly instantiated with form property.");
        if (!this.form.features.itemset) {
            this.update = () => {};
            return
        }
        this.update()
    },
    update(e = {}) {
        let t = this,
            i = {},
            n;
        if (e.relevantPath ? n = this.form.getRelatedNodes("data-items-path", ".itemset-template").get().filter(a => a.querySelector(`[type="checkbox"][name^="${e.relevantPath}/"]`) || a.querySelector(`[type="radio"][data-name^="${e.relevantPath}/"]`) || a.parentElement.matches(`select[name^="${e.relevantPath}/"]`) || a.parentElement.parentElement.querySelector(`input[list][name^="${e.relevantPath}/"]`) || a.querySelector(`[type="checkbox"][name="${e.relevantPath}"]`) || a.querySelector(`[type="radio"][data-name="${e.relevantPath}"]`) || a.parentElement.matches(`select[name="${e.relevantPath}"]`) || a.parentElement.parentElement.querySelector(`input[list][name="${e.relevantPath}"]`)) : n = this.form.getRelatedNodes("data-items-path", ".itemset-template", e).get(), n.length === 0) return;
        let r = [];
        n.forEach(a => {
            if (a.closest(".disabled")) return;
            let s = a.parentElement,
                l = s.classList.contains("repeat-shared-datalist-itemset") || s.parentElement.matches(".or-repeat-info"),
                u = {},
                f = {},
                d = Qn.get(a, "items") || {},
                m = a.nodeName.toLowerCase(),
                T = a.parentElement.matches("select, datalist") ? a.parentElement : null,
                x;
            if (m === "label") {
                let re = gs(a, "input");
                [].slice.call(re.attributes).forEach(J => {
                    u[J.name] = J.value
                }), x = re.classList.contains("ignore") ? An(re.closest(".option-wrapper"), "input.rank") : re
            } else T && T.nodeName.toLowerCase() === "select" ? (x = T, x.matches("[readonly]") && (u.disabled = "disabled")) : T && T.nodeName.toLowerCase() === "datalist" && (l ? x = t.form.view.html.querySelector(`input[name="${T.dataset.name}"]`) : x = An(T, "input:not(.widget)"));
            let C = An(a.closest("label, select, datalist"), ".itemset-labels"),
                N = a.dataset.itemsPath,
                {
                    labelType: E
                } = C.dataset,
                {
                    labelRef: O
                } = C.dataset,
                D = Qs(O, "translate");
            D.length && (O = D[0][1][0], E = "langs");
            let {
                valueRef: I
            } = C.dataset, H = t.form.input.getName(x), y = l ? 0 : t.form.input.getIndex(x), w = !0, X = this.form.model.evaluate(N, "nodes", H, y, w);
            if (f.length = X.length, f.text = X.map(re => re.textContent).join(""), f.length === d.length && f.text === d.text) return;
            Qn.put(a, "items", f);
            let oe = a.closest(".question, datalist");
            [...oe.querySelectorAll(m)].filter(re => re !== a).forEach(re => re.remove());
            let me = oe.nextElementSibling,
                V = me && me.matches(".or-option-translations") ? me : oe.querySelector(".or-option-translations");
            V && [...V.children].forEach(re => re.remove());
            let W = document.createDocumentFragment(),
                P = document.createDocumentFragment(),
                se = [],
                ce = `${H}:${N}`;
            i[ce] ? (W = i[ce].optionsFragment.cloneNode(!0), P = i[ce].optionsTranslationsFragment.cloneNode(!0)) : (X.forEach(re => {
                let J = t.getNodesFromItem(O, re);
                if (!J || !J.length) se = [{
                    language: "",
                    label: "error",
                    active: !0
                }];
                else switch (E) {
                    case "itext":
                        se = [...C.querySelectorAll(`[data-itext-id="${J[0].textContent}"]`)].map(te => {
                            let we = te.getAttribute("lang"),
                                De = te.nodeName,
                                {
                                    src: ye
                                } = te,
                                Ue = [...te.childNodes],
                                Qe = te.classList.contains("active"),
                                {
                                    alt: at
                                } = te;
                            return {
                                language: we,
                                type: De,
                                contentNodes: Ue,
                                active: Qe,
                                src: ye,
                                alt: at
                            }
                        });
                        break;
                    case "langs":
                        se = J.map(te => {
                            let we = te.getAttribute("lang"),
                                De = !we && !t.form.langs.currentLanguage || we === t.form.langs.currentLanguage;
                            return {
                                language: we,
                                type: "span",
                                contentNodes: [...te.childNodes],
                                active: De
                            }
                        });
                        break;
                    default:
                        se = [{
                            language: "",
                            type: "span",
                            contentNodes: J && J.length ? [...J[0].childNodes] : [],
                            active: !0
                        }]
                }
                let ue = t.getNodeFromItem(I, re).textContent;
                if ((u["data-type-xml"] === "select" && u.type === "checkbox" || T && T.multiple) && ue.indexOf(" ") > -1 && (r[r.length] = Ae("alert.valuehasspaces.multiple", {
                        value: ue
                    })), m === "label") W.appendChild(t.createInput(u, se, ue));
                else if (m === "option") {
                    let te = [];
                    se.length > 1 ? se.forEach(we => {
                        we.active && (te = we.contentNodes), P.appendChild(t.createOptionTranslation(we, ue))
                    }) : te = se[0].contentNodes, W.appendChild(t.createOption(u, te, ue))
                }
            }), vp(N) && !(x.type === "radio" && x.closest(".or-repeat")) && (i[ce] = {
                optionsFragment: W.cloneNode(!0),
                optionsTranslationsFragment: P.cloneNode(!0)
            })), a.parentNode.appendChild(W), V && V.appendChild(P);
            let ne = t.form.model.node(H, y).getVal();
            ne !== "" && (x.classList.contains("rank") && (ne = ""), t.form.input.setVal(x, ne, He.Change())), (T || x.classList.contains("rank")) && x.dispatchEvent(He.ChangeOption())
        }), r.length > 0 && oi.alert(r.join("<br>"))
    },
    getNodesFromItem(e, t, i) {
        if (!e) throw new Error("Error: could not query instance item, no expression provided");
        let n = i ? 9 : 7,
            r = typeof this.form.model.xml.evaluate < "u" ? "evaluate" : "jsEvaluate",
            a = this.form.model.xml[r](e, t, this.form.model.getNsResolver(), n, null),
            s = [];
        if (i) s.push(a.singleNodeValue);
        else
            for (let l = 0; l < a.snapshotLength; l++) s.push(a.snapshotItem(l));
        return s
    },
    getNodeFromItem(e, t) {
        let i = this.getNodesFromItem(e, t, !0);
        return i.length ? i[0] : null
    },
    createOption(e, t, i) {
        let n = document.createElement("option");
        return Object.getOwnPropertyNames(e).forEach(r => {
            n.setAttribute(r, e[r])
        }), n.textContent = t.map(r => r.textContent).join(""), n.value = i, n
    },
    createOptionTranslation(e, t) {
        let i = document.createElement(e.type || "span");
        return e.contentNodes && (i.classList.add("option-label"), e.contentNodes.forEach(n => i.appendChild(n.cloneNode(!0)))), i.classList.toggle("active", e.active), e.language && (i.lang = e.language), i.dataset.optionValue = t, e.src && (i.src = e.src, i.alt = e.alt), i
    },
    createInput(e, t, i) {
        let n = this,
            r = document.createElement("label"),
            a = document.createElement("input");
        return Object.getOwnPropertyNames(e).forEach(s => {
            a.setAttribute(s, e[s])
        }), a.value = i, r.appendChild(a), t.forEach(s => {
            r.appendChild(n.createOptionTranslation(s, i))
        }), r
    }
};
var yp = ji.repeatOrdinals === !0,
    O1 = {
        form: null,
        init() {
            let e = this,
                t;
            if (this.staticLists = [], !this.form) throw new Error("Repeat module not correctly instantiated with form property.");
            if (!this.form.features.repeat) {
                this.getIndex = () => 0, this.form.input.getIndex = () => 0;
                return
            }
            return this.form.features.repeatCount || (this.countUpdate = () => {}, this.updateRepeatInstancesFromCount = () => {}), t = this.form.view.$.find(".or-repeat-info"), this.templates = {}, this.templateStrings = {}, this.optionWrapperContainers = new Set, t.siblings(".or-repeat").prepend('<span class="repeat-number"></span>').addBack().filter(function() {
                return this.firstChild && this.firstChild.nodeType === 3 && (this.firstChild.textContent = ""), !this.querySelector(".question")
            }).addClass("empty"), t.filter("*:not([data-repeat-fixed]):not([data-repeat-count])").append('<button type="button" class="btn btn-default add-repeat-btn"><i class="icon icon-plus"> </i></button>').siblings(".or-repeat").append(`<div class="repeat-buttons"><button type="button" ${yp?" disabled ":" "}class="btn btn-default remove"><i class="icon icon-minus"> </i></button></div>`), this.form.model.extractFakeTemplates(t.map(function() {
                return this.dataset.name
            }).get()), t.siblings(".or-repeat").reverse().each(function() {
                let i = this.cloneNode(!0);
                e.form.langs.setFormUi(e.form.currentLanguage, i);
                let n = i.getAttribute("name");
                i.querySelector(".option-wrapper") != null && e.optionWrapperContainers.add(n), this.remove(), (0, _s.default)(i).removeClass("contains-current current").find(".current").removeClass("current"), e.form.input.clear(i), e.templates[n] = i, e.templateStrings[n] = i.outerHTML
            }), t.reverse().each(function() {
                (0, _s.default)(this).closest(".or-repeat").length || e.updateDefaultFirstRepeatInstance(this)
            }).get().forEach(e.updateViewInstancesFromModel.bind(this)), this.form.view.$.on("click", "button.add-repeat-btn:enabled", function() {
                return e.add((0, _s.default)(this).closest(".or-repeat-info")[0]), !1
            }), this.form.view.$.on("click", "button.remove:enabled", function() {
                return e.confirmDelete(this.closest(".or-repeat")), !1
            }), this.countUpdate(), !0
        },
        confirmDelete(e) {
            let t = this;
            oi.confirm({
                heading: Ae("confirm.repeatremove.heading"),
                msg: Ae("confirm.repeatremove.msg")
            }).then(i => {
                i && t.remove((0, _s.default)(e))
            }).catch(console.error)
        },
        getIndex(e) {
            if (!e) return 0;
            let t = e.classList.contains("or-repeat-info"),
                i = t ? e.dataset.name : e.getAttribute("name"),
                n = t ? this.form.collections.repeatInfos : this.form.collections.repeats;
            return Math.max(0, n.refIndexOf(e, i))
        },
        updateViewInstancesFromModel(e) {
            let t = e.dataset.name,
                i = this.getIndex(e),
                n = this.form.model.getRepeatSeries(t, i),
                r = Ll(e, ".or-repeat");
            return n.length > r.length && (this.add(e, n.length - r.length, "model"), Ll(e, ".or-repeat").reduce((a, s) => a.concat([...s.querySelectorAll(".or-repeat-info:not([data-repeat-count])")]), []).forEach(this.updateViewInstancesFromModel.bind(this))), n.length
        },
        updateDefaultFirstRepeatInstance(e) {
            let t = e.dataset.name;
            if (!this.form.model.data.instanceStr && !this.templates[t].classList.contains("or-appearance-minimal")) {
                let i = this.getIndex(e);
                this.form.model.getRepeatSeries(t, i).length === 0 && this.add(e, 1, "magic"), Ll(e, ".or-repeat").reduce((r, a) => r.concat([...a.querySelectorAll(".or-repeat-info:not([data-repeat-count])")]), []).forEach(this.updateDefaultFirstRepeatInstance.bind(this))
            }
        },
        updateRepeatInstancesFromCount(e) {
            let t = e.dataset.repeatCount || "";
            if (!t) return;
            let i = e.dataset.name,
                n = this.form.model.evaluate(t, "number", this.form.model.getRepeatCommentSelector(i), this.getIndex(e), !0);
            n = isNaN(n) ? 0 : n;
            let r = Ll(e, `.or-repeat[name="${i}"]`).length,
                a = n - r;
            if (a > 0) this.add(e, a, "count");
            else if (a < 0)
                for (a = Math.abs(a) >= r ? -r + (yp ? 1 : 0) : a; a < 0; a++) {
                    let s = (0, _s.default)(e.previousElementSibling);
                    this.remove(s)
                }
            fo(e, ".or-repeat").reduce((s, l) => s.concat(_u(l, ".or-group, .or-group-data")), []).reduce((s, l) => s.concat(_u(l, ".or-repeat-info[data-repeat-count]")), []).forEach(this.updateRepeatInstancesFromCount.bind(this))
        },
        countUpdate(e = {}) {
            this.form.features.repeatCount && this.form.getRelatedNodes("data-repeat-count", ".or-repeat-info", e).get().forEach(this.updateRepeatInstancesFromCount.bind(this))
        },
        add(e, t = 1, i = "user") {
            if (!e) return console.error("Nothing to clone"), !1;
            let n = e.dataset.name,
                r = Ll(e, ".or-repeat"),
                a, s = r[r.length - 1];
            s != null && (a = this.getIndex(s) + 1);
            let l = this.getIndex(e),
                u = this.form.model.getRepeatSeries(n, l).length,
                f = e.previousElementSibling,
                d = f && f.classList.contains("or-repeat") ? Number(f.querySelector(".repeat-number").textContent) : 0,
                m = this.templateStrings[n],
                T = document.createRange(),
                x = Array(t).fill(null).map(() => m).join(""),
                C = Array.from(T.createContextualFragment(x).children);
            for (let [N, E] of C.entries()) {
                this.optionWrapperContainers.has(n) && E.querySelectorAll(".option-wrapper").forEach(this.fixRadioName), this.form.features.itemset && this.processDatalists(E.querySelectorAll("datalist"), e), e.before(E), E.querySelector(".repeat-number").textContent = d + 1, r.push(E), ef(n), r.length > u && (this.form.model.addRepeat(n, l), u++), a = a != null ? a : this.getIndex(E), this.form.collections.repeats.setRefIndexCache(E, a, n);
                let O = {
                    repeatIndex: a,
                    repeatInstance: E,
                    repeatInfo: e,
                    repeatPath: n,
                    trigger: i,
                    cloned: !0
                };
                (i === "user" || i === "count") && E.dispatchEvent(He.NewRepeat(O)), E.dispatchEvent(He.AddRepeat(O)), this.form.widgetsInitialized && (this.form.widgets.init((0, _s.default)(E), this.form.options), i === "user" && N === 0 && this.form.goToTarget(E)), E.querySelectorAll(".or-repeat-info:not([data-repeat-count])").forEach(this.updateDefaultFirstRepeatInstance.bind(this)), a++, d++
            }
            return this.toggleButtons(e), !0
        },
        remove(e) {
            let t = this,
                i = e.next(".or-repeat, .or-repeat-info"),
                n = e.attr("name"),
                r = this.getIndex(e[0]),
                a = e.siblings(".or-repeat-info")[0];
            e.remove(), ef(n), t.numberRepeats(a), t.toggleButtons(a);
            let s = this.form.initialized ? {
                removed: {
                    repeatPath: n,
                    repeatIndex: r
                }
            } : {
                initRepeatInfo: {
                    repeatPath: n,
                    repeatIndex: r
                }
            };
            i[0].dispatchEvent(He.RemoveRepeat(s)), t.form.model.node(n, r).remove()
        },
        fixRadioName(e) {
            let t = Math.floor(Math.random() * 1e7 + 1);
            e.querySelectorAll('input[type="radio"]').forEach(i => {
                i.setAttribute("name", t)
            })
        },
        fixDatalistId(e) {
            let t = e.id + Math.floor(Math.random() * 1e7 + 1);
            e.parentNode.querySelector(`input[list="${e.id}"]`).setAttribute("list", t), e.id = t
        },
        processDatalists(e, t) {
            e.forEach(i => {
                let n = i.querySelector(".itemset-template[data-items-path]"),
                    r = n ? n.dataset.itemsPath : null;
                if (!vp(r)) this.fixDatalistId(i);
                else {
                    let {
                        id: a
                    } = i, s = An(i, "input[list]");
                    if (s)
                        if (this.staticLists.includes(a)) i.remove();
                        else {
                            let l = i.parentElement,
                                {
                                    name: u
                                } = s,
                                f = l.querySelector("datalist"),
                                d = l.removeChild(f);
                            d.setAttribute("data-name", u);
                            let m = l.querySelector(".or-option-translations"),
                                T = l.removeChild(m);
                            T.setAttribute("data-name", u);
                            let x = l.querySelector(".itemset-labels"),
                                C = l.removeChild(x);
                            C.setAttribute("data-name", u);
                            let N = document.createElement("div");
                            N.style.display = "none", N.append(d, T, C), t.append(N), i.classList.add("repeat-shared-datalist-itemset"), N.classList.add("repeat-shared-datalist-itemset-elements"), this.staticLists.push(a)
                        }
                }
            })
        },
        toggleButtons(e) {
            (0, _s.default)(e).siblings(".or-repeat").children(".repeat-buttons").find("button.remove").prop("disabled", !1).first().prop("disabled", yp)
        },
        numberRepeats(e) {
            (0, _s.default)(e).siblings(".or-repeat").each((t, i) => {
                (0, _s.default)(i).children(".repeat-number").text(t + 1)
            })
        }
    };
var U1 = {
    tocItems: [],
    _maxTocLevel: [],
    generateTocItems() {
        this.tocItems = [], [...this.form.view.$[0].querySelectorAll('.question:not([role="comment"]), .or-group')].filter(i => !i.closest(".disabled") && (i.matches(".question") || i.querySelector(".question:not(.disabled)") || i.matches(".or-repeat-info") && !An(i, ".or-repeat"))).filter(i => !i.classList.contains("or-repeat-info")).forEach((i, n) => {
            let r = ho(i, ".or-group");
            this.tocItems.push({
                element: i,
                level: r.length,
                parent: r.length > 0 ? r[r.length - 1] : null,
                tocId: n,
                tocParentId: null
            })
        }), this._maxTocLevel = Math.max(...this.tocItems.map(i => i.level));
        let t = this.tocItems.filter(i => i.level < this._maxTocLevel && i.element.classList.contains("or-group"));
        this.tocItems.forEach(i => {
            let n = t.find(r => i.parent === r.element);
            n && (i.tocParentId = n.tocId)
        })
    },
    getHtmlFragment() {
        this.generateTocItems();
        let e = document.createDocumentFragment(),
            t = 0;
        do {
            let i = this.tocItems.filter(n => n.level === t);
            t === 0 ? this._buildTocHtmlList(i, e) : [...new Set(i.map(r => r.tocParentId))].forEach(r => {
                let a = document.createElement("ul"),
                    s = i.filter(u => u.tocParentId === r);
                this._buildTocHtmlList(s, a), e.querySelectorAll(`[tocId="${r}"]`)[0].appendChild(a)
            }), t++
        } while (t <= this._maxTocLevel);
        return e
    },
    _getTitle(e) {
        let t, i = e.querySelector(".question-label.active");
        if (i) t = i.textContent;
        else {
            let n = e.querySelector(".or-hint.active");
            n && (t = n.textContent)
        }
        return t = t && t.length > 20 ? `${t.substring(0,20)}...` : t, t
    },
    _buildTocHtmlList(e, t) {
        e.length > 0 && e.forEach(i => {
            let n = document.createElement("li");
            if (i.element.classList.contains("or-group")) {
                let r = document.createElement("summary");
                r.textContent = this._getTitle(i.element) || `[${i.tocId+1}]`;
                let a = document.createElement("details");
                a.setAttribute("tocId", i.tocId), i.tocParentId !== null && a.setAttribute("tocParentId", i.tocParentId), a.append(r), n.append(a)
            } else {
                let r = document.createElement("a");
                r.textContent = this._getTitle(i.element) || `[${i.tocId+1}]`, n.setAttribute("tocId", i.tocId), n.setAttribute("role", "pageLink"), i.tocParentId !== null && n.setAttribute("tocParentId", i.tocParentId), n.append(r)
            }
            t.append(n)
        })
    }
};
var bs = ei(an());
var c5 = ei(F1()),
    q1 = {
        form: null,
        active: !1,
        current: null,
        activePages: [],
        init() {
            if (!this.form) throw new Error("Repeats module not correctly instantiated with form property.");
            if (this.form.features.pagination) {
                let e = [...this.form.view.html.querySelectorAll(".question, .or-appearance-field-list")].concat([...this.form.view.html.querySelectorAll(".or-repeat.or-appearance-field-list + .or-repeat-info")]).filter(t => !t.parentElement.closest(".or-appearance-field-list") && !(t.matches(".question") && t.querySelector("[data-for]"))).map(t => (t.setAttribute("role", "page"), t));
                if (e.length > 0 || e[0].classList.contains("or-repeat")) {
                    let t = this.form.view.html.parentNode;
                    this.$formFooter = (0, bs.default)(t.querySelector(".form-footer")), this.$btnFirst = this.$formFooter.find(".first-page"), this.$btnPrev = this.$formFooter.find(".previous-page"), this.$btnNext = this.$formFooter.find(".next-page"), this.$btnNext.attr("tabindex", 2), this.$btnLast = this.$formFooter.find(".last-page"), this.$toc = (0, bs.default)(t.querySelector(".pages-toc__list")), this._updateAllActive(e), this._updateToc(), this._toggleButtons(0), this._setButtonHandlers(), this._setRepeatHandlers(), this._setBranchHandlers(), this._setSwipeHandlers(), this._setTocHandlers(), this._setLangChangeHandlers(), this.active = !0, this._flipToFirst()
                }
            }
        },
        flipToPageContaining(e) {
            let t = e[0],
                i = t.closest('[role="page"]');
            if (i) this._flipTo(i);
            else if (t.closest(".question")) {
                let n = t.querySelector("[data-for]"),
                    r = t.closest(".or-repeat, form.or");
                if (n && r) {
                    let a = r.querySelector(`[name="${n.dataset.for}"]`);
                    a && this._flipTo(a.closest('[role="page"]'))
                }
            }
            this.$toc.parent().find(".pages-toc__overlay").click()
        },
        _setButtonHandlers() {
            let e = this;
            this.$btnFirst.off(".pagemode").on("click.pagemode", () => (e.form.pageNavigationBlocked || e._flipToFirst(), !1)), this.$btnPrev.off(".pagemode").on("click.pagemode", () => (e.form.pageNavigationBlocked || e._prev(), !1)), this.$btnNext.off(".pagemode").on("click.pagemode", () => (e.form.pageNavigationBlocked || e._next(), !1)), this.$btnLast.off(".pagemode").on("click.pagemode", () => (e.form.pageNavigationBlocked || e._flipToLast(), !1))
        },
        _setSwipeHandlers() {
            if (ji.swipePage === !1) return;
            let e = this,
                t = this.form.view.$.closest(".main");
            t.swipe("destroy"), t.swipe({
                allowPageScroll: "vertical",
                threshold: 250,
                preventDefaultEvents: !1,
                swipeLeft() {
                    e.$btnNext.click()
                },
                swipeRight() {
                    e.$btnPrev.click()
                },
                swipeStatus(i, n) {
                    if (n === "start") {
                        let r = e._getCurrent() ? e._getCurrent().querySelector(":focus") : null;
                        r && r.blur()
                    }
                }
            })
        },
        _setTocHandlers() {
            let e = this;
            this.$toc.on("click", "a", function() {
                if (!e.form.pageNavigationBlocked && this.parentElement && this.parentElement.getAttribute("tocId")) {
                    let t = parseInt(this.parentElement.getAttribute("tocId"), 10),
                        i = e.form.toc.tocItems.find(n => n.tocId === t);
                    if (i && i.element) {
                        let n = i.element;
                        e.form.goToTarget(n)
                    }
                }
                return !1
            }).parent().find(".pages-toc__overlay").on("click", () => {
                e.$toc.parent().find("#toc-toggle").prop("checked", !1)
            })
        },
        _setRepeatHandlers() {
            this.form.view.html.addEventListener(He.AddRepeat().type, e => {
                this._updateAllActive(), e.detail.trigger === "user" || this.activePages[0] === e.target || ho(this.activePages[0], ".or-repeat").includes(e.target) ? this.flipToPageContaining((0, bs.default)(e.target)) : this._toggleButtons()
            }), this.form.view.html.addEventListener(He.RemoveRepeat().type, e => {
                if (this.current && !this.current.closest("html")) {
                    this._updateAllActive();
                    let t = (0, bs.default)(e.target).prev();
                    t.length === 0 && (t = (0, bs.default)(e.target)), this.flipToPageContaining(t)
                }
            })
        },
        _setBranchHandlers() {
            let e = this;
            this.form.view.$.on("changebranch.pagemode", () => {
                e._updateAllActive(), e.activePages.includes(e.current) || e._next(), e._toggleButtons()
            })
        },
        _setLangChangeHandlers() {
            this.form.view.html.addEventListener(He.ChangeLanguage().type, () => {
                this._updateToc()
            })
        },
        _getCurrent() {
            return this.current
        },
        _updateAllActive(e) {
            e = e || [...this.form.view.html.querySelectorAll('[role="page"]')], this.activePages = e.filter(t => !t.closest(".disabled") && (t.matches(".question") || t.querySelector(".question:not(.disabled)") || t.matches(".or-repeat-info") && !An(t, ".or-repeat"))), this._updateToc()
        },
        _getPrev(e) {
            return this.activePages[e - 1]
        },
        _getNext(e) {
            return this.activePages[e + 1]
        },
        _getCurrentIndex() {
            return this.activePages.findIndex(e => e === this.current)
        },
        _next() {
            let e = this,
                t, i;
            return t = this._getCurrentIndex(), i = ji.validatePage === !1 || !this.current ? Promise.resolve(!0) : this.form.validateContent((0, bs.default)(this.current)), i.then(n => {
                let r, a;
                return n ? (r = e._getNext(t), r && (a = t + 1, e._flipTo(r, a)), !0) : !1
            })
        },
        _prev() {
            let e = this._getCurrentIndex(),
                t = this._getPrev(e);
            t && this._flipTo(t, e - 1)
        },
        _setToCurrent(e) {
            e.classList.add("current", "hidden"), e.classList.remove("hidden"), ho(e, ".or-group, .or-group-data, .or-repeat", ".or").forEach(t => t.classList.add("contains-current")), this.current = e, this.form.goToTarget(e, {
                isPageFlip: !0
            })
        },
        _flipTo(e, t) {
            this.current && this.current.closest("html") ? this.current !== e && (this.current.classList.remove("current", "fade-out"), ho(this.current, ".or-group, .or-group-data, .or-repeat", ".or").forEach(i => i.classList.remove("contains-current")), this._pauseMultimedia(this.current), this._setToCurrent(e), this._focusOnFirstQuestion(e), this._toggleButtons(t), e.dispatchEvent(He.PageFlip()), this.form.goToTarget(e, {
                isPageFlip: !0
            })) : e && (this._setToCurrent(e), this._focusOnFirstQuestion(e), this._toggleButtons(t), e.dispatchEvent(He.PageFlip()), this.form.goToTarget(e, {
                isPageFlip: !0
            }), e.setAttribute("tabindex", 1))
        },
        _flipToFirst() {
            this._flipTo(this.activePages[0])
        },
        _flipToLast() {
            this._flipTo(this.activePages[this.activePages.length - 1])
        },
        _focusOnFirstQuestion(e) {
            (0, bs.default)(e).find(".question:not(.disabled)").addBack(".question:not(.disabled)").filter(function() {
                return (0, bs.default)(this).parentsUntil(".or", ".disabled").length === 0
            }).eq(0).find("input, select, textarea").eq(0).trigger("fakefocus"), e.focus(), e.scrollIntoView()
        },
        _toggleButtons(e = this._getCurrentIndex()) {
            let t = this._getNext(e),
                i = this._getPrev(e);
            this.$btnNext.add(this.$btnLast).toggleClass("disabled", !t), this.$btnPrev.add(this.$btnFirst).toggleClass("disabled", !i), this.$formFooter.toggleClass("end", !t)
        },
        _pauseMultimedia(e) {
            (0, bs.default)(e).find("audio, video").each((t, i) => i.pause())
        },
        _updateToc() {
            this.$toc.length && (this.$toc.empty()[0].append(this.form.toc.getHtmlFragment()), this.$toc.closest(".pages-toc").removeClass("hide"))
        }
    };
var V1 = {
    status: 0,
    lastChanged: null,
    all: null,
    updateTotal() {
        this.all = [...this.form.view.html.querySelectorAll(".question:not(.disabled):not(.or-appearance-comment):not(.or-appearance-dn):not(.readonly)")].filter(e => !e.closest(".disabled"))
    },
    isUpdateScheduled: !1,
    scheduledUpdateElement: null,
    update(e, t = !1) {
        if (this.scheduledUpdateElement = e, !t) {
            this.isUpdateScheduled || (this.isUpdateScheduled = !0, queueMicrotask(() => {
                this.update(this.scheduledUpdateElement, !0), this.isUpdateScheduled = !1, this.scheduledUpdateElement = null
            }));
            return
        }
        let i;
        (!this.all || !e) && this.updateTotal(), this.lastChanged = e || this.lastChanged, this.lastChanged && (i = Math.round((this.all.indexOf(this.lastChanged.closest(".question")) + 1) * 100 / this.all.length)), i > 0 && i !== this.status && (this.status = i, this.form.view.html.dispatchEvent(He.ProgressUpdate(i)))
    },
    get() {
        return this.status
    }
};
var $x = ei(an());
var $u = class {};
var Ep = ei(an());
var z1 = document.createRange(),
    bp = class {
        static globalInit(t, i) {
            this.form = t, this.rootElement = i
        }
        static globalReset() {
            let {
                form: t,
                rootElement: i
            } = this;
            return delete this.form, delete this.rootElement, {
                form: t,
                rootElement: i
            }
        }
        constructor(t, i) {
            return this.element = t, this.options = i || {}, this.question = t.closest(".question"), this._props = this._getProps(), this._init() || this
        }
        _init() {
            this.value = this.originalInputValue
        }
        _getProps() {
            let t = this;
            return {
                get readonly() {
                    return t.element.nodeName.toLowerCase() === "select" ? t.element.hasAttribute("readonly") : !!t.element.readOnly
                },
                appearances: [...this.element.closest(".question, form.or").classList].filter(i => i.indexOf("or-appearance-") === 0).map(i => i.substring(14)),
                multiple: !!this.element.multiple,
                disabled: !!this.element.disabled,
                type: this.element.getAttribute("data-type-xml")
            }
        }
        disable() {}
        enable() {}
        update() {}
        get props() {
            return this._props
        }
        get resetButtonHtml() {
            return z1.createContextualFragment(`<button
                type="button"
                class="btn-icon-only btn-reset"
                aria-label="reset">
                <i class="icon icon-refresh"> </i>
            </button>`)
        }
        get downloadButtonHtml() {
            return z1.createContextualFragment(`<a
                class="btn-icon-only btn-download"
                aria-label="download"
                download
                href=""><i class="icon icon-download"> </i></a>`)
        }
        get value() {}
        set value(t) {}
        get originalInputValue() {
            return Hu.getVal(this.element)
        }
        set originalInputValue(t) {
            Hu.setVal(this.element, t, null), this.element.dispatchEvent(He.Change())
        }
        static get name() {
            return this.constructor.name
        }
        static get list() {
            return !1
        }
        static condition() {
            return !0
        }
    },
    Rt = bp;
var Jn = ei(an()),
    XN = ".dropdown-backdrop",
    Af = "[data-toggle=dropdown]",
    ql = function(e) {
        (0, Jn.default)(e).on("click.bs.dropdown", this.toggle)
    };
ql.prototype.toggle = function(e) {
    let t = (0, Jn.default)(this);
    if (t.is(".disabled, :disabled")) return;
    let i = wp(t),
        n = i.hasClass("open");
    if (xp(), !n) {
        "ontouchstart" in document.documentElement && !i.closest(".navbar-nav").length && (0, Jn.default)('<div class="dropdown-backdrop"/>').insertAfter((0, Jn.default)(this)).on("click", xp);
        let r = {
            relatedTarget: this
        };
        if (i.trigger(e = Jn.default.Event("show.bs.dropdown", r)), e.isDefaultPrevented()) return;
        i.toggleClass("open").trigger("shown.bs.dropdown", r), t.focus()
    }
    return !1
};
ql.prototype.keydown = function(e) {
    if (!/^(38|40|27)$/.test(e.keyCode)) return;
    let t = (0, Jn.default)(this);
    if (e.preventDefault(), e.stopPropagation(), t.is(".disabled, :disabled")) return;
    let i = wp(t),
        n = i.hasClass("open");
    if (!n || n && e.keyCode === 27) return e.which === 27 && i.find(Af).focus(), t.click();
    let r = " li:not(.divider):visible a",
        a = i.find(`[role=menu]${r}, [role=listbox]${r}`);
    if (!a.length) return;
    let s = a.index(a.filter(":focus"));
    e.keyCode === 38 && s > 0 && s--, e.keyCode === 40 && s < a.length - 1 && s++, ~s || (s = 0), a.eq(s).focus()
};

function xp(e) {
    (0, Jn.default)(XN).remove(), (0, Jn.default)(Af).each(function() {
        let t = wp((0, Jn.default)(this)),
            i = {
                relatedTarget: this
            };
        t.hasClass("open") && (t.trigger(e = Jn.default.Event("hide.bs.dropdown", i)), !e.isDefaultPrevented() && t.removeClass("open").trigger("hidden.bs.dropdown", i))
    })
}

function wp(e) {
    let t = e.attr("data-target");
    t || (t = e.attr("href"), t = t && /#[A-Za-z]/.test(t) && t.replace(/.*(?=#[^\s]*$)/, ""));
    let i = t && (0, Jn.default)(t);
    return i && i.length ? i : e.parent()
}
var YN = Jn.default.fn.dropdown;
Jn.default.fn.dropdown = function(e) {
    return this.each(function() {
        let t = (0, Jn.default)(this),
            i = t.data("bs.dropdown");
        i || t.data("bs.dropdown", new ql(this)), typeof e == "string" && i[e].call(t)
    })
};
Jn.default.fn.dropdown.Constructor = ql;
Jn.default.fn.dropdown.noConflict = function() {
    return Jn.default.fn.dropdown = YN, this
};
(0, Jn.default)(document).on("click.bs.dropdown.data-api", xp).on("click.bs.dropdown.data-api", ".dropdown form", e => {
    e.stopPropagation()
}).on("click.bs.dropdown.data-api", Af, ql.prototype.toggle).on("keydown.bs.dropdown.data-api", `${Af}, [role=menu], [role=listbox]`, ql.prototype.keydown);
var QN = document.createRange(),
    Cp = class extends Rt {
        static get selector() {
            return ".question select"
        }
        static get list() {
            return !0
        }
        static condition() {
            return !Vi.touch
        }
        _init() {
            let t = this.element;
            t.style.display = "none";
            let i = this._getTemplate();
            t.after(i), this.picker = this.question.querySelector(".bootstrap-select"), this.props.readonly && this.disable(), this._clickListener(), this._focusListener()
        }
        _getTemplate() {
            let t = QN.createContextualFragment(`
        <div class="btn-group bootstrap-select widget clearfix">
            <button type="button" class="btn btn-default dropdown-toggle clearfix" data-toggle="dropdown">
                <span class="selected"></span><span class="caret"></span>
            </button>
            <ul class="dropdown-menu" role="menu">${this._getLisHtml()}</ul>
        </div>`);
            return this._showSelected(t.querySelector(".selected")), t
        }
        _getLisHtml() {
            let t = this.props.multiple ? 'type="checkbox"' : `type="radio" name="${Math.random()*1e5}"`;
            return [...this.element.querySelectorAll("option")].map(i => {
                let n = i.textContent,
                    r = i.matches(":checked"),
                    {
                        value: a
                    } = i;
                return a ? `
                        <li ${r?'class="active"':""}>
                            <a class="option-wrapper" tabindex="-1" href="#">
                                <label>
                                    <input class="ignore" ${t}${r?' checked="checked"':""} value="${Yf(a)}" />
                                    <span class="option-label">${Yf(n)}</span>
                                </label>
                            </a>
                        </li>` : ""
            }).join("")
        }
        _showSelected(t) {
            let i = [...this.element.querySelectorAll("option:checked")].filter(n => n.getAttribute("value").length).map(n => n.textContent);
            if (i.length === 0) t.textContent = Ae("selectpicker.noneselected"), t.dataset.i18n = "selectpicker.noneselected", delete t.dataset.i18nNumber;
            else if (i.length === 1) t.textContent = i[0], delete t.dataset.i18n, delete t.dataset.i18nNumber;
            else {
                let n = i.length;
                t.textContent = Ae("selectpicker.numberselected", {
                    number: n
                }), t.dataset.i18n = "selectpicker.numberselected", t.dataset.i18nNumber = n
            }
        }
        _clickListener() {
            let t = this;
            (0, Ep.default)(this.picker).on("click", "li:not(.disabled)", function(i) {
                let n = this,
                    r = n.querySelector("input"),
                    a = t.element,
                    s = a.querySelector(`option[value="${CSS.escape(r.value)}"]`),
                    l = s.matches(":checked");
                i.target.nodeName.toLowerCase() !== "input" && i.preventDefault(), t.props.multiple ? i.stopPropagation() : (t.picker.querySelectorAll("li").forEach(u => u.classList.remove("active")), fo(s, "option").forEach(u => {
                    u.selected = !1
                }), t.picker.querySelectorAll("input").forEach(u => u.checked = !1)), setTimeout(() => {
                    l ? (n.classList.remove("active"), r.checked = !1, s.selected = !1) : (n.classList.add("active"), s.selected = !0, r.checked = !0);
                    let u = t.picker.querySelector(".selected");
                    t._showSelected(u), a.dispatchEvent(new He.Change)
                }, 10)
            }).on("keydown", "li:not(.disabled)", i => {
                let n = i.keyCode.toString(10);
                if (/(13|32)/.test(n)) {
                    /(32)/.test(n) || i.preventDefault();
                    let r = (0, Ep.default)(":focus");
                    r.click(), r.focus(), i.preventDefault()
                }
            }).on("click", "li.disabled", i => (i.stopPropagation(), !1)).on("click", "a", i => {
                i.preventDefault()
            })
        }
        _focusListener() {
            let t = this;
            this.element.addEventListener(He.ApplyFocus().type, () => {
                t.picker.querySelector(".dropdown-toggle").focus()
            })
        }
        disable() {
            this.picker.querySelectorAll("li").forEach(t => {
                t.classList.add("disabled");
                let i = t.querySelector("input");
                i.disabled = !0, i.readOnly = !0
            })
        }
        enable() {
            this.picker.querySelectorAll("li").forEach(t => {
                t.classList.remove("disabled");
                let i = t.querySelector("input");
                i.disabled = !1, i.readOnly = !1
            })
        }
        update() {
            this.picker.remove(), this._init()
        }
    },
    H1 = Cp;
var Sp = class extends Rt {
        static get selector() {
            return ".question select[multiple]"
        }
        static condition() {
            return Vi.touch
        }
        _init() {
            let t = document.createRange().createContextualFragment('<span class="widget mobileselect"></span>');
            this.element.after(t), this.widget = this.element.parentElement.querySelector(".widget"), this.element.addEventListener("change", () => {
                this._showSelectedValues()
            }), this._showSelectedValues()
        }
        _showSelectedValues() {
            this.widget.textContent = this.originalInputValue.join(", ")
        }
        update() {
            this._showSelectedValues()
        }
    },
    $1 = Sp;
var jn = ei(an()),
    Df = "relevantDropdown";
jn.default.expr[":"].RD_contains = jn.default.expr.createPseudo(e => t => (0, jn.default)(t).text().toUpperCase().indexOf(e.toUpperCase()) >= 0);

function ju(e, t, i) {
    this.namespace = Df, this.element = e, this.options = jn.default.extend({
        fadeOutSpeed: "normal",
        change: null
    }, t), i && (i.stopPropagation(), i.preventDefault()), this._init()
}
ju.prototype._init = function() {
    let e = (0, jn.default)(this.element);
    this.listId = e.attr("list"), this.$fakeDatalist = (0, jn.default)("<ul />", {
        class: "datalist widget",
        id: this.listId
    }).appendTo(e.parent()), this._updateFakeDatalist(), this._setEventListeners()
};
ju.prototype._updateFakeDatalist = function() {
    let e = (0, jn.default)(`#${this.listId}`),
        t = document.createDocumentFragment();
    this.$fakeDatalist.empty(), e.find("option").each(function() {
        let i = (0, jn.default)("<li />", {
            text: (0, jn.default)(this).val()
        })[0];
        t.appendChild(i)
    }), this.$fakeDatalist.append(t), this.$fakeDatalistItems = this.$fakeDatalist.find("li")
};
ju.prototype._setEventListeners = function() {
    let e = this,
        t = (0, jn.default)(this.element),
        i, n = 0;
    t.on("focus", () => {
        e.$fakeDatalist.scrollTop(0), n = 0
    }).on("blur", () => {
        setTimeout(() => {
            e.$fakeDatalist.fadeOut(e.options.fadeOutSpeed), e.$fakeDatalistItems.removeClass("active")
        }, 500)
    }).on("keyup", function(r) {
        i = t.position(), e.$fakeDatalist.show().css({
            top: i.top + (0, jn.default)(this).outerHeight(),
            left: i.left,
            width: t.outerWidth()
        }), e.$fakeDatalistItems.hide(), e.$fakeDatalist.find(`li:RD_contains("${t.val()}")`).show()
    }), this.$fakeDatalist.on("mouseenter", "li", function() {
        (0, jn.default)(this).addClass("active").siblings().removeClass("active")
    }).on("mouseleave", "li", function() {
        (0, jn.default)(this).removeClass("active")
    }), (0, jn.default)(window).resize(function() {
        i = t.position(), e.$fakeDatalist.css({
            top: i.top + (0, jn.default)(this).outerHeight(),
            left: i.left,
            width: t.outerWidth()
        })
    }), t.on("keydown", r => {
        let a = e.$fakeDatalist.find("li.active"),
            s = e.$fakeDatalist.outerHeight(),
            l = e.$fakeDatalistItems.outerHeight();
        if (r.keyCode == 38 && a.length && (prevAll = a.prevAll("li:visible"), prevAll.length > 0 && (a.removeClass("active"), prevAll.eq(0).addClass("active")), prevAll.length && prevAll.position().top < 0 && n > 0 && e.$fakeDatalist.scrollTop(n -= l)), r.keyCode == 40)
            if (a.length) {
                let u = a.nextAll("li:visible");
                u.length > 0 && (a.removeClass("active"), u.eq(0).addClass("active")), u.length && u.position().top + l >= s && e.$fakeDatalist.stop().animate({
                    scrollTop: n += l
                }, 200)
            } else e.$fakeDatalistItems.removeClass("active"), e.$fakeDatalist.find("li:visible:first").addClass("active");
        (r.keyCode == 13 || r.keyCode == 9) && (a.length && t.val(a.text()).trigger("input"), e.$fakeDatalist.fadeOut(e.options.fadeOutSpeed), e.$fakeDatalistItems.removeClass("active")), r.keyCode != 13 && r.keyCode != 38 && r.keyCode != 40 && (e.$fakeDatalistItems.removeClass("active"), e.$fakeDatalist.find("li:visible:first").addClass("active"), e.$fakeDatalist.scrollTop(0), n = 0)
    }), this.$fakeDatalist.on("click", "li", function() {
        (0, jn.default)("li.active").length && t.val((0, jn.default)(this).text()).trigger("input"), e.$fakeDatalist.fadeOut(e.options.fadeOutSpeed), e.$fakeDatalistItems.removeClass("active")
    })
};
ju.prototype.update = function() {
    this._updateFakeDatalist()
};
jn.default.fn[Df] = function(e, t) {
    return e = e || {}, this.each(function() {
        let i = (0, jn.default)(this),
            n = i.data(Df);
        !n && typeof e == "object" ? i.data(Df, n = new ju(this, e, t)) : n && typeof e == "string" && n[e](this)
    })
};
var Tp = class extends Rt {
        static get selector() {
            return ".question input[list]"
        }
        static get list() {
            return !0
        }
        _init() {
            let t = this.element.getAttribute("list");
            if (An(this.element, "datalist")) this.options = [...this.question.querySelectorAll(`datalist#${CSS.escape(t)} > option`)];
            else {
                let n = An(this.element.closest(".or-repeat"), ".or-repeat-info");
                this.options = n ? [...n.querySelectorAll(`datalist#${CSS.escape(t)} > option`)] : []
            }
            this.options.forEach(n => {
                let r = n.getAttribute("value");
                !n.classList.contains("itemset-template") && n.textContent && r !== void 0 && r !== null && (n.dataset.value = r, n.setAttribute("value", n.textContent), n.textContent = "")
            });
            let i = document.createRange().createContextualFragment(`<input type="text" class="ignore widget autocomplete" list="${t}" />`);
            this.element.classList.add("hide"), this.element.after(i), this.fakeInput = this.element.parentElement.querySelector("input.autocomplete"), this.props.readonly && this.fakeInput.setAttribute("readonly", "readonly"), this.props.disabled && this.fakeInput.setAttribute("disabled", "disabled"), this._setFakeInputListener(), this._setFocusListener(), this._showCurrentLabel()
        }
        _showCurrentLabel() {
            let t = this.originalInputValue,
                i = this._findLabel(t);
            this.fakeInput.value = i, t && !i && this.fakeInput.dispatchEvent(He.Input())
        }
        _setFakeInputListener() {
            this.fakeInput.addEventListener("input", t => {
                let i = t.target,
                    n = i.value,
                    r = this._findValue(n) || "";
                this.originalInputValue !== r && (this.originalInputValue = r), i.classList.toggle("notfound", n && !r)
            })
        }
        _findValue(t) {
            let i = "";
            return t ? (this.options.forEach(n => {
                if (n.value === t) return i = n.getAttribute("data-value"), !1
            }), i) : ""
        }
        _findLabel(t) {
            let i = "";
            return t ? (this.options.forEach(n => {
                if (n.dataset.value === t) return i = n.value, !1
            }), i) : ""
        }
        _setFocusListener() {
            this.element.addEventListener(He.ApplyFocus().type, () => {
                this.fakeInput.focus()
            })
        }
        disable() {
            this.fakeInput.classList.add("disabled")
        }
        enable() {
            this.fakeInput.classList.remove("disabled")
        }
        update() {
            this.element.parentElement.querySelector(".widget").remove(), this._init()
        }
    },
    j1 = Tp;
var Wn = ei(an());
var _r = ei(K1());
(function(e, t, i) {
    function n(r, a) {
        for (;
            (r = r.parentElement) && !r.classList.contains(a););
        return r
    }
    L.drawVersion = "1.0.4+838a63b", L.Draw = {}, L.drawLocal = {
            draw: {
                toolbar: {
                    actions: {
                        title: "Cancel drawing",
                        text: "Cancel"
                    },
                    finish: {
                        title: "Finish drawing",
                        text: "Finish"
                    },
                    undo: {
                        title: "Delete last point drawn",
                        text: "Delete last point"
                    },
                    buttons: {
                        polyline: "Draw a polyline",
                        polygon: "Draw a polygon",
                        rectangle: "Draw a rectangle",
                        circle: "Draw a circle",
                        marker: "Draw a marker",
                        circlemarker: "Draw a circlemarker"
                    }
                },
                handlers: {
                    circle: {
                        tooltip: {
                            start: "Click and drag to draw circle."
                        },
                        radius: "Radius"
                    },
                    circlemarker: {
                        tooltip: {
                            start: "Click map to place circle marker."
                        }
                    },
                    marker: {
                        tooltip: {
                            start: "Click map to place marker."
                        }
                    },
                    polygon: {
                        tooltip: {
                            start: "Click to start drawing shape.",
                            cont: "Click to continue drawing shape.",
                            end: "Click first point to close this shape."
                        }
                    },
                    polyline: {
                        error: "<strong>Error:</strong> shape edges cannot cross!",
                        tooltip: {
                            start: "Click to start drawing line.",
                            cont: "Click to continue drawing line.",
                            end: "Click last point to finish line."
                        }
                    },
                    rectangle: {
                        tooltip: {
                            start: "Click and drag to draw rectangle."
                        }
                    },
                    simpleshape: {
                        tooltip: {
                            end: "Release mouse to finish drawing."
                        }
                    }
                }
            },
            edit: {
                toolbar: {
                    actions: {
                        save: {
                            title: "Save changes",
                            text: "Save"
                        },
                        cancel: {
                            title: "Cancel editing, discards all changes",
                            text: "Cancel"
                        },
                        clearAll: {
                            title: "Clear all layers",
                            text: "Clear All"
                        }
                    },
                    buttons: {
                        edit: "Edit layers",
                        editDisabled: "No layers to edit",
                        remove: "Delete layers",
                        removeDisabled: "No layers to delete"
                    }
                },
                handlers: {
                    edit: {
                        tooltip: {
                            text: "Drag handles or markers to edit features.",
                            subtext: "Click cancel to undo changes."
                        }
                    },
                    remove: {
                        tooltip: {
                            text: "Click on a feature to remove."
                        }
                    }
                }
            }
        }, L.Draw.Event = {}, L.Draw.Event.CREATED = "draw:created", L.Draw.Event.EDITED = "draw:edited", L.Draw.Event.DELETED = "draw:deleted", L.Draw.Event.DRAWSTART = "draw:drawstart", L.Draw.Event.DRAWSTOP = "draw:drawstop", L.Draw.Event.DRAWVERTEX = "draw:drawvertex", L.Draw.Event.EDITSTART = "draw:editstart", L.Draw.Event.EDITMOVE = "draw:editmove", L.Draw.Event.EDITRESIZE = "draw:editresize", L.Draw.Event.EDITVERTEX = "draw:editvertex", L.Draw.Event.EDITSTOP = "draw:editstop", L.Draw.Event.DELETESTART = "draw:deletestart", L.Draw.Event.DELETESTOP = "draw:deletestop", L.Draw.Event.TOOLBAROPENED = "draw:toolbaropened", L.Draw.Event.TOOLBARCLOSED = "draw:toolbarclosed", L.Draw.Event.MARKERCONTEXT = "draw:markercontext", L.Draw = L.Draw || {}, L.Draw.Feature = L.Handler.extend({
            initialize: function(r, a) {
                this._map = r, this._container = r._container, this._overlayPane = r._panes.overlayPane, this._popupPane = r._panes.popupPane, a && a.shapeOptions && (a.shapeOptions = L.Util.extend({}, this.options.shapeOptions, a.shapeOptions)), L.setOptions(this, a);
                var s = L.version.split(".");
                parseInt(s[0], 10) === 1 && parseInt(s[1], 10) >= 2 ? L.Draw.Feature.include(L.Evented.prototype) : L.Draw.Feature.include(L.Mixin.Events)
            },
            enable: function() {
                this._enabled || (L.Handler.prototype.enable.call(this), this.fire("enabled", {
                    handler: this.type
                }), this._map.fire(L.Draw.Event.DRAWSTART, {
                    layerType: this.type
                }))
            },
            disable: function() {
                this._enabled && (L.Handler.prototype.disable.call(this), this._map.fire(L.Draw.Event.DRAWSTOP, {
                    layerType: this.type
                }), this.fire("disabled", {
                    handler: this.type
                }))
            },
            addHooks: function() {
                var r = this._map;
                r && (L.DomUtil.disableTextSelection(), r.getContainer().focus(), this._tooltip = new L.Draw.Tooltip(this._map), L.DomEvent.on(this._container, "keyup", this._cancelDrawing, this))
            },
            removeHooks: function() {
                this._map && (L.DomUtil.enableTextSelection(), this._tooltip.dispose(), this._tooltip = null, L.DomEvent.off(this._container, "keyup", this._cancelDrawing, this))
            },
            setOptions: function(r) {
                L.setOptions(this, r)
            },
            _fireCreatedEvent: function(r) {
                this._map.fire(L.Draw.Event.CREATED, {
                    layer: r,
                    layerType: this.type
                })
            },
            _cancelDrawing: function(r) {
                r.keyCode === 27 && (this._map.fire("draw:canceled", {
                    layerType: this.type
                }), this.disable())
            }
        }), L.Draw.Polyline = L.Draw.Feature.extend({
            statics: {
                TYPE: "polyline"
            },
            Poly: L.Polyline,
            options: {
                allowIntersection: !0,
                repeatMode: !1,
                drawError: {
                    color: "#b00b00",
                    timeout: 2500
                },
                icon: new L.DivIcon({
                    iconSize: new L.Point(8, 8),
                    className: "leaflet-div-icon leaflet-editing-icon"
                }),
                touchIcon: new L.DivIcon({
                    iconSize: new L.Point(20, 20),
                    className: "leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"
                }),
                guidelineDistance: 20,
                maxGuideLineLength: 4e3,
                shapeOptions: {
                    stroke: !0,
                    color: "#3388ff",
                    weight: 4,
                    opacity: .5,
                    fill: !1,
                    clickable: !0
                },
                metric: !0,
                feet: !0,
                nautic: !1,
                showLength: !0,
                zIndexOffset: 2e3,
                factor: 1,
                maxPoints: 0
            },
            initialize: function(r, a) {
                L.Browser.touch && (this.options.icon = this.options.touchIcon), this.options.drawError.message = L.drawLocal.draw.handlers.polyline.error, a && a.drawError && (a.drawError = L.Util.extend({}, this.options.drawError, a.drawError)), this.type = L.Draw.Polyline.TYPE, L.Draw.Feature.prototype.initialize.call(this, r, a)
            },
            addHooks: function() {
                L.Draw.Feature.prototype.addHooks.call(this), this._map && (this._markers = [], this._markerGroup = new L.LayerGroup, this._map.addLayer(this._markerGroup), this._poly = new L.Polyline([], this.options.shapeOptions), this._tooltip.updateContent(this._getTooltipText()), this._mouseMarker || (this._mouseMarker = L.marker(this._map.getCenter(), {
                    icon: L.divIcon({
                        className: "leaflet-mouse-marker",
                        iconAnchor: [20, 20],
                        iconSize: [40, 40]
                    }),
                    opacity: 0,
                    zIndexOffset: this.options.zIndexOffset
                })), this._mouseMarker.on("mouseout", this._onMouseOut, this).on("mousemove", this._onMouseMove, this).on("mousedown", this._onMouseDown, this).on("mouseup", this._onMouseUp, this).addTo(this._map), this._map.on("mouseup", this._onMouseUp, this).on("mousemove", this._onMouseMove, this).on("zoomlevelschange", this._onZoomEnd, this).on("touchstart", this._onTouch, this).on("zoomend", this._onZoomEnd, this))
            },
            removeHooks: function() {
                L.Draw.Feature.prototype.removeHooks.call(this), this._clearHideErrorTimeout(), this._cleanUpShape(), this._map.removeLayer(this._markerGroup), delete this._markerGroup, delete this._markers, this._map.removeLayer(this._poly), delete this._poly, this._mouseMarker.off("mousedown", this._onMouseDown, this).off("mouseout", this._onMouseOut, this).off("mouseup", this._onMouseUp, this).off("mousemove", this._onMouseMove, this), this._map.removeLayer(this._mouseMarker), delete this._mouseMarker, this._clearGuides(), this._map.off("mouseup", this._onMouseUp, this).off("mousemove", this._onMouseMove, this).off("zoomlevelschange", this._onZoomEnd, this).off("zoomend", this._onZoomEnd, this).off("touchstart", this._onTouch, this).off("click", this._onTouch, this)
            },
            deleteLastVertex: function() {
                if (!(this._markers.length <= 1)) {
                    var r = this._markers.pop(),
                        a = this._poly,
                        s = a.getLatLngs(),
                        l = s.splice(-1, 1)[0];
                    this._poly.setLatLngs(s), this._markerGroup.removeLayer(r), a.getLatLngs().length < 2 && this._map.removeLayer(a), this._vertexChanged(l, !1)
                }
            },
            addVertex: function(r) {
                if (this._markers.length >= 2 && !this.options.allowIntersection && this._poly.newLatLngIntersects(r)) return void this._showErrorTooltip();
                this._errorShown && this._hideErrorTooltip(), this._markers.push(this._createMarker(r)), this._poly.addLatLng(r), this._poly.getLatLngs().length === 2 && this._map.addLayer(this._poly), this._vertexChanged(r, !0)
            },
            completeShape: function() {
                this._markers.length <= 1 || !this._shapeIsValid() || (this._fireCreatedEvent(), this.disable(), this.options.repeatMode && this.enable())
            },
            _finishShape: function() {
                var r = this._poly._defaultShape ? this._poly._defaultShape() : this._poly.getLatLngs(),
                    a = this._poly.newLatLngIntersects(r[r.length - 1]);
                if (!this.options.allowIntersection && a || !this._shapeIsValid()) return void this._showErrorTooltip();
                this._fireCreatedEvent(), this.disable(), this.options.repeatMode && this.enable()
            },
            _shapeIsValid: function() {
                return !0
            },
            _onZoomEnd: function() {
                this._markers !== null && this._updateGuide()
            },
            _onMouseMove: function(r) {
                var a = this._map.mouseEventToLayerPoint(r.originalEvent),
                    s = this._map.layerPointToLatLng(a);
                this._currentLatLng = s, this._updateTooltip(s), this._updateGuide(a), this._mouseMarker.setLatLng(s), L.DomEvent.preventDefault(r.originalEvent)
            },
            _vertexChanged: function(r, a) {
                this._map.fire(L.Draw.Event.DRAWVERTEX, {
                    layers: this._markerGroup
                }), this._updateFinishHandler(), this._updateRunningMeasure(r, a), this._clearGuides(), this._updateTooltip()
            },
            _onMouseDown: function(r) {
                if (!this._clickHandled && !this._touchHandled && !this._disableMarkers) {
                    this._onMouseMove(r), this._clickHandled = !0, this._disableNewMarkers();
                    var a = r.originalEvent,
                        s = a.clientX,
                        l = a.clientY;
                    this._startPoint.call(this, s, l)
                }
            },
            _startPoint: function(r, a) {
                this._mouseDownOrigin = L.point(r, a)
            },
            _onMouseUp: function(r) {
                var a = r.originalEvent,
                    s = a.clientX,
                    l = a.clientY;
                this._endPoint.call(this, s, l, r), this._clickHandled = null
            },
            _endPoint: function(r, a, s) {
                if (this._mouseDownOrigin) {
                    var l = L.point(r, a).distanceTo(this._mouseDownOrigin),
                        u = this._calculateFinishDistance(s.latlng);
                    this.options.maxPoints > 1 && this.options.maxPoints == this._markers.length + 1 ? (this.addVertex(s.latlng), this._finishShape()) : u < 10 && L.Browser.touch ? this._finishShape() : Math.abs(l) < 9 * (e.devicePixelRatio || 1) && this.addVertex(s.latlng), this._enableNewMarkers()
                }
                this._mouseDownOrigin = null
            },
            _onTouch: function(r) {
                var a, s, l = r.originalEvent;
                !l.touches || !l.touches[0] || this._clickHandled || this._touchHandled || this._disableMarkers || (a = l.touches[0].clientX, s = l.touches[0].clientY, this._disableNewMarkers(), this._touchHandled = !0, this._startPoint.call(this, a, s), this._endPoint.call(this, a, s, r), this._touchHandled = null), this._clickHandled = null
            },
            _onMouseOut: function() {
                this._tooltip && this._tooltip._onMouseOut.call(this._tooltip)
            },
            _calculateFinishDistance: function(r) {
                var a;
                if (this._markers.length > 0) {
                    var s;
                    if (this.type === L.Draw.Polyline.TYPE) s = this._markers[this._markers.length - 1];
                    else {
                        if (this.type !== L.Draw.Polygon.TYPE) return 1 / 0;
                        s = this._markers[0]
                    }
                    var l = this._map.latLngToContainerPoint(s.getLatLng()),
                        u = new L.Marker(r, {
                            icon: this.options.icon,
                            zIndexOffset: 2 * this.options.zIndexOffset
                        }),
                        f = this._map.latLngToContainerPoint(u.getLatLng());
                    a = l.distanceTo(f)
                } else a = 1 / 0;
                return a
            },
            _updateFinishHandler: function() {
                var r = this._markers.length;
                r > 1 && this._markers[r - 1].on("click", this._finishShape, this), r > 2 && this._markers[r - 2].off("click", this._finishShape, this)
            },
            _createMarker: function(r) {
                var a = new L.Marker(r, {
                    icon: this.options.icon,
                    zIndexOffset: 2 * this.options.zIndexOffset
                });
                return this._markerGroup.addLayer(a), a
            },
            _updateGuide: function(r) {
                var a = this._markers ? this._markers.length : 0;
                a > 0 && (r = r || this._map.latLngToLayerPoint(this._currentLatLng), this._clearGuides(), this._drawGuide(this._map.latLngToLayerPoint(this._markers[a - 1].getLatLng()), r))
            },
            _updateTooltip: function(r) {
                var a = this._getTooltipText();
                r && this._tooltip.updatePosition(r), this._errorShown || this._tooltip.updateContent(a)
            },
            _drawGuide: function(r, a) {
                var s, l, u, f = Math.floor(Math.sqrt(Math.pow(a.x - r.x, 2) + Math.pow(a.y - r.y, 2))),
                    d = this.options.guidelineDistance,
                    m = this.options.maxGuideLineLength,
                    T = f > m ? f - m : d;
                for (this._guidesContainer || (this._guidesContainer = L.DomUtil.create("div", "leaflet-draw-guides", this._overlayPane)); T < f; T += this.options.guidelineDistance) s = T / f, l = {
                    x: Math.floor(r.x * (1 - s) + s * a.x),
                    y: Math.floor(r.y * (1 - s) + s * a.y)
                }, u = L.DomUtil.create("div", "leaflet-draw-guide-dash", this._guidesContainer), u.style.backgroundColor = this._errorShown ? this.options.drawError.color : this.options.shapeOptions.color, L.DomUtil.setPosition(u, l)
            },
            _updateGuideColor: function(r) {
                if (this._guidesContainer)
                    for (var a = 0, s = this._guidesContainer.childNodes.length; a < s; a++) this._guidesContainer.childNodes[a].style.backgroundColor = r
            },
            _clearGuides: function() {
                if (this._guidesContainer)
                    for (; this._guidesContainer.firstChild;) this._guidesContainer.removeChild(this._guidesContainer.firstChild)
            },
            _getTooltipText: function() {
                var r, a, s = this.options.showLength;
                return this._markers.length === 0 ? r = {
                    text: L.drawLocal.draw.handlers.polyline.tooltip.start
                } : (a = s ? this._getMeasurementString() : "", r = this._markers.length === 1 ? {
                    text: L.drawLocal.draw.handlers.polyline.tooltip.cont,
                    subtext: a
                } : {
                    text: L.drawLocal.draw.handlers.polyline.tooltip.end,
                    subtext: a
                }), r
            },
            _updateRunningMeasure: function(r, a) {
                var s, l, u = this._markers.length;
                this._markers.length === 1 ? this._measurementRunningTotal = 0 : (s = u - (a ? 2 : 1), l = L.GeometryUtil.isVersion07x() ? r.distanceTo(this._markers[s].getLatLng()) * (this.options.factor || 1) : this._map.distance(r, this._markers[s].getLatLng()) * (this.options.factor || 1), this._measurementRunningTotal += l * (a ? 1 : -1))
            },
            _getMeasurementString: function() {
                var r, a = this._currentLatLng,
                    s = this._markers[this._markers.length - 1].getLatLng();
                return r = L.GeometryUtil.isVersion07x() ? s && a && a.distanceTo ? this._measurementRunningTotal + a.distanceTo(s) * (this.options.factor || 1) : this._measurementRunningTotal || 0 : s && a ? this._measurementRunningTotal + this._map.distance(a, s) * (this.options.factor || 1) : this._measurementRunningTotal || 0, L.GeometryUtil.readableDistance(r, this.options.metric, this.options.feet, this.options.nautic, this.options.precision)
            },
            _showErrorTooltip: function() {
                this._errorShown = !0, this._tooltip.showAsError().updateContent({
                    text: this.options.drawError.message
                }), this._updateGuideColor(this.options.drawError.color), this._poly.setStyle({
                    color: this.options.drawError.color
                }), this._clearHideErrorTimeout(), this._hideErrorTimeout = setTimeout(L.Util.bind(this._hideErrorTooltip, this), this.options.drawError.timeout)
            },
            _hideErrorTooltip: function() {
                this._errorShown = !1, this._clearHideErrorTimeout(), this._tooltip.removeError().updateContent(this._getTooltipText()), this._updateGuideColor(this.options.shapeOptions.color), this._poly.setStyle({
                    color: this.options.shapeOptions.color
                })
            },
            _clearHideErrorTimeout: function() {
                this._hideErrorTimeout && (clearTimeout(this._hideErrorTimeout), this._hideErrorTimeout = null)
            },
            _disableNewMarkers: function() {
                this._disableMarkers = !0
            },
            _enableNewMarkers: function() {
                setTimeout(function() {
                    this._disableMarkers = !1
                }.bind(this), 50)
            },
            _cleanUpShape: function() {
                this._markers.length > 1 && this._markers[this._markers.length - 1].off("click", this._finishShape, this)
            },
            _fireCreatedEvent: function() {
                var r = new this.Poly(this._poly.getLatLngs(), this.options.shapeOptions);
                L.Draw.Feature.prototype._fireCreatedEvent.call(this, r)
            }
        }), L.Draw.Polygon = L.Draw.Polyline.extend({
            statics: {
                TYPE: "polygon"
            },
            Poly: L.Polygon,
            options: {
                showArea: !1,
                showLength: !1,
                shapeOptions: {
                    stroke: !0,
                    color: "#3388ff",
                    weight: 4,
                    opacity: .5,
                    fill: !0,
                    fillColor: null,
                    fillOpacity: .2,
                    clickable: !0
                },
                metric: !0,
                feet: !0,
                nautic: !1,
                precision: {}
            },
            initialize: function(r, a) {
                L.Draw.Polyline.prototype.initialize.call(this, r, a), this.type = L.Draw.Polygon.TYPE
            },
            _updateFinishHandler: function() {
                var r = this._markers.length;
                r === 1 && this._markers[0].on("click", this._finishShape, this), r > 2 && (this._markers[r - 1].on("dblclick", this._finishShape, this), r > 3 && this._markers[r - 2].off("dblclick", this._finishShape, this))
            },
            _getTooltipText: function() {
                var r, a;
                return this._markers.length === 0 ? r = L.drawLocal.draw.handlers.polygon.tooltip.start : this._markers.length < 3 ? (r = L.drawLocal.draw.handlers.polygon.tooltip.cont, a = this._getMeasurementString()) : (r = L.drawLocal.draw.handlers.polygon.tooltip.end, a = this._getMeasurementString()), {
                    text: r,
                    subtext: a
                }
            },
            _getMeasurementString: function() {
                var r = this._area,
                    a = "";
                return r || this.options.showLength ? (this.options.showLength && (a = L.Draw.Polyline.prototype._getMeasurementString.call(this)), r && (a += "<br>" + L.GeometryUtil.readableArea(r, this.options.metric, this.options.precision)), a) : null
            },
            _shapeIsValid: function() {
                return this._markers.length >= 3
            },
            _vertexChanged: function(r, a) {
                var s;
                !this.options.allowIntersection && this.options.showArea && (s = this._poly.getLatLngs(), this._area = L.GeometryUtil.geodesicArea(s)), L.Draw.Polyline.prototype._vertexChanged.call(this, r, a)
            },
            _cleanUpShape: function() {
                var r = this._markers.length;
                r > 0 && (this._markers[0].off("click", this._finishShape, this), r > 2 && this._markers[r - 1].off("dblclick", this._finishShape, this))
            }
        }), L.SimpleShape = {}, L.Draw.SimpleShape = L.Draw.Feature.extend({
            options: {
                repeatMode: !1
            },
            initialize: function(r, a) {
                this._endLabelText = L.drawLocal.draw.handlers.simpleshape.tooltip.end, L.Draw.Feature.prototype.initialize.call(this, r, a)
            },
            addHooks: function() {
                L.Draw.Feature.prototype.addHooks.call(this), this._map && (this._mapDraggable = this._map.dragging.enabled(), this._mapDraggable && this._map.dragging.disable(), this._container.style.cursor = "crosshair", this._tooltip.updateContent({
                    text: this._initialLabelText
                }), this._map.on("mousedown", this._onMouseDown, this).on("mousemove", this._onMouseMove, this).on("touchstart", this._onMouseDown, this).on("touchmove", this._onMouseMove, this), t.addEventListener("touchstart", L.DomEvent.preventDefault, {
                    passive: !1
                }))
            },
            removeHooks: function() {
                L.Draw.Feature.prototype.removeHooks.call(this), this._map && (this._mapDraggable && this._map.dragging.enable(), this._container.style.cursor = "", this._map.off("mousedown", this._onMouseDown, this).off("mousemove", this._onMouseMove, this).off("touchstart", this._onMouseDown, this).off("touchmove", this._onMouseMove, this), L.DomEvent.off(t, "mouseup", this._onMouseUp, this), L.DomEvent.off(t, "touchend", this._onMouseUp, this), t.removeEventListener("touchstart", L.DomEvent.preventDefault), this._shape && (this._map.removeLayer(this._shape), delete this._shape)), this._isDrawing = !1
            },
            _getTooltipText: function() {
                return {
                    text: this._endLabelText
                }
            },
            _onMouseDown: function(r) {
                this._isDrawing = !0, this._startLatLng = r.latlng, L.DomEvent.on(t, "mouseup", this._onMouseUp, this).on(t, "touchend", this._onMouseUp, this).preventDefault(r.originalEvent)
            },
            _onMouseMove: function(r) {
                var a = r.latlng;
                this._tooltip.updatePosition(a), this._isDrawing && (this._tooltip.updateContent(this._getTooltipText()), this._drawShape(a))
            },
            _onMouseUp: function() {
                this._shape && this._fireCreatedEvent(), this.disable(), this.options.repeatMode && this.enable()
            }
        }), L.Draw.Rectangle = L.Draw.SimpleShape.extend({
            statics: {
                TYPE: "rectangle"
            },
            options: {
                shapeOptions: {
                    stroke: !0,
                    color: "#3388ff",
                    weight: 4,
                    opacity: .5,
                    fill: !0,
                    fillColor: null,
                    fillOpacity: .2,
                    clickable: !0
                },
                showArea: !0,
                metric: !0
            },
            initialize: function(r, a) {
                this.type = L.Draw.Rectangle.TYPE, this._initialLabelText = L.drawLocal.draw.handlers.rectangle.tooltip.start, L.Draw.SimpleShape.prototype.initialize.call(this, r, a)
            },
            disable: function() {
                this._enabled && (this._isCurrentlyTwoClickDrawing = !1, L.Draw.SimpleShape.prototype.disable.call(this))
            },
            _onMouseUp: function(r) {
                if (!this._shape && !this._isCurrentlyTwoClickDrawing) return void(this._isCurrentlyTwoClickDrawing = !0);
                this._isCurrentlyTwoClickDrawing && !n(r.target, "leaflet-pane") || L.Draw.SimpleShape.prototype._onMouseUp.call(this)
            },
            _drawShape: function(r) {
                this._shape ? this._shape.setBounds(new L.LatLngBounds(this._startLatLng, r)) : (this._shape = new L.Rectangle(new L.LatLngBounds(this._startLatLng, r), this.options.shapeOptions), this._map.addLayer(this._shape))
            },
            _fireCreatedEvent: function() {
                var r = new L.Rectangle(this._shape.getBounds(), this.options.shapeOptions);
                L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this, r)
            },
            _getTooltipText: function() {
                var r, a, s, l = L.Draw.SimpleShape.prototype._getTooltipText.call(this),
                    u = this._shape,
                    f = this.options.showArea;
                return u && (r = this._shape._defaultShape ? this._shape._defaultShape() : this._shape.getLatLngs(), a = L.GeometryUtil.geodesicArea(r), s = f ? L.GeometryUtil.readableArea(a, this.options.metric) : ""), {
                    text: l.text,
                    subtext: s
                }
            }
        }), L.Draw.Marker = L.Draw.Feature.extend({
            statics: {
                TYPE: "marker"
            },
            options: {
                icon: new L.Icon.Default,
                repeatMode: !1,
                zIndexOffset: 2e3
            },
            initialize: function(r, a) {
                this.type = L.Draw.Marker.TYPE, this._initialLabelText = L.drawLocal.draw.handlers.marker.tooltip.start, L.Draw.Feature.prototype.initialize.call(this, r, a)
            },
            addHooks: function() {
                L.Draw.Feature.prototype.addHooks.call(this), this._map && (this._tooltip.updateContent({
                    text: this._initialLabelText
                }), this._mouseMarker || (this._mouseMarker = L.marker(this._map.getCenter(), {
                    icon: L.divIcon({
                        className: "leaflet-mouse-marker",
                        iconAnchor: [20, 20],
                        iconSize: [40, 40]
                    }),
                    opacity: 0,
                    zIndexOffset: this.options.zIndexOffset
                })), this._mouseMarker.on("click", this._onClick, this).addTo(this._map), this._map.on("mousemove", this._onMouseMove, this), this._map.on("click", this._onTouch, this))
            },
            removeHooks: function() {
                L.Draw.Feature.prototype.removeHooks.call(this), this._map && (this._map.off("click", this._onClick, this).off("click", this._onTouch, this), this._marker && (this._marker.off("click", this._onClick, this), this._map.removeLayer(this._marker), delete this._marker), this._mouseMarker.off("click", this._onClick, this), this._map.removeLayer(this._mouseMarker), delete this._mouseMarker, this._map.off("mousemove", this._onMouseMove, this))
            },
            _onMouseMove: function(r) {
                var a = r.latlng;
                this._tooltip.updatePosition(a), this._mouseMarker.setLatLng(a), this._marker ? (a = this._mouseMarker.getLatLng(), this._marker.setLatLng(a)) : (this._marker = this._createMarker(a), this._marker.on("click", this._onClick, this), this._map.on("click", this._onClick, this).addLayer(this._marker))
            },
            _createMarker: function(r) {
                return new L.Marker(r, {
                    icon: this.options.icon,
                    zIndexOffset: this.options.zIndexOffset
                })
            },
            _onClick: function() {
                this._fireCreatedEvent(), this.disable(), this.options.repeatMode && this.enable()
            },
            _onTouch: function(r) {
                this._onMouseMove(r), this._onClick()
            },
            _fireCreatedEvent: function() {
                var r = new L.Marker.Touch(this._marker.getLatLng(), {
                    icon: this.options.icon
                });
                L.Draw.Feature.prototype._fireCreatedEvent.call(this, r)
            }
        }), L.Draw.CircleMarker = L.Draw.Marker.extend({
            statics: {
                TYPE: "circlemarker"
            },
            options: {
                stroke: !0,
                color: "#3388ff",
                weight: 4,
                opacity: .5,
                fill: !0,
                fillColor: null,
                fillOpacity: .2,
                clickable: !0,
                zIndexOffset: 2e3
            },
            initialize: function(r, a) {
                this.type = L.Draw.CircleMarker.TYPE, this._initialLabelText = L.drawLocal.draw.handlers.circlemarker.tooltip.start, L.Draw.Feature.prototype.initialize.call(this, r, a)
            },
            _fireCreatedEvent: function() {
                var r = new L.CircleMarker(this._marker.getLatLng(), this.options);
                L.Draw.Feature.prototype._fireCreatedEvent.call(this, r)
            },
            _createMarker: function(r) {
                return new L.CircleMarker(r, this.options)
            }
        }), L.Draw.Circle = L.Draw.SimpleShape.extend({
            statics: {
                TYPE: "circle"
            },
            options: {
                shapeOptions: {
                    stroke: !0,
                    color: "#3388ff",
                    weight: 4,
                    opacity: .5,
                    fill: !0,
                    fillColor: null,
                    fillOpacity: .2,
                    clickable: !0
                },
                showRadius: !0,
                metric: !0,
                feet: !0,
                nautic: !1
            },
            initialize: function(r, a) {
                this.type = L.Draw.Circle.TYPE, this._initialLabelText = L.drawLocal.draw.handlers.circle.tooltip.start, L.Draw.SimpleShape.prototype.initialize.call(this, r, a)
            },
            _drawShape: function(r) {
                if (L.GeometryUtil.isVersion07x()) var a = this._startLatLng.distanceTo(r);
                else var a = this._map.distance(this._startLatLng, r);
                this._shape ? this._shape.setRadius(a) : (this._shape = new L.Circle(this._startLatLng, a, this.options.shapeOptions), this._map.addLayer(this._shape))
            },
            _fireCreatedEvent: function() {
                var r = new L.Circle(this._startLatLng, this._shape.getRadius(), this.options.shapeOptions);
                L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this, r)
            },
            _onMouseMove: function(r) {
                var a, s = r.latlng,
                    l = this.options.showRadius,
                    u = this.options.metric;
                if (this._tooltip.updatePosition(s), this._isDrawing) {
                    this._drawShape(s), a = this._shape.getRadius().toFixed(1);
                    var f = "";
                    l && (f = L.drawLocal.draw.handlers.circle.radius + ": " + L.GeometryUtil.readableDistance(a, u, this.options.feet, this.options.nautic)), this._tooltip.updateContent({
                        text: this._endLabelText,
                        subtext: f
                    })
                }
            }
        }), L.Edit = L.Edit || {}, L.Edit.Marker = L.Handler.extend({
            initialize: function(r, a) {
                this._marker = r, L.setOptions(this, a)
            },
            addHooks: function() {
                var r = this._marker;
                r.dragging.enable(), r.on("dragend", this._onDragEnd, r), this._toggleMarkerHighlight()
            },
            removeHooks: function() {
                var r = this._marker;
                r.dragging.disable(), r.off("dragend", this._onDragEnd, r), this._toggleMarkerHighlight()
            },
            _onDragEnd: function(r) {
                var a = r.target;
                a.edited = !0, this._map.fire(L.Draw.Event.EDITMOVE, {
                    layer: a
                })
            },
            _toggleMarkerHighlight: function() {
                var r = this._marker._icon;
                r && (r.style.display = "none", L.DomUtil.hasClass(r, "leaflet-edit-marker-selected") ? (L.DomUtil.removeClass(r, "leaflet-edit-marker-selected"), this._offsetMarker(r, -4)) : (L.DomUtil.addClass(r, "leaflet-edit-marker-selected"), this._offsetMarker(r, 4)), r.style.display = "")
            },
            _offsetMarker: function(r, a) {
                var s = parseInt(r.style.marginTop, 10) - a,
                    l = parseInt(r.style.marginLeft, 10) - a;
                r.style.marginTop = s + "px", r.style.marginLeft = l + "px"
            }
        }), L.Marker.addInitHook(function() {
            L.Edit.Marker && (this.editing = new L.Edit.Marker(this), this.options.editable && this.editing.enable())
        }), L.Edit = L.Edit || {}, L.Edit.Poly = L.Handler.extend({
            initialize: function(r) {
                this.latlngs = [r._latlngs], r._holes && (this.latlngs = this.latlngs.concat(r._holes)), this._poly = r, this._poly.on("revert-edited", this._updateLatLngs, this)
            },
            _defaultShape: function() {
                return L.Polyline._flat ? L.Polyline._flat(this._poly._latlngs) ? this._poly._latlngs : this._poly._latlngs[0] : this._poly._latlngs
            },
            _eachVertexHandler: function(r) {
                for (var a = 0; a < this._verticesHandlers.length; a++) r(this._verticesHandlers[a])
            },
            addHooks: function() {
                this._initHandlers(), this._eachVertexHandler(function(r) {
                    r.addHooks()
                })
            },
            removeHooks: function() {
                this._eachVertexHandler(function(r) {
                    r.removeHooks()
                })
            },
            updateMarkers: function() {
                this._eachVertexHandler(function(r) {
                    r.updateMarkers()
                })
            },
            _initHandlers: function() {
                this._verticesHandlers = [];
                for (var r = 0; r < this.latlngs.length; r++) this._verticesHandlers.push(new L.Edit.PolyVerticesEdit(this._poly, this.latlngs[r], this._poly.options.poly))
            },
            _updateLatLngs: function(r) {
                this.latlngs = [r.layer._latlngs], r.layer._holes && (this.latlngs = this.latlngs.concat(r.layer._holes))
            }
        }), L.Edit.PolyVerticesEdit = L.Handler.extend({
            options: {
                icon: new L.DivIcon({
                    iconSize: new L.Point(8, 8),
                    className: "leaflet-div-icon leaflet-editing-icon"
                }),
                touchIcon: new L.DivIcon({
                    iconSize: new L.Point(20, 20),
                    className: "leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"
                }),
                drawError: {
                    color: "#b00b00",
                    timeout: 1e3
                }
            },
            initialize: function(r, a, s) {
                L.Browser.touch && (this.options.icon = this.options.touchIcon), this._poly = r, s && s.drawError && (s.drawError = L.Util.extend({}, this.options.drawError, s.drawError)), this._latlngs = a, L.setOptions(this, s)
            },
            _defaultShape: function() {
                return L.Polyline._flat ? L.Polyline._flat(this._latlngs) ? this._latlngs : this._latlngs[0] : this._latlngs
            },
            addHooks: function() {
                var r = this._poly,
                    a = r._path;
                r instanceof L.Polygon || (r.options.fill = !1, r.options.editing && (r.options.editing.fill = !1)), a && r.options.editing && r.options.editing.className && (r.options.original.className && r.options.original.className.split(" ").forEach(function(s) {
                    L.DomUtil.removeClass(a, s)
                }), r.options.editing.className.split(" ").forEach(function(s) {
                    L.DomUtil.addClass(a, s)
                })), r.setStyle(r.options.editing), this._poly._map && (this._map = this._poly._map, this._markerGroup || this._initMarkers(), this._poly._map.addLayer(this._markerGroup))
            },
            removeHooks: function() {
                var r = this._poly,
                    a = r._path;
                a && r.options.editing && r.options.editing.className && (r.options.editing.className.split(" ").forEach(function(s) {
                    L.DomUtil.removeClass(a, s)
                }), r.options.original.className && r.options.original.className.split(" ").forEach(function(s) {
                    L.DomUtil.addClass(a, s)
                })), r.setStyle(r.options.original), r._map && (r._map.removeLayer(this._markerGroup), delete this._markerGroup, delete this._markers)
            },
            updateMarkers: function() {
                this._markerGroup.clearLayers(), this._initMarkers()
            },
            _initMarkers: function() {
                this._markerGroup || (this._markerGroup = new L.LayerGroup), this._markers = [];
                var r, a, s, l, u = this._defaultShape();
                for (r = 0, s = u.length; r < s; r++) l = this._createMarker(u[r], r), l.on("click", this._onMarkerClick, this), l.on("contextmenu", this._onContextMenu, this), this._markers.push(l);
                var f, d;
                for (r = 0, a = s - 1; r < s; a = r++)(r !== 0 || L.Polygon && this._poly instanceof L.Polygon) && (f = this._markers[a], d = this._markers[r], this._createMiddleMarker(f, d), this._updatePrevNext(f, d))
            },
            _createMarker: function(r, a) {
                var s = new L.Marker.Touch(r, {
                    draggable: !0,
                    icon: this.options.icon
                });
                return s._origLatLng = r, s._index = a, s.on("dragstart", this._onMarkerDragStart, this).on("drag", this._onMarkerDrag, this).on("dragend", this._fireEdit, this).on("touchmove", this._onTouchMove, this).on("touchend", this._fireEdit, this).on("MSPointerMove", this._onTouchMove, this).on("MSPointerUp", this._fireEdit, this), this._markerGroup.addLayer(s), s
            },
            _onMarkerDragStart: function() {
                this._poly.fire("editstart")
            },
            _spliceLatLngs: function() {
                var r = this._defaultShape(),
                    a = [].splice.apply(r, arguments);
                return this._poly._convertLatLngs(r, !0), this._poly.redraw(), a
            },
            _removeMarker: function(r) {
                var a = r._index;
                this._markerGroup.removeLayer(r), this._markers.splice(a, 1), this._spliceLatLngs(a, 1), this._updateIndexes(a, -1), r.off("dragstart", this._onMarkerDragStart, this).off("drag", this._onMarkerDrag, this).off("dragend", this._fireEdit, this).off("touchmove", this._onMarkerDrag, this).off("touchend", this._fireEdit, this).off("click", this._onMarkerClick, this).off("MSPointerMove", this._onTouchMove, this).off("MSPointerUp", this._fireEdit, this)
            },
            _fireEdit: function() {
                this._poly.edited = !0, this._poly.fire("edit"), this._poly._map.fire(L.Draw.Event.EDITVERTEX, {
                    layers: this._markerGroup,
                    poly: this._poly
                })
            },
            _onMarkerDrag: function(r) {
                var a = r.target,
                    s = this._poly,
                    l = L.LatLngUtil.cloneLatLng(a._origLatLng);
                if (L.extend(a._origLatLng, a._latlng), s.options.poly) {
                    var u = s._map._editTooltip;
                    if (!s.options.poly.allowIntersection && s.intersects()) {
                        L.extend(a._origLatLng, l), a.setLatLng(l);
                        var f = s.options.color;
                        s.setStyle({
                            color: this.options.drawError.color
                        }), u && u.updateContent({
                            text: L.drawLocal.draw.handlers.polyline.error
                        }), setTimeout(function() {
                            s.setStyle({
                                color: f
                            }), u && u.updateContent({
                                text: L.drawLocal.edit.handlers.edit.tooltip.text,
                                subtext: L.drawLocal.edit.handlers.edit.tooltip.subtext
                            })
                        }, 1e3)
                    }
                }
                a._middleLeft && a._middleLeft.setLatLng(this._getMiddleLatLng(a._prev, a)), a._middleRight && a._middleRight.setLatLng(this._getMiddleLatLng(a, a._next)), this._poly._bounds._southWest = L.latLng(1 / 0, 1 / 0), this._poly._bounds._northEast = L.latLng(-1 / 0, -1 / 0);
                var d = this._poly.getLatLngs();
                this._poly._convertLatLngs(d, !0), this._poly.redraw(), this._poly.fire("editdrag")
            },
            _onMarkerClick: function(r) {
                var a = L.Polygon && this._poly instanceof L.Polygon ? 4 : 3,
                    s = r.target;
                this._defaultShape().length < a || (this._removeMarker(s), this._updatePrevNext(s._prev, s._next), s._middleLeft && this._markerGroup.removeLayer(s._middleLeft), s._middleRight && this._markerGroup.removeLayer(s._middleRight), s._prev && s._next ? this._createMiddleMarker(s._prev, s._next) : s._prev ? s._next || (s._prev._middleRight = null) : s._next._middleLeft = null, this._fireEdit())
            },
            _onContextMenu: function(r) {
                var a = r.target;
                this._poly, this._poly._map.fire(L.Draw.Event.MARKERCONTEXT, {
                    marker: a,
                    layers: this._markerGroup,
                    poly: this._poly
                }), L.DomEvent.stopPropagation
            },
            _onTouchMove: function(r) {
                var a = this._map.mouseEventToLayerPoint(r.originalEvent.touches[0]),
                    s = this._map.layerPointToLatLng(a),
                    l = r.target;
                L.extend(l._origLatLng, s), l._middleLeft && l._middleLeft.setLatLng(this._getMiddleLatLng(l._prev, l)), l._middleRight && l._middleRight.setLatLng(this._getMiddleLatLng(l, l._next)), this._poly.redraw(), this.updateMarkers()
            },
            _updateIndexes: function(r, a) {
                this._markerGroup.eachLayer(function(s) {
                    s._index > r && (s._index += a)
                })
            },
            _createMiddleMarker: function(r, a) {
                var s, l, u, f = this._getMiddleLatLng(r, a),
                    d = this._createMarker(f);
                d.setOpacity(.6), r._middleRight = a._middleLeft = d, l = function() {
                    d.off("touchmove", l, this);
                    var m = a._index;
                    d._index = m, d.off("click", s, this).on("click", this._onMarkerClick, this), f.lat = d.getLatLng().lat, f.lng = d.getLatLng().lng, this._spliceLatLngs(m, 0, f), this._markers.splice(m, 0, d), d.setOpacity(1), this._updateIndexes(m, 1), a._index++, this._updatePrevNext(r, d), this._updatePrevNext(d, a), this._poly.fire("editstart")
                }, u = function() {
                    d.off("dragstart", l, this), d.off("dragend", u, this), d.off("touchmove", l, this), this._createMiddleMarker(r, d), this._createMiddleMarker(d, a)
                }, s = function() {
                    l.call(this), u.call(this), this._fireEdit()
                }, d.on("click", s, this).on("dragstart", l, this).on("dragend", u, this).on("touchmove", l, this), this._markerGroup.addLayer(d)
            },
            _updatePrevNext: function(r, a) {
                r && (r._next = a), a && (a._prev = r)
            },
            _getMiddleLatLng: function(r, a) {
                var s = this._poly._map,
                    l = s.project(r.getLatLng()),
                    u = s.project(a.getLatLng());
                return s.unproject(l._add(u)._divideBy(2))
            }
        }), L.Polyline.addInitHook(function() {
            this.editing || (L.Edit.Poly && (this.editing = new L.Edit.Poly(this), this.options.editable && this.editing.enable()), this.on("add", function() {
                this.editing && this.editing.enabled() && this.editing.addHooks()
            }), this.on("remove", function() {
                this.editing && this.editing.enabled() && this.editing.removeHooks()
            }))
        }), L.Edit = L.Edit || {}, L.Edit.SimpleShape = L.Handler.extend({
            options: {
                moveIcon: new L.DivIcon({
                    iconSize: new L.Point(8, 8),
                    className: "leaflet-div-icon leaflet-editing-icon leaflet-edit-move"
                }),
                resizeIcon: new L.DivIcon({
                    iconSize: new L.Point(8, 8),
                    className: "leaflet-div-icon leaflet-editing-icon leaflet-edit-resize"
                }),
                touchMoveIcon: new L.DivIcon({
                    iconSize: new L.Point(20, 20),
                    className: "leaflet-div-icon leaflet-editing-icon leaflet-edit-move leaflet-touch-icon"
                }),
                touchResizeIcon: new L.DivIcon({
                    iconSize: new L.Point(20, 20),
                    className: "leaflet-div-icon leaflet-editing-icon leaflet-edit-resize leaflet-touch-icon"
                })
            },
            initialize: function(r, a) {
                L.Browser.touch && (this.options.moveIcon = this.options.touchMoveIcon, this.options.resizeIcon = this.options.touchResizeIcon), this._shape = r, L.Util.setOptions(this, a)
            },
            addHooks: function() {
                var r = this._shape;
                this._shape._map && (this._map = this._shape._map, r.setStyle(r.options.editing), r._map && (this._map = r._map, this._markerGroup || this._initMarkers(), this._map.addLayer(this._markerGroup)))
            },
            removeHooks: function() {
                var r = this._shape;
                if (r.setStyle(r.options.original), r._map) {
                    this._unbindMarker(this._moveMarker);
                    for (var a = 0, s = this._resizeMarkers.length; a < s; a++) this._unbindMarker(this._resizeMarkers[a]);
                    this._resizeMarkers = null, this._map.removeLayer(this._markerGroup), delete this._markerGroup
                }
                this._map = null
            },
            updateMarkers: function() {
                this._markerGroup.clearLayers(), this._initMarkers()
            },
            _initMarkers: function() {
                this._markerGroup || (this._markerGroup = new L.LayerGroup), this._createMoveMarker(), this._createResizeMarker()
            },
            _createMoveMarker: function() {},
            _createResizeMarker: function() {},
            _createMarker: function(r, a) {
                var s = new L.Marker.Touch(r, {
                    draggable: !0,
                    icon: a,
                    zIndexOffset: 10
                });
                return this._bindMarker(s), this._markerGroup.addLayer(s), s
            },
            _bindMarker: function(r) {
                r.on("dragstart", this._onMarkerDragStart, this).on("drag", this._onMarkerDrag, this).on("dragend", this._onMarkerDragEnd, this).on("touchstart", this._onTouchStart, this).on("touchmove", this._onTouchMove, this).on("MSPointerMove", this._onTouchMove, this).on("touchend", this._onTouchEnd, this).on("MSPointerUp", this._onTouchEnd, this)
            },
            _unbindMarker: function(r) {
                r.off("dragstart", this._onMarkerDragStart, this).off("drag", this._onMarkerDrag, this).off("dragend", this._onMarkerDragEnd, this).off("touchstart", this._onTouchStart, this).off("touchmove", this._onTouchMove, this).off("MSPointerMove", this._onTouchMove, this).off("touchend", this._onTouchEnd, this).off("MSPointerUp", this._onTouchEnd, this)
            },
            _onMarkerDragStart: function(r) {
                r.target.setOpacity(0), this._shape.fire("editstart")
            },
            _fireEdit: function() {
                this._shape.edited = !0, this._shape.fire("edit")
            },
            _onMarkerDrag: function(r) {
                var a = r.target,
                    s = a.getLatLng();
                a === this._moveMarker ? this._move(s) : this._resize(s), this._shape.redraw(), this._shape.fire("editdrag")
            },
            _onMarkerDragEnd: function(r) {
                r.target.setOpacity(1), this._fireEdit()
            },
            _onTouchStart: function(r) {
                if (L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this, r), typeof this._getCorners == "function") {
                    var a = this._getCorners(),
                        s = r.target,
                        l = s._cornerIndex;
                    s.setOpacity(0), this._oppositeCorner = a[(l + 2) % 4], this._toggleCornerMarkers(0, l)
                }
                this._shape.fire("editstart")
            },
            _onTouchMove: function(r) {
                var a = this._map.mouseEventToLayerPoint(r.originalEvent.touches[0]),
                    s = this._map.layerPointToLatLng(a);
                return r.target === this._moveMarker ? this._move(s) : this._resize(s), this._shape.redraw(), !1
            },
            _onTouchEnd: function(r) {
                r.target.setOpacity(1), this.updateMarkers(), this._fireEdit()
            },
            _move: function() {},
            _resize: function() {}
        }), L.Edit = L.Edit || {}, L.Edit.Rectangle = L.Edit.SimpleShape.extend({
            _createMoveMarker: function() {
                var r = this._shape.getBounds(),
                    a = r.getCenter();
                this._moveMarker = this._createMarker(a, this.options.moveIcon)
            },
            _createResizeMarker: function() {
                var r = this._getCorners();
                this._resizeMarkers = [];
                for (var a = 0, s = r.length; a < s; a++) this._resizeMarkers.push(this._createMarker(r[a], this.options.resizeIcon)), this._resizeMarkers[a]._cornerIndex = a
            },
            _onMarkerDragStart: function(r) {
                L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this, r);
                var a = this._getCorners(),
                    s = r.target,
                    l = s._cornerIndex;
                this._oppositeCorner = a[(l + 2) % 4], this._toggleCornerMarkers(0, l)
            },
            _onMarkerDragEnd: function(r) {
                var a, s, l = r.target;
                l === this._moveMarker && (a = this._shape.getBounds(), s = a.getCenter(), l.setLatLng(s)), this._toggleCornerMarkers(1), this._repositionCornerMarkers(), L.Edit.SimpleShape.prototype._onMarkerDragEnd.call(this, r)
            },
            _move: function(r) {
                for (var a, s = this._shape._defaultShape ? this._shape._defaultShape() : this._shape.getLatLngs(), l = this._shape.getBounds(), u = l.getCenter(), f = [], d = 0, m = s.length; d < m; d++) a = [s[d].lat - u.lat, s[d].lng - u.lng], f.push([r.lat + a[0], r.lng + a[1]]);
                this._shape.setLatLngs(f), this._repositionCornerMarkers(), this._map.fire(L.Draw.Event.EDITMOVE, {
                    layer: this._shape
                })
            },
            _resize: function(r) {
                var a;
                this._shape.setBounds(L.latLngBounds(r, this._oppositeCorner)), a = this._shape.getBounds(), this._moveMarker.setLatLng(a.getCenter()), this._map.fire(L.Draw.Event.EDITRESIZE, {
                    layer: this._shape
                })
            },
            _getCorners: function() {
                var r = this._shape.getBounds();
                return [r.getNorthWest(), r.getNorthEast(), r.getSouthEast(), r.getSouthWest()]
            },
            _toggleCornerMarkers: function(r) {
                for (var a = 0, s = this._resizeMarkers.length; a < s; a++) this._resizeMarkers[a].setOpacity(r)
            },
            _repositionCornerMarkers: function() {
                for (var r = this._getCorners(), a = 0, s = this._resizeMarkers.length; a < s; a++) this._resizeMarkers[a].setLatLng(r[a])
            }
        }), L.Rectangle.addInitHook(function() {
            L.Edit.Rectangle && (this.editing = new L.Edit.Rectangle(this), this.options.editable && this.editing.enable())
        }), L.Edit = L.Edit || {}, L.Edit.CircleMarker = L.Edit.SimpleShape.extend({
            _createMoveMarker: function() {
                var r = this._shape.getLatLng();
                this._moveMarker = this._createMarker(r, this.options.moveIcon)
            },
            _createResizeMarker: function() {
                this._resizeMarkers = []
            },
            _move: function(r) {
                if (this._resizeMarkers.length) {
                    var a = this._getResizeMarkerPoint(r);
                    this._resizeMarkers[0].setLatLng(a)
                }
                this._shape.setLatLng(r), this._map.fire(L.Draw.Event.EDITMOVE, {
                    layer: this._shape
                })
            }
        }), L.CircleMarker.addInitHook(function() {
            L.Edit.CircleMarker && (this.editing = new L.Edit.CircleMarker(this), this.options.editable && this.editing.enable()), this.on("add", function() {
                this.editing && this.editing.enabled() && this.editing.addHooks()
            }), this.on("remove", function() {
                this.editing && this.editing.enabled() && this.editing.removeHooks()
            })
        }), L.Edit = L.Edit || {}, L.Edit.Circle = L.Edit.CircleMarker.extend({
            _createResizeMarker: function() {
                var r = this._shape.getLatLng(),
                    a = this._getResizeMarkerPoint(r);
                this._resizeMarkers = [], this._resizeMarkers.push(this._createMarker(a, this.options.resizeIcon))
            },
            _getResizeMarkerPoint: function(r) {
                var a = this._shape._radius * Math.cos(Math.PI / 4),
                    s = this._map.project(r);
                return this._map.unproject([s.x + a, s.y - a])
            },
            _resize: function(r) {
                var a = this._moveMarker.getLatLng();
                L.GeometryUtil.isVersion07x() ? radius = a.distanceTo(r) : radius = this._map.distance(a, r), this._shape.setRadius(radius), this._map.editTooltip && this._map._editTooltip.updateContent({
                    text: L.drawLocal.edit.handlers.edit.tooltip.subtext + "<br />" + L.drawLocal.edit.handlers.edit.tooltip.text,
                    subtext: L.drawLocal.draw.handlers.circle.radius + ": " + L.GeometryUtil.readableDistance(radius, !0, this.options.feet, this.options.nautic)
                }), this._shape.setRadius(radius), this._map.fire(L.Draw.Event.EDITRESIZE, {
                    layer: this._shape
                })
            }
        }), L.Circle.addInitHook(function() {
            L.Edit.Circle && (this.editing = new L.Edit.Circle(this), this.options.editable && this.editing.enable())
        }), L.Map.mergeOptions({
            touchExtend: !0
        }), L.Map.TouchExtend = L.Handler.extend({
            initialize: function(r) {
                this._map = r, this._container = r._container, this._pane = r._panes.overlayPane
            },
            addHooks: function() {
                L.DomEvent.on(this._container, "touchstart", this._onTouchStart, this), L.DomEvent.on(this._container, "touchend", this._onTouchEnd, this), L.DomEvent.on(this._container, "touchmove", this._onTouchMove, this), this._detectIE() ? (L.DomEvent.on(this._container, "MSPointerDown", this._onTouchStart, this), L.DomEvent.on(this._container, "MSPointerUp", this._onTouchEnd, this), L.DomEvent.on(this._container, "MSPointerMove", this._onTouchMove, this), L.DomEvent.on(this._container, "MSPointerCancel", this._onTouchCancel, this)) : (L.DomEvent.on(this._container, "touchcancel", this._onTouchCancel, this), L.DomEvent.on(this._container, "touchleave", this._onTouchLeave, this))
            },
            removeHooks: function() {
                L.DomEvent.off(this._container, "touchstart", this._onTouchStart, this), L.DomEvent.off(this._container, "touchend", this._onTouchEnd, this), L.DomEvent.off(this._container, "touchmove", this._onTouchMove, this), this._detectIE() ? (L.DomEvent.off(this._container, "MSPointerDown", this._onTouchStart, this), L.DomEvent.off(this._container, "MSPointerUp", this._onTouchEnd, this), L.DomEvent.off(this._container, "MSPointerMove", this._onTouchMove, this), L.DomEvent.off(this._container, "MSPointerCancel", this._onTouchCancel, this)) : (L.DomEvent.off(this._container, "touchcancel", this._onTouchCancel, this), L.DomEvent.off(this._container, "touchleave", this._onTouchLeave, this))
            },
            _touchEvent: function(r, a) {
                var s = {};
                if (r.touches !== void 0) {
                    if (!r.touches.length) return;
                    s = r.touches[0]
                } else if (r.pointerType !== "touch" || (s = r, !this._filterClick(r))) return;
                var l = this._map.mouseEventToContainerPoint(s),
                    u = this._map.mouseEventToLayerPoint(s),
                    f = this._map.layerPointToLatLng(u);
                this._map.fire(a, {
                    latlng: f,
                    layerPoint: u,
                    containerPoint: l,
                    pageX: s.pageX,
                    pageY: s.pageY,
                    originalEvent: r
                })
            },
            _filterClick: function(r) {
                var a = r.timeStamp || r.originalEvent.timeStamp,
                    s = L.DomEvent._lastClick && a - L.DomEvent._lastClick;
                return s && s > 100 && s < 500 || r.target._simulatedClick && !r._simulated ? (L.DomEvent.stop(r), !1) : (L.DomEvent._lastClick = a, !0)
            },
            _onTouchStart: function(r) {
                this._map._loaded && this._touchEvent(r, "touchstart")
            },
            _onTouchEnd: function(r) {
                this._map._loaded && this._touchEvent(r, "touchend")
            },
            _onTouchCancel: function(r) {
                if (this._map._loaded) {
                    var a = "touchcancel";
                    this._detectIE() && (a = "pointercancel"), this._touchEvent(r, a)
                }
            },
            _onTouchLeave: function(r) {
                this._map._loaded && this._touchEvent(r, "touchleave")
            },
            _onTouchMove: function(r) {
                this._map._loaded && this._touchEvent(r, "touchmove")
            },
            _detectIE: function() {
                var r = e.navigator.userAgent,
                    a = r.indexOf("MSIE ");
                if (a > 0) return parseInt(r.substring(a + 5, r.indexOf(".", a)), 10);
                if (r.indexOf("Trident/") > 0) {
                    var s = r.indexOf("rv:");
                    return parseInt(r.substring(s + 3, r.indexOf(".", s)), 10)
                }
                var l = r.indexOf("Edge/");
                return l > 0 && parseInt(r.substring(l + 5, r.indexOf(".", l)), 10)
            }
        }), L.Map.addInitHook("addHandler", "touchExtend", L.Map.TouchExtend), L.Marker.Touch = L.Marker.extend({
            _initInteraction: function() {
                return this.addInteractiveTarget ? L.Marker.prototype._initInteraction.apply(this) : this._initInteractionLegacy()
            },
            _initInteractionLegacy: function() {
                if (this.options.clickable) {
                    var r = this._icon,
                        a = ["dblclick", "mousedown", "mouseover", "mouseout", "contextmenu", "touchstart", "touchend", "touchmove"];
                    this._detectIE ? a.concat(["MSPointerDown", "MSPointerUp", "MSPointerMove", "MSPointerCancel"]) : a.concat(["touchcancel"]), L.DomUtil.addClass(r, "leaflet-clickable"), L.DomEvent.on(r, "click", this._onMouseClick, this), L.DomEvent.on(r, "keypress", this._onKeyPress, this);
                    for (var s = 0; s < a.length; s++) L.DomEvent.on(r, a[s], this._fireMouseEvent, this);
                    L.Handler.MarkerDrag && (this.dragging = new L.Handler.MarkerDrag(this), this.options.draggable && this.dragging.enable())
                }
            },
            _detectIE: function() {
                var r = e.navigator.userAgent,
                    a = r.indexOf("MSIE ");
                if (a > 0) return parseInt(r.substring(a + 5, r.indexOf(".", a)), 10);
                if (r.indexOf("Trident/") > 0) {
                    var s = r.indexOf("rv:");
                    return parseInt(r.substring(s + 3, r.indexOf(".", s)), 10)
                }
                var l = r.indexOf("Edge/");
                return l > 0 && parseInt(r.substring(l + 5, r.indexOf(".", l)), 10)
            }
        }), L.LatLngUtil = {
            cloneLatLngs: function(r) {
                for (var a = [], s = 0, l = r.length; s < l; s++) Array.isArray(r[s]) ? a.push(L.LatLngUtil.cloneLatLngs(r[s])) : a.push(this.cloneLatLng(r[s]));
                return a
            },
            cloneLatLng: function(r) {
                return L.latLng(r.lat, r.lng)
            }
        },
        function() {
            var r = {
                km: 2,
                ha: 2,
                m: 0,
                mi: 2,
                ac: 2,
                yd: 0,
                ft: 0,
                nm: 2
            };
            L.GeometryUtil = L.extend(L.GeometryUtil || {}, {
                geodesicArea: function(a) {
                    var s, l, u = a.length,
                        f = 0,
                        d = Math.PI / 180;
                    if (u > 2) {
                        for (var m = 0; m < u; m++) s = a[m], l = a[(m + 1) % u], f += (l.lng - s.lng) * d * (2 + Math.sin(s.lat * d) + Math.sin(l.lat * d));
                        f = 6378137 * f * 6378137 / 2
                    }
                    return Math.abs(f)
                },
                formattedNumber: function(a, s) {
                    var l = parseFloat(a).toFixed(s),
                        u = L.drawLocal.format && L.drawLocal.format.numeric,
                        f = u && u.delimiters,
                        d = f && f.thousands,
                        m = f && f.decimal;
                    if (d || m) {
                        var T = l.split(".");
                        l = d ? T[0].replace(/(\d)(?=(\d{3})+(?!\d))/g, "$1" + d) : T[0], m = m || ".", T.length > 1 && (l = l + m + T[1])
                    }
                    return l
                },
                readableArea: function(a, s, m) {
                    var u, f, d, m = L.Util.extend({}, r, m);
                    return s ? (f = ["ha", "m"], d = typeof s, d === "string" ? f = [s] : d !== "boolean" && (f = s), u = a >= 1e6 && f.indexOf("km") !== -1 ? L.GeometryUtil.formattedNumber(1e-6 * a, m.km) + " km\xB2" : a >= 1e4 && f.indexOf("ha") !== -1 ? L.GeometryUtil.formattedNumber(1e-4 * a, m.ha) + " ha" : L.GeometryUtil.formattedNumber(a, m.m) + " m\xB2") : (a /= .836127, u = a >= 3097600 ? L.GeometryUtil.formattedNumber(a / 3097600, m.mi) + " mi\xB2" : a >= 4840 ? L.GeometryUtil.formattedNumber(a / 4840, m.ac) + " acres" : L.GeometryUtil.formattedNumber(a, m.yd) + " yd\xB2"), u
                },
                readableDistance: function(a, s, l, u, m) {
                    var d, m = L.Util.extend({}, r, m);
                    switch (s ? typeof s == "string" ? s : "metric" : l ? "feet" : u ? "nauticalMile" : "yards") {
                        case "metric":
                            d = a > 1e3 ? L.GeometryUtil.formattedNumber(a / 1e3, m.km) + " km" : L.GeometryUtil.formattedNumber(a, m.m) + " m";
                            break;
                        case "feet":
                            a *= 3.28083, d = L.GeometryUtil.formattedNumber(a, m.ft) + " ft";
                            break;
                        case "nauticalMile":
                            a *= .53996, d = L.GeometryUtil.formattedNumber(a / 1e3, m.nm) + " nm";
                            break;
                        case "yards":
                        default:
                            a *= 1.09361, d = a > 1760 ? L.GeometryUtil.formattedNumber(a / 1760, m.mi) + " miles" : L.GeometryUtil.formattedNumber(a, m.yd) + " yd"
                    }
                    return d
                },
                isVersion07x: function() {
                    var a = L.version.split(".");
                    return parseInt(a[0], 10) === 0 && parseInt(a[1], 10) === 7
                }
            })
        }(), L.Util.extend(L.LineUtil, {
            segmentsIntersect: function(r, a, s, l) {
                return this._checkCounterclockwise(r, s, l) !== this._checkCounterclockwise(a, s, l) && this._checkCounterclockwise(r, a, s) !== this._checkCounterclockwise(r, a, l)
            },
            _checkCounterclockwise: function(r, a, s) {
                return (s.y - r.y) * (a.x - r.x) > (a.y - r.y) * (s.x - r.x)
            }
        }), L.Polyline.include({
            intersects: function() {
                var r, a, s, l = this._getProjectedPoints(),
                    u = l ? l.length : 0;
                if (this._tooFewPointsForIntersection()) return !1;
                for (r = u - 1; r >= 3; r--)
                    if (a = l[r - 1], s = l[r], this._lineSegmentsIntersectsRange(a, s, r - 2)) return !0;
                return !1
            },
            newLatLngIntersects: function(r, a) {
                return !!this._map && this.newPointIntersects(this._map.latLngToLayerPoint(r), a)
            },
            newPointIntersects: function(r, a) {
                var s = this._getProjectedPoints(),
                    l = s ? s.length : 0,
                    u = s ? s[l - 1] : null,
                    f = l - 2;
                return !this._tooFewPointsForIntersection(1) && this._lineSegmentsIntersectsRange(u, r, f, a ? 1 : 0)
            },
            _tooFewPointsForIntersection: function(r) {
                var a = this._getProjectedPoints(),
                    s = a ? a.length : 0;
                return s += r || 0, !a || s <= 3
            },
            _lineSegmentsIntersectsRange: function(r, a, s, l) {
                var u, f, d = this._getProjectedPoints();
                l = l || 0;
                for (var m = s; m > l; m--)
                    if (u = d[m - 1], f = d[m], L.LineUtil.segmentsIntersect(r, a, u, f)) return !0;
                return !1
            },
            _getProjectedPoints: function() {
                if (!this._defaultShape) return this._originalPoints;
                for (var r = [], a = this._defaultShape(), s = 0; s < a.length; s++) r.push(this._map.latLngToLayerPoint(a[s]));
                return r
            }
        }), L.Polygon.include({
            intersects: function() {
                var r, a, s, l, u = this._getProjectedPoints();
                return !this._tooFewPointsForIntersection() && (!!L.Polyline.prototype.intersects.call(this) || (r = u.length, a = u[0], s = u[r - 1], l = r - 2, this._lineSegmentsIntersectsRange(s, a, l, 1)))
            }
        }), L.Control.Draw = L.Control.extend({
            options: {
                position: "topleft",
                draw: {},
                edit: !1
            },
            initialize: function(r) {
                if (L.version < "0.7") throw new Error("Leaflet.draw 0.2.3+ requires Leaflet 0.7.0+. Download latest from https://github.com/Leaflet/Leaflet/");
                L.Control.prototype.initialize.call(this, r);
                var a;
                this._toolbars = {}, L.DrawToolbar && this.options.draw && (a = new L.DrawToolbar(this.options.draw), this._toolbars[L.DrawToolbar.TYPE] = a, this._toolbars[L.DrawToolbar.TYPE].on("enable", this._toolbarEnabled, this)), L.EditToolbar && this.options.edit && (a = new L.EditToolbar(this.options.edit), this._toolbars[L.EditToolbar.TYPE] = a, this._toolbars[L.EditToolbar.TYPE].on("enable", this._toolbarEnabled, this)), L.toolbar = this
            },
            onAdd: function(r) {
                var a, s = L.DomUtil.create("div", "leaflet-draw"),
                    l = !1;
                for (var u in this._toolbars) this._toolbars.hasOwnProperty(u) && (a = this._toolbars[u].addToolbar(r)) && (l || (L.DomUtil.hasClass(a, "leaflet-draw-toolbar-top") || L.DomUtil.addClass(a.childNodes[0], "leaflet-draw-toolbar-top"), l = !0), s.appendChild(a));
                return s
            },
            onRemove: function() {
                for (var r in this._toolbars) this._toolbars.hasOwnProperty(r) && this._toolbars[r].removeToolbar()
            },
            setDrawingOptions: function(r) {
                for (var a in this._toolbars) this._toolbars[a] instanceof L.DrawToolbar && this._toolbars[a].setOptions(r)
            },
            _toolbarEnabled: function(r) {
                var a = r.target;
                for (var s in this._toolbars) this._toolbars[s] !== a && this._toolbars[s].disable()
            }
        }), L.Map.mergeOptions({
            drawControlTooltips: !0,
            drawControl: !1
        }), L.Map.addInitHook(function() {
            this.options.drawControl && (this.drawControl = new L.Control.Draw, this.addControl(this.drawControl))
        }), L.Toolbar = L.Class.extend({
            initialize: function(r) {
                L.setOptions(this, r), this._modes = {}, this._actionButtons = [], this._activeMode = null;
                var a = L.version.split(".");
                parseInt(a[0], 10) === 1 && parseInt(a[1], 10) >= 2 ? L.Toolbar.include(L.Evented.prototype) : L.Toolbar.include(L.Mixin.Events)
            },
            enabled: function() {
                return this._activeMode !== null
            },
            disable: function() {
                this.enabled() && this._activeMode.handler.disable()
            },
            addToolbar: function(r) {
                var a, s = L.DomUtil.create("div", "leaflet-draw-section"),
                    l = 0,
                    u = this._toolbarClass || "",
                    f = this.getModeHandlers(r);
                for (this._toolbarContainer = L.DomUtil.create("div", "leaflet-draw-toolbar leaflet-bar"), this._map = r, a = 0; a < f.length; a++) f[a].enabled && this._initModeHandler(f[a].handler, this._toolbarContainer, l++, u, f[a].title);
                if (l) return this._lastButtonIndex = --l, this._actionsContainer = L.DomUtil.create("ul", "leaflet-draw-actions"), s.appendChild(this._toolbarContainer), s.appendChild(this._actionsContainer), s
            },
            removeToolbar: function() {
                for (var r in this._modes) this._modes.hasOwnProperty(r) && (this._disposeButton(this._modes[r].button, this._modes[r].handler.enable, this._modes[r].handler), this._modes[r].handler.disable(), this._modes[r].handler.off("enabled", this._handlerActivated, this).off("disabled", this._handlerDeactivated, this));
                this._modes = {};
                for (var a = 0, s = this._actionButtons.length; a < s; a++) this._disposeButton(this._actionButtons[a].button, this._actionButtons[a].callback, this);
                this._actionButtons = [], this._actionsContainer = null
            },
            _initModeHandler: function(r, a, s, l, u) {
                var f = r.type;
                this._modes[f] = {}, this._modes[f].handler = r, this._modes[f].button = this._createButton({
                    type: f,
                    title: u,
                    className: l + "-" + f,
                    container: a,
                    callback: this._modes[f].handler.enable,
                    context: this._modes[f].handler
                }), this._modes[f].buttonIndex = s, this._modes[f].handler.on("enabled", this._handlerActivated, this).on("disabled", this._handlerDeactivated, this)
            },
            _detectIOS: function() {
                return /iPad|iPhone|iPod/.test(navigator.userAgent) && !e.MSStream
            },
            _createButton: function(r) {
                var a = L.DomUtil.create("a", r.className || "", r.container),
                    s = L.DomUtil.create("span", "sr-only", r.container);
                a.href = "#", a.appendChild(s), r.title && (a.title = r.title, s.innerHTML = r.title), r.text && (a.innerHTML = r.text, s.innerHTML = r.text);
                var l = this._detectIOS() ? "touchstart" : "click";
                return L.DomEvent.on(a, "click", L.DomEvent.stopPropagation).on(a, "mousedown", L.DomEvent.stopPropagation).on(a, "dblclick", L.DomEvent.stopPropagation).on(a, "touchstart", L.DomEvent.stopPropagation).on(a, "click", L.DomEvent.preventDefault).on(a, l, r.callback, r.context), a
            },
            _disposeButton: function(r, a) {
                var s = this._detectIOS() ? "touchstart" : "click";
                L.DomEvent.off(r, "click", L.DomEvent.stopPropagation).off(r, "mousedown", L.DomEvent.stopPropagation).off(r, "dblclick", L.DomEvent.stopPropagation).off(r, "touchstart", L.DomEvent.stopPropagation).off(r, "click", L.DomEvent.preventDefault).off(r, s, a)
            },
            _handlerActivated: function(r) {
                this.disable(), this._activeMode = this._modes[r.handler], L.DomUtil.addClass(this._activeMode.button, "leaflet-draw-toolbar-button-enabled"), this._showActionsToolbar(), this.fire("enable")
            },
            _handlerDeactivated: function() {
                this._hideActionsToolbar(), L.DomUtil.removeClass(this._activeMode.button, "leaflet-draw-toolbar-button-enabled"), this._activeMode = null, this.fire("disable")
            },
            _createActions: function(r) {
                var a, s, l, u, f = this._actionsContainer,
                    d = this.getActions(r),
                    m = d.length;
                for (s = 0, l = this._actionButtons.length; s < l; s++) this._disposeButton(this._actionButtons[s].button, this._actionButtons[s].callback);
                for (this._actionButtons = []; f.firstChild;) f.removeChild(f.firstChild);
                for (var T = 0; T < m; T++) "enabled" in d[T] && !d[T].enabled || (a = L.DomUtil.create("li", "", f), u = this._createButton({
                    title: d[T].title,
                    text: d[T].text,
                    container: a,
                    callback: d[T].callback,
                    context: d[T].context
                }), this._actionButtons.push({
                    button: u,
                    callback: d[T].callback
                }))
            },
            _showActionsToolbar: function() {
                var r = this._activeMode.buttonIndex,
                    a = this._lastButtonIndex,
                    s = this._activeMode.button.offsetTop - 1;
                this._createActions(this._activeMode.handler), this._actionsContainer.style.top = s + "px", r === 0 && (L.DomUtil.addClass(this._toolbarContainer, "leaflet-draw-toolbar-notop"), L.DomUtil.addClass(this._actionsContainer, "leaflet-draw-actions-top")), r === a && (L.DomUtil.addClass(this._toolbarContainer, "leaflet-draw-toolbar-nobottom"), L.DomUtil.addClass(this._actionsContainer, "leaflet-draw-actions-bottom")), this._actionsContainer.style.display = "block", this._map.fire(L.Draw.Event.TOOLBAROPENED)
            },
            _hideActionsToolbar: function() {
                this._actionsContainer.style.display = "none", L.DomUtil.removeClass(this._toolbarContainer, "leaflet-draw-toolbar-notop"), L.DomUtil.removeClass(this._toolbarContainer, "leaflet-draw-toolbar-nobottom"), L.DomUtil.removeClass(this._actionsContainer, "leaflet-draw-actions-top"), L.DomUtil.removeClass(this._actionsContainer, "leaflet-draw-actions-bottom"), this._map.fire(L.Draw.Event.TOOLBARCLOSED)
            }
        }), L.Draw = L.Draw || {}, L.Draw.Tooltip = L.Class.extend({
            initialize: function(r) {
                this._map = r, this._popupPane = r._panes.popupPane, this._visible = !1, this._container = r.options.drawControlTooltips ? L.DomUtil.create("div", "leaflet-draw-tooltip", this._popupPane) : null, this._singleLineLabel = !1, this._map.on("mouseout", this._onMouseOut, this)
            },
            dispose: function() {
                this._map.off("mouseout", this._onMouseOut, this), this._container && (this._popupPane.removeChild(this._container), this._container = null)
            },
            updateContent: function(r) {
                return this._container ? (r.subtext = r.subtext || "", r.subtext.length !== 0 || this._singleLineLabel ? r.subtext.length > 0 && this._singleLineLabel && (L.DomUtil.removeClass(this._container, "leaflet-draw-tooltip-single"), this._singleLineLabel = !1) : (L.DomUtil.addClass(this._container, "leaflet-draw-tooltip-single"), this._singleLineLabel = !0), this._container.innerHTML = (r.subtext.length > 0 ? '<span class="leaflet-draw-tooltip-subtext">' + r.subtext + "</span><br />" : "") + "<span>" + r.text + "</span>", r.text || r.subtext ? (this._visible = !0, this._container.style.visibility = "inherit") : (this._visible = !1, this._container.style.visibility = "hidden"), this) : this
            },
            updatePosition: function(r) {
                var a = this._map.latLngToLayerPoint(r),
                    s = this._container;
                return this._container && (this._visible && (s.style.visibility = "inherit"), L.DomUtil.setPosition(s, a)), this
            },
            showAsError: function() {
                return this._container && L.DomUtil.addClass(this._container, "leaflet-error-draw-tooltip"), this
            },
            removeError: function() {
                return this._container && L.DomUtil.removeClass(this._container, "leaflet-error-draw-tooltip"), this
            },
            _onMouseOut: function() {
                this._container && (this._container.style.visibility = "hidden")
            }
        }), L.DrawToolbar = L.Toolbar.extend({
            statics: {
                TYPE: "draw"
            },
            options: {
                polyline: {},
                polygon: {},
                rectangle: {},
                circle: {},
                marker: {},
                circlemarker: {}
            },
            initialize: function(r) {
                for (var a in this.options) this.options.hasOwnProperty(a) && r[a] && (r[a] = L.extend({}, this.options[a], r[a]));
                this._toolbarClass = "leaflet-draw-draw", L.Toolbar.prototype.initialize.call(this, r)
            },
            getModeHandlers: function(r) {
                return [{
                    enabled: this.options.polyline,
                    handler: new L.Draw.Polyline(r, this.options.polyline),
                    title: L.drawLocal.draw.toolbar.buttons.polyline
                }, {
                    enabled: this.options.polygon,
                    handler: new L.Draw.Polygon(r, this.options.polygon),
                    title: L.drawLocal.draw.toolbar.buttons.polygon
                }, {
                    enabled: this.options.rectangle,
                    handler: new L.Draw.Rectangle(r, this.options.rectangle),
                    title: L.drawLocal.draw.toolbar.buttons.rectangle
                }, {
                    enabled: this.options.circle,
                    handler: new L.Draw.Circle(r, this.options.circle),
                    title: L.drawLocal.draw.toolbar.buttons.circle
                }, {
                    enabled: this.options.marker,
                    handler: new L.Draw.Marker(r, this.options.marker),
                    title: L.drawLocal.draw.toolbar.buttons.marker
                }, {
                    enabled: this.options.circlemarker,
                    handler: new L.Draw.CircleMarker(r, this.options.circlemarker),
                    title: L.drawLocal.draw.toolbar.buttons.circlemarker
                }]
            },
            getActions: function(r) {
                return [{
                    enabled: r.completeShape,
                    title: L.drawLocal.draw.toolbar.finish.title,
                    text: L.drawLocal.draw.toolbar.finish.text,
                    callback: r.completeShape,
                    context: r
                }, {
                    enabled: r.deleteLastVertex,
                    title: L.drawLocal.draw.toolbar.undo.title,
                    text: L.drawLocal.draw.toolbar.undo.text,
                    callback: r.deleteLastVertex,
                    context: r
                }, {
                    title: L.drawLocal.draw.toolbar.actions.title,
                    text: L.drawLocal.draw.toolbar.actions.text,
                    callback: this.disable,
                    context: this
                }]
            },
            setOptions: function(r) {
                L.setOptions(this, r);
                for (var a in this._modes) this._modes.hasOwnProperty(a) && r.hasOwnProperty(a) && this._modes[a].handler.setOptions(r[a])
            }
        }), L.EditToolbar = L.Toolbar.extend({
            statics: {
                TYPE: "edit"
            },
            options: {
                edit: {
                    selectedPathOptions: {
                        dashArray: "10, 10",
                        fill: !0,
                        fillColor: "#fe57a1",
                        fillOpacity: .1,
                        maintainColor: !1
                    }
                },
                remove: {},
                poly: null,
                featureGroup: null
            },
            initialize: function(r) {
                r.edit && (r.edit.selectedPathOptions === void 0 && (r.edit.selectedPathOptions = this.options.edit.selectedPathOptions), r.edit.selectedPathOptions = L.extend({}, this.options.edit.selectedPathOptions, r.edit.selectedPathOptions)), r.remove && (r.remove = L.extend({}, this.options.remove, r.remove)), r.poly && (r.poly = L.extend({}, this.options.poly, r.poly)), this._toolbarClass = "leaflet-draw-edit", L.Toolbar.prototype.initialize.call(this, r), this._selectedFeatureCount = 0
            },
            getModeHandlers: function(r) {
                var a = this.options.featureGroup;
                return [{
                    enabled: this.options.edit,
                    handler: new L.EditToolbar.Edit(r, {
                        featureGroup: a,
                        selectedPathOptions: this.options.edit.selectedPathOptions,
                        poly: this.options.poly
                    }),
                    title: L.drawLocal.edit.toolbar.buttons.edit
                }, {
                    enabled: this.options.remove,
                    handler: new L.EditToolbar.Delete(r, {
                        featureGroup: a
                    }),
                    title: L.drawLocal.edit.toolbar.buttons.remove
                }]
            },
            getActions: function(r) {
                var a = [{
                    title: L.drawLocal.edit.toolbar.actions.save.title,
                    text: L.drawLocal.edit.toolbar.actions.save.text,
                    callback: this._save,
                    context: this
                }, {
                    title: L.drawLocal.edit.toolbar.actions.cancel.title,
                    text: L.drawLocal.edit.toolbar.actions.cancel.text,
                    callback: this.disable,
                    context: this
                }];
                return r.removeAllLayers && a.push({
                    title: L.drawLocal.edit.toolbar.actions.clearAll.title,
                    text: L.drawLocal.edit.toolbar.actions.clearAll.text,
                    callback: this._clearAllLayers,
                    context: this
                }), a
            },
            addToolbar: function(r) {
                var a = L.Toolbar.prototype.addToolbar.call(this, r);
                return this._checkDisabled(), this.options.featureGroup.on("layeradd layerremove", this._checkDisabled, this), a
            },
            removeToolbar: function() {
                this.options.featureGroup.off("layeradd layerremove", this._checkDisabled, this), L.Toolbar.prototype.removeToolbar.call(this)
            },
            disable: function() {
                this.enabled() && (this._activeMode.handler.revertLayers(), L.Toolbar.prototype.disable.call(this))
            },
            _save: function() {
                this._activeMode.handler.save(), this._activeMode && this._activeMode.handler.disable()
            },
            _clearAllLayers: function() {
                this._activeMode.handler.removeAllLayers(), this._activeMode && this._activeMode.handler.disable()
            },
            _checkDisabled: function() {
                var r, a = this.options.featureGroup,
                    s = a.getLayers().length !== 0;
                this.options.edit && (r = this._modes[L.EditToolbar.Edit.TYPE].button, s ? L.DomUtil.removeClass(r, "leaflet-disabled") : L.DomUtil.addClass(r, "leaflet-disabled"), r.setAttribute("title", s ? L.drawLocal.edit.toolbar.buttons.edit : L.drawLocal.edit.toolbar.buttons.editDisabled)), this.options.remove && (r = this._modes[L.EditToolbar.Delete.TYPE].button, s ? L.DomUtil.removeClass(r, "leaflet-disabled") : L.DomUtil.addClass(r, "leaflet-disabled"), r.setAttribute("title", s ? L.drawLocal.edit.toolbar.buttons.remove : L.drawLocal.edit.toolbar.buttons.removeDisabled))
            }
        }), L.EditToolbar.Edit = L.Handler.extend({
            statics: {
                TYPE: "edit"
            },
            initialize: function(r, a) {
                if (L.Handler.prototype.initialize.call(this, r), L.setOptions(this, a), this._featureGroup = a.featureGroup, !(this._featureGroup instanceof L.FeatureGroup)) throw new Error("options.featureGroup must be a L.FeatureGroup");
                this._uneditedLayerProps = {}, this.type = L.EditToolbar.Edit.TYPE;
                var s = L.version.split(".");
                parseInt(s[0], 10) === 1 && parseInt(s[1], 10) >= 2 ? L.EditToolbar.Edit.include(L.Evented.prototype) : L.EditToolbar.Edit.include(L.Mixin.Events)
            },
            enable: function() {
                !this._enabled && this._hasAvailableLayers() && (this.fire("enabled", {
                    handler: this.type
                }), this._map.fire(L.Draw.Event.EDITSTART, {
                    handler: this.type
                }), L.Handler.prototype.enable.call(this), this._featureGroup.on("layeradd", this._enableLayerEdit, this).on("layerremove", this._disableLayerEdit, this))
            },
            disable: function() {
                this._enabled && (this._featureGroup.off("layeradd", this._enableLayerEdit, this).off("layerremove", this._disableLayerEdit, this), L.Handler.prototype.disable.call(this), this._map.fire(L.Draw.Event.EDITSTOP, {
                    handler: this.type
                }), this.fire("disabled", {
                    handler: this.type
                }))
            },
            addHooks: function() {
                var r = this._map;
                r && (r.getContainer().focus(), this._featureGroup.eachLayer(this._enableLayerEdit, this), this._tooltip = new L.Draw.Tooltip(this._map), this._tooltip.updateContent({
                    text: L.drawLocal.edit.handlers.edit.tooltip.text,
                    subtext: L.drawLocal.edit.handlers.edit.tooltip.subtext
                }), r._editTooltip = this._tooltip, this._updateTooltip(), this._map.on("mousemove", this._onMouseMove, this).on("touchmove", this._onMouseMove, this).on("MSPointerMove", this._onMouseMove, this).on(L.Draw.Event.EDITVERTEX, this._updateTooltip, this))
            },
            removeHooks: function() {
                this._map && (this._featureGroup.eachLayer(this._disableLayerEdit, this), this._uneditedLayerProps = {}, this._tooltip.dispose(), this._tooltip = null, this._map.off("mousemove", this._onMouseMove, this).off("touchmove", this._onMouseMove, this).off("MSPointerMove", this._onMouseMove, this).off(L.Draw.Event.EDITVERTEX, this._updateTooltip, this))
            },
            revertLayers: function() {
                this._featureGroup.eachLayer(function(r) {
                    this._revertLayer(r)
                }, this)
            },
            save: function() {
                var r = new L.LayerGroup;
                this._featureGroup.eachLayer(function(a) {
                    a.edited && (r.addLayer(a), a.edited = !1)
                }), this._map.fire(L.Draw.Event.EDITED, {
                    layers: r
                })
            },
            _backupLayer: function(r) {
                var a = L.Util.stamp(r);
                this._uneditedLayerProps[a] || (r instanceof L.Polyline || r instanceof L.Polygon || r instanceof L.Rectangle ? this._uneditedLayerProps[a] = {
                    latlngs: L.LatLngUtil.cloneLatLngs(r.getLatLngs())
                } : r instanceof L.Circle ? this._uneditedLayerProps[a] = {
                    latlng: L.LatLngUtil.cloneLatLng(r.getLatLng()),
                    radius: r.getRadius()
                } : (r instanceof L.Marker || r instanceof L.CircleMarker) && (this._uneditedLayerProps[a] = {
                    latlng: L.LatLngUtil.cloneLatLng(r.getLatLng())
                }))
            },
            _getTooltipText: function() {
                return {
                    text: L.drawLocal.edit.handlers.edit.tooltip.text,
                    subtext: L.drawLocal.edit.handlers.edit.tooltip.subtext
                }
            },
            _updateTooltip: function() {
                this._tooltip.updateContent(this._getTooltipText())
            },
            _revertLayer: function(r) {
                var a = L.Util.stamp(r);
                r.edited = !1, this._uneditedLayerProps.hasOwnProperty(a) && (r instanceof L.Polyline || r instanceof L.Polygon || r instanceof L.Rectangle ? r.setLatLngs(this._uneditedLayerProps[a].latlngs) : r instanceof L.Circle ? (r.setLatLng(this._uneditedLayerProps[a].latlng), r.setRadius(this._uneditedLayerProps[a].radius)) : (r instanceof L.Marker || r instanceof L.CircleMarker) && r.setLatLng(this._uneditedLayerProps[a].latlng), r.fire("revert-edited", {
                    layer: r
                }))
            },
            _enableLayerEdit: function(r) {
                var a, s, l = r.layer || r.target || r;
                this._backupLayer(l), this.options.poly && (s = L.Util.extend({}, this.options.poly), l.options.poly = s), this.options.selectedPathOptions && (a = L.Util.extend({}, this.options.selectedPathOptions), a.maintainColor && (a.color = l.options.color, a.fillColor = l.options.fillColor), l.options.original = L.extend({}, l.options), l.options.editing = a), l instanceof L.Marker ? (l.editing && l.editing.enable(), l.dragging.enable(), l.on("dragend", this._onMarkerDragEnd).on("touchmove", this._onTouchMove, this).on("MSPointerMove", this._onTouchMove, this).on("touchend", this._onMarkerDragEnd, this).on("MSPointerUp", this._onMarkerDragEnd, this)) : l.editing.enable()
            },
            _disableLayerEdit: function(r) {
                var a = r.layer || r.target || r;
                a.edited = !1, a.editing && a.editing.disable(), delete a.options.editing, delete a.options.original, this._selectedPathOptions && (a instanceof L.Marker ? this._toggleMarkerHighlight(a) : (a.setStyle(a.options.previousOptions), delete a.options.previousOptions)), a instanceof L.Marker ? (a.dragging.disable(), a.off("dragend", this._onMarkerDragEnd, this).off("touchmove", this._onTouchMove, this).off("MSPointerMove", this._onTouchMove, this).off("touchend", this._onMarkerDragEnd, this).off("MSPointerUp", this._onMarkerDragEnd, this)) : a.editing.disable()
            },
            _onMouseMove: function(r) {
                this._tooltip.updatePosition(r.latlng)
            },
            _onMarkerDragEnd: function(r) {
                var a = r.target;
                a.edited = !0, this._map.fire(L.Draw.Event.EDITMOVE, {
                    layer: a
                })
            },
            _onTouchMove: function(r) {
                var a = r.originalEvent.changedTouches[0],
                    s = this._map.mouseEventToLayerPoint(a),
                    l = this._map.layerPointToLatLng(s);
                r.target.setLatLng(l)
            },
            _hasAvailableLayers: function() {
                return this._featureGroup.getLayers().length !== 0
            }
        }), L.EditToolbar.Delete = L.Handler.extend({
            statics: {
                TYPE: "remove"
            },
            initialize: function(r, a) {
                if (L.Handler.prototype.initialize.call(this, r), L.Util.setOptions(this, a), this._deletableLayers = this.options.featureGroup, !(this._deletableLayers instanceof L.FeatureGroup)) throw new Error("options.featureGroup must be a L.FeatureGroup");
                this.type = L.EditToolbar.Delete.TYPE;
                var s = L.version.split(".");
                parseInt(s[0], 10) === 1 && parseInt(s[1], 10) >= 2 ? L.EditToolbar.Delete.include(L.Evented.prototype) : L.EditToolbar.Delete.include(L.Mixin.Events)
            },
            enable: function() {
                !this._enabled && this._hasAvailableLayers() && (this.fire("enabled", {
                    handler: this.type
                }), this._map.fire(L.Draw.Event.DELETESTART, {
                    handler: this.type
                }), L.Handler.prototype.enable.call(this), this._deletableLayers.on("layeradd", this._enableLayerDelete, this).on("layerremove", this._disableLayerDelete, this))
            },
            disable: function() {
                this._enabled && (this._deletableLayers.off("layeradd", this._enableLayerDelete, this).off("layerremove", this._disableLayerDelete, this), L.Handler.prototype.disable.call(this), this._map.fire(L.Draw.Event.DELETESTOP, {
                    handler: this.type
                }), this.fire("disabled", {
                    handler: this.type
                }))
            },
            addHooks: function() {
                var r = this._map;
                r && (r.getContainer().focus(), this._deletableLayers.eachLayer(this._enableLayerDelete, this), this._deletedLayers = new L.LayerGroup, this._tooltip = new L.Draw.Tooltip(this._map), this._tooltip.updateContent({
                    text: L.drawLocal.edit.handlers.remove.tooltip.text
                }), this._map.on("mousemove", this._onMouseMove, this))
            },
            removeHooks: function() {
                this._map && (this._deletableLayers.eachLayer(this._disableLayerDelete, this), this._deletedLayers = null, this._tooltip.dispose(), this._tooltip = null, this._map.off("mousemove", this._onMouseMove, this))
            },
            revertLayers: function() {
                this._deletedLayers.eachLayer(function(r) {
                    this._deletableLayers.addLayer(r), r.fire("revert-deleted", {
                        layer: r
                    })
                }, this)
            },
            save: function() {
                this._map.fire(L.Draw.Event.DELETED, {
                    layers: this._deletedLayers
                })
            },
            removeAllLayers: function() {
                this._deletableLayers.eachLayer(function(r) {
                    this._removeLayer({
                        layer: r
                    })
                }, this), this.save()
            },
            _enableLayerDelete: function(r) {
                (r.layer || r.target || r).on("click", this._removeLayer, this)
            },
            _disableLayerDelete: function(r) {
                var a = r.layer || r.target || r;
                a.off("click", this._removeLayer, this), this._deletedLayers.removeLayer(a)
            },
            _removeLayer: function(r) {
                var a = r.layer || r.target || r;
                this._deletableLayers.removeLayer(a), this._deletedLayers.addLayer(a), a.fire("deleted")
            },
            _onMouseMove: function(r) {
                this._tooltip.updatePosition(r.latlng)
            },
            _hasAvailableLayers: function() {
                return this._deletableLayers.getLayers().length !== 0
            }
        })
})(window, document);
(function() {
    "use strict";
    var e = Symbol("newer"),
        t = Symbol("older"),
        i = function(f, d) {
            typeof f != "number" && (d = f, f = 0), this.size = 0, this.limit = f, this.oldest = this.newest = void 0, this._keymap = new Map, d && (this.assign(d), f < 1 && (this.limit = this.size))
        };
    i.prototype._markEntryAsUsed = function(f) {
        f !== this.newest && (f[e] && (f === this.oldest && (this.oldest = f[e]), f[e][t] = f[t]), f[t] && (f[t][e] = f[e]), f[e] = void 0, f[t] = this.newest, this.newest && (this.newest[e] = f), this.newest = f)
    }, i.prototype.assign = function(f) {
        var d, m = this.limit || Number.MAX_VALUE;
        this._keymap.clear();
        for (var T = f[Symbol.iterator](), x = T.next(); !x.done; x = T.next()) {
            var C = new n(x.value[0], x.value[1]);
            if (this._keymap.set(C.key, C), d ? (d[e] = C, C[t] = d) : this.oldest = C, d = C, m-- == 0) throw new Error("overflow")
        }
        this.newest = d, this.size = this._keymap.size
    }, i.prototype.get = function(f) {
        var d = this._keymap.get(f);
        if (d) return this._markEntryAsUsed(d), d.value
    }, i.prototype.set = function(f, d) {
        var m = this._keymap.get(f);
        return m ? (m.value = d, this._markEntryAsUsed(m), this) : (this._keymap.set(f, m = new n(f, d)), this.newest ? (this.newest[e] = m, m[t] = this.newest) : this.oldest = m, this.newest = m, ++this.size, this.size > this.limit && this.shift(), this)
    }, i.prototype.shift = function() {
        var f = this.oldest;
        if (f) return this.oldest[e] ? (this.oldest = this.oldest[e], this.oldest[t] = void 0) : (this.oldest = void 0, this.newest = void 0), f[e] = f[t] = void 0, this._keymap.delete(f.key), --this.size, [f.key, f.value]
    }, i.prototype.find = function(f) {
        var d = this._keymap.get(f);
        return d ? d.value : void 0
    }, i.prototype.has = function(f) {
        return this._keymap.has(f)
    }, i.prototype.delete = function(f) {
        var d = this._keymap.get(f);
        if (d) return this._keymap.delete(d.key), d[e] && d[t] ? (d[t][e] = d[e], d[e][t] = d[t]) : d[e] ? (d[e][t] = void 0, this.oldest = d[e]) : d[t] ? (d[t][e] = void 0, this.newest = d[t]) : this.oldest = this.newest = void 0, this.size--, d.value
    }, i.prototype.clear = function() {
        this.oldest = this.newest = void 0, this.size = 0, this._keymap.clear()
    }, i.prototype.keys = function() {
        return new a(this.oldest)
    }, i.prototype.values = function() {
        return new s(this.oldest)
    }, i.prototype.entries = function() {
        return this
    }, i.prototype[Symbol.iterator] = function() {
        return new r(this.oldest)
    }, i.prototype.forEach = function(f, d) {
        typeof d != "object" && (d = this);
        for (var m = this.oldest; m;) f.call(d, m.value, m.key, this), m = m[e]
    }, i.prototype.toJSON = function() {
        for (var f = new Array(this.size), d = 0, m = this.oldest; m;) f[d++] = {
            key: m.key,
            value: m.value
        }, m = m[e];
        return f
    }, i.prototype.toString = function() {
        for (var f = "", d = this.oldest; d;) f += String(d.key) + ":" + d.value, d = d[e], d && (f += " < ");
        return f
    };

    function n(u, f) {
        this.key = u, this.value = f, this[e] = void 0, this[t] = void 0
    }

    function r(u) {
        this.entry = u
    }
    r.prototype[Symbol.iterator] = function() {
        return this
    }, r.prototype.next = function() {
        var u = this.entry;
        return u ? (this.entry = u[e], {
            done: !1,
            value: [u.key, u.value]
        }) : {
            done: !0,
            value: void 0
        }
    };

    function a(u) {
        this.entry = u
    }
    a.prototype[Symbol.iterator] = function() {
        return this
    }, a.prototype.next = function() {
        var u = this.entry;
        return u ? (this.entry = u[e], {
            done: !1,
            value: u.key
        }) : {
            done: !0,
            value: void 0
        }
    };

    function s(u) {
        this.entry = u
    }
    s.prototype[Symbol.iterator] = function() {
        return this
    }, s.prototype.next = function() {
        var u = this.entry;
        return u ? (this.entry = u[e], {
            done: !1,
            value: u.value
        }) : {
            done: !0,
            value: void 0
        }
    };

    function l(u, f) {
        var d = 0,
            m = null;
        m = setInterval(function() {
            if (d >= 20) throw clearInterval(m), new Error("window.google not found after 10 seconds");
            window.google && window.google.maps && window.google.maps.Map && (clearInterval(m), u.call(f)), ++d
        }, 500)
    }
    L.GridLayer.GoogleMutant = L.GridLayer.extend({
        options: {
            maxZoom: 21,
            type: "roadmap",
            maxNativeZoom: 21
        },
        initialize: function(u) {
            L.GridLayer.prototype.initialize.call(this, u), this._tileCallbacks = {}, this._lru = new i(100), this._imagesPerTile = this.options.type === "hybrid" ? 2 : 1, this._boundOnMutatedImage = this._onMutatedImage.bind(this)
        },
        onAdd: function(u) {
            var f = this;
            L.GridLayer.prototype.onAdd.call(this, u), this._initMutantContainer(), this._logoContainer && u._controlCorners.bottomleft.appendChild(this._logoContainer), this._attributionContainer && u._controlCorners.bottomright.appendChild(this._attributionContainer), l(function() {
                f._map && (f._initMutant(), google.maps.event.addListenerOnce(f._mutant, "idle", function() {
                    f._map && (f._checkZoomLevels(), f._mutantIsReady = !0)
                }))
            })
        },
        onRemove: function(u) {
            L.GridLayer.prototype.onRemove.call(this, u), this._observer.disconnect(), u._container.removeChild(this._mutantContainer), this._logoContainer && L.DomUtil.remove(this._logoContainer), this._attributionContainer && L.DomUtil.remove(this._attributionContainer), this._mutant && google.maps.event.clearListeners(this._mutant, "idle")
        },
        addGoogleLayer: function(u, f) {
            var d = this;
            return this._subLayers || (this._subLayers = {}), this.whenReady(function() {
                var m = google.maps[u],
                    T = new m(f);
                T.setMap(d._mutant), d._subLayers[u] = T
            }), this
        },
        removeGoogleLayer: function(u) {
            var f = this;
            return this.whenReady(function() {
                var d = f._subLayers && f._subLayers[u];
                d && (d.setMap(null), delete f._subLayers[u])
            }), this
        },
        _initMutantContainer: function() {
            this._mutantContainer || (this._mutantContainer = L.DomUtil.create("div", "leaflet-google-mutant leaflet-top leaflet-left"), this._mutantContainer.id = "_MutantContainer_" + L.Util.stamp(this._mutantContainer), this._mutantContainer.style.pointerEvents = "none", this._mutantContainer.style.visibility = "hidden", L.DomEvent.off(this._mutantContainer)), this._map.getContainer().appendChild(this._mutantContainer), this.setOpacity(this.options.opacity);
            var u = this._mutantContainer.style;
            this._map.options.zoomSnap < 1 ? (u.width = "180%", u.height = "180%") : (u.width = "100%", u.height = "100%"), u.zIndex = -1, this._attachObserver(this._mutantContainer)
        },
        _initMutant: function() {
            if (!this._mutant) {
                var u = new google.maps.Map(this._mutantContainer, {
                    center: {
                        lat: 0,
                        lng: 0
                    },
                    zoom: 0,
                    tilt: 0,
                    mapTypeId: this.options.type,
                    disableDefaultUI: !0,
                    keyboardShortcuts: !1,
                    draggable: !1,
                    disableDoubleClickZoom: !0,
                    scrollwheel: !1,
                    styles: this.options.styles || [],
                    backgroundColor: "transparent"
                });
                this._mutant = u, this._update(), this.fire("spawned", {
                    mapObject: u
                }), this._waitControls(), this.once("controls_ready", this._setupAttribution)
            }
        },
        _attachObserver: function(f) {
            this._observer || (this._observer = new MutationObserver(this._onMutations.bind(this))), this._observer.observe(f, {
                childList: !0,
                subtree: !0
            }), Array.prototype.forEach.call(f.querySelectorAll("img"), this._boundOnMutatedImage)
        },
        _waitControls: function() {
            var u = this,
                f = setInterval(function() {
                    var d = u._mutant.__gm.layoutManager;
                    if (d) {
                        clearInterval(f);
                        var m;
                        Object.keys(d).forEach(function(T) {
                            var x = d[T];
                            x.get && x.get(1) instanceof Node && (m = x)
                        }), u.fire("controls_ready", {
                            positions: m
                        })
                    }
                }, 50)
        },
        _setupAttribution: function(u) {
            var f = google.maps.ControlPosition,
                d = this._attributionContainer = u.positions.get(f.BOTTOM_RIGHT);
            L.DomUtil.addClass(d, "leaflet-control leaflet-control-attribution"), L.DomEvent.disableClickPropagation(d), d.style.height = "14px", this._map._controlCorners.bottomright.appendChild(d), this._logoContainer = u.positions.get(f.BOTTOM_LEFT), this._logoContainer.style.pointerEvents = "auto", this._map._controlCorners.bottomleft.appendChild(this._logoContainer)
        },
        _onMutations: function(f) {
            for (var d = 0; d < f.length; ++d)
                for (var m = f[d], T = 0; T < m.addedNodes.length; ++T) {
                    var x = m.addedNodes[T];
                    x instanceof HTMLImageElement ? this._onMutatedImage(x) : x instanceof HTMLElement && Array.prototype.forEach.call(x.querySelectorAll("img"), this._boundOnMutatedImage)
                }
        },
        _roadRegexp: /!1i(\d+)!2i(\d+)!3i(\d+)!/,
        _satRegexp: /x=(\d+)&y=(\d+)&z=(\d+)/,
        _staticRegExp: /StaticMapService\.GetMapImage/,
        _onMutatedImage: function(f) {
            var d, m = f.src.match(this._roadRegexp),
                T = 0;
            if (m ? (d = {
                    z: m[1],
                    x: m[2],
                    y: m[3]
                }, this._imagesPerTile > 1 && (f.style.zIndex = 1, T = 1)) : (m = f.src.match(this._satRegexp), m && (d = {
                    x: m[1],
                    y: m[2],
                    z: m[3]
                }), T = 0), d) {
                var x = this._tileCoordsToKey(d);
                f.style.position = "absolute";
                var C = x + "/" + T;
                this._lru.set(C, f), C in this._tileCallbacks && this._tileCallbacks[C] && (this._tileCallbacks[C].forEach(function(N) {
                    return N(f)
                }), delete this._tileCallbacks[C])
            }
        },
        createTile: function(u, f) {
            var d = this._tileCoordsToKey(u),
                m = L.DomUtil.create("div");
            m.style.textAlign = "left", m.dataset.pending = this._imagesPerTile, f = f.bind(this, null, m);
            for (var T = 0; T < this._imagesPerTile; ++T) {
                var x = d + "/" + T,
                    C = this._lru.get(x);
                C ? (m.appendChild(this._clone(C)), --m.dataset.pending) : (this._tileCallbacks[x] = this._tileCallbacks[x] || [], this._tileCallbacks[x].push(function(N) {
                    return function(E) {
                        N.appendChild(this._clone(E)), --N.dataset.pending, parseInt(N.dataset.pending) || f()
                    }.bind(this)
                }.bind(this)(m)))
            }
            return parseInt(m.dataset.pending) || L.Util.requestAnimFrame(f), m
        },
        _clone: function(u) {
            var f = u.cloneNode(!0);
            return f.style.visibility = "visible", f
        },
        _checkZoomLevels: function() {
            var u = this._map.getZoom(),
                f = this._mutant.getZoom();
            !u || !f || (f !== u || f > this.options.maxNativeZoom) && this._setMaxNativeZoom(f)
        },
        _setMaxNativeZoom: function(u) {
            u !== this.options.maxNativeZoom && (this.options.maxNativeZoom = u, this._resetView())
        },
        _update: function(u) {
            if (this._mutant) {
                u = u || this._map.getCenter();
                var f = new google.maps.LatLng(u.lat, u.lng),
                    d = Math.round(this._map.getZoom()),
                    m = this._mutant.getZoom();
                this._mutant.setCenter(f), d !== m && (this._mutant.setZoom(d), this._mutantIsReady && this._checkZoomLevels())
            }
            L.GridLayer.prototype._update.call(this, u)
        },
        whenReady: function(u, f) {
            return this._mutant ? u.call(f || this, {
                target: this
            }) : this.on("spawned", u, f), this
        }
    }), L.gridLayer.googleMutant = function(u) {
        return new L.GridLayer.GoogleMutant(u)
    }
})();
var Lp, bo = 15,
    JN = ji && ji.maps && ji.maps.length > 0 ? ji.maps : [{
        name: "streets",
        maxzoom: 24,
        tiles: ["https://tile.openstreetmap.org/{z}/{x}/{y}.png"],
        attribution: '\xA9 <a href="http://openstreetmap.org">OpenStreetMap</a> | <a href="www.openstreetmap.org/copyright">Terms</a>'
    }],
    Wu = "https://maps.googleapis.com/maps/api/geocode/json?address={address}&sensor=true&key={api_key}",
    Pf = ji.googleApiKey || ji.google_api_key,
    eP = _r.default.divIcon({
        iconSize: [16, 24],
        className: "enketo-geopoint-marker"
    }),
    tP = _r.default.divIcon({
        iconSize: [16, 16],
        className: "enketo-geopoint-circle-marker"
    }),
    iP = _r.default.divIcon({
        iconSize: [16, 16],
        className: "enketo-geopoint-circle-marker-active"
    }),
    kp = class extends Rt {
        static get selector() {
            return '.question input[data-type-xml="geopoint"]:not([data-setvalue]):not([data-setgeopoint]), .question input[data-type-xml="geotrace"]:not([data-setvalue]):not([data-setgeopoint]), .question input[data-type-xml="geoshape"]:not([data-setvalue]):not([data-setgeopoint])'
        }
        static condition(t) {
            return !Qn.has(t, "ArcGisGeopicker")
        }
        _init() {
            let t = this.originalInputValue,
                i = this;
            this.$form = (0, Wn.default)(this.element).closest("form.or"), this.$question = (0, Wn.default)(this.element).closest(".question"), this.mapId = Math.round(Math.random() * 1e7), this._addDomElements(), this.currentIndex = 0, this.points = [], t && (this.value = t), this.$widget.find('[name="lat"], [name="long"], [name="alt"], [name="acc"]').on("change change.bymap change.bysearch", n => {
                let r = i.$lat.val() ? Number(i.$lat.val()) : "",
                    a = i.$lng.val() ? Number(i.$lng.val()) : "",
                    s = i.$alt.val() ? Number(i.$alt.val()) : "",
                    l = i.$acc.val() ? Number(i.$acc.val()) : "",
                    u = {
                        lat: r,
                        lng: a
                    };
                n.stopImmediatePropagation(), n.namespace !== "bymap" && n.namespace !== "bysearch" && i.polyline && i.props.type === "geoshape" && !i.containsEmptyPoints(i.points, i.currentIndex) && i.updatedPolylineWouldIntersect(u, i.currentIndex) ? (i._showIntersectError(), i._updateInputs(i.points[i.currentIndex], "nochange")) : (i._editPoint([r, a, s, l]), n.namespace !== "bysearch" && i.$search && i.$search.val(""))
            }), this.$kmlInput.on("change", function(n) {
                let r = i.$points.find(".addpoint"),
                    a = (0, Wn.default)(this).prev(".paste-progress").removeClass("hide"),
                    {
                        value: s
                    } = n.target,
                    l = i._convertKmlCoordinatesToLeafletCoordinates(s);
                n.target.value = "", setTimeout(() => {
                    l.forEach((u, f) => {
                        i._updateInputs(u), f < l.length - 1 && r.click()
                    }), a.remove(), i._switchInputType("points")
                }, 10)
            }), this.$widget.find(".toggle-input-type-btn").on("click", () => {
                let n = i.$inputGroup.hasClass("kml-input-mode") ? "points" : "kml";
                return i._switchInputType(n), !1
            }), (0, Wn.default)(this.element).on("change", function() {
                i.$kmlInput.prop("disabled", !!this.value)
            }).on("applyfocus", () => {
                i.$widget[0].querySelector("input").focus()
            }), this.$points.on("click", ".point", function() {
                return i._setCurrent(i.$points.find(".point").index((0, Wn.default)(this))), i._switchInputType("points"), !1
            }), this.$points.find(".addpoint").on("click", () => (i._addPoint(), !1)), this.$widget.find(".close-chain-btn").on("click", () => (i._closePolygon(), !1)), this.$widget.find(".btn-remove").on("click", () => {
                i.points.length < 2 ? i._updateInputs([]) : oi.confirm(Ae("geopicker.removePoint")).then(n => {
                    n && i._removePoint()
                }).catch(() => {})
            }), this.$map.find(".show-map-btn").on("click", () => (i.$widget.find(".search-bar").removeClass("hide-search"), i.$widget.addClass("full-screen"), i._updateMap(), !1)), this.$form.on(`pageflip.map${this.mapId}`, n => {
                i.map && Wn.default.contains(n.target, i.element) && (i.map.invalidateSize(), i.$form.off(`pageflip.map${i.mapId}`))
            }), this.props.wide && this.$widget.addClass("wide"), this.$widget.toggleClass("hide-input", this.$question.hasClass("or-appearance-hide-input")).find(".toggle-input-visibility-btn").on("click", function() {
                i.$widget.toggleClass("hide-input"), (0, Wn.default)(this).toggleClass("open", i.$widget.hasClass("hide-input")), i.map && i.map.invalidateSize(!1)
            }).toggleClass("open", i.$widget.hasClass("hide-input")), this.$widget.find(".hide-map-btn").on("click", () => (i.$widget.find(".search-bar").addClass("hide-search"), i.$widget.removeClass("full-screen").find(".map-canvas").removeClass("leaflet-container").find(".leaflet-google-layer").remove(), i.map && (i.map.remove(), i.map = void 0, this.loadMap = void 0, i.polygon = void 0, i.polyline = void 0), !1)), this.props.search && this._enableSearch(), this.props.detect && this._enableDetection(), this.props.readonly && this.disable(), t ? this.points.forEach(() => {
                i._addPointBtn()
            }) : this._addPoint(), t ? (this._updateMap(), this._setCurrent(this.currentIndex)) : (this._updateMap([0, 0], 1), this.props.detect && Mu().then(({
                position: n
            }) => {
                i._updateMap([n.coords.latitude, n.coords.longitude], bo)
            }).catch(() => {}))
        }
        _switchInputType(t) {
            t === "kml" ? this.$inputGroup.addClass("kml-input-mode") : t === "points" && this.$inputGroup.removeClass("kml-input-mode")
        }
        _addPointBtn() {
            this.$points.find(".addpoint").before('<a href="#" class="point" aria-label="point"> </a>')
        }
        _addDomElements() {
            let t = `<div class="map-canvas-wrapper"><div class=map-canvas id="map${this.mapId}"></div></div>`,
                i = '<div class="points"><button type="button" class="addpoint">+</button></div>',
                n = `
            <a href="#" class="toggle-input-type-btn">
                <span class="kml-input">KML</span>
                <span class="points-input" data-i18n="geopicker.points">${Ae("geopicker.points")}</span>
            </a>
            <label class="geo kml">
                <span data-i18n="geopicker.kmlcoords">${Ae("geopicker.kmlcoords")}</span>
                <progress class="paste-progress hide"></progress>
                <textarea class="ignore" name="kml" placeholder="${Ae("geopicker.kmlpaste")}" data-i18n="geopicker.kmlpaste"></textarea>
                <span class="disabled-msg">remove all points to enable</span>
            </label>`,
                r = `<button type="button" class="close-chain-btn btn btn-default btn-xs" data-i18n="geopicker.closepolygon">${Ae("geopicker.closepolygon")}</button>`,
                a = '<button type="button" class="show-map-btn btn btn-default">Map</button>';
            if (this.$widget = (0, Wn.default)(`<div class="geopicker widget">
                <div class="search-bar hide-search no-map no-detect">
                    <button type="button" class="hide-map-btn btn btn-default"><span class="icon icon-arrow-left"> </span></button>
                    <button name="geodetect" type="button" class="btn btn-default" title="detect current location" data-placement="top"><span class="icon icon-crosshairs"> </span></button>
                    <div class="input-group">
                        <input class="geo ignore" name="search" type="text" placeholder="${Ae("geopicker.searchPlaceholder")}" data-i18n="geopicker.searchPlaceholder" disabled="disabled"/>
                        <button type="button" class="btn btn-default search-btn"><i class="icon icon-search"> </i></button>
                    </div>
                </div>
                <div class="geo-inputs">
                    <label class="geo lat">
                        <span data-i18n="geopicker.latitude">${Ae("geopicker.latitude")}</span>
                        <input class="ignore" name="lat" type="number" step="0.000001" min="-90" max="90"/>
                    </label>
                    <label class="geo long">
                        <span data-i18n="geopicker.longitude">${Ae("geopicker.longitude")}</span>
                        <input class="ignore" name="long" type="number" step="0.000001" min="-180" max="180"/>
                    </label>
                    <label class="geo alt">
                        <span data-i18n="geopicker.altitude">${Ae("geopicker.altitude")}</span>
                        <input class="ignore" name="alt" type="number" step="0.1" />
                    </label>
                    <label class="geo acc">
                        <span data-i18n="geopicker.accuracy">${Ae("geopicker.accuracy")}</span>
                        <input class="ignore" name="acc" type="number" step="0.1" />
                    </label>
                    <button type="button" class="btn-icon-only btn-remove" aria-label="remove"><span class="icon icon-trash"> </span></button>
                </div>
            </div>`), this.props.detect && (this.$widget.find(".search-bar").removeClass("no-detect"), this.$detect = this.$widget.find('button[name="geodetect"]')), this.$search = this.$widget.find('[name="search"]'), this.$inputGroup = this.$widget.find(".geo-inputs"), this.props.map ? (this.$widget.find(".search-bar").removeClass("no-map").after(t), this.$map = this.$widget.find(".map-canvas"), this.$map.parent().append('<button type="button" class="toggle-input-visibility-btn" aria-label="toggle input"> </button>')) : this.$map = (0, Wn.default)(), this.props.touch && this.props.map && this.$map.append(a), this.props.touch || this.$widget.find(".search-bar").removeClass("hide-search"), this.props.type !== "geopoint") {
                this.$points = (0, Wn.default)(i), this.$widget.prepend(this.$points), this.props.type === "geoshape" && this.$inputGroup.append(r);
                let s = (0, Wn.default)(n);
                this.$kmlInput = s.find('[name="kml"]'), this.$inputGroup.prepend(s)
            } else this.$points = (0, Wn.default)(), this.$kmlInput = (0, Wn.default)();
            this.$lat = this.$widget.find('[name="lat"]'), this.$lng = this.$widget.find('[name="long"]'), this.$alt = this.$widget.find('[name="alt"]'), this.$acc = this.$widget.find('[name="acc"]'), (0, Wn.default)(this.element).hide().after(this.$widget).parent().addClass("clearfix")
        }
        _updateValue() {
            this._markAsValid();
            let t = this.originalInputValue,
                i = this.value;
            return t !== i ? (this.originalInputValue = i, !0) : !1
        }
        _isValidGeopoint(t) {
            return t ? Hn.geopoint.validate(t) : !1
        }
        _isValidLatLngList(t) {
            let i = this;
            return t.every((n, r, a) => i._isValidLatLng(n) || n.join() === "" && r === a.length - 1)
        }
        _cleanLatLng(t) {
            return Array.isArray(t) ? [t[0], t[1]] : t
        }
        _isValidLatLng(t) {
            let i = typeof t[0] == "number" ? t[0] : typeof t.lat == "number" ? t.lat : null,
                n = typeof t[1] == "number" ? t[1] : typeof t.lng == "number" ? t.lng : null;
            return Hn.geopoint.validate([i, n].join(" "))
        }
        _markAsInvalid(t) {
            this.$points.find(".point").eq(t).addClass("has-error")
        }
        _markAsValid() {
            this.$points.find(".point").removeClass("has-error")
        }
        _setCurrent(t) {
            this.currentIndex = t, this.$points.find(".point").removeClass("active").eq(t).addClass("active"), this._updateInputs(this.points[t], ""), this.map && (!this.props.touch || this._inFullScreenMode()) && this._updateMarkers()
        }
        _enableDetection() {
            let t = this,
                i = {
                    enableHighAccuracy: !0,
                    maximumAge: 0
                };
            this.$detect.click(n => (n.preventDefault(), Mu(i).then(r => {
                if (t.polyline && t.props.type === "geoshape" && t.updatedPolylineWouldIntersect(r, t.currentIndex)) t._showIntersectError();
                else {
                    let {
                        lat: a,
                        lng: s,
                        position: l
                    } = r;
                    t._updateInputs([a, s, l.coords.altitude, l.coords.accuracy]), t.currentIndex === t.points.length - 1 && t.props.type !== "geopoint" && t._addPoint()
                }
            }).catch(() => {
                console.error("error occurred trying to obtain position")
            }), !1))
        }
        _enableSearch() {
            let t = this;
            Pf ? Wu = Wu.replace("{api_key}", Pf) : Wu = Wu.replace("&key={api_key}", ""), this.$search.prop("disabled", !1).on("change", function(i) {
                let n = (0, Wn.default)(this).val();
                i.stopImmediatePropagation(), n && (n = n.split(/\s+/).join("+"), Wn.default.get(Wu.replace("{address}", n), r => {
                    let a;
                    r.results && r.results.length > 0 && r.results[0].geometry && r.results[0].geometry.location ? (a = r.results[0].geometry.location, t._updateMap([a.lat, a.lng], bo), t.$search.closest(".input-group").removeClass("has-error")) : (t.$search.closest(".input-group").addClass("has-error"), console.warn(`Location "${n}" not found`))
                }, "json").fail(() => {
                    t.$search.closest(".input-group").addClass("has-error"), console.error("Error. Geocoding service may not be available or app is offline")
                }).always(() => {}))
            })
        }
        _dynamicMapAvailable() {
            return !!this.map
        }
        _inFullScreenMode() {
            return this.$widget.hasClass("full-screen")
        }
        _updateMap(t, i) {
            let n = this;
            this.props.map && (i || (this.map ? i = this.map.getZoom() || bo : i = bo), t && (this.lastLatLng = t), (!this.props.touch || this._inFullScreenMode()) && (this.loadMap = this.loadMap || this._addDynamicMap(), this.loadMap.then(() => {
                n._updateDynamicMapView(t, i)
            }).catch(() => {})))
        }
        _addDynamicMap() {
            let t = this;
            return this._getLayers().then(i => {
                let n = {
                    layers: t._getDefaultLayer(i)
                };
                t.map = _r.default.map(`map${t.mapId}`, n).on("click", r => {
                    let a, s;
                    if (t.props.readonly) return !1;
                    a = r.latlng, s = t.$lat.val() && t.$lng.val() ? t.points.length : t.currentIndex, a.lat = Math.round(a.lat * 1e6) / 1e6, a.lng = Math.round(a.lng * 1e6) / 1e6, t.props.type === "geoshape" && !t.containsEmptyPoints(t.points, s) && t.updatedPolylineWouldIntersect(a, s) ? t._showIntersectError() : !t.$lat.val() || !t.$lng.val() || t.props.type === "geopoint" ? t._updateInputs(a, "change.bymap") : t.$lat.val() && t.$lng.val() && (t._addPoint(), t._updateInputs(a, "change.bymap"))
                }), this.map.on("load", () => {
                    this.map.on("zoomend", r => {
                        let a = r.target.getZoom();
                        a != null && (this.lastZoom = a)
                    })
                }), t.map.attributionControl.setPrefix(""), i.length > 1 && _r.default.control.layers(t._getBaseLayers(i), null).addTo(t.map), t.$widget.find(".leaflet-control-layers-toggle").append('<span class="icon icon-globe"></span>'), t.map.on("baselayerchange", () => {
                    t.$widget.find(".leaflet-control-container input").addClass("ignore no-unselect").next("span").addClass("option-label")
                })
            })
        }
        _updateDynamicMapView(t, i) {
            t ? this.map.setView(t, i || bo) : (this._updatePolyline(), this._updateMarkers(), this.points.length === 1 && this.points[0].toString() === "" && (this.lastLatLng ? this.map.setView(this.lastLatLng, this.lastZoom || bo) : this.map.setView(_r.default.latLng(0, 0), i || bo)))
        }
        _showIntersectError() {
            oi.alert(Ae("geopicker.bordersintersectwarning"))
        }
        _getLayers() {
            let t = this,
                i = [];
            return JN.forEach((n, r) => {
                typeof n.tiles == "string" && /^GOOGLE_(SATELLITE|ROADMAP|HYBRID|TERRAIN)/.test(n.tiles) ? i.push(t._getGoogleTileLayer(n, r)) : n.tiles ? i.push(t._getLeafletTileLayer(n, r)) : console.error("Configuration error for map tiles. Not a valid tile layer: ", n)
            }), Promise.all(i)
        }
        _getLeafletTileLayer(t, i) {
            let n, r = this._getTileOptions(t, i);
            return t.tileIndex = t.tileIndex === void 0 ? Math.round(Math.random() * 100) % t.tiles.length : t.tileIndex, n = t.tiles[t.tileIndex], Promise.resolve(_r.default.tileLayer(n, r))
        }
        _getGoogleTileLayer(t, i) {
            let n = this._getTileOptions(t, i);
            return n.type = t.tiles.substring(7).toLowerCase(), this._loadGoogleMapsScript().then(() => _r.default.gridLayer.googleMutant(n))
        }
        _getTileOptions(t, i) {
            let n = t.name || `map-${i+1}`;
            return {
                id: t.id || n,
                maxZoom: t.maxzoom || 18,
                minZoom: t.minzoom || 0,
                name: n,
                attribution: t.attribution || ""
            }
        }
        _loadGoogleMapsScript() {
            return Lp || (Lp = new Promise(t => {
                let i, n;
                window.gmapsLoaded = () => {
                    t()
                }, i = Pf ? `&key=${Pf}` : "", n = `https://maps.google.com/maps/api/js?v=weekly${i}&libraries=places&callback=gmapsLoaded`, Og(n)
            })), Lp
        }
        _getDefaultLayer(t) {
            let i, n = this;
            return t.reverse().some(r => (i = r, n.props.appearances.some(a => a === r.options.name))), i
        }
        _getBaseLayers(t) {
            let i = {};
            return t.forEach(n => {
                i[n.options.name] = n
            }), i
        }
        _updateMarkers() {
            let t = [],
                i = [],
                n = this;
            this.markerLayer && this.markerLayer.clearLayers(), !(this.points.length < 2 && this.points[0].join() === "") && (this.points.forEach((r, a) => {
                let s = n.props.type === "geopoint" ? eP : a === n.currentIndex ? iP : tP;
                n._isValidLatLng(r) ? (t.push(n._cleanLatLng(r)), i.push(_r.default.marker(n._cleanLatLng(r), {
                    icon: s,
                    clickable: !n.props.readonly,
                    draggable: !n.props.readonly,
                    alt: a,
                    opacity: .9
                }).on("click", l => {
                    l.target.options.alt === 0 && n.props.type === "geoshape" ? n._closePolygon() : n._setCurrent(l.target.options.alt)
                }).on("dragend", l => {
                    let u = l.target.getLatLng(),
                        f = l.target.options.alt;
                    u.lat = Math.round(u.lat * 1e6) / 1e6, u.lng = Math.round(u.lng * 1e6) / 1e6, n.polyline && n.props.type === "geoshape" && n.updatedPolylineWouldIntersect(u, f) ? (n._showIntersectError(), n._updateMarkers()) : (n._setCurrent(f), n._updateInputs(u, "change.bymap"), n._updateMap())
                }))) : console.warn("this latLng was not considered valid", r)
            }), i.length > 0 && (this.markerLayer = _r.default.layerGroup(i).addTo(this.map), (this.points.length === 1 || !this._isValidLatLngList(this.points)) && this.map.setView(t[0], this.lastZoom || bo)))
        }
        _updatePolyline() {
            let t, i = this;
            if (this.props.type !== "geopoint") {
                if (this.points.length < 2 || !this._isValidLatLngList(this.points)) {
                    this.map && (this.polyline && this.map.removeLayer(this.polyline), this.polygon && this.map.removeLayer(this.polygon)), this.polyline = null, this.polygon = null;
                    return
                }
                this.props.type === "geoshape" && this._updatePolygon(), t = this.points[this.points.length - 1].join("") !== "" ? this.points : this.points.slice(0, this.points.length - 1), t = t.map(n => i._cleanLatLng(n)), this.polyline ? this.polyline.setLatLngs(t) : (this.polyline = _r.default.polyline(t, {
                    color: "red"
                }), this.map.addLayer(this.polyline)), setTimeout(() => {
                    i.map.fitBounds(i.polyline.getBounds())
                }, 0)
            }
        }
        _updatePolygon() {
            let t, i = this;
            this.props.type === "geopoint" || this.props.type === "geotrace" || (t = this.points[this.points.length - 1].join("") !== "" ? this.points : this.points.slice(0, this.points.length - 1), t = t.map(n => i._cleanLatLng(n)), this.polygon ? this.polygon.setLatLngs(t) : (this.polygon = _r.default.polygon(t, {
                color: "red",
                stroke: !1
            }), this.map.addLayer(this.polygon)), this._updateArea(t))
        }
        _updateArea(t) {
            let i, n;
            if (t.length > 2) {
                let r = t.map(a => ({
                    lat: a[0],
                    lng: a[1]
                }));
                i = _r.default.GeometryUtil.geodesicArea(r), n = _r.default.GeometryUtil.readableArea(i, !0), _r.default.popup({
                    className: "enketo-area-popup"
                }).setLatLng(this.polygon.getBounds().getCenter()).setContent(n).openOn(this.map)
            } else this.map.closePopup()
        }
        _addPoint() {
            this._addPointBtn(), this.points.push([]), this._setCurrent(this.points.length - 1), this._updateValue()
        }
        _editPoint(t) {
            let i;
            return this.points[this.currentIndex] = t, i = this._updateValue(), i && this._updateMap(), i
        }
        _removePoint() {
            let t = this.currentIndex;
            this.points.splice(this.currentIndex, 1), this._updateValue(), this.$points.find(".point").eq(this.currentIndex).remove(), typeof this.points[this.currentIndex] > "u" && (t = this.currentIndex - 1), this._setCurrent(t), this._updateMap()
        }
        _closePolygon() {
            let t = this.points[this.points.length - 1];
            if (!(this.points.length < 3 || this.points.length === 3 && !this._isValidLatLng(this.points[2]) || JSON.stringify(this.points[0]) === JSON.stringify(t))) {
                if (this._isValidLatLng(t) ? this._addPoint() : this.currentIndex = this.points.length - 1, this.polyline && !this.containsEmptyPoints(this.points, this.points.length) && this.updatedPolylineWouldIntersect(this.points[0], this.currentIndex)) return this._showIntersectError();
                this._updateInputs(this.points[0])
            }
        }
        _updateInputs(t, i) {
            let n = t[0] || t.lat || "",
                r = t[1] || t.lng || "",
                a = t[2] || t.alt || "",
                s = t[3] || t.acc || "";
            i = typeof i < "u" ? i : "change", this.$lat.val(n || ""), this.$lng.val(r || ""), this.$alt.val(a || ""), this.$acc.val(s || "").trigger(i)
        }
        _convertKmlCoordinatesToLeafletCoordinates(t) {
            let i = [],
                n = /<\s?coordinates>(([^<]|\n)*)<\/\s?coordinates\s?>/;
            return t = n.test(t) ? t.match(n)[1] : t, t.trim().split(/\s+/).forEach(a => {
                let s = [];
                a.split(",").forEach((l, u) => {
                    let f = Number(l);
                    u === 0 ? s[1] = f : u === 1 ? s[0] = f : u === 2 && (s[2] = f)
                }), i.push(s)
            }), i
        }
        updatedPolylineWouldIntersect(t, i) {
            let n = [],
                r, a, s, l = this;
            return this.points < 3 ? !1 : (Wn.default.extend(!0, n, this.points), n[i] = [t[0] || t.lat, t[1] || t.lng], r = n[n.length - 1].join("") !== "" ? n : n.slice(0, n.length - 1), r[0][0] === r[r.length - 1][0] && r[0][1] === r[r.length - 1][1] && (r = r.slice(0, r.length - 1)), r = r.map(u => l._cleanLatLng(u)), a = _r.default.polyline(r, {
                color: "white"
            }), this.map.addLayer(a), s = a.intersects(), this.map.removeLayer(a), s)
        }
        containsEmptyPoints(t, i) {
            return t.some((n, r) => r !== i && (!n[0] || !n[1]))
        }
        get props() {
            let t = this._props;
            return t.detect = !!navigator.geolocation, t.map = !Vi.touch || t.appearances.includes("maps") || t.appearances.includes("placement-map"), t.search = t.map, t.touch = Vi.touch, t.wide = this.question.clientWidth / this.element.closest("form.or").clientWidth > .8, t
        }
        get value() {
            let t = "";
            return this.points.forEach((i, n, r) => {
                let a, s = typeof i[0] == "number" ? i[0] : typeof i.lat == "number" ? i.lat : null,
                    l = typeof i[1] == "number" ? i[1] : typeof i.lng == "number" ? i.lng : null,
                    u = typeof i[2] == "number" ? i[2] : 0,
                    f = typeof i[3] == "number" ? i[3] : 0;
                a = s && l ? `${s} ${l} ${u} ${f}` : "", !this._isValidGeopoint(a) && !(a === "" && n === r.length - 1) && this._markAsInvalid(n), a === "" && n === r.length - 1 ? t = t.substring(0, t.lastIndexOf(";")) : (t += a, n !== r.length - 1 && (t += ";"))
            }), t
        }
        set value(t) {
            t.trim().split(";").forEach((i, n) => {
                this.points[n] = i.trim().split(" "), this.points[n].forEach((r, a, s) => {
                    s[a] = Number(r)
                })
            })
        }
        enable() {
            (0, Wn.default)(this.element).next(".widget").removeClass("readonly").find("input, select, textarea").prop("disabled", !1).end().find(".btn:not(.show-map-btn):not(.hide-map-btn), .btn-icon-only, .addpoint").prop("disabled", !1), this.map && this.map.invalidateSize()
        }
        disable() {
            (0, Wn.default)(this.element).next(".widget").addClass("readonly").find("input, select, textarea").prop("disabled", !0).end().find(".btn:not(.show-map-btn):not(.hide-map-btn), .btn-icon-only, .addpoint").prop("disabled", !0)
        }
        update() {
            let t = this.element.parentElement.querySelector(".widget");
            t && (t.remove(), this.loadMap = void 0, this.map = void 0, this.polyline = void 0, this.polygon = void 0, this._init())
        }
    },
    G1 = kp;
var Ip = class extends Rt {
        static get selector() {
            return "form"
        }
        _init() {
            let t = this.element.querySelectorAll("textarea");
            this.defaultHeight = t[0] ? t[0].clientHeight : 20, this.element.addEventListener("input", i => {
                let n = i.target;
                n.nodeName.toLowerCase() === "textarea" && this._resize(n)
            }), new Tl(this.element).waitForQuietness().then(() => {
                t.forEach(this._resize.bind(this))
            }), this.element.addEventListener(He.PageFlip().type, i => {
                i.target.querySelectorAll("textarea").forEach(this._resize.bind(this))
            })
        }
        _resize(t) {
            t.scrollHeight > t.clientHeight && t.scrollHeight > this.defaultHeight && (t.style.height = `${t.scrollHeight}px`, t.style.flex = "auto")
        }
    },
    Z1 = Ip;
var Ap = class extends Rt {
        static get selector() {
            return '.or-appearance-url input[type="text"]'
        }
        _init() {
            let t = document.createRange().createContextualFragment('<a class="widget url-widget" target="_blank" rel="noopener"/>');
            this.element.classList.add("hide"), this.element.after(t), this.value = this.originalInputValue
        }
        update() {
            this.value = this.originalInputValue
        }
        get value() {
            return this.question.querySelector(".url-widget").href
        }
        set value(t) {
            t = t || "";
            let i = this.question.querySelector(".url-widget");
            i.href = t, i.title = t, i.textContent = t
        }
    },
    X1 = Ap;
var Ku = class {};
var Rf = ei(an());
var Dp = class extends Rt {
        static get selector() {
            return "form"
        }
        _init() {
            let t = (0, Rf.default)(this.element),
                i = this;
            t.on("click", 'input[type="radio"]:not([readonly]):checked', function() {
                (0, Rf.default)(this).parent("label").siblings().removeAttr("data-checked").end().attr("data-checked", "true")
            }).on("click", 'input[type="checkbox"]:not([readonly])', function() {
                i._updateDataChecked(this)
            }).on(He.InputUpdate().type, 'input[type="radio"], input[type="checkbox"]', function() {
                this.closest(".option-wrapper").querySelectorAll('input[type="radio"],input[type="checkbox"]').forEach(n => i._updateDataChecked(n))
            }).on("click", 'input[type="checkbox"][readonly],input[type="radio"][readonly]', n => (n.stopImmediatePropagation(), !1)).on(He.Change().type, 'input[type="checkbox"][readonly],input[type="radio"][readonly]', function(n) {
                let r = typeof n.originalEvent > "u";
                return r || (n.stopImmediatePropagation(), this.checked && this.parentNode.dataset.checked !== "true" && (this.checked = !1)), r
            }).on("click", '[data-checked]>input[type="radio"]:not(.no-unselect)', function() {
                (0, Rf.default)(this).prop("checked", !1).trigger("change").parent().removeAttr("data-checked")
            }), this.element.querySelectorAll('input[type="radio"]:checked, input[type="checkbox"]:checked').forEach(n => this._updateDataChecked(n))
        }
        _updateDataChecked(t) {
            t.checked ? t.parentNode.dataset.checked = !0 : delete t.parentNode.dataset.checked
        }
    },
    Y1 = Dp;
var Bf = ei(an());
var o4 = ei(Np());
var Pp = class extends Rt {
        static get selector() {
            return '.question input[type="date"]'
        }
        static condition() {
            return !Vi.touch || !Vi.inputTypes.date
        }
        _init() {
            this.settings = this.props.appearances.includes("year") ? {
                format: "yyyy",
                startView: "decade",
                minViewMode: "years"
            } : this.props.appearances.includes("month-year") ? {
                format: "yyyy-mm",
                startView: "year",
                minViewMode: "months"
            } : {
                format: "yyyy-mm-dd",
                startView: "month",
                minViewMode: "days"
            }, this.$fakeDateI = this._createFakeDateInput(this.settings.format), this._setChangeHandler(this.$fakeDateI), this._setFocusHandler(this.$fakeDateI), this._setResetHandler(this.$fakeDateI), this.enable(), this.value = this.element.value, this.props.readonly && this.disable()
        }
        _createFakeDateInput(t) {
            let i = (0, Bf.default)(this.element),
                n = (0, Bf.default)(`<div class="widget date"><input class="ignore input-small" type="text" placeholder="${t}" /></div>`).append(this.resetButtonHtml),
                r = n.find("input");
            return i.hide().before(n), r
        }
        _setChangeHandler(t) {
            let {
                settings: i
            } = this;
            t.on("change paste", n => {
                var s;
                let r = "",
                    a = n.type === "paste" ? Rg((s = n.originalEvent) != null ? s : n) : this.displayedValue;
                return a.length > 0 && (Yn(a) && i.format !== "yyyy" ? r = "" : (a = this._toActualDate(a), r = Hn.date.convert(a))), t.val(this._toDisplayDate(r)).datepicker("update"), r === "" && n.type === "paste" && n.stopImmediatePropagation(), this.originalInputValue !== r && (this.originalInputValue = r), !1
            })
        }
        _setResetHandler(t) {
            t.next(".btn-reset").on("click", () => {
                this.originalInputValue && (this.value = "")
            })
        }
        _setFocusHandler(t) {
            (0, Bf.default)(this.element).on("applyfocus", () => {
                t[0].focus()
            })
        }
        _toActualDate(t = "") {
            return t = t.trim(), t && this.settings.format === "yyyy" && t.length < 5 ? `${t}-01-01` : t && this.settings.format === "yyyy-mm" && t.length < 8 ? `${t}-01` : t
        }
        _toDisplayDate(t = "") {
            return t = t.trim(), t && this.settings.format === "yyyy" ? t.substring(0, 4) : this.settings.format === "yyyy-mm" ? t.substring(0, 7) : t
        }
        disable() {
            this.$fakeDateI.datepicker("destroy"), this.$fakeDateI.prop("disabled", !0), this.$fakeDateI.next(".btn-reset").prop("disabled", !0)
        }
        enable() {
            this.$fakeDateI.datepicker({
                format: this.settings.format,
                autoclose: !0,
                todayHighlight: !0,
                startView: this.settings.startView,
                minViewMode: this.settings.minViewMode,
                forceParse: !1
            }), this.$fakeDateI.prop("disabled", !1), this.$fakeDateI.next(".btn-reset").prop("disabled", !1)
        }
        update() {
            this.value = this.element.value
        }
        get displayedValue() {
            return this.question.querySelector(".widget input").value
        }
        get value() {
            return this._toActualDate(this.displayedValue)
        }
        set value(t) {
            this.$fakeDateI[0].disabled ? this.$fakeDateI[0].value = this._toDisplayDate(t) : this.$fakeDateI.datepicker("setDate", this._toDisplayDate(t))
        }
    },
    J1 = Pp;
var Mf = ei(an());
var ex = ei(an());
((e, t, i) => {
    let n = function(r, a) {
        this.languages = navigator.languages, this.widget = "", this.$element = e(r), this.defaultTime = a.defaultTime, this.disableFocus = a.disableFocus, this.disableMousewheel = a.disableMousewheel, this.isOpen = a.isOpen, this.minuteStep = a.minuteStep, this.orientation = a.orientation, this.secondStep = a.secondStep, this.snapToStep = a.snapToStep, this.showInputs = a.showInputs, this.showSeconds = a.showSeconds, this.template = a.template, this.appendWidgetTo = a.appendWidgetTo, this.showWidgetOnAddonClick = a.showWidgetOnAddonClick, this.icons = a.icons, this.maxHours = a.maxHours, this.explicitMode = a.explicitMode, this.handleDocumentClick = s => {
            let l = s.data.scope;
            l.$element.parent().find(s.target).length || l.$widget.is(s.target) || l.$widget.find(s.target).length || l.hideWidget()
        }, this._init()
    };
    n.prototype = {
        get showMeridian() {
            return ur.hour12
        },
        get meridianNotation() {
            return {
                am: ur.amNotation,
                pm: ur.pmNotation
            }
        },
        constructor: n,
        _init() {
            let r = this;
            this.showWidgetOnAddonClick && this.$element.parent().hasClass("input-group") && this.$element.parent().hasClass("timepicker") ? (this.$element.parent(".input-group.timepicker").find(".input-group-addon").on({
                "click.timepicker": e.proxy(this.showWidget, this)
            }), this.$element.on({
                "focus.timepicker": e.proxy(this.highlightUnit, this),
                "click.timepicker": e.proxy(this.highlightUnit, this),
                "keydown.timepicker": e.proxy(this.elementKeydown, this),
                "blur.timepicker": e.proxy(this.blurElement, this),
                "mousewheel.timepicker DOMMouseScroll.timepicker": e.proxy(this.mousewheel, this)
            })) : this.template ? this.$element.on({
                "focus.timepicker": e.proxy(this.showWidget, this),
                "click.timepicker": e.proxy(this.showWidget, this),
                "blur.timepicker": e.proxy(this.blurElement, this),
                "mousewheel.timepicker DOMMouseScroll.timepicker": e.proxy(this.mousewheel, this)
            }) : this.$element.on({
                "focus.timepicker": e.proxy(this.highlightUnit, this),
                "click.timepicker": e.proxy(this.highlightUnit, this),
                "keydown.timepicker": e.proxy(this.elementKeydown, this),
                "blur.timepicker": e.proxy(this.blurElement, this),
                "mousewheel.timepicker DOMMouseScroll.timepicker": e.proxy(this.mousewheel, this)
            }), this.template !== !1 ? (this.$widget = e(this.getTemplate()).on("click", e.proxy(this.widgetClick, this)), this.meridianColumns = this.$widget[0].querySelectorAll(".meridian-column")) : this.$widget = !1, this.showInputs && this.$widget !== !1 && this.$widget.find("input").each(function() {
                e(this).on({
                    "click.timepicker": function() {
                        e(this).select()
                    },
                    "keydown.timepicker": e.proxy(r.widgetKeydown, r),
                    "keyup.timepicker": e.proxy(r.widgetKeyup, r)
                })
            }), this.setDefaultTime(this.defaultTime)
        },
        blurElement() {
            this.highlightedUnit = null, this.updateFromElementVal()
        },
        clear() {
            this.hour = "", this.minute = "", this.second = "", this.meridian = "", this.$element.val("")
        },
        decrementHour() {
            if (this.hour === "" && (this.hour = this.getCurrentHour(), this.incrementHour()), this.showMeridian)
                if (this.hour === 1) this.hour = 12;
                else {
                    if (this.hour === 12) return this.hour--, this.toggleMeridian();
                    if (this.hour === 0) return this.hour = 11, this.toggleMeridian();
                    this.hour--
                }
            else this.hour <= 0 ? this.hour = this.maxHours - 1 : this.hour--
        },
        decrementMinute(r) {
            let a;
            this.minute === "" && (this.minute = this.getCurrentMinute(), this.incrementMinute()), r ? a = this.minute - r : a = this.minute - this.minuteStep, a < 0 ? (this.decrementHour(), this.minute = a + 60) : this.minute = a
        },
        decrementSecond() {
            let r = this.second - this.secondStep;
            r < 0 ? (this.decrementMinute(!0), this.second = r + 60) : this.second = r
        },
        elementKeydown(r) {
            switch (r.which) {
                case 9:
                    if (r.shiftKey) {
                        if (this.highlightedUnit === "hour") {
                            this.hideWidget();
                            break
                        }
                        this.highlightPrevUnit()
                    } else if (this.showMeridian && this.highlightedUnit === "meridian" || this.showSeconds && this.highlightedUnit === "second" || !this.showMeridian && !this.showSeconds && this.highlightedUnit === "minute") {
                        this.hideWidget();
                        break
                    } else this.highlightNextUnit();
                    r.preventDefault(), this.updateFromElementVal();
                    break;
                case 27:
                    this.updateFromElementVal();
                    break;
                case 37:
                    r.preventDefault(), this.highlightPrevUnit(), this.updateFromElementVal();
                    break;
                case 38:
                    switch (r.preventDefault(), this.highlightedUnit) {
                        case "hour":
                            this.incrementHour(), this.highlightHour();
                            break;
                        case "minute":
                            this.incrementMinute(), this.highlightMinute();
                            break;
                        case "second":
                            this.incrementSecond(), this.highlightSecond();
                            break;
                        case "meridian":
                            this.toggleMeridian(), this.highlightMeridian();
                            break
                    }
                    this.update();
                    break;
                case 39:
                    r.preventDefault(), this.highlightNextUnit(), this.updateFromElementVal();
                    break;
                case 40:
                    switch (r.preventDefault(), this.highlightedUnit) {
                        case "hour":
                            this.decrementHour(), this.highlightHour();
                            break;
                        case "minute":
                            this.decrementMinute(), this.highlightMinute();
                            break;
                        case "second":
                            this.decrementSecond(), this.highlightSecond();
                            break;
                        case "meridian":
                            this.toggleMeridian(), this.highlightMeridian();
                            break
                    }
                    this.update();
                    break
            }
        },
        getCursorPosition() {
            let r = this.$element.get(0);
            if ("selectionStart" in r) return r.selectionStart;
            if (i.selection) {
                r.focus();
                let a = i.selection.createRange(),
                    s = i.selection.createRange().text.length;
                return a.moveStart("character", -r.value.length), a.text.length - s
            }
        },
        getMeridianLength() {
            let r = i.createElement("span");
            r.textContent = this.meridianNotation.am, r.style.position = "absolute", i.querySelector("body").appendChild(r);
            let a = r.scrollWidth;
            r.textContent = this.meridianNotation.pm;
            let s = r.scrollWidth;
            return r.remove(), a > s ? a : s
        },
        getTemplate() {
            let r, a, s, l, u, f;
            if (this.showInputs) {
                let d = this.getMeridianLength() > 26 ? `style="width: ${this.getMeridianLength()+24}px"` : "";
                a = `<input type="text" class="timepicker-hour" ${d}/>`, s = `<input type="text" class="timepicker-minute" ${d}/>`, l = `<input type="text" class="timepicker-second" ${d}/>`, u = `<input type="text" class="timepicker-meridian"${d}/>`
            } else a = '<span class="timepicker-hour"></span>', s = '<span class="timepicker-minute"></span>', l = '<span class="timepicker-second"></span>', u = '<span class="timepicker-meridian"></span>';
            switch (f = `<table><tr><td><a href="#" data-action="incrementHour"><span class="${this.icons.up}"></span></a></td><td class="separator">&nbsp;</td><td><a href="#" data-action="incrementMinute"><span class="${this.icons.up}"></span></a></td>${this.showSeconds?`<td class="separator">&nbsp;</td><td><a href="#" data-action="incrementSecond"><span class="${this.icons.up}"></span></a></td>`:""}<td class="separator meridian-column">&nbsp;</td><td class="meridian-column"><a href="#" data-action="toggleMeridian"><span class="${this.icons.up}"></span></a></td></tr><tr><td>${a}</td> <td class="separator">:</td><td>${s}</td> ${this.showSeconds?`<td class="separator">:</td><td>${l}</td>`:""}<td class="separator meridian-column">&nbsp;</td><td class="meridian-column">${u}</td></tr><tr><td><a href="#" data-action="decrementHour"><span class="${this.icons.down}"></span></a></td><td class="separator"></td><td><a href="#" data-action="decrementMinute"><span class="${this.icons.down}"></span></a></td>${this.showSeconds?`<td class="separator">&nbsp;</td><td><a href="#" data-action="decrementSecond"><span class="${this.icons.down}"></span></a></td>`:""}<td class="separator meridian-column">&nbsp;</td><td class="meridian-column"><a href="#" data-action="toggleMeridian"><span class="${this.icons.down}"></span></a></td></tr></table>`, this.template) {
                case "dropdown":
                    r = `<div class="timepicker-widget dropdown-menu">${f}</div>`;
                    break
            }
            return r
        },
        getTime() {
            return this.hour === "" ? "" : `${this.hour.toString().length===1?`0${this.hour}`:this.hour}:${this.minute.toString().length===1?`0${this.minute}`:this.minute}${this.showSeconds?`:${this.second.toString().length===1?`0${this.second}`:this.second}`:""}${this.showMeridian?` ${this.meridian}`:""}`
        },
        hideWidget() {
            this.isOpen !== !1 && (this.$widget.removeClass("open"), e(i).off("mousedown.timepicker, touchend.timepicker", this.handleDocumentClick), this.isOpen = !1, this.$widget.detach())
        },
        highlightUnit() {
            this.position = this.getCursorPosition(), this.position >= 0 && this.position <= 2 ? this.highlightHour() : this.position >= 3 && this.position <= 5 ? this.highlightMinute() : this.position >= 6 && this.position <= 8 ? this.showSeconds ? this.highlightSecond() : this.highlightMeridian() : this.position >= 9 && this.position <= 11 && this.highlightMeridian()
        },
        highlightNextUnit() {
            switch (this.highlightedUnit) {
                case "hour":
                    this.highlightMinute();
                    break;
                case "minute":
                    this.showSeconds ? this.highlightSecond() : this.showMeridian ? this.highlightMeridian() : this.highlightHour();
                    break;
                case "second":
                    this.showMeridian ? this.highlightMeridian() : this.highlightHour();
                    break;
                case "meridian":
                    this.highlightHour();
                    break
            }
        },
        highlightPrevUnit() {
            switch (this.highlightedUnit) {
                case "hour":
                    this.showMeridian ? this.highlightMeridian() : this.showSeconds ? this.highlightSecond() : this.highlightMinute();
                    break;
                case "minute":
                    this.highlightHour();
                    break;
                case "second":
                    this.highlightMinute();
                    break;
                case "meridian":
                    this.showSeconds ? this.highlightSecond() : this.highlightMinute();
                    break
            }
        },
        highlightHour() {
            let r = this.$element.get(0),
                a = this;
            this.highlightedUnit = "hour", r.setSelectionRange && setTimeout(() => {
                a.hour < 10 ? r.setSelectionRange(0, 1) : r.setSelectionRange(0, 2)
            }, 0)
        },
        highlightMinute() {
            let r = this.$element.get(0),
                a = this;
            this.highlightedUnit = "minute", r.setSelectionRange && setTimeout(() => {
                a.hour < 10 ? r.setSelectionRange(2, 4) : r.setSelectionRange(3, 5)
            }, 0)
        },
        highlightSecond() {
            let r = this.$element.get(0),
                a = this;
            this.highlightedUnit = "second", r.setSelectionRange && setTimeout(() => {
                a.hour < 10 ? r.setSelectionRange(5, 7) : r.setSelectionRange(6, 8)
            }, 0)
        },
        highlightMeridian() {
            let r = this.$element.get(0),
                a = this;
            this.highlightedUnit = "meridian", r.setSelectionRange && (this.showSeconds ? setTimeout(() => {
                a.hour < 10 ? r.setSelectionRange(8, 10) : r.setSelectionRange(9, 11)
            }, 0) : setTimeout(() => {
                a.hour < 10 ? r.setSelectionRange(5, 7) : r.setSelectionRange(6, 8)
            }, 0))
        },
        getCurrentHour() {
            let r = new Date().getHours();
            return this.showMeridian ? r % 12 : r
        },
        getCurrentMinute() {
            return new Date().getMinutes()
        },
        incrementHour() {
            if (this.hour === "" && (this.hour = this.getCurrentHour(), this.decrementHour()), this.showMeridian) {
                if (this.hour === 11) return this.hour++, this.toggleMeridian();
                this.hour === 12 && (this.hour = 0)
            }
            if (this.hour === this.maxHours - 1) {
                this.hour = 0;
                return
            }
            this.hour++
        },
        incrementMinute(r) {
            let a;
            this.minute === "" && (this.minute = this.getCurrentMinute(), this.decrementMinute()), r ? a = this.minute + r : a = this.minute + this.minuteStep - this.minute % this.minuteStep, a > 59 ? (this.incrementHour(), this.minute = a - 60) : this.minute = a
        },
        incrementSecond() {
            let r = this.second + this.secondStep - this.second % this.secondStep;
            r > 59 ? (this.incrementMinute(!0), this.second = r - 60) : this.second = r
        },
        mousewheel(r) {
            if (this.disableMousewheel) return;
            r.preventDefault(), r.stopPropagation();
            let a = r.originalEvent.wheelDelta || -r.originalEvent.detail,
                s = null;
            switch (r.type === "mousewheel" ? s = r.originalEvent.wheelDelta * -1 : r.type === "DOMMouseScroll" && (s = 40 * r.originalEvent.detail), s && (r.preventDefault(), e(this).scrollTop(s + e(this).scrollTop())), this.highlightedUnit) {
                case "minute":
                    a > 0 ? this.incrementMinute() : this.decrementMinute(), this.highlightMinute();
                    break;
                case "second":
                    a > 0 ? this.incrementSecond() : this.decrementSecond(), this.highlightSecond();
                    break;
                case "meridian":
                    this.toggleMeridian(), this.highlightMeridian();
                    break;
                default:
                    a > 0 ? this.incrementHour() : this.decrementHour(), this.highlightHour();
                    break
            }
            return !1
        },
        changeToNearestStep(r, a) {
            return r % a === 0 ? r : Math.round(r % a / a) ? (r + (a - r % a)) % 60 : r - r % a
        },
        place() {
            if (this.isInline) return;
            let r = this.$widget.outerWidth(),
                a = this.$widget.outerHeight(),
                s = 10,
                l = e(t).width(),
                u = e(t).height(),
                f = e(t).scrollTop(),
                d = parseInt(this.$element.parents().filter(function() {
                    return e(this).css("z-index") !== "auto"
                }).first().css("z-index"), 10) + 10,
                m = this.component ? this.component.parent().offset() : this.$element.offset(),
                T = this.component ? this.component.outerHeight(!0) : this.$element.outerHeight(!1),
                x = this.component ? this.component.outerWidth(!0) : this.$element.outerWidth(!1),
                {
                    left: C
                } = m,
                {
                    top: N
                } = m;
            this.$widget.removeClass("timepicker-orient-top timepicker-orient-bottom timepicker-orient-right timepicker-orient-left"), this.orientation.x !== "auto" ? (this.$widget.addClass(`timepicker-orient-${this.orientation.x}`), this.orientation.x === "right" && (C -= r - x)) : (this.$widget.addClass("timepicker-orient-left"), m.left < 0 ? C -= m.left - s : m.left + r > l && (C = l - r - s));
            let E = this.orientation.y,
                O, D;
            E === "auto" && (O = -f + m.top - a, D = f + u - (m.top + T + a), Math.max(O, D) === D ? E = "top" : E = "bottom"), this.$widget.addClass(`timepicker-orient-${E}`), E === "top" ? N += T : N -= a + parseInt(this.$widget.css("padding-top"), 10), this.$widget.css({
                top: N,
                left: C,
                zIndex: d
            })
        },
        remove() {
            e("document").off(".timepicker"), this.$widget && this.$widget.remove(), delete this.$element.data().timepicker
        },
        setDefaultTime(r) {
            if (this.$element.val()) this.updateFromElementVal();
            else if (r === "current") {
                let a = new Date,
                    s = a.getHours(),
                    l = a.getMinutes(),
                    u = a.getSeconds(),
                    f = this.meridianNotation.am;
                u !== 0 && (u = Math.ceil(a.getSeconds() / this.secondStep) * this.secondStep, u === 60 && (l += 1, u = 0)), l !== 0 && (l = Math.ceil(a.getMinutes() / this.minuteStep) * this.minuteStep, l === 60 && (s += 1, l = 0)), this.showMeridian && (s === 0 ? s = 12 : s >= 12 ? (s > 12 && (s -= 12), f = this.meridianNotation.pm) : f = this.meridianNotation.am), this.hour = s, this.minute = l, this.second = u, this.meridian = f, this.update()
            } else r === !1 ? (this.hour = 0, this.minute = 0, this.second = 0, this.meridian = this.meridianNotation.am) : this.setTime(r)
        },
        setTime(r, a) {
            if (!r) {
                this.clear();
                return
            }
            let s, l, u, f, d, m;
            if (typeof r == "object" && r.getMonth) u = r.getHours(), f = r.getMinutes(), d = r.getSeconds(), this.showMeridian && (m = this.meridianNotation.am, u > 12 && (m = this.meridianNotation.pm, u %= 12), u === 12 && (m = this.meridianNotation.pm));
            else {
                let T = this.showMeridian ? this.meridianNotation.am : "am",
                    x = this.showMeridian ? this.meridianNotation.pm : "pm";
                if (s = (new RegExp(T, "i").test(r) ? 1 : 0) + (new RegExp(x, "i").test(r) ? 2 : 0), s > 2) {
                    this.clear();
                    return
                }
                if (l = r.replace(/[^0-9:]/g, "").split(":"), u = l[0] ? l[0].toString() : l.toString(), this.explicitMode && u.length > 2 && u.length % 2 !== 0) {
                    this.clear();
                    return
                }
                f = l[1] ? l[1].toString() : "", d = l[2] ? l[2].toString() : "", u.length > 4 && (d = u.slice(-2), u = u.slice(0, -2)), u.length > 2 && (f = u.slice(-2), u = u.slice(0, -2)), f.length > 2 && (d = f.slice(-2), f = f.slice(0, -2)), u = parseInt(u, 10), f = parseInt(f, 10), d = parseInt(d, 10), isNaN(u) && (u = 0), isNaN(f) && (f = 0), isNaN(d) && (d = 0), d > 59 && (d = 59), f > 59 && (f = 59), u >= this.maxHours && (u = this.maxHours - 1), this.showMeridian ? (u >= 12 && (s || (s = 2), u -= 12), s || (s = 1), u === 0 && (u = 12), m = s === 1 ? this.meridianNotation.am : this.meridianNotation.pm) : u < 12 && s === 2 ? u += 12 : u >= this.maxHours ? u = this.maxHours - 1 : (u < 0 || u === 12 && s === 1) && (u = 0)
            }
            this.hour = u, this.snapToStep ? (this.minute = this.changeToNearestStep(f, this.minuteStep), this.second = this.changeToNearestStep(d, this.secondStep)) : (this.minute = f, this.second = d), this.meridian = m, this.update(a)
        },
        showWidget() {
            this.isOpen || this.$element.is(":disabled") || (this.setTime(this.$element.val()), this.updateWidget(), this.$widget.appendTo(this.appendWidgetTo), e(i).on("mousedown.timepicker, touchend.timepicker", {
                scope: this
            }, this.handleDocumentClick), this.place(), this.disableFocus && this.$element.blur(), this.hour === "" && this.defaultTime && this.setDefaultTime(this.defaultTime), this.isOpen === !1 && this.$widget.addClass("open"), this.isOpen = !0)
        },
        toggleMeridian() {
            this.meridian = this.meridian === this.meridianNotation.am ? this.meridianNotation.pm : this.meridianNotation.am
        },
        update(r) {
            this.updateElement(), r || this.updateWidget()
        },
        updateElement() {
            this.$element.val(this.getTime()), this.$element[0].dispatchEvent(He.Change())
        },
        updateFromElementVal() {
            this.setTime(this.$element.val())
        },
        updateWidget() {
            if (this.$widget === !1) return;
            let {
                hour: r
            } = this, a = this.minute.toString().length === 1 ? `0${this.minute}` : this.minute, s = this.second.toString().length === 1 ? `0${this.second}` : this.second;
            this.showInputs ? (this.$widget.find("input.timepicker-hour").val(r), this.$widget.find("input.timepicker-minute").val(a), this.showSeconds && this.$widget.find("input.timepicker-second").val(s), this.showMeridian && this.$widget.find("input.timepicker-meridian").val(this.meridian)) : (this.$widget.find("span.timepicker-hour").text(r), this.$widget.find("span.timepicker-minute").text(a), this.showSeconds && this.$widget.find("span.timepicker-second").text(s), this.showMeridian && this.$widget.find("span.timepicker-meridian").text(this.meridian));
            let {
                showMeridian: l
            } = this, u = l ? "table-cell" : "none";
            this.meridianColumns.forEach(f => {
                f.style.display = u
            })
        },
        updateLocalization() {
            this.languages !== navigator.languages && (this.languages = navigator.languages, this.updateFromElementVal(), this.updateWidget())
        },
        updateFromWidgetInputs() {
            if (this.$widget === !1) return;
            let r = `${this.$widget.find("input.timepicker-hour").val()}:${this.$widget.find("input.timepicker-minute").val()}${this.showSeconds?`:${this.$widget.find("input.timepicker-second").val()}`:""}${this.showMeridian?this.$widget.find("input.timepicker-meridian").val():""}`;
            this.setTime(r, !0)
        },
        widgetClick(r) {
            r.stopPropagation(), r.preventDefault();
            let a = e(r.target),
                s = a.closest("a").data("action");
            s && this[s](), this.update(), a.is("input") && a.get(0).setSelectionRange(0, 2)
        },
        widgetKeydown(r) {
            let a = e(r.target),
                s = a.attr("class").replace("timepicker-", "");
            switch (r.which) {
                case 9:
                    if (r.shiftKey) {
                        if (s === "hour") return this.hideWidget()
                    } else if (this.showMeridian && s === "meridian" || this.showSeconds && s === "second" || !this.showMeridian && !this.showSeconds && s === "minute") return this.hideWidget();
                    break;
                case 27:
                    this.hideWidget();
                    break;
                case 38:
                    switch (r.preventDefault(), s) {
                        case "hour":
                            this.incrementHour();
                            break;
                        case "minute":
                            this.incrementMinute();
                            break;
                        case "second":
                            this.incrementSecond();
                            break;
                        case "meridian":
                            this.toggleMeridian();
                            break
                    }
                    this.setTime(this.getTime()), a.get(0).setSelectionRange(0, 2);
                    break;
                case 40:
                    switch (r.preventDefault(), s) {
                        case "hour":
                            this.decrementHour();
                            break;
                        case "minute":
                            this.decrementMinute();
                            break;
                        case "second":
                            this.decrementSecond();
                            break;
                        case "meridian":
                            this.toggleMeridian();
                            break
                    }
                    this.setTime(this.getTime()), a.get(0).setSelectionRange(0, 2);
                    break
            }
        },
        widgetKeyup(r) {
            (r.which === 65 || r.which === 77 || r.which === 80 || r.which === 46 || r.which === 8 || r.which >= 48 && r.which <= 57 || r.which >= 96 && r.which <= 105) && this.updateFromWidgetInputs()
        }
    }, e.fn.timepicker = function(r, ...a) {
        return this.each(function() {
            let s = e(this),
                l = s.data("timepicker"),
                u = typeof r == "object" && r;
            l || s.data("timepicker", l = new n(this, e.extend({}, e.fn.timepicker.defaults, u, e(this).data()))), typeof r == "string" && l[r](...a)
        })
    }, e.fn.timepicker.defaults = {
        defaultTime: "current",
        disableFocus: !1,
        disableMousewheel: !1,
        isOpen: !1,
        minuteStep: 15,
        orientation: {
            x: "auto",
            y: "auto"
        },
        secondStep: 15,
        snapToStep: !1,
        showSeconds: !1,
        showInputs: !0,
        showMeridian: !0,
        meridianNotation: {
            am: "AM",
            pm: "PM"
        },
        template: "dropdown",
        appendWidgetTo: "body",
        showWidgetOnAddonClick: !0,
        icons: {
            up: "glyphicon glyphicon-chevron-up",
            down: "glyphicon glyphicon-chevron-down"
        },
        maxHours: 24,
        explicitMode: !1
    }, e.fn.timepicker.Constructor = n, e(i).on("focus.timepicker.data-api click.timepicker.data-api", '[data-provide="timepicker"]', function(r) {
        let a = e(this);
        a.data("timepicker") || (r.preventDefault(), a.timepicker())
    })
})(ex.default, window, document);
var Rp = class extends Rt {
        static get selector() {
            return '.question input[type="time"]:not([readonly])'
        }
        static condition() {
            return !Vi.touch || !Vi.inputTypes.time
        }
        _init() {
            let t = document.createRange().createContextualFragment(`<div class="widget timepicker">
                <input class="ignore timepicker-default" type="text" placeholder="hh:mm" />
            </div>`);
            t.querySelector(".widget").append(this.resetButtonHtml), this.element.classList.add("hide"), this.element.before(t);
            let i = this.question.querySelector(".widget > .btn-reset");
            this.fakeTimeI = this.question.querySelector(".widget > input"), (0, Mf.default)(this.fakeTimeI).timepicker({
                showMeridian: ur.hour12,
                meridianNotation: {
                    am: ur.amNotation,
                    pm: ur.pmNotation
                }
            }), this.value = this.originalInputValue, this.fakeTimeI.addEventListener("change", () => {
                let n = ur.hour12 ? Hn.time.convertMeridian(this.value) : this.value;
                this.originalInputValue = n
            }), i.addEventListener("click", this._reset.bind(this)), this.element.addEventListener(He.ApplyFocus().type, () => {
                this.fakeTimeI.focus()
            })
        }
        _reset() {
            let t = this.originalInputValue ? He.Change() : null;
            (t || this.value) && (this.value = "", this.fakeTimeI.dispatchEvent(t))
        }
        update() {
            if (this.fakeTimeI) {
                let t = (0, Mf.default)(this.fakeTimeI);
                this.element.value !== this.value && t.timepicker("setTime", this.element.value), t.timepicker("updateLocalization")
            }
        }
        get value() {
            return this.fakeTimeI.value
        }
        set value(t) {
            (0, Mf.default)(this.fakeTimeI).timepicker("setTime", t)
        }
    },
    tx = Rp;
var xo = ei(Po()),
    Of = ei(an());
var L4 = ei(Np());
var Bp = class extends Rt {
        static get selector() {
            return '.question input[type="datetime-local"]:not([readonly])'
        }
        static condition() {
            return !Vi.touch || !Vi.inputTypes["datetime-local"]
        }
        _init() {
            this.$fakeDateI = this._createFakeDateInput(), this.$fakeTimeI = this._createFakeTimeInput(), this.element.classList.add("hide"), this.element.before(document.createRange().createContextualFragment('<div class="datetimepicker widget" />'));
            let t = this.question.querySelector(".widget");
            t.append(this.$fakeDateI[0].closest(".date")), t.append(this.$fakeTimeI[0].closest(".timepicker")), this.$fakeDateI.datepicker({
                format: "yyyy-mm-dd",
                autoclose: !0,
                todayHighlight: !0,
                forceParse: !1
            }), this.$fakeTimeI.timepicker({
                showMeridian: ur.hour12,
                meridianNotation: {
                    am: ur.amNotation,
                    pm: ur.pmNotation
                }
            }), this.value = this.originalInputValue, this._setFocusHandler(this.$fakeDateI.add(this.$fakeTimeI)), this.$fakeDateI.on("change changeDate", () => (Hn.date.validate(this.$fakeDateI[0].value) || this.$fakeDateI.val("").datepicker("update"), this.originalInputValue = this.value, !1)), this.$fakeTimeI.on("change", () => (this.originalInputValue = this.value, !1)), this.question.querySelector(".btn-reset").addEventListener("click", () => {
                let i = this.originalInputValue ? "change" : "";
                (i || this.$fakeDateI.val() || this.$fakeTimeI.val()) && (this.$fakeDateI.val("").trigger(i).datepicker("update"), this.$fakeTimeI.val("").trigger(i))
            })
        }
        _createFakeDateInput() {
            return (0, Of.default)('<div class="date"><input class="ignore" type="text" placeholder="yyyy-mm-dd"/></div>').find("input")
        }
        _createFakeTimeInput() {
            return (0, Of.default)(`<div class="timepicker">
                    <input class="ignore timepicker-default" type="text" placeholder="hh:mm"/>
                </div>`).append(this.resetButtonHtml).find("input")
        }
        _setFocusHandler(t) {
            this.element.addEventListener(He.ApplyFocus().type, () => {
                t.eq(0).focus()
            })
        }
        update() {
            let t = (0, Of.default)(this.element),
                i = t.val().length > 0 ? (0, xo.toISOLocalString)(new Date(t.val())) : "";
            if (Us.macos && Hy.safari && (i = t.val().length > 0 ? (0, xo.toISOLocalString)(new Date(t.val() + (0, xo.getTimezoneOffsetAsTime)(new Date))) : ""), i !== this.value) {
                let n = i.split("T"),
                    r = n[0],
                    a = n[1] && n[1].length > 4 ? n[1].substring(0, 5) : "";
                this.$fakeDateI.datepicker("setDate", r), this.$fakeTimeI.timepicker("setTime", a)
            }
            this.$fakeTimeI.timepicker("updateLocalization")
        }
        get originalInputValue() {
            let t = super.originalInputValue;
            return t === "" ? "" : (0, xo.toISOLocalString)(new Date(t))
        }
        set originalInputValue(t) {
            super.originalInputValue = t
        }
        get value() {
            if (this.$fakeDateI.val().length > 0 && this.$fakeTimeI.val().length > 3) {
                let t = this.$fakeDateI.val().split("-"),
                    n = (ur.hour12 ? Hn.time.convertMeridian(this.$fakeTimeI.val()) : this.$fakeTimeI.val()).split(":");
                return (0, xo.toISOLocalString)(new Date(t[0], t[1] - 1, t[2], n[0], n[1]))
            }
            return ""
        }
        set value(t) {
            let n = (t ? (0, xo.toISOLocalString)(new Date(t)) : "").split("T"),
                r = n[0],
                a = n[1] && n[1].length > 4 ? n[1].substring(0, 5) : r && !n[1] ? "00:00" : "";
            this.$fakeDateI.datepicker("setDate", r), this.$fakeTimeI.timepicker("setTime", a)
        }
    },
    ix = Bp;
var Mp = class extends Rt {
        static get selector() {
            return ".or-appearance-no-buttons"
        }
        _init() {
            this.element.querySelectorAll(".option-label").forEach(t => {
                An(t, "img, video, audio") && (t.style.display = "none")
            })
        }
    },
    nx = Mp;
var zl = ei(an());
var ax = /[a-zA-Z0-9+-.]+?:\/\//,
    el;

function nP() {
    return Promise.resolve(!0)
}

function rP() {
    return !1
}

function aP(e) {
    el = e
}

function sx(e) {
    return new Promise((t, i) => {
        if (!e) t(null);
        else if (typeof e == "string") {
            let n = encodeURIComponent(e);
            e.startsWith("/") || e.startsWith("data:") ? t(e) : el && Object.prototype.hasOwnProperty.call(el, n) ? t(el[n]) : el && Object.prototype.hasOwnProperty.call(el, e) ? t(el[e]) : !rt.offline || !hi.available ? i(new Error("store not available")) : ax.test(e) ? hi.survey.resource.get(rt.enketoId, e).then(r => {
                r.item ? t(URL.createObjectURL(r.item)) : i(new Error("File Retrieval Error"))
            }).catch(i) : hi.record.file.get(lP(), e).then(r => {
                r.item ? Op(r.item) ? i(rx()) : t(URL.createObjectURL(r.item)) : i(new Error("File Retrieval Error"))
            }).catch(i)
        } else typeof e == "object" ? Op(e) ? i(rx()) : t(URL.createObjectURL(e)) : i(new Error("Unknown error occurred"))
    })
}

function sP(e) {
    return sx(e).then(t => /https?:\/\//.test(t) ? ra.getMediaFile(t).then(i => URL.createObjectURL(i.item)) : t)
}

function ox() {
    let e = [...document.querySelectorAll('form.or input[type="file"], form.or input[type="text"][data-drawing="true"]')],
        t = [],
        i = function(n, r) {
            if (r && r.name) {
                let a = Is(r, n.dataset.filenamePostfix);
                n.dataset.resized && n.dataset.resizedDataURI && (r = ea.dataUriToBlobSync(n.dataset.resizedDataURI)), r = new Blob([r], {
                    type: r.type
                }), r.name = a
            }
            return r
        };
    return e.forEach(n => {
        if (n.type === "file") n.files[0] && t.push(Promise.resolve(i(n, n.files[0])));
        else if (n.value) {
            let r = n.closest(".question").querySelector(".draw-widget canvas");
            r && !ax.test(n.value) && t.push(new Promise(a => r.toBlob(s => {
                s.name = n.value, a(i(n, s))
            })))
        }
    }), Promise.all(t).then(n => (e.filter(r => r.matches("[data-loaded-file-name]")).forEach(r => n.push(r.getAttribute("data-loaded-file-name"))), n))
}

function oP(e) {
    return ox().then(t => t.find(i => i.name === e))
}

function lP() {
    return rt.recordId
}

function Op(e) {
    return e && e.size > lx()
}

function rx() {
    return new Error(Ae("filepicker.toolargeerror", {
        maxSize: ux()
    }))
}

function lx() {
    return rt.maxSize
}

function ux() {
    return `${Math.round(lx()*100/(1e3*1e3*100))}MB`
}
var br = {
    isWaitingForPermissions: rP,
    init: nP,
    setInstanceAttachments: aP,
    getFileUrl: sx,
    getObjectUrl: sP,
    getCurrentFiles: ox,
    getCurrentFile: oP,
    isTooLarge: Op,
    getMaxSizeReadable: ux
};

function uP(e, t, i) {
    e.setAttribute("href", t || ""), e.setAttribute("download", i || "")
}
var Vl = {
    updateDownloadLink: uP
};

function Up(e, t, i) {
    this.message = e, this.translationKey = t, this.translationOptions = i
}
Up.prototype = Object.create(Error.prototype);
Up.prototype.name = "TranslatedError";
var cx = Up;
var Fp = class extends Rt {
        static get selector() {
            return '.question:not(.or-appearance-draw):not(.or-appearance-signature):not(.or-appearance-annotate) input[type="file"]'
        }
        _init() {
            let t = this.element.getAttribute("data-loaded-file-name"),
                i = this;
            this.element.classList.add("hide"), this.question.classList.add("with-media", "clearfix");
            let n = document.createRange().createContextualFragment(`<div class="widget file-picker">
                    <input class="ignore fake-file-input"/>
                    <div class="file-feedback"></div>
                    <div class="file-preview"></div>
                </div>`);
            n.querySelector("input").after(this.downloadButtonHtml), n.querySelector("input").after(this.resetButtonHtml), this.element.after(n), this.disable();
            let r = this.question.querySelector(".widget");
            this.feedback = r.querySelector(".file-feedback"), this.preview = r.querySelector(".file-preview"), this.fakeInput = r.querySelector(".fake-file-input"), this.downloadLink = r.querySelector(".btn-download"), i._setResetButtonListener(r.querySelector(".btn-reset")), i._setFocusListener(), this._showFileName(t), br.isWaitingForPermissions() && this._showFeedback(Ae("filepicker.waitingForPermissions"), "warning"), this._updatePlaceholder(), this.element.closest("form.or").addEventListener(He.UpdateMaxSize().type, this._updatePlaceholder.bind(this)), br.init().then(() => {
                i._showFeedback(), i._setChangeListener(), i.props.readonly || i.enable(), t && br.getFileUrl(t).then(a => {
                    i._showPreview(a, i.props.mediaType), i._updateDownloadLink(a, t)
                }).catch(() => {
                    i._showFeedback(Ae("filepicker.notFound", {
                        existing: t
                    }), "error")
                })
            }).catch(a => {
                i._showFeedback(a, "error")
            })
        }
        _updatePlaceholder() {
            this.fakeInput.setAttribute("placeholder", Ae("filepicker.placeholder", {
                maxSize: br.getMaxSizeReadable() || "?MB"
            }))
        }
        _setResetButtonListener(t) {
            t && t.addEventListener("click", () => {
                (this.originalInputValue || this.value) && oi.confirm(Ae("filepicker.resetWarning", {
                    item: Ae("filepicker.file")
                })).then(i => {
                    i && (this.originalInputValue = "")
                }).catch(() => {})
            })
        }
        _setChangeListener() {
            let t = this;
            (0, zl.default)(this.element).on("click", i => {
                if (t.props.readonly || i.namespace !== "propagate") return t.fakeInput.focus(), i.stopImmediatePropagation(), !1
            }).on("change.propagate", i => {
                let n, r, a, s = this.element.getAttribute("data-loaded-file-name"),
                    l = new Date;
                if (i.namespace === "propagate") return (0, zl.default)(this.element).trigger("change.file"), !1;
                i.stopImmediatePropagation(), n = i.target.files[0], a = `-${l.getHours()}_${l.getMinutes()}_${l.getSeconds()}`, i.target.dataset.filenamePostfix = a, r = Is(n, a), this._resizeFile(n, t.props.mediaType).then(u => {
                    i.target.dataset.resized = !0, i.target.dataset.resizedDataURI = u.dataURI, n = u.blob
                }).catch(() => {}).finally(() => {
                    br.getFileUrl(n, r).then(u => {
                        t._showPreview(u, t.props.mediaType), t._showFeedback(), t._showFileName(r), s && s !== r && t.element.removeAttribute("data-loaded-file-name"), t._updateDownloadLink(u, r), (0, zl.default)(t.element).trigger("change.propagate")
                    }).catch(u => {
                        (0, zl.default)(t.element).val("").trigger("change.propagate"), t._showFileName(""), t._showPreview(null), t._showFeedback(u, "error"), t._updateDownloadLink("", "")
                    })
                })
            }), this.fakeInput.addEventListener("click", i => {
                if (i.preventDefault(), this.props.readonly || this.originalInputValue || this.value) {
                    this.fakeInput.focus(), i.stopImmediatePropagation();
                    return
                }(0, zl.default)(t.element).trigger("click.propagate")
            }), this.fakeInput.addEventListener("change", i => {
                i.preventDefault(), i.stopPropagation()
            })
        }
        _setFocusListener() {
            this.element.addEventListener(He.ApplyFocus().type, () => {
                this.fakeInput.focus()
            })
        }
        _showFileName(t) {
            this.value = t, this.fakeInput.readOnly = !!t
        }
        _showFeedback(t, i) {
            let n = t instanceof cx ? Ae(t.translationKey, t.translationOptions) : t instanceof Error ? t.message : t || "";
            i = i || "", this.feedback.textContent = n, this.feedback.setAttribute("class", `file-feedback ${i}`)
        }
        _showPreview(t, i) {
            let n;
            switch (G0(this.preview), i) {
                case "image/*":
                    n = "<img />";
                    break;
                case "audio/*":
                    n = '<audio controls="controls"/>';
                    break;
                case "video/*":
                    n = '<video controls="controls"/>';
                    break
            }
            if (t && n) {
                let r = document.createRange().createContextualFragment(n);
                r.querySelector("*").src = t, this.preview.append(r)
            }
        }
        _resizeFile(t, i) {
            return new Promise((n, r) => {
                i !== "image/*" && r(t), this.props && this.props.maxPixels ? Bg(t, this.props.maxPixels).then(a => {
                    let s = new FileReader;
                    s.addEventListener("load", () => {
                        n({
                            blob: a,
                            dataURI: s.result
                        })
                    }, !1), s.readAsDataURL(a)
                }).catch(() => {
                    r(t)
                }) : r(t)
            })
        }
        _updateDownloadLink(t, i) {
            Vl.updateDownloadLink(this.downloadLink, t, i)
        }
        disable() {
            this.element.disabled = !0, this.question.querySelector(".btn-reset").disabled = !0
        }
        enable() {
            this.element.disabled = !1, this.question.querySelector(".btn-reset").disabled = !1
        }
        get props() {
            let t = this._props;
            return t.mediaType = this.element.getAttribute("accept"), this.element.dataset.maxPixels && Yn(this.element.dataset.maxPixels) && (t.maxPixels = parseInt(this.element.dataset.maxPixels, 10)), t
        }
        get value() {
            return this.fakeInput.value
        }
        set value(t) {
            this.fakeInput.value = t
        }
    },
    fx = Fp;
var xs = ei(an());

function tl(e, t, i) {
    this.x = e, this.y = t, this.time = i || new Date().getTime()
}
tl.prototype.velocityFrom = function(e) {
    return this.time !== e.time ? this.distanceTo(e) / (this.time - e.time) : 1
};
tl.prototype.distanceTo = function(e) {
    return Math.sqrt(Math.pow(this.x - e.x, 2) + Math.pow(this.y - e.y, 2))
};
tl.prototype.equals = function(e) {
    return this.x === e.x && this.y === e.y && this.time === e.time
};

function qp(e, t, i, n) {
    this.startPoint = e, this.control1 = t, this.control2 = i, this.endPoint = n
}
qp.prototype.length = function() {
    for (var e = 10, t = 0, i = void 0, n = void 0, r = 0; r <= e; r += 1) {
        var a = r / e,
            s = this._point(a, this.startPoint.x, this.control1.x, this.control2.x, this.endPoint.x),
            l = this._point(a, this.startPoint.y, this.control1.y, this.control2.y, this.endPoint.y);
        if (r > 0) {
            var u = s - i,
                f = l - n;
            t += Math.sqrt(u * u + f * f)
        }
        i = s, n = l
    }
    return t
};
qp.prototype._point = function(e, t, i, n, r) {
    return t * (1 - e) * (1 - e) * (1 - e) + 3 * i * (1 - e) * (1 - e) * e + 3 * n * (1 - e) * e * e + r * e * e * e
};

function cP(e, t, i) {
    var n, r, a, s = null,
        l = 0;
    i || (i = {});
    var u = function() {
        l = i.leading === !1 ? 0 : Date.now(), s = null, a = e.apply(n, r), s || (n = r = null)
    };
    return function() {
        var f = Date.now();
        !l && i.leading === !1 && (l = f);
        var d = t - (f - l);
        return n = this, r = arguments, d <= 0 || d > t ? (s && (clearTimeout(s), s = null), l = f, a = e.apply(n, r), s || (n = r = null)) : !s && i.trailing !== !1 && (s = setTimeout(u, d)), a
    }
}

function Qi(e, t) {
    var i = this,
        n = t || {};
    this.velocityFilterWeight = n.velocityFilterWeight || .7, this.minWidth = n.minWidth || .5, this.maxWidth = n.maxWidth || 2.5, this.throttle = "throttle" in n ? n.throttle : 16, this.minDistance = "minDistance" in n ? n.minDistance : 5, this.throttle ? this._strokeMoveUpdate = cP(Qi.prototype._strokeUpdate, this.throttle) : this._strokeMoveUpdate = Qi.prototype._strokeUpdate, this.dotSize = n.dotSize || function() {
        return (this.minWidth + this.maxWidth) / 2
    }, this.penColor = n.penColor || "black", this.backgroundColor = n.backgroundColor || "rgba(0,0,0,0)", this.onBegin = n.onBegin, this.onEnd = n.onEnd, this._canvas = e, this._ctx = e.getContext("2d"), this.clear(), this._handleMouseDown = function(r) {
        r.which === 1 && (i._mouseButtonDown = !0, i._strokeBegin(r))
    }, this._handleMouseMove = function(r) {
        i._mouseButtonDown && i._strokeMoveUpdate(r)
    }, this._handleMouseUp = function(r) {
        r.which === 1 && i._mouseButtonDown && (i._mouseButtonDown = !1, i._strokeEnd(r))
    }, this._handleTouchStart = function(r) {
        if (r.targetTouches.length === 1) {
            var a = r.changedTouches[0];
            i._strokeBegin(a)
        }
    }, this._handleTouchMove = function(r) {
        r.preventDefault();
        var a = r.targetTouches[0];
        i._strokeMoveUpdate(a)
    }, this._handleTouchEnd = function(r) {
        var a = r.target === i._canvas;
        a && (r.preventDefault(), i._strokeEnd(r))
    }, this.on()
}
Qi.prototype.clear = function() {
    var e = this._ctx,
        t = this._canvas;
    e.fillStyle = this.backgroundColor, e.clearRect(0, 0, t.width, t.height), e.fillRect(0, 0, t.width, t.height), this._data = [], this._reset(), this._isEmpty = !0
};
Qi.prototype.fromDataURL = function(e) {
    var t = this,
        i = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {},
        n = new Image,
        r = i.ratio || window.devicePixelRatio || 1,
        a = i.width || this._canvas.width / r,
        s = i.height || this._canvas.height / r;
    this._reset(), n.src = e, n.onload = function() {
        t._ctx.drawImage(n, 0, 0, a, s)
    }, this._isEmpty = !1
};
Qi.prototype.toDataURL = function(e) {
    var t;
    switch (e) {
        case "image/svg+xml":
            return this._toSVG();
        default:
            for (var i = arguments.length, n = Array(i > 1 ? i - 1 : 0), r = 1; r < i; r++) n[r - 1] = arguments[r];
            return (t = this._canvas).toDataURL.apply(t, [e].concat(n))
    }
};
Qi.prototype.on = function() {
    this._handleMouseEvents(), this._handleTouchEvents()
};
Qi.prototype.off = function() {
    this._canvas.removeEventListener("mousedown", this._handleMouseDown), this._canvas.removeEventListener("mousemove", this._handleMouseMove), document.removeEventListener("mouseup", this._handleMouseUp), this._canvas.removeEventListener("touchstart", this._handleTouchStart), this._canvas.removeEventListener("touchmove", this._handleTouchMove), this._canvas.removeEventListener("touchend", this._handleTouchEnd)
};
Qi.prototype.isEmpty = function() {
    return this._isEmpty
};
Qi.prototype._strokeBegin = function(e) {
    this._data.push([]), this._reset(), this._strokeUpdate(e), typeof this.onBegin == "function" && this.onBegin(e)
};
Qi.prototype._strokeUpdate = function(e) {
    var t = e.clientX,
        i = e.clientY,
        n = this._createPoint(t, i),
        r = this._data[this._data.length - 1],
        a = r && r[r.length - 1],
        s = a && n.distanceTo(a) < this.minDistance;
    if (!(a && s)) {
        var l = this._addPoint(n),
            u = l.curve,
            f = l.widths;
        u && f && this._drawCurve(u, f.start, f.end), this._data[this._data.length - 1].push({
            x: n.x,
            y: n.y,
            time: n.time,
            color: this.penColor
        })
    }
};
Qi.prototype._strokeEnd = function(e) {
    var t = this.points.length > 2,
        i = this.points[0];
    if (!t && i && this._drawDot(i), i) {
        var n = this._data[this._data.length - 1],
            r = n[n.length - 1];
        i.equals(r) || n.push({
            x: i.x,
            y: i.y,
            time: i.time,
            color: this.penColor
        })
    }
    typeof this.onEnd == "function" && this.onEnd(e)
};
Qi.prototype._handleMouseEvents = function() {
    this._mouseButtonDown = !1, this._canvas.addEventListener("mousedown", this._handleMouseDown), this._canvas.addEventListener("mousemove", this._handleMouseMove), document.addEventListener("mouseup", this._handleMouseUp)
};
Qi.prototype._handleTouchEvents = function() {
    this._canvas.style.msTouchAction = "none", this._canvas.style.touchAction = "none", this._canvas.addEventListener("touchstart", this._handleTouchStart), this._canvas.addEventListener("touchmove", this._handleTouchMove), this._canvas.addEventListener("touchend", this._handleTouchEnd)
};
Qi.prototype._reset = function() {
    this.points = [], this._lastVelocity = 0, this._lastWidth = (this.minWidth + this.maxWidth) / 2, this._ctx.fillStyle = this.penColor
};
Qi.prototype._createPoint = function(e, t, i) {
    var n = this._canvas.getBoundingClientRect();
    return new tl(e - n.left, t - n.top, i || new Date().getTime())
};
Qi.prototype._addPoint = function(e) {
    var t = this.points,
        i = void 0;
    if (t.push(e), t.length > 2) {
        t.length === 3 && t.unshift(t[0]), i = this._calculateCurveControlPoints(t[0], t[1], t[2]);
        var n = i.c2;
        i = this._calculateCurveControlPoints(t[1], t[2], t[3]);
        var r = i.c1,
            a = new qp(t[1], n, r, t[2]),
            s = this._calculateCurveWidths(a);
        return t.shift(), {
            curve: a,
            widths: s
        }
    }
    return {}
};
Qi.prototype._calculateCurveControlPoints = function(e, t, i) {
    var n = e.x - t.x,
        r = e.y - t.y,
        a = t.x - i.x,
        s = t.y - i.y,
        l = {
            x: (e.x + t.x) / 2,
            y: (e.y + t.y) / 2
        },
        u = {
            x: (t.x + i.x) / 2,
            y: (t.y + i.y) / 2
        },
        f = Math.sqrt(n * n + r * r),
        d = Math.sqrt(a * a + s * s),
        m = l.x - u.x,
        T = l.y - u.y,
        x = d / (f + d),
        C = {
            x: u.x + m * x,
            y: u.y + T * x
        },
        N = t.x - C.x,
        E = t.y - C.y;
    return {
        c1: new tl(l.x + N, l.y + E),
        c2: new tl(u.x + N, u.y + E)
    }
};
Qi.prototype._calculateCurveWidths = function(e) {
    var t = e.startPoint,
        i = e.endPoint,
        n = {
            start: null,
            end: null
        },
        r = this.velocityFilterWeight * i.velocityFrom(t) + (1 - this.velocityFilterWeight) * this._lastVelocity,
        a = this._strokeWidth(r);
    return n.start = this._lastWidth, n.end = a, this._lastVelocity = r, this._lastWidth = a, n
};
Qi.prototype._strokeWidth = function(e) {
    return Math.max(this.maxWidth / (e + 1), this.minWidth)
};
Qi.prototype._drawPoint = function(e, t, i) {
    var n = this._ctx;
    n.moveTo(e, t), n.arc(e, t, i, 0, 2 * Math.PI, !1), this._isEmpty = !1
};
Qi.prototype._drawCurve = function(e, t, i) {
    var n = this._ctx,
        r = i - t,
        a = Math.floor(e.length());
    n.beginPath();
    for (var s = 0; s < a; s += 1) {
        var l = s / a,
            u = l * l,
            f = u * l,
            d = 1 - l,
            m = d * d,
            T = m * d,
            x = T * e.startPoint.x;
        x += 3 * m * l * e.control1.x, x += 3 * d * u * e.control2.x, x += f * e.endPoint.x;
        var C = T * e.startPoint.y;
        C += 3 * m * l * e.control1.y, C += 3 * d * u * e.control2.y, C += f * e.endPoint.y;
        var N = t + f * r;
        this._drawPoint(x, C, N)
    }
    n.closePath(), n.fill()
};
Qi.prototype._drawDot = function(e) {
    var t = this._ctx,
        i = typeof this.dotSize == "function" ? this.dotSize() : this.dotSize;
    t.beginPath(), this._drawPoint(e.x, e.y, i), t.closePath(), t.fill()
};
Qi.prototype._fromData = function(e, t, i) {
    for (var n = 0; n < e.length; n += 1) {
        var r = e[n];
        if (r.length > 1)
            for (var a = 0; a < r.length; a += 1) {
                var s = r[a],
                    l = new tl(s.x, s.y, s.time),
                    u = s.color;
                if (a === 0) this.penColor = u, this._reset(), this._addPoint(l);
                else if (a !== r.length - 1) {
                    var f = this._addPoint(l),
                        d = f.curve,
                        m = f.widths;
                    d && m && t(d, m, u)
                }
            } else {
                this._reset();
                var T = r[0];
                i(T)
            }
    }
};
Qi.prototype._toSVG = function() {
    var e = this,
        t = this._data,
        i = this._canvas,
        n = Math.max(window.devicePixelRatio || 1, 1),
        r = 0,
        a = 0,
        s = i.width / n,
        l = i.height / n,
        u = document.createElementNS("http://www.w3.org/2000/svg", "svg");
    u.setAttributeNS(null, "width", i.width), u.setAttributeNS(null, "height", i.height), this._fromData(t, function(O, D, I) {
        var H = document.createElement("path");
        if (!isNaN(O.control1.x) && !isNaN(O.control1.y) && !isNaN(O.control2.x) && !isNaN(O.control2.y)) {
            var y = "M " + O.startPoint.x.toFixed(3) + "," + O.startPoint.y.toFixed(3) + " " + ("C " + O.control1.x.toFixed(3) + "," + O.control1.y.toFixed(3) + " ") + (O.control2.x.toFixed(3) + "," + O.control2.y.toFixed(3) + " ") + (O.endPoint.x.toFixed(3) + "," + O.endPoint.y.toFixed(3));
            H.setAttribute("d", y), H.setAttribute("stroke-width", (D.end * 2.25).toFixed(3)), H.setAttribute("stroke", I), H.setAttribute("fill", "none"), H.setAttribute("stroke-linecap", "round"), u.appendChild(H)
        }
    }, function(O) {
        var D = document.createElement("circle"),
            I = typeof e.dotSize == "function" ? e.dotSize() : e.dotSize;
        D.setAttribute("r", I), D.setAttribute("cx", O.x), D.setAttribute("cy", O.y), D.setAttribute("fill", O.color), u.appendChild(D)
    });
    var f = "data:image/svg+xml;base64,",
        d = '<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"' + (' viewBox="' + r + " " + a + " " + s + " " + l + '"') + (' width="' + s + '"') + (' height="' + l + '"') + ">",
        m = u.innerHTML;
    if (m === void 0) {
        var T = document.createElement("dummy"),
            x = u.childNodes;
        T.innerHTML = "";
        for (var C = 0; C < x.length; C += 1) T.appendChild(x[C].cloneNode(!0));
        m = T.innerHTML
    }
    var N = "</svg>",
        E = d + m + N;
    return f + btoa(E)
};
Qi.prototype.fromData = function(e) {
    var t = this;
    this.clear(), this._fromData(e, function(i, n) {
        return t._drawCurve(i, n.start, n.end)
    }, function(i) {
        return t._drawDot(i)
    }), this._data = e
};
Qi.prototype.toData = function() {
    return this._data
};
var Uf = Qi;
var fP = 1500;
Uf.prototype.fromObjectURL = function(e, t) {
    let i = new Image;
    t = t || {};
    let n = t.ratio || window.devicePixelRatio || 1,
        r = t.width || this._canvas.width / n,
        a = t.height || this._canvas.height / n,
        s = this;
    return this._reset(), new Promise(l => {
        i.src = e, i.onload = () => {
            let u = i.width,
                f = i.height,
                d = r / u,
                m = a / f,
                T, x;
            if (d < 1 || m < 1) {
                let C = Math.min(d, m);
                T = (r - u * C) / 2, x = (a - f * C) / 2, s._ctx.drawImage(i, 0, 0, u, f, T, x, u * C, f * C)
            } else T = (r - u) / 2, x = (a - f) / 2, s._ctx.drawImage(i, T, x, u, f);
            l(e)
        }, s._isEmpty = !1
    })
};
Uf.prototype.updateData = function(e) {
    let t = this;
    this._fromData(e, (i, n) => {
        t._drawCurve(i, n.start, n.end)
    }, i => {
        t._drawDot(i)
    }), this._data = e
};
var Vp = class extends Rt {
        static get selector() {
            return '.or-appearance-draw input[data-type-xml="binary"][accept^="image"], .or-appearance-signature input[data-type-xml="binary"][accept^="image"], .or-appearance-annotate input[data-type-xml="binary"][accept^="image"]'
        }
        _init() {
            let t, i = this,
                n = this.element.dataset.loadedFileName;
            this.element.type = "text", this.element.dataset.drawing = !0, this.element.after(this._getMarkup());
            let {
                question: r
            } = this;
            r.classList.add(`or-${this.props.type}-initialized`), this.$widget = (0, xs.default)(r.querySelector(".widget")), t = this.$widget[0].querySelector(".draw-widget__body__canvas"), this._handleResize(t), this._resizeCanvas(t), this.props.load && this._handleFiles(n), t.addEventListener("blur", this._forceUpdate.bind(this)), this.initialize = br.init().then(() => (i.pad = new Uf(t, {
                onEnd: () => {
                    clearTimeout(i._updateWithDelay), i._updateWithDelay = setTimeout(i._updateValue.bind(i), fP)
                },
                penColor: i.props.colors[0] || "black"
            }), i.pad.off(), n ? (i.element.value = n, i._loadFileIntoPad(n).then(i._updateDownloadLink.bind(i))) : !0)), this.disable(), this.initialize.then(() => {
                i.$widget.find(".btn-reset").on("click", i._reset.bind(i)).end().find(".draw-widget__colorpicker").on("click", ".current", function() {
                    (0, xs.default)(this).parent().toggleClass("reveal")
                }).on("click", "[data-color]:not(.current)", function() {
                    (0, xs.default)(this).siblings().removeClass("current").end().addClass("current").parent().removeClass("reveal"), i.pad.penColor = this.dataset.color
                }).end().find(".draw-widget__undo").on("click", () => {
                    let a = i.pad.toData();
                    i.pad.clear();
                    let s = i.$widget[0].querySelector("input[type=file]"),
                        l = s && s.files[0] ? s.files[0] : i.element.dataset.loadedFileName;
                    i._loadFileIntoPad(l).then(() => {
                        i.pad.updateData(a.slice(0, -1)), i._updateValue(), i.pad.penColor = i.$widget.find(".draw-widget__colorpicker .current")[0].dataset.color
                    })
                }).end().find(".show-canvas-btn").on("click", () => (i.$widget.addClass("full-screen"), i._resizeCanvas(t), i.enable(), !1)).end().find(".hide-canvas-btn").on("click", () => (i.$widget.removeClass("full-screen"), i.pad.off(), i._forceUpdate(), i._resizeCanvas(t), !1)).click(), (0, xs.default)(t).on("canvasreload", () => {
                    i.cache && i.pad.fromObjectURL(i.cache).then(i._updateValue.bind(i, !1))
                }), i.enable()
            }).catch(a => {
                i._showFeedback(a.message)
            }), (0, xs.default)(this.element).on("applyfocus", () => {
                t.focus()
            }).closest('[role="page"]').on(He.PageFlip().type, () => {
                i._resizeCanvas(t)
            })
        }
        _forceUpdate() {
            this._updateWithDelay && (clearTimeout(this._updateWithDelay), this._updateValue())
        }
        _handleFiles(t) {
            this._updatePlaceholder(), this.element.closest("form.or").addEventListener(He.UpdateMaxSize().type, this._updatePlaceholder.bind(this));
            let i = this,
                n = this.$widget.find("input[type=file]"),
                r = this.$widget.find(".fake-file-input");
            this._showFileName(t), n.on("click", a => {
                if (i.props.readonly || a.namespace !== "propagate") return i.$fakeInput.focus(), a.stopImmediatePropagation(), !1
            }).on("change", function() {
                let a = this.files[0];
                a ? br.isTooLarge(a) ? i._showFeedback(Ae("filepicker.toolargeerror", {
                    maxSize: br.getMaxSizeReadable()
                })) : (i.pad.clear(), i._loadFileIntoPad(this.files[0]).then(() => {
                    i._updateValue.call(i), i._showFileName(a.name), i.enable()
                })) : i._showFileName(null)
            }), r.on("click", function(a) {
                if (i.props.readonly || n[0].value || r[0].value) return (0, xs.default)(this).focus(), a.stopImmediatePropagation(), !1;
                a.preventDefault(), n.trigger("click.propagate")
            }).on("change", () => !1)
        }
        _showFileName(t) {
            this.$widget.find(".fake-file-input").val(t).prop("readonly", !!t)
        }
        _updatePlaceholder() {
            this.$widget.find(".fake-file-input").attr("placeholder", Ae("filepicker.placeholder", {
                maxSize: br.getMaxSizeReadable() || "?MB"
            }))
        }
        _getMarkup() {
            let t = this.props.load ? `<input type="file" class="ignore draw-widget__load"${this.props.capture!==null?` capture="${this.props.capture}"`:""} accept="${this.props.accept}"/><div class="widget file-picker"><input class="ignore fake-file-input"/><div class="file-feedback"></div></div>` : "",
                i = this.props.touch ? '<button type="button" class="show-canvas-btn btn btn-default">Draw/Sign</button><button type="button" class="hide-canvas-btn btn btn-default"><span class="icon icon-arrow-left"> </span></button>' : "",
                n = document.createRange().createContextualFragment(`<div class="widget draw-widget">
                <div class="draw-widget__body">
                    ${i}
                    ${t}
                    <canvas class="draw-widget__body__canvas noSwipe disabled" tabindex="0"></canvas>
                    <div class="draw-widget__colorpicker"></div>
                    ${this.props.type==="signature"?"":'<button class="btn-icon-only draw-widget__undo" aria-label="undo" type=button><i class="icon icon-undo"> </i></button>'}
                </div>
                <div class="draw-widget__footer">
                    <div class="draw-widget__feedback"></div>
                </div>
            </div>`);
            n.querySelector(".draw-widget__footer").prepend(this.downloadButtonHtml), n.querySelector(".draw-widget__footer").prepend(this.resetButtonHtml);
            let r = n.querySelector(".draw-widget__colorpicker");
            return this.props.colors.forEach((a, s) => {
                let l = s === 0 ? " current" : "",
                    u = document.createRange().createContextualFragment(`<div class="${l}"data-color="${a}" style="background: ${a};" />`);
                r.append(u)
            }), n
        }
        _updateValue(t = !0) {
            let i = this.pad.toDataURL();
            if (this.value !== i) {
                let n = new Date,
                    r = `-${n.getHours()}_${n.getMinutes()}_${n.getSeconds()}`;
                this.element.dataset.filenamePostfix = r, t && (this.originalInputValue = this.props.filename), this.value = i, this._updateDownloadLink(this.value)
            }
        }
        _reset() {
            let t = this;
            if (this.element.value) {
                let i = this.props.type === "signature" ? Ae("drawwidget.signature") : this.props.type === "drawing" ? Ae("drawwidget.drawing") : Ae("drawwidget.annotation");
                oi.confirm(Ae("filepicker.resetWarning", {
                    item: i
                })).then(n => {
                    n && (t.pad.clear(), t.cache = null, delete t.element.dataset.loadedFileName, delete t.element.dataset.loadedUrl, t.element.dataset.filenamePostfix = "", (0, xs.default)(t.element).val("").trigger("change"), t._updateWithDelay && (t._updateWithDelay = null), t.$widget.find("input[type=file]").val("").trigger("change"), t._updateDownloadLink(""), t.disable(), t.enable())
                })
            }
        }
        _loadFileIntoPad(t) {
            let i = this;
            return t ? (typeof t == "string" && t.startsWith("jr://") && this.element.dataset.loadedUrl && (t = this.element.dataset.loadedUrl), br.getObjectUrl(t).then(i.pad.fromObjectURL.bind(i.pad)).then(n => (i.cache = n, n)).catch(() => {
                i._showFeedback("File could not be loaded (leave unchanged if already submitted and you want to preserve it).", "error")
            })) : Promise.resolve("")
        }
        _showFeedback(t) {
            t = t || "", this.$widget.find(".draw-widget__feedback").text(t)
        }
        _updateDownloadLink(t) {
            t && t.indexOf("data:") === 0 && (t = URL.createObjectURL(Pg(t)));
            let i = t ? Is({
                name: this.element.value
            }, this.element.dataset.filenamePostfix) : "";
            Vl.updateDownloadLink(this.$widget.find(".btn-download")[0], t, i)
        }
        _handleResize(t) {
            let i = this;
            (0, xs.default)(window).on("resize", () => {
                i._resizeCanvas(t)
            })
        }
        _resizeCanvas(t) {
            if (t.offsetWidth > 0) {
                let i = Math.max(window.devicePixelRatio || 1, 1);
                t.width = t.offsetWidth * i, t.height = t.offsetHeight * i, t.getContext("2d").scale(i, i), (0, xs.default)(t).trigger("canvasreload")
            }
        }
        disable() {
            let t = this,
                i = this.$widget.find(".draw-widget__body__canvas")[0];
            this.initialize.then(() => {
                t.pad.off(), i.classList.add("disabled"), t.$widget.find(".btn-reset").prop("disabled", !0)
            })
        }
        enable() {
            let t = this,
                i = this.$widget.find(".draw-widget__body__canvas")[0],
                n = this.props.touch && !this.$widget.is(".full-screen"),
                r = this.props.load && !this.element.value;
            this.initialize.then(() => {
                !t.props.readonly && !r && !n && (t.pad.on(), i.classList.remove("disabled"), t.$widget.find(".btn-reset").prop("disabled", !1)), t._resizeCanvas(i)
            })
        }
        update() {
            this.originalInputValue === "" && this._reset()
        }
        get props() {
            let t = this._props;
            return t.type = t.appearances.includes("draw") ? "drawing" : t.appearances.includes("signature") ? "signature" : "annotation", t.filename = `${t.type}.png`, t.load = t.type === "annotation", t.colors = t.type === "signature" ? [] : ["black", "lightblue", "blue", "red", "orange", "cyan", "yellow", "lightgreen", "green", "pink", "purple", "lightgray", "darkgray"], t.touch = Vi.touch, t.accept = this.element.getAttribute("accept"), t.capture = this.element.getAttribute("capture"), t
        }
        get value() {
            return this.cache || ""
        }
        set value(t) {
            this.cache = t
        }
    },
    hx = Vp;
var rl = ei(an());
var dx;
(function(e) {
    "use strict";
    var t = function() {
        function n() {
            this._dropEffect = "move", this._effectAllowed = "all", this._data = {}
        }
        return Object.defineProperty(n.prototype, "dropEffect", {
            get: function() {
                return this._dropEffect
            },
            set: function(r) {
                this._dropEffect = r
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(n.prototype, "effectAllowed", {
            get: function() {
                return this._effectAllowed
            },
            set: function(r) {
                this._effectAllowed = r
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(n.prototype, "types", {
            get: function() {
                return Object.keys(this._data)
            },
            enumerable: !0,
            configurable: !0
        }), n.prototype.clearData = function(r) {
            r != null ? delete this._data[r] : this._data = null
        }, n.prototype.getData = function(r) {
            return this._data[r] || ""
        }, n.prototype.setData = function(r, a) {
            this._data[r] = a
        }, n.prototype.setDragImage = function(r, a, s) {
            var l = i._instance;
            l._imgCustom = r, l._imgOffset = {
                x: a,
                y: s
            }
        }, n
    }();
    e.DataTransfer = t;
    var i = function() {
        function n() {
            if (this._lastClick = 0, n._instance) throw "DragDropTouch instance already created.";
            var r = !1;
            if (document.addEventListener("test", function() {}, {
                    get passive() {
                        return r = !0, !0
                    }
                }), "ontouchstart" in document) {
                var a = document,
                    s = this._touchstart.bind(this),
                    l = this._touchmove.bind(this),
                    u = this._touchend.bind(this),
                    f = r ? {
                        passive: !1,
                        capture: !1
                    } : !1;
                a.addEventListener("touchstart", s, f), a.addEventListener("touchmove", l, f), a.addEventListener("touchend", u), a.addEventListener("touchcancel", u)
            }
        }
        return n.getInstance = function() {
            return n._instance
        }, n.prototype._touchstart = function(r) {
            var a = this;
            if (this._shouldHandle(r)) {
                if (Date.now() - this._lastClick < n._DBLCLICK && this._dispatchEvent(r, "dblclick", r.target)) {
                    r.cancelable && r.preventDefault(), this._reset();
                    return
                }
                this._reset();
                var s = this._closestDraggable(r.target);
                s && !this._dispatchEvent(r, "mousemove", r.target) && !this._dispatchEvent(r, "mousedown", r.target) && (this._dragSource = s, this._ptDown = this._getPoint(r), this._lastTouch = r, r.cancelable && r.preventDefault(), setTimeout(function() {
                    a._dragSource == s && a._img == null && a._dispatchEvent(r, "contextmenu", s) && a._reset()
                }, n._CTXMENU), n._ISPRESSHOLDMODE && (this._pressHoldInterval = setTimeout(function() {
                    a._isDragEnabled = !0, a._touchmove(r)
                }, n._PRESSHOLDAWAIT)))
            }
        }, n.prototype._touchmove = function(r) {
            if (this._shouldCancelPressHoldMove(r)) {
                this._reset();
                return
            }
            if (this._shouldHandleMove(r) || this._shouldHandlePressHoldMove(r)) {
                var a = this._getTarget(r);
                if (this._dispatchEvent(r, "mousemove", a)) {
                    this._lastTouch = r, r.cancelable && r.preventDefault();
                    return
                }
                this._dragSource && !this._img && this._shouldStartDragging(r) && (this._dispatchEvent(r, "dragstart", this._dragSource), this._createImage(r), this._dispatchEvent(r, "dragenter", a)), this._img && (this._lastTouch = r, r.cancelable && r.preventDefault(), a != this._lastTarget && (this._dispatchEvent(this._lastTouch, "dragleave", this._lastTarget), this._dispatchEvent(r, "dragenter", a), this._lastTarget = a), this._moveImage(r), this._isDropZone = this._dispatchEvent(r, "dragover", a))
            }
        }, n.prototype._touchend = function(r) {
            if (this._shouldHandle(r)) {
                if (this._dispatchEvent(this._lastTouch, "mouseup", r.target)) {
                    r.cancelable && r.preventDefault();
                    return
                }
                this._img || (this._dragSource = null, this._dispatchEvent(this._lastTouch, "click", r.target), this._lastClick = Date.now()), this._destroyImage(), this._dragSource && (r.type.indexOf("cancel") < 0 && this._isDropZone && this._dispatchEvent(this._lastTouch, "drop", this._lastTarget), this._dispatchEvent(this._lastTouch, "dragend", this._dragSource), this._reset())
            }
        }, n.prototype._shouldHandle = function(r) {
            return r && !r.defaultPrevented && r.touches && r.touches.length < 2
        }, n.prototype._shouldHandleMove = function(r) {
            return !n._ISPRESSHOLDMODE && this._shouldHandle(r)
        }, n.prototype._shouldHandlePressHoldMove = function(r) {
            return n._ISPRESSHOLDMODE && this._isDragEnabled && r && r.touches && r.touches.length
        }, n.prototype._shouldCancelPressHoldMove = function(r) {
            return n._ISPRESSHOLDMODE && !this._isDragEnabled && this._getDelta(r) > n._PRESSHOLDMARGIN
        }, n.prototype._shouldStartDragging = function(r) {
            var a = this._getDelta(r);
            return a > n._THRESHOLD || n._ISPRESSHOLDMODE && a >= n._PRESSHOLDTHRESHOLD
        }, n.prototype._reset = function() {
            this._destroyImage(), this._dragSource = null, this._lastTouch = null, this._lastTarget = null, this._ptDown = null, this._isDragEnabled = !1, this._isDropZone = !1, this._dataTransfer = new t, clearInterval(this._pressHoldInterval)
        }, n.prototype._getPoint = function(r, a) {
            return r && r.touches && (r = r.touches[0]), {
                x: a ? r.pageX : r.clientX,
                y: a ? r.pageY : r.clientY
            }
        }, n.prototype._getDelta = function(r) {
            if (n._ISPRESSHOLDMODE && !this._ptDown) return 0;
            var a = this._getPoint(r);
            return Math.abs(a.x - this._ptDown.x) + Math.abs(a.y - this._ptDown.y)
        }, n.prototype._getTarget = function(r) {
            for (var a = this._getPoint(r), s = document.elementFromPoint(a.x, a.y); s && getComputedStyle(s).pointerEvents == "none";) s = s.parentElement;
            return s
        }, n.prototype._createImage = function(r) {
            this._img && this._destroyImage();
            var a = this._imgCustom || this._dragSource;
            if (this._img = a.cloneNode(!0), this._copyStyle(a, this._img), this._img.style.top = this._img.style.left = "-9999px", !this._imgCustom) {
                var s = a.getBoundingClientRect(),
                    l = this._getPoint(r);
                this._imgOffset = {
                    x: l.x - s.left,
                    y: l.y - s.top
                }, this._img.style.opacity = n._OPACITY.toString()
            }
            this._moveImage(r), document.body.appendChild(this._img)
        }, n.prototype._destroyImage = function() {
            this._img && this._img.parentElement && this._img.parentElement.removeChild(this._img), this._img = null, this._imgCustom = null
        }, n.prototype._moveImage = function(r) {
            var a = this;
            requestAnimationFrame(function() {
                if (a._img) {
                    var s = a._getPoint(r, !0),
                        l = a._img.style;
                    l.position = "absolute", l.pointerEvents = "none", l.zIndex = "999999", l.left = Math.round(s.x - a._imgOffset.x) + "px", l.top = Math.round(s.y - a._imgOffset.y) + "px"
                }
            })
        }, n.prototype._copyProps = function(r, a, s) {
            for (var l = 0; l < s.length; l++) {
                var u = s[l];
                r[u] = a[u]
            }
        }, n.prototype._copyStyle = function(r, a) {
            if (n._rmvAtts.forEach(function(m) {
                    a.removeAttribute(m)
                }), r instanceof HTMLCanvasElement) {
                var s = r,
                    l = a;
                l.width = s.width, l.height = s.height, l.getContext("2d").drawImage(s, 0, 0)
            }
            for (var u = getComputedStyle(r), f = 0; f < u.length; f++) {
                var d = u[f];
                d.indexOf("transition") < 0 && (a.style[d] = u[d])
            }
            a.style.pointerEvents = "none";
            for (var f = 0; f < r.children.length; f++) this._copyStyle(r.children[f], a.children[f])
        }, n.prototype._dispatchEvent = function(r, a, s) {
            if (r && s) {
                var l = document.createEvent("Event"),
                    u = r.touches ? r.touches[0] : r;
                return l.initEvent(a, !0, !0), l.button = 0, l.which = l.buttons = 1, this._copyProps(l, r, n._kbdProps), this._copyProps(l, u, n._ptProps), l.dataTransfer = this._dataTransfer, s.dispatchEvent(l), l.defaultPrevented
            }
            return !1
        }, n.prototype._closestDraggable = function(r) {
            for (; r; r = r.parentElement)
                if (r.hasAttribute("draggable") && r.draggable) return r;
            return null
        }, n
    }();
    i._instance = new i, i._THRESHOLD = 5, i._OPACITY = .5, i._DBLCLICK = 500, i._CTXMENU = 900, i._ISPRESSHOLDMODE = !1, i._PRESSHOLDAWAIT = 400, i._PRESSHOLDMARGIN = 25, i._PRESSHOLDTHRESHOLD = 0, i._rmvAtts = "id,class,style,draggable".split(","), i._kbdProps = "altKey,ctrlKey,metaKey,shiftKey".split(","), i._ptProps = "pageX,pageY,clientX,clientY,screenX,screenY".split(","), e.DragDropTouch = i
})(dx || (dx = {}));
var Wl = ei(Cx());
var Zp = class extends Rt {
        static get selector() {
            return ".question input.rank"
        }
        static get list() {
            return !0
        }
        _init() {
            let t = this,
                i = this.originalInputValue,
                n = Vi.touch ? "rankwidget.tapstart" : "rankwidget.clickstart";
            this.itemSelector = "label:not(.itemset-template)", this.list = (0, rl.default)(this.element).next(".option-wrapper").addClass("widget rank-widget")[0], (0, rl.default)(this.list).toggleClass("rank-widget--empty", !i).append(this.resetButtonHtml).append(`<div class="rank-widget__overlay"><span class="rank-widget__overlay__content" data-i18n="${n}">${Vi.touch?Ae("rankwidget.tapstart"):Ae("rankwidget.clickstart")}</span></div>`).on("click", function() {
                t.element.disabled || (this.classList.remove("rank-widget--empty"), t.originalInputValue = t.value, t.element.dispatchEvent(He.FakeFocus()))
            }), this.list.querySelector(".btn-reset").addEventListener("click", r => {
                this._reset(), r.stopPropagation()
            }), this.element.classList.add("hide"), this.value = i, this.list.querySelectorAll(this.itemSelector).forEach(r => {
                let a = document.createElement("span");
                a.textContent = "::", a.className = "handle", r.append(a)
            }), (0, Wl.default)(this.list, {
                items: this.itemSelector,
                handle: ".handle",
                containerSerializer(r) {
                    return {
                        value: [].slice.call(r.node.querySelectorAll(`${t.itemSelector} input`)).map(a => a.value).join(" ")
                    }
                }
            })[0].addEventListener("sortupdate", () => {
                this.originalInputValue = this.value, this.element.dispatchEvent(He.FakeFocus())
            }), this.props.readonly && this.disable()
        }
        _reset() {
            this.originalInputValue = ""
        }
        get value() {
            return (0, Wl.default)(this.list, "serialize")[0].container.value
        }
        set value(t) {
            if (!t) this._reset();
            else {
                let i = this,
                    n = t.split(" "),
                    r = [...this.list.querySelectorAll(`${this.itemSelector} input`)];
                if (n.length !== r.length) throw new Error("Could not load rank widget value. Number of items mismatch.");
                r.sort((a, s) => {
                    let l = n.indexOf(a.value),
                        u = n.indexOf(s.value);
                    if (l === -1 || u === -1) throw new Error("Could not load rank widget value. Mismatch in item values.");
                    return l - u
                }), r.forEach(a => {
                    (0, rl.default)(i.list).find(".btn-reset").before((0, rl.default)(a.parentNode).detach())
                })
            }
        }
        disable() {
            (0, rl.default)(this.element).prop("disabled", !0).next(".widget").find("input, button").prop("disabled", !0), (0, Wl.default)(this.list, "disable")
        }
        enable() {
            (0, rl.default)(this.element).prop("disabled", !1).next(".widget").find("input, button").prop("disabled", !1), (0, Wl.default)(this.list, "enable")
        }
        update() {
            let {
                value: t
            } = this.element;
            (0, Wl.default)(this.list), t ? (this.value = t, this.originalInputValue = t) : this._reset()
        }
        get originalInputValue() {
            return super.originalInputValue
        }
        set originalInputValue(t) {
            super.originalInputValue = t, this.list.classList.toggle("rank-widget--empty", !t)
        }
    },
    Sx = Zp;
var Qu = class {};
var Xp = class extends Rt {
        static get selector() {
            return '.or-appearance-distress input[type="number"], .question:not(.or-appearance-analog-scale):not(.or-appearance-rating) > input[type="number"][min][max][step]'
        }
        _init() {
            let t = this,
                i = document.createRange().createContextualFragment(this._getHtmlStr());
            i.querySelector(".range-widget__scale__end").before(this.resetButtonHtml), i.querySelector(".range-widget__scale__start").textContent = this.props.min, i.querySelector(".range-widget__scale__end").textContent = this.props.max, this.element.after(i), this.element.classList.add("hide"), this.element.addEventListener("applyfocus", () => {
                this.range.focus()
            }), this.widget = this.question.querySelector(".widget"), this.range = this.widget.querySelector("input"), this.current = this.widget.querySelector(".range-widget__current"), this.props.readonly && this.disable(), this.range.addEventListener("change", () => {
                this.current.textContent = this.value, this._updateMercury((this.value - this.props.min) / (t.props.max - t.props.min)), this.originalInputValue !== this.value && (this.originalInputValue = this.value)
            }), this.widget.querySelector("input.empty").addEventListener("click", () => {
                this.range.classList.remove("empty"), this.range.dispatchEvent(He.Change())
            }), this.widget.querySelector("input.empty").addEventListener("touchstart", () => {
                this.range.classList.remove("empty"), this.range.dispatchEvent(He.Change())
            }), this.widget.querySelector(".btn-reset").addEventListener("click", this._reset.bind(this)), this.update();
            let n = this.props.ticks ? Math.ceil(Math.abs((this.props.max - this.props.min) / this.props.step)) : 1,
                r = Math.ceil(n / this.props.maxTicks);
            for (; n % r && r < n;) r++;
            n /= r, this.widget.querySelector(".range-widget__ticks").append(document.createRange().createContextualFragment(new Array(n).fill("<span></span>").join("")))
        }
        _getHtmlStr() {
            return `<div class="widget range-widget">
                <div class="range-widget__wrap">
                    <div class="range-widget__current"></div>
                    <div class="range-widget__bg"></div>
                    <div class="range-widget__ticks"></div>
                    <div class="range-widget__scale">
                        <span class="range-widget__scale__start"></span>
                        ${this._stepsBetweenHtmlStr(this.props)}
                        <span class="range-widget__scale__end"></span>
                    </div>
                    <div class="range-widget__bulb">
                        <div class="range-widget__bulb__inner"></div>
                        <div class="range-widget__bulb__mercury"></div>
                    </div>
                </div>
                <input type="range" class="ignore empty" min="${this.props.min}" max="${this.props.max}" step="${this.props.step}"/>
            </div>`
        }
        _updateMercury(t) {
            let i = this.widget.querySelector(".range-widget__ticks").clientHeight,
                n = this.widget.querySelector(".range-widget__bulb").clientHeight;
            this.widget.querySelector(".range-widget__bulb__mercury").style.height = `${t*i+.5*n}px`
        }
        _stepsBetweenHtmlStr(t) {
            let i = "";
            if (t.showScale && (t.max - t.min) / t.step <= 10 && (t.max - t.min) % t.step === 0)
                for (let r = t.min + t.step; r < t.max; r += t.step) i += `<span class="range-widget__scale__between">${r}</span>`;
            return i
        }
        _reset() {
            this.current.textContent = "", this._updateMercury(0), this.value = "", this.originalInputValue = ""
        }
        disable() {
            this.widget.querySelectorAll("input, button").forEach(t => t.disabled = !0)
        }
        enable() {
            this.widget.querySelectorAll("input, button").forEach(t => t.disabled = !1)
        }
        update() {
            let {
                value: t
            } = this.element;
            Yn(t) ? (this.value = t, this.range.dispatchEvent(He.Change())) : this._reset()
        }
        get props() {
            let t = this._props,
                i = Yn(this.element.getAttribute("min")) ? this.element.getAttribute("min") : 0,
                n = Yn(this.element.getAttribute("max")) ? this.element.getAttribute("max") : 10,
                r = Yn(this.element.getAttribute("step")) ? this.element.getAttribute("step") : 1,
                a = t.appearances.includes("distress");
            return t.min = Number(i), t.max = Number(n), t.step = Number(r), t.vertical = t.appearances.includes("vertical") || a, t.ticks = !t.appearances.includes("no-ticks"), t.showScale = a, t.maxTicks = 50, t
        }
        get value() {
            return this.range.classList.contains("empty") ? "" : this.range.value
        }
        set value(t) {
            this.range.value = t, this.range.classList.toggle("empty", t === "")
        }
    },
    Tx = Xp;
var Yp = class extends Rt {
        static get selector() {
            return ".question.or-appearance-columns"
        }
        _init() {
            this.element.querySelectorAll(".option-wrapper").forEach(t => {
                let n = 3 - t.querySelectorAll("label").length % 3;
                for (; n < 3 && n > 0;) t.append(document.createRange().createContextualFragment('<label class="filler"></label>')), n--;
                this.question.classList.add("or-columns-initialized")
            })
        }
    },
    Lx = Yp;
var Qp = class extends Rt {
        static get selector() {
            return "a.or-big-image"
        }
        _init() {
            this.element.addEventListener("click", t => {
                let i = this.element.getAttribute("href"),
                    n = this.element.querySelector("img"),
                    r = n.getAttribute("src");
                this.element.setAttribute("href", r), n.setAttribute("src", i), this.element.classList.toggle("open"), t.preventDefault(), t.stopPropagation()
            })
        }
    },
    kx = Qp;
var Jp = ei(an());
var eg = class extends Rt {
        static get selector() {
            return '.or-appearance-comment input[type="text"][data-for], .or-appearance-comment textarea[data-for]'
        }
        static get helpersRequired() {
            return ["input", "pathToAbsolute"]
        }
        _init() {
            if (this.linkedQuestion = this._getLinkedQuestion(this.element), this.commentQuestion = this.question, this.linkedQuestion) {
                this.commentQuestion.classList.add("hide"), this.commentQuestion.setAttribute("role", "comment");
                let t = document.createRange().createContextualFragment('<a class="btn-icon-only btn-comment aria-label="comment" type="button" href="#"><i class="icon"> </i></a>'),
                    i = this.linkedQuestion.querySelectorAll(".question-label");
                i[i.length - 1].after(t), this.commentButton = this.linkedQuestion.querySelector(".btn-comment"), this._setCommentButtonState(this.originalInputValue), this._setCommentButtonHandler(), this._setValidationHandler(), this._setFocusHandler()
            }
        }
        _getLinkedQuestion(t) {
            let i = this.options.helpers.input.getName(t),
                n = this.element.dataset.for.trim(),
                r = this.options.helpers.pathToAbsolute(n, i),
                a = t.closest("form.or, .or-repeat");
            return this.options.helpers.input.getWrapNode(a.querySelector(`[name="${r}"], [data-name="${r}"]`))
        }
        _commentHasError() {
            return this.commentQuestion.classList.contains("invalid-required") || this.commentQuestion.classList.contains("invalid-constraint")
        }
        _setCommentButtonState(t, i) {
            t = typeof t == "string" ? t.trim() : t, this.commentButton.classList.toggle("empty", !t), this.commentButton.classList.toggle("invalid", !!i)
        }
        _setCommentButtonHandler() {
            this.commentButton.addEventListener("click", t => {
                this._isCommentModalShown(this.linkedQuestion) ? this._hideCommentModal(this.linkedQuestion) : this._showCommentModal(), t.preventDefault(), t.stopPropagation()
            })
        }
        _setValidationHandler() {
            this.element.closest("form.or").addEventListener(He.ValidationComplete().type, () => {
                let t = this._commentHasError(),
                    i = this.originalInputValue;
                this._setCommentButtonState(i, t)
            })
        }
        _setFocusHandler() {
            (0, Jp.default)(this.element).on("applyfocus", () => {
                this.commentButton.matches(":visible") ? this.commentButton.click() : console.warn(`The linked question is not visible. Cannot apply focus to ${this.element.getAttribute("name")}`)
            })
        }
        _isCommentModalShown(t) {
            return !!t.querySelector(".or-comment-widget")
        }
        _showCommentModal() {
            let t = this.question.cloneNode(!0),
                i = Ae("widget.comment.update") || "Update",
                n = t.querySelector("input:not(.ignore), textarea:not(.ignore)");
            t.classList.remove("hide"), n.classList.add("ignore"), n.removeAttribute("name data-for data-type-xml");
            let r = document.createRange().createContextualFragment(`<section class="widget or-comment-widget">
                <div class="or-comment-widget__content">
                    <button class="btn btn-primary or-comment-widget__content__btn-update" type="button">${i}</button>
                    <button class="btn-icon-only or-comment-widget__content__btn-close-x" type="button">&times;</button>
                </div>
            </section>
            `);
            r.querySelector(".or-comment-widget__content").prepend(t);
            let a = document.createRange().createContextualFragment('<div class="or-comment-widget__overlay"></div>');
            this.linkedQuestion.prepend(r), this.linkedQuestion.before(a);
            let s = this.linkedQuestion.previousElementSibling,
                l = this.linkedQuestion.querySelector(".or-comment-widget"),
                u = l.querySelector(".or-comment-widget__content__btn-update"),
                f = l.querySelector(".or-comment-widget__content__btn-close-x");
            n.focus(), l.scrollIntoView(!1), u.addEventListener("click", d => {
                let {
                    value: m
                } = n;
                this.originalInputValue = m, this.element.dispatchEvent(He.Change());
                let T = this._commentHasError();
                this._setCommentButtonState(m, T), this._hideCommentModal(this.linkedQuestion), this.options.helpers.input.validate((0, Jp.default)(this.linkedQuestion.querySelector("input:not(.ignore), select:not(.ignore), textarea:not(.ignore)"))), d.preventDefault(), d.stopPropagation()
            }), f.addEventListener("click", d => {
                this._hideCommentModal(this.linkedQuestion), d.stopPropagation(), d.preventDefault()
            }), s.addEventListener("click", d => {
                this._hideCommentModal(this.linkedQuestion), d.stopPropagation(), d.preventDefault()
            })
        }
        _hideCommentModal(t) {
            t.querySelector(".or-comment-widget").remove();
            let i = t.previousElementSibling;
            i && i.matches(".or-comment-widget__overlay") && i.remove()
        }
    },
    Ix = eg;
var Ju = "path[id], g[id], circle[id]",
    tg = class extends Rt {
        static get selector() {
            return ".simple-select.or-appearance-image-map label:first-child > input"
        }
        _init() {
            let t = this.question.querySelector("img");
            if (this.question.classList.add("or-image-map-initialized"), !t) this._showSvgNotFoundError();
            else return t.getAttribute("src") ? this._addMarkup(t).then(this._addFunctionality.bind(this)).then(() => this) : new Promise(i => {
                t.addEventListener("load", () => {
                    this._addMarkup(t).then(this._addFunctionality.bind(this)), i(this)
                })
            })
        }
        _addFunctionality(t) {
            t && (this.svg = t.querySelector("svg"), this.tooltip = t.querySelector(".image-map__ui__tooltip"), this.props.readonly && this.disable(), this._setSvgClickHandler(), this._setChangeHandler(), this._setHoverHandler(), this._updateImage(), this._setPageHandler())
        }
        _addMarkup(t) {
            let i = this,
                n = t.getAttribute("src");
            return fetch(n).then(r => r.text()).then(r => new DOMParser().parseFromString(r, "text/xml")).then(r => {
                if (i._isSvgDoc(r)) {
                    let a = i._removeUnmatchedIds(r.querySelector("svg")),
                        s = document.createRange().createContextualFragment(`<div class="widget image-map">
                            <div class="image-map__ui">
                                <span class="image-map__ui__tooltip"></span>
                            </div>
                        </div>`);
                    s.querySelector(".widget").append(a), i.question.querySelectorAll("img").forEach(f => f.remove()), i.question.querySelector("fieldset > .option-wrapper").before(s);
                    let l = i.question.querySelector(".image-map"),
                        u = l.querySelector("svg");
                    return u.getAttribute("viewBox") || this._setViewBox(u), l
                }
                throw "Image is not an SVG doc"
            }).catch(this._showSvgNotFoundError.bind(i))
        }
        _setViewBox(t) {
            let i;
            try {
                let n = t.getBBox();
                i = `${n.x} ${n.y} ${n.width} ${n.height}`
            } catch (n) {
                console.error("Could not obtain Boundary Box of SVG element", n);
                let r = t.getAttribute("width"),
                    a = t.getAttribute("height");
                r && a && (i = `0 0 ${parseInt(r,10)} ${parseInt(a,10)}`)
            }
            t.setAttribute("viewBox", i)
        }
        _showSvgNotFoundError(t) {
            console.error(t);
            let i = document.createRange().createContextualFragment(`<div class="widget image-map">
                <div class="image-map__error" data-i18n="imagemap.svgNotFound">${Ae("imagemap.svgNotFound")}</div>
            </div>`);
            this.question.querySelector(".option-wrapper").before(i)
        }
        _removeUnmatchedIds(t) {
            return t.querySelectorAll(Ju).forEach(i => {
                this._getInput(i.id) || i.removeAttribute("id")
            }), t
        }
        _getInput(t) {
            return this.question.querySelector(`input[value="${CSS.escape(t)}"]`)
        }
        _setSvgClickHandler() {
            this.svg.addEventListener("click", t => {
                if (!t.target.closest("svg").matches("[or-readonly]") && (t.target.matches(Ju) || t.target.closest(Ju))) {
                    let i = t.target.id || t.target.closest("g[id]").id,
                        n = this._getInput(i);
                    n && (n.checked = !n.checked, n.dispatchEvent(He.Change()), n.dispatchEvent(He.FakeFocus()))
                }
            })
        }
        _setChangeHandler() {
            this.question.addEventListener("change", this._updateImage.bind(this))
        }
        _setHoverHandler() {
            this.svg.querySelectorAll(Ju).forEach(t => {
                t.addEventListener("mouseenter", i => {
                    let n = i.target.id || i.target.closest("g[id]").id,
                        r = An(this._getInput(n), ".option-label.active"),
                        a = r ? r.textContent : "";
                    this.tooltip.textContent = a
                }), t.addEventListener("mouseleave", i => {
                    i.target.matches(Ju) && (this.tooltip.textContent = "")
                })
            })
        }
        _setPageHandler() {
            let t = this.element.closest('[role="page"]');
            t && t.addEventListener(He.PageFlip().type, () => this._setViewBox(this.svg))
        }
        _isSvgDoc(t) {
            return typeof t == "object" && t.querySelector("svg")
        }
        _updateImage() {
            let t = this.originalInputValue;
            this.svg.querySelectorAll("path[or-selected], g[or-selected], circle[or-selected]").forEach(i => i.removeAttribute("or-selected")), typeof t == "string" && (t = [t]), t.forEach(i => {
                i && this.svg.querySelectorAll(`path#${CSS.escape(i)},g#${CSS.escape(i)},circle#${CSS.escape(i)}`).forEach(n => n.setAttribute("or-selected", ""))
            })
        }
        disable() {
            this.svg.setAttribute("or-readonly", "")
        }
        enable() {
            this.svg.removeAttribute("or-readonly")
        }
        update() {
            this._updateImage()
        }
        get value() {
            return this.originalInputValue
        }
        set value(t) {
            this.originalInputValue = t
        }
    },
    Ax = tg;
var ig = class extends Rt {
        static get selector() {
            return '.question input[type="date"],.question input[type="datetime-local"]'
        }
        static condition(t) {
            return !Qn.has(t, "DatepickerExtended") && !Qn.has(t, "DatetimepickerExtended") && !Vi.touch
        }
        _init() {
            this.element.type = "text", this.element.classList.add("mask-date")
        }
    },
    Dx = ig;
var ng = class extends Rt {
        static get selector() {
            return ' .question input[type="date"], .question input[type="datetime-local"], .question input[type="time"]'
        }
        static condition(t) {
            return !Qn.has(t, "DatepickerExtended") && !Qn.has(t, "DatetimepickerExtended") && !Qn.has(t, "TimepickerExtended") && Us.ios
        }
        _init() {
            this.element.addEventListener("focus", () => {
                this.element.readOnly && this.element.blur()
            })
        }
    },
    Nx = ng;
var rg = class extends Rt {
        static get selector() {
            return '.or-appearance-month-year input[type="date"]'
        }
        static condition(t) {
            return !Qn.has(t, "DatepickerExtended") && Vi.touch && Vi.inputTypes.month
        }
        _init() {
            this.element.classList.add("hide");
            let t = document.createRange().createContextualFragment('<input class="ignore widget datepicker-mobile" type="month"/>');
            this.element.after(t), this.widgetInput = this.question.querySelector("input.widget"), this.value = this.originalInputValue, this.widgetInput.addEventListener("change", () => {
                this.originalInputValue = this.value
            })
        }
        get value() {
            return this.widgetInput.value ? `${this.widgetInput.value}-01` : ""
        }
        set value(t) {
            let i = t ? t.substring(0, t.lastIndexOf("-")) : "";
            this.widgetInput.value = i
        }
        update() {
            this.value = this.originalInputValue
        }
    },
    Px = rg;
var ag = class extends Rt {
        static get selector() {
            return '[data-type-xml="string"]'
        }
        _init() {
            let t = Number(ji.textMaxChars);
            !isNaN(t) && t > 0 && this.element.setAttribute("maxlength", ji.textMaxChars)
        }
    },
    Rx = ag;
var sg = class extends Rt {
        static get selector() {
            return ".question:not(.or-appearance-autocomplete):not(.or-appearance-url) > input[type=text]:not(.ignore):not([data-for]), .question:not(.or-appearance-autocomplete):not(.or-appearance-url) > textarea:not(.ignore):not([data-for])"
        }
        _init() {
            this.question.addEventListener(He.Printify().type, this._addWidget.bind(this)), this.question.addEventListener(He.DePrintify().type, this._removeWidget.bind(this))
        }
        _addWidget() {
            if (!this.widget) {
                let t = "print-input-text",
                    i = document.createElement("div");
                i.classList.add(t, "widget"), this.element.after(i), this.element.classList.add("print-hide"), this.widget = this.element.parentElement.querySelector(`.${t}`), this.widget.innerHTML = this.element.value.replace(/\n/g, "<br>")
            }
        }
        _removeWidget() {
            this.widget && (this.element.classList.remove("print-hide"), this.element.parentElement.removeChild(this.widget), this.widget = null)
        }
    },
    Bx = sg;
var og = class extends Rt {
        static get selector() {
            return '.or-appearance-rating input[type="number"]'
        }
        _init() {
            let t = document.createRange().createContextualFragment(this._getHtmlStr());
            this.element.after(t), this.element.classList.add("hide"), this.widget = this.question.querySelector(".widget");
            let i = "",
                n = Math.random().toString(36).substring(2, 15);
            for (let r = this.props.min; r <= this.props.max; r += this.props.step) i += `<input type=radio name="rating-stars__${n}" class="rating-widget__rating__star ignore" value="${r}"/>`;
            this.widget.querySelector(".rating-widget__rating").append(document.createRange().createContextualFragment(i)), this.rating = this.widget.querySelector(".rating-widget__rating"), this.stars = this.rating.querySelectorAll(".rating-widget__rating__star"), this.stars.forEach(r => {
                r.addEventListener("change", () => {
                    let a = this.rating.querySelector("input:checked");
                    (this.value !== a.value || this.rating.classList.contains("empty")) && (this.value = a.value)
                })
            }), this.update(), this.props.readonly && this.disable()
        }
        _getHtmlStr() {
            return `<div class="widget rating-widget">
                	<div class="rating-widget__rating empty"></div>
            	</div>`
        }
        disable() {
            this.stars.forEach(t => t.disabled = !0)
        }
        enable() {
            this.stars.forEach(t => t.disabled = !1)
        }
        update() {
            let {
                value: t
            } = this.element;
            Yn(t) ? this.stars.forEach(i => {
                i.value === t && (i.checked = !0, i.dispatchEvent(He.Change()))
            }) : this._reset()
        }
        _reset() {
            let t = this.rating.querySelector("input:checked");
            t && (this.value = "", t.checked = !1)
        }
        get props() {
            let t = this._props,
                i = Yn(this.element.getAttribute("min")) ? this.element.getAttribute("min") : 0,
                n = Yn(this.element.getAttribute("max")) ? this.element.getAttribute("max") : 10,
                r = Yn(this.element.getAttribute("step")) ? this.element.getAttribute("step") : 1;
            return t.min = Number(i), t.max = Number(n), t.step = Number(r), t
        }
        get value() {
            return this.originalInputValue
        }
        set value(t) {
            this.originalInputValue = t, this.rating.classList.toggle("empty", t === "")
        }
    },
    Mx = og;
var lg = class extends Rt {
        static get selector() {
            return '.or-appearance-thousands-sep input[type="number"]'
        }
        _init() {
            let t = document.createRange().createContextualFragment('<div class="widget "></div>');
            this.element.after(t), this.widget = this.element.parentElement.querySelector(".widget"), this.update(), this.element.addEventListener("change", this.update.bind(this))
        }
        update() {
            this.value = this.originalInputValue
        }
        get value() {
            return this.widget.textContent
        }
        set value(t) {
            let i = "";
            Yn(t) && (i = Number(t).toLocaleString(void 0, {
                maximumFractionDigits: 20
            })), this.widget.textContent = i
        }
    },
    Ox = lg;
var LP = {
    constraint: {
        invalid: "Value not allowed",
        required: "This field is required"
    },
    filepicker: {
        placeholder: "Click here to upload file. (< __maxSize__)",
        notFound: "File __existing__ could not be found (leave unchanged if already submitted and you want to preserve it).",
        waitingForPermissions: "Waiting for user permissions.",
        resetWarning: "This will remove the __item__. Are you sure you want to do this?",
        toolargeerror: "File too large (> __maxSize__)",
        file: "file"
    },
    drawwidget: {
        drawing: "drawing",
        signature: "signature",
        annotation: "file and drawing"
    },
    form: {
        required: "required"
    },
    geopicker: {
        accuracy: "accuracy (m)",
        altitude: "altitude (m)",
        closepolygon: "close polygon",
        kmlcoords: "KML coordinates",
        kmlpaste: "paste KML coordinates here",
        latitude: "latitude (x.y \xB0)",
        longitude: "longitude (x.y \xB0)",
        points: "points",
        searchPlaceholder: "search for place or address",
        removePoint: "This will completely remove the current geopoint from the list of geopoints and cannot be undone. Are you sure you want to do this?"
    },
    selectpicker: {
        noneselected: "none selected",
        numberselected: "__number__ selected"
    },
    imagemap: {
        svgNotFound: "SVG image could not be found"
    },
    rankwidget: {
        tapstart: "Tap to start",
        clickstart: "Click to start"
    },
    widget: {
        comment: {
            update: "Update"
        }
    },
    alert: {
        gotonotfound: {
            msg: "Failed to find question '__path__' in form. Is it a valid path?"
        },
        valuehasspaces: {
            multiple: 'Select multiple question has an illegal value "__value__" that contains a space.'
        }
    },
    confirm: {
        repeatremove: {
            heading: "Delete this group of responses?",
            msg: "This action is irreversible. Are you sure you want to proceed?"
        }
    }
};

function Ux(e, t) {
    let i = "",
        n = LP;
    return e.split(".").forEach(r => {
        n = n ? n[r] : "", i = n
    }), t = t || {}, i = i.replace(/__([^_]+)__/, (r, a) => t[a]), i
}
var ug = new Set,
    cg = new WeakMap,
    Fx = e => {
        let t = cg.get(e);
        return t == null && (t = e.closest(".question"), t != null && cg.set(e, t)), t
    },
    fg = class extends Rt {
        constructor(i, n) {
            super(i, n);
            No(this, "_languages", null);
            ug.add(this);
            let r = Fx(i),
                a = document.createElement("div");
            r.setAttribute("lang", this.constructor.language), a.classList.add("invalid-value-msg", "active"), r.append(a), this.question = r, this.message = a, this.setFormattedValue(i.valueAsNumber), this.setValidity(), i.addEventListener("keydown", s => {
                let {
                    ctrlKey: l,
                    isComposing: u,
                    key: f,
                    metaKey: d
                } = s;
                if (l || d || f && f.length > 1 && f !== "Spacebar" || !u && this.constructor.validCharacters.has(f)) return !0;
                s.preventDefault(), s.stopPropagation()
            }), i.addEventListener("input", () => {
                this.setValidity()
            })
        }
        static languageChanged() {
            this._languages = null;
            let {
                language: i,
                pattern: n
            } = this, r = n.source;
            Array.from(ug.values()).forEach(a => {
                let {
                    element: s,
                    question: l
                } = a, {
                    valueAsNumber: u
                } = s;
                l.setAttribute("lang", i), s.setAttribute("pattern", r), a.setFormattedValue(u), a.setValidity()
            })
        }
        static globalInit(i, n) {
            super.globalInit(i, n), n.addEventListener(He.ChangeLanguage().type, this.languageChanged), window.addEventListener("languagechange", this.languageChanged)
        }
        static globalReset() {
            let {
                rootElement: i
            } = super.globalReset();
            i && (i.removeEventListener(He.ChangeLanguage().type, this.languageChanged), window.removeEventListener("languagechange", this.languageChanged)), this._languages = null, ug = new Set, cg = new WeakMap
        }
        static get selector() {
            throw new Error("Not implemented")
        }
        static condition(i) {
            if (i.classList.contains("ignore") || i.hasAttribute("min") && i.hasAttribute("max") && i.hasAttribute("step")) return !1;
            let r = Fx(i);
            return !["or-appearance-analog-scale", "or-appearance-my-widget", "or-appearance-distress", "or-appearance-rating"].some(a => r.classList.contains(a))
        }
        static get languages() {
            let i = this._languages;
            if (i != null) return i;
            let {
                currentLanguage: n
            } = this.form, r;
            try {
                Intl.getCanonicalLocales(n), r = n
            } catch {}
            return i = [r, ...navigator.languages].filter(a => a != null), this._languages = i, i
        }
        static get language() {
            var i;
            return (i = this.languages[0]) != null ? i : navigator.language
        }
        static get pattern() {
            throw new Error("Not implemented")
        }
        static get validCharacters() {
            throw new Error("Not implemented")
        }
        get value() {
            return this.element.value
        }
        set value(i) {
            this.element.value = i
        }
        setFormattedValue(i) {
            let {
                pattern: n
            } = this.constructor, {
                element: r
            } = this;
            r.removeAttribute("pattern"), r.value = "", Number.isNaN(i) || (r.value = i), r.setAttribute("pattern", n.source)
        }
        setValidity() {
            let {
                element: i,
                message: n,
                question: r
            } = this, a = i.checkValidity();
            r.classList.toggle("invalid-value", !a), n.innerText = a ? "" : Ux("constraint.invalid"), this.isValid = a
        }
    },
    qf = fg;
var hg = new Map,
    qx = e => {
        let [t] = e, i = hg.get(t);
        if (i != null) return i;
        let n = Intl.getCanonicalLocales(e),
            a = Intl.NumberFormat(n).formatToParts(.1).find(({
                type: s
            }) => s === "decimal").value;
        return i = new Set([".", a]), hg.set(t, i), i
    },
    dg = new Map,
    kP = e => {
        let [t] = e, i = dg.get(t);
        if (i != null) return i;
        let n = Intl.getCanonicalLocales(e),
            r = Intl.NumberFormat(n),
            a = -9.012345678;
        return i = new Set(`${a}${r.format(a)}`.split("")), dg.set(t, i), i
    },
    pg = new Map,
    IP = e => {
        let [t] = e, i = pg.get(t);
        if (i != null) return i;
        let n = qx(t),
            a = `^-?\\d+${`([${Array.from(n).join("")}]\\d+)?`}$`;
        return i = new RegExp(a), pg.set(t, i), i
    },
    Kl = class extends qf {
        static globalInit(t, i) {
            this.languageChanged = this.languageChanged.bind(this), super.globalInit(t, i)
        }
        static globalReset(t, i) {
            hg = new Map, dg = new Map, pg = new Map, super.globalReset(t, i)
        }
        static get decimalCharacters() {
            return qx(this.languages)
        }
        static get validCharacters() {
            return kP(this.languages)
        }
        static get pattern() {
            return IP(this.languages)
        }
        get value() {
            return super.value
        }
        set value(t) {
            super.value = t
        }
    };
No(Kl, "selector", '.question input[type="number"][data-type-xml="decimal"]');
var gg = new Map,
    AP = e => {
        let [t] = e, i = gg.get(t);
        if (i != null) return i;
        let n = Intl.getCanonicalLocales(e),
            r = Intl.NumberFormat(n),
            a = -9012345678;
        return i = new Set(`${a}${r.format(a)}`.split("")), gg.set(t, i), i
    },
    al = class extends qf {
        static globalInit(t, i) {
            this.languageChanged = this.languageChanged.bind(this), super.globalInit(t, i)
        }
        static globalReset(t, i) {
            gg = new Map, super.globalReset(t, i)
        }
        static get validCharacters() {
            return AP(this.languages)
        }
        get value() {
            return super.value
        }
        set value(t) {
            super.value = t
        }
    };
No(al, "selector", '.question input[type="number"][data-type-xml="int"]'), No(al, "pattern", /^-?[0-9]+$/);
var ja = ei(an()),
    ec, Wa = class extends Rt {
        static get selector() {
            return ".or-appearance-image-customization[data-image-customization]"
        }
        static get helpersRequired() {
            return ["input", "pathToAbsolute"]
        }
    };
Wa.prototype._init = function() {
    let e = this,
        t = this.element.querySelector("img");
    if (this.$styleInput = this._getStyleInput(), this.$styleInput.on("valuechange.enketo inputupdate.enketo", this._updateImage.bind(this)), this.element.classList.contains("or-image-map-initialized")) {
        new MutationObserver(i => {
            i.forEach(n => {
                n.addedNodes[0].classList.contains("image-map") && e._updateImage()
            })
        }).observe(e.element.querySelector(".option-wrapper").parentElement, {
            childList: !0
        });
        return
    }
    this.$styleInput && this.$styleInput.length && t && (t.getAttribute("src") ? this._addMarkup(t).then(this._updateImage.bind(this)) : (0, ja.default)(t).on("load", () => {
        e._addMarkup(t).then(e._updateImage.bind(e))
    }))
};
Wa.prototype._getStyleInput = function() {
    let e = this.element.querySelector("input"),
        t = this.options.helpers.input.getName(e);
    if (this.element.dataset.imageCustomization) {
        let i = this.element.dataset.imageCustomization.trim(),
            n = this.options.helpers.pathToAbsolute(i, t);
        return (0, ja.default)(this.element).closest("form.or").find(`[name="${n}"], [data-name="${n}"]`).eq(0)
    }
    return (0, ja.default)()
};
Wa.prototype._addMarkup = function(e) {
    let t = this,
        i = e.getAttribute("src");
    return ja.default.get(i).then(n => {
        let r, a, s, l;
        if (t._isSvgDoc(n)) return r = (0, ja.default)(n.querySelector("svg")), a = (0, ja.default)('<div class="widget image-map"/>').append(r), (0, ja.default)(t.element).find("img").remove(), (0, ja.default)(t.element).append(a), s = r.attr("width") || r[0].getBBox().width, l = r.attr("height") || r[0].getBBox().height, r.attr("viewBox", [0, 0, s, l].join(" ")), a
    })
};
Wa.prototype._getInput = function(e) {
    return this.element.querySelector(`input[value="${e}"]`)
};
Wa.prototype._isSvgDoc = e => typeof e == "object" && e.querySelector("svg");
Wa.prototype._complementSelectedRule = function(e) {
    ec || ((0, ja.default)("head").append("<style/>"), ec = document.styleSheets[document.styleSheets.length - 1]), ec.cssRules[0] && ec.deleteRule(0), ec.insertRule(`.or-appearance-image-customization .image-map svg path[id][or-selected]{${this._getStyleValue(e)}}`, 0)
};
Wa.prototype._updateImage = function() {
    let e, t, i, n = this.$styleInput.val(),
        r = JSON.parse(n),
        a = (0, ja.default)(this.element).find("svg");
    if (this._complementSelectedRule(r.selected), a.find("path[id][style]").removeAttr("style"), r && a.length)
        for (t in r) e = a.find(`path#${t}`), i = this._getStyleValue(r[t]), e.attr("style", i)
};
Wa.prototype._getStyleValue = e => {
    let t, i = "";
    for (t in e) i += `${t}:${e[t]} !important;`;
    return i
};
var Vx = Wa;
var tc = "flash",
    ic = "stop",
    nc = "start",
    Vf = "finish",
    mg = class extends Rt {
        static get selector() {
            return ".or-appearance-literacy.simple-select"
        }
        static get helpersRequired() {
            return ["evaluate"]
        }
        _init() {
            let t = document.createRange(),
                i;
            if (!this.element.querySelector('input[type="checkbox"]') || this.element.querySelector('input[type="checkbox"][readonly]')) {
                console.error("literacy widget cannot be instantiated on this question type");
                return
            }
            let n = this.props.name;
            i = this._getCurrentModelValue(), this.checkboxes = [...this.element.querySelectorAll('input[type="checkbox"]')], this.checkboxes.forEach(u => {
                u.classList.add("ignore"), u.removeAttribute("name"), u.removeAttribute("data-type-xml"), u.removeAttribute("data-relevant"), u.removeAttribute("data-required"), u.disabled = !0
            });
            let r = this.element.querySelector(".option-wrapper");
            r.classList.add("widget", "literacy-widget"), r.after(t.createContextualFragment(`<input type="text" name="${n}" ${this.props.readonly?"readonly":""}${["required","constraint","relevant"].map(u=>this.props[u]?`data-${u}="${this.props[u]}" `:"").join("")}/>`)), this.input = this.element.querySelector(`input[name="${n}"]`), r.prepend(t.createContextualFragment(`<button class="btn btn-default literacy-widget__start" type="button">${Ae("literacywidget.start")}</button>
                <div class="literacy-widget__timer"/>`));
            let a = r.querySelector(".literacy-widget__start");
            r.append(t.createContextualFragment(`<button class="btn btn-primary literacy-widget__stop" disabled type="button">${Ae("literacywidget.finish")}</button>`)), r.append(this.resetButtonHtml);
            let s = r.querySelector(".literacy-widget__stop"),
                l = r.querySelector(".btn-reset");
            this._addResetHandler(l), l.click(), this._addTimerHandlers(a, s), this._addWordHandlers(), i && (this.input.value = i, this.value = i, this._setState(Vf))
        }
        _getCurrentModelValue() {
            let t = this.props.name.split("/").length > 3 ? this.props.name.substring(0, this.props.name.lastIndexOf("/")) : null,
                i = this.element.closest(".or-repeat[name]"),
                n = i ? [...this.element.closest("form.or").querySelectorAll(`.or-repeat[name="${i.getAttribute("name")}"]`)].indexOf(i) : 0;
            return this.options.helpers.evaluate(this.props.name, "string", t, n)
        }
        _addResetHandler(t) {
            t.addEventListener("click", () => {
                this.timer && this.timer.interval && clearInterval(this.timer.interval), this.timer = {
                    elapsed: 0,
                    element: this.element.querySelector(".literacy-widget__timer"),
                    interval: null,
                    state: null
                }, this.result = {
                    flashWordIndex: null,
                    lastWordIndex: null
                }, this.input.value = "", this.input.dispatchEvent(He.Change()), this._resetCheckboxes(), this._resetWords(), this._updateTimer(), this._setState(null)
            })
        }
        _addTimerHandlers(t, i) {
            this._updateTimer(), t.addEventListener("click", () => {
                this.timer.interval = setInterval(this._tick.bind(this), 1e3), this._setState(nc), i.disabled = !1
            }), i.addEventListener("click", () => {
                clearInterval(this.timer.interval), this._setState(ic), i.disabled = !0
            })
        }
        _addWordHandlers() {
            this.element.addEventListener("click", t => t.target.nodeName.toLowerCase() === "input"), this.element.querySelectorAll(".option-label").forEach(t => t.addEventListener("click", i => {
                [nc, ic, tc].indexOf(this.timer.state) !== -1 && i.target.closest("label").classList.toggle("incorrect-word")
            })), this.element.addEventListener("change", t => {
                t.target.matches('input[type="checkbox"]') && (t.target.checked && this.timer.state === tc ? (this.result.flashWordIndex = this._getCheckboxIndex(t.target), this._setState(nc)) : t.target.checked && this.timer.state === ic && (this.result.lastWordIndex = this._getCheckboxIndex(t.target), this.input.value = this.value, this.input.dispatchEvent(He.Change()), this._setState(Vf)))
            })
        }
        _resetWords() {
            this.element.querySelectorAll(".incorrect-word, .at-flash, .at-end, .unread").forEach(t => t.classList.remove("incorrect-word", "at-flash", "at-end", "unread"))
        }
        _hideCheckboxes() {
            this.checkboxes.forEach(t => t.disabled = !0)
        }
        _getCheckboxIndex(t) {
            return this.checkboxes.indexOf(t)
        }
        _showCheckboxes(t) {
            t = t || 0, this.checkboxes.slice(t).forEach(i => i.disabled = !1)
        }
        _resetCheckboxes() {
            this.checkboxes.forEach(t => t.checked = !1)
        }
        _setState(t) {
            let i;
            switch (this.element.classList.remove(nc, ic, tc, Vf), this.timer.state = t, t && this.element.classList.add(t), t) {
                case nc:
                    this._updateWordCounts(), this._hideCheckboxes();
                    break;
                case ic:
                    i = this._getCheckboxIndex([...this.element.querySelectorAll('.incorrect-word input[type="checkbox"]')].pop()), this._showCheckboxes(this.result.flashWordIndex >= i ? this.result.flashWordIndex : i);
                    break;
                case tc:
                    i = this._getCheckboxIndex([...this.element.querySelectorAll('.incorrect-word input[type="checkbox"]')].pop()), this._showCheckboxes(i ? i !== -1 : 0);
                    break;
                case Vf:
                    this._updateWordCounts(), this._hideCheckboxes();
                    break;
                default:
                    this._hideCheckboxes()
            }
        }
        _updateTimer() {
            this.timer.element.textContent = this._formatTime(this.timer.elapsed)
        }
        _updateWordCounts() {
            if (this.result.flashWordIndex !== null && this.checkboxes[this.result.flashWordIndex].parentElement.classList.add("at-flash"), this.result.lastWordIndex !== null) {
                this.checkboxes[this.result.lastWordIndex].parentElement.classList.add("at-end");
                let t = this.result.lastWordIndex + 1;
                for (; this.checkboxes[t];) this.checkboxes[t].parentElement.classList.add("unread"), t++
            }
        }
        _formatTime(t) {
            let i = ~~(t / 3600),
                n = ~~(t % 3600 / 60),
                r = t % 60,
                a = "";
            return i > 0 && (a += `${i}:${n<10?"0":""}`), a += `${n}:${r<10?"0":""}`, a += `${r}`, a
        }
        _tick() {
            this.timer.elapsed++, this._updateTimer(), this.timer.elapsed === this.props.flashTime && this._setState(tc)
        }
        _convertSpaceList(t) {
            let i = t.split(" ").map(n => n === "null" ? null : Number(n));
            return {
                flashCount: i[0],
                finishCount: i[2],
                finishTime: i[1],
                incorrectWords: i.splice(10)
            }
        }
        get props() {
            let t = this._props,
                i = this.element.querySelector('input[type="text"], input[type="checkbox"]'),
                n = this.element.querySelectorAll(".option-wrapper label");
            return t.flashTime = isNaN(this.element.dataset.flash) ? 60 : Number(this.element.dataset.flash), t.name = i.name, t.numberWords = n.length, t.relevant = i.dataset.relevant || "", t.constraint = i.dataset.constraint || "", t.required = i.dataset.required || "", t
        }
        get value() {
            let t = this.result.lastWordIndex !== null ? this.result.lastWordIndex + 1 : null,
                i = this.result.flashWordIndex !== null ? this.result.flashWordIndex + 1 : null,
                n = [...this.element.querySelectorAll(".incorrect-word input")].map(r => r.value);
            return [i, this.timer.elapsed, t, null, null, null, null, null, null, null].map(r => r === null || typeof r > "u" ? "null" : r).concat(n).join(" ")
        }
        set value(t) {
            let i = this._convertSpaceList(t),
                n = this.checkboxes.map(r => r.parentElement);
            this.timer.elapsed = i.finishTime, this.result.lastWordIndex = i.finishCount !== null ? i.finishCount - 1 : null, this.result.flashWordIndex = i.flashCount !== null ? i.flashCount - 1 : null, this._updateTimer(), this._updateWordCounts(), i.incorrectWords.forEach(r => {
                n[r - 1].classList.add("incorrect-word")
            })
        }
    },
    zx = mg;
var zf = [$u, H1, $1, j1, G1, Z1, X1, Ku, Y1, J1, tx, ix, nx, fx, hx, Sx, Qu, Tx, Lx, kx, Ix, Ax, Dx, Nx, Px, Rx, Bx, Mx, Ox, Kl, al, Vx, zx];
var Gl = zf.filter(e => e.selector),
    jx, Wx, Zl, DP = e => {
        Gl = zf.filter(t => t.selector && (t.selector === "form" || e.querySelector(t.selector) != null))
    };

function NP(e, t = {}) {
    if (!this.form) throw new Error("Widgets module not correctly instantiated with form property.");
    jx = t, Wx = this.form, Zl = this.form.view.html;
    let i = e && e.length ? e[0] : Zl;
    return Gl.forEach(n => {
        BP(n, i)
    }), !0
}

function PP(e) {
    Gl.forEach(t => {
        let i = yg(e, t.selector).filter(n => n.nodeName.toLowerCase() === "select" ? !n.hasAttribute("readonly") : !n.readOnly);
        new Eo(i).enable(t)
    })
}

function RP(e) {
    Gl.forEach(t => {
        let i = yg(e, t.selector);
        new Eo(i).disable(t)
    })
}

function yg(e, t) {
    return t ? t === "form" ? [Zl] : e.classList.contains("question") ? [...e.querySelectorAll("input:not(.ignore), select:not(.ignore), textarea:not(.ignore)")].filter(i => i.matches(t)) : [...e.querySelectorAll(t)] : []
}

function BP(e, t) {
    let i = {};
    if (!e.name) return console.error("widget doesn't have a name");
    e.helpersRequired && e.helpersRequired.length > 0 && (i.helpers = {}, e.helpersRequired.forEach(r => {
        i.helpers[r] = jx[r]
    }));
    let n = yg(t, e.selector);
    t === Zl && e.globalInit(Wx, Zl), n.length && (new Eo(n).instantiate(e, i), OP(e, n), UP(e, n), FP(e, n))
}
var MP = () => {
        Gl.forEach(e => {
            var t;
            (t = e.globalReset) == null || t.call(e)
        }), Gl = [...zf]
    },
    vg = new Map,
    Hx = !1;

function OP(e, t) {
    if (t.length > 0) {
        let i = vg.get(e);
        i == null && (i = new Set, vg.set(e, i)), t.forEach(n => {
            i.add(n)
        }), Hx || (Zl.addEventListener(He.ChangeLanguage().type, () => {
            for (let [n, r] of vg) new Eo([...r]).update(n)
        }), Hx = !0)
    }
}

function UP(e, t) {
    t.length > 0 && e.list && (0, $x.default)(t).on(He.ChangeOption().type, function() {
        new Eo(this).update(e)
    })
}

function FP(e, t) {
    t.length > 0 && t[0].matches("input, select, textarea") && t.forEach(i => i.addEventListener(He.InputUpdate().type, n => {
        new Eo(n.target).update(e)
    }))
}
var Eo = class {
        constructor(t) {
            Array.isArray(t) || (t = [t]), this.elements = t
        }
        _instantiateSingleWidget(t, i, n = {}) {
            if (!i.condition(t) || Qn.has(t, i)) return;
            let r = new i(t, n);
            r instanceof Promise ? r.then(a => Qn.put(t, i.name, a)) : Qn.put(t, i.name, r)
        }
        _methodCall(t, i) {
            this.elements.forEach(n => {
                let r = Qn.get(n, t.name);
                r && r[i]()
            })
        }
        instantiate(t, i) {
            this.elements.forEach(n => this._instantiateSingleWidget(n, t, i))
        }
        update(t) {
            this._methodCall(t, "update")
        }
        disable(t) {
            this._methodCall(t, "disable")
        }
        enable(t) {
            this._methodCall(t, "enable")
        }
    },
    _g = {
        initForm: DP,
        init: NP,
        enable: PP,
        disable: RP,
        reset: MP
    };
var Kx = {
    form: null,
    init(e) {
        if (!this.form) throw new Error("Language module not correctly instantiated with form property.");
        let t = this.form.view.html.closest("body") || this.form.view.html.parentNode;
        if (!t) return;
        let i = t.querySelector(".form-language-selector"),
            n = this.form.view.html.querySelector("#form-languages");
        if (!n) return;
        this.languages = [...n.querySelectorAll("option")].map(s => s.value), i && (i.append(n), this.languages.length > 1 && i.classList.remove("hide")), this.formLanguages = t.querySelector("#form-languages"), this.defaultLanguage = this.formLanguages.dataset.defaultLang || void 0, e && this.languages.includes(e) && this.languages.length > 1 ? (this._currentLang = e, this.setFormUi(this._currentLang)) : this._currentLang = this.defaultLanguage || this.languages[0] || "";
        let r = this.formLanguages.querySelector(`[value="${this._currentLang}"]`),
            a = r && r.dataset.dir || "ltr";
        this.formLanguages.value = this._currentLang, this.form.view.html.setAttribute("dir", a), !(this.languages.length < 2) && (this.formLanguages.addEventListener(He.Change().type, s => {
            s.preventDefault(), this._currentLang = s.target.value, this.setFormUi(this._currentLang)
        }), this.form.view.html.addEventListener(He.AddRepeat().type, s => this.setFormUi(this._currentLang, s.target)))
    },
    get currentLanguage() {
        return this._currentLang
    },
    get currentLangDesc() {
        let e = this.formLanguages.querySelector(`[value="${this._currentLang}"]`);
        return e ? e.textContent : null
    },
    get languagesUsed() {
        return this.languages || []
    },
    setFormUi(e, t = this.form.view.html) {
        if (t.dataset.currentLang === e) return;
        t.dataset.currentLang = e, t === this.form.view.html && this.form.collections.repeats.getElements().forEach(r => {
            r.dataset.lang = e
        });
        let i = this.formLanguages.querySelector(`[value="${e}"]`).dataset.dir || "ltr",
            n = [...t.querySelectorAll("[lang]")];
        this.form.view.html.setAttribute("dir", i), n.forEach(r => r.classList.remove("active")), n.filter(r => r.matches(`[lang="${e}"], [lang=""]`) && (!r.classList.contains("or-form-short") || r.classList.contains("or-form-short") && !An(r, ".or-form-long"))).forEach(r => r.classList.add("active")), window.enketoFormLocale = e, this.form.view.html.querySelectorAll("select, datalist").forEach(r => this.setSelect(r)), this.form.view.html.dispatchEvent(He.ChangeLanguage())
    },
    setSelect(e) {
        let t = e.nodeName.toLowerCase(),
            i = e.closest(".question, .or-repeat-info"),
            n = i ? i.querySelector(".or-option-translations") : null;
        n && [...e.children].filter(r => r.matches("option") && !r.matches('[value=""], [data-value=""]')).forEach(r => {
            let a = t === "datalist" ? r.value : r.textContent,
                s = t === "datalist" && r.dataset.value || r.value,
                l = n.querySelector(`.active[data-option-value="${CSS.escape(s)}"]`);
            if (l) {
                let u = a;
                l && l.textContent && (u = l.textContent), r.value = s, r.textContent = u
            }
        })
    }
};
var rc = ei(an()),
    Gx = {
        form: null,
        init() {
            if (!this.form) throw new Error("Output module not correctly instantiated with form property.");
            if (!this.form.features.output) {
                this.update = () => {};
                return
            }
            this.update()
        },
        update(e) {
            let t = {},
                i = "",
                n = this,
                {
                    rootNode: r
                } = e != null ? e : {};
            (r == null ? this.form.getRelatedNodes("data-value", ".or-output", e) : (0, rc.default)(r.querySelectorAll(".or-output"))).each(function() {
                let s = (0, rc.default)(this),
                    l = this;
                if (s.closest(".or-branch").parent().closest(".disabled").length) return;
                let u = l.dataset.value,
                    f = l.closest(".question, .or-group");
                f.matches(".or-group") || (f = f.querySelector("[name]"));
                let d = n.form.input.getName(f);
                (0, rc.default)(f).children(`.or-repeat-info[data-name="${d}"]`).length && !(0, rc.default)(f).children(`.or-repeat[name="${d}"]`).length && (d = null);
                let m = l.closest(".or-repeat") != null,
                    T = d ? n.form.input.getIndex(f) : 0;
                typeof t[u] < "u" ? i = t[u] : (i = n.form.model.evaluate(u, "string", d, T, !0), m || (t[u] = i)), s.text() !== i && s.text(i)
            })
        }
    };
var Zx = ei(an()),
    Xx = {
        form: null,
        init() {
            if (!this.form) throw new Error("Required module not correctly instantiated with form property.");
            this.form.features.required || (this.update = () => {}), this.update()
        },
        update(e) {
            let t = this,
                i = {};
            this.form.getRelatedNodes("data-required", "", e).each(function() {
                let r = (0, Zx.default)(this),
                    a = this,
                    s = t.form.input.getRequired(a),
                    l = t.form.input.getName(a),
                    u = t.form.input.getIndex(a),
                    f = `${s}__${l.substring(0,l.lastIndexOf("/"))}__${u}`;
                typeof i[f] > "u" && (i[f] = t.form.model.node(l, u).isRequired(s)), r.closest(".question").find(".required").toggleClass("hide", !i[f])
            })
        }
    };
var Yx = {
    form: null,
    update(e) {
        let t = this.form.getRelatedNodes("readonly", "", e).get(),
            {
                valueChanged: i
            } = this.form.collections.actions;
        t.forEach(n => {
            n.closest(".question").classList.add("readonly");
            let r = this.form.input.getName(n),
                a = i == null ? void 0 : i.hasRef(r),
                s = !n.value && !n.dataset.calculate && !a && !n.classList.contains("readonly-forced");
            n.classList.toggle("empty", s), s ? n.setAttribute("aria-hidden", "true") : n.removeAttribute("aria-hidden")
        })
    }
};
var Qx = ei(an());
Qx.default.fn.reverse = [].reverse;
var qP = typeof requestIdleCallback == "function" ? (e, t) => {
        requestIdleCallback(e, {
            timeout: t
        })
    } : e => {
        setTimeout(e)
    },
    Jx = (e, t = 16) => {
        qP(e, t)
    };

function Li(e, t, i) {
    let n = (0, Co.default)(e);
    typeof e == "string" && (console.deprecate("Form instantiation using a selector", "a HTML <form> element"), e = n[0]), this.nonRepeats = {}, this.all = {}, this.options = i != null ? i : {};
    let r = e.outerHTML;
    this.view = {
        $: n,
        html: e,
        get clone() {
            return document.createRange().createContextualFragment(r).firstElementChild
        }
    }, this.features = {}, this.collections = {}, this.model = new Jt(t), this.widgetsInitialized = !1, this.repeatsInitialized = !1, this.pageNavigationBlocked = !1, this.initialized = !1
}
Li.prototype = {
    repeatPathPrefixes: null,
    nodePathToRepeatPath: {},
    evaluationCascadeAdditions: [],
    get evaluationCascade() {
        let e = [this.calc.update.bind(this.calc), this.repeats.countUpdate.bind(this.repeats), this.relevant.update.bind(this.relevant), this.output.update.bind(this.output), this.itemset.update.bind(this.itemset), this.required.update.bind(this.required), this.readonly.update.bind(this.readonly), this.validationUpdate],
            {
                evaluationCascadeAdditions: t
            } = this;
        return t.length > 0 && e.push(function(...i) {
            for (let n of t) n.apply(this, i)
        }), ji.experimentalOptimizations.computeAsync ? e.map(i => function(...n) {
            Jx(() => i.apply(this, n))
        }) : e
    },
    get recordName() {
        return this.view.$.attr("name")
    },
    set recordName(e) {
        this.view.$.attr("name", e)
    },
    get editStatus() {
        return this.view.html.dataset.edited === "true"
    },
    set editStatus(e) {
        e && e !== this.editStatus && this.view.html.dispatchEvent(He.Edited()), this.view.html.dataset.edited = e
    },
    get surveyName() {
        return this.view.$.find("#form-title").text()
    },
    get instanceID() {
        return this.model.instanceID
    },
    get deprecatedID() {
        return this.model.deprecatedID
    },
    get instanceName() {
        return this.model.instanceName
    },
    get version() {
        return this.model.version
    },
    get encryptionKey() {
        return this.view.$.data("base64rsapublickey")
    },
    get action() {
        return this.view.$.attr("action")
    },
    get method() {
        return this.view.$.attr("method")
    },
    get id() {
        return this.view.html.dataset.formId
    },
    get constraintClassesInvalid() {
        return ["invalid-constraint"]
    },
    get constraintAttributes() {
        return ["data-constraint"]
    },
    get languages() {
        return this.langs.languagesUsed
    },
    get currentLanguage() {
        return this.langs.currentLanguage
    }
};
Li.prototype.addModule = function(e) {
    return Object.create(e, {
        form: {
            value: this
        }
    })
};
Li.prototype.init = function() {
    let e = [],
        t = this;
    ey(this.view.html), this.toc = this.addModule(U1), this.pages = this.addModule(q1), this.langs = this.addModule(Kx), this.progress = this.addModule(V1), this.widgets = this.addModule(_g), this.preloads = this.addModule(M_), this.relevant = this.addModule(ny), this.repeats = this.addModule(O1), this.input = this.addModule(Hu), this.output = this.addModule(Gx), this.itemset = this.addModule(M1), this.calc = this.addModule(O_), this.required = this.addModule(Xx), this.readonly = this.addModule(Yx);
    let i = this.view.html;
    xd(this), this.features = bd(i), this.collections = yd(this), _g.initForm(i);
    let {
        instanceFirstLoadAction: n,
        newRepeatAction: r,
        valueChangedAction: a
    } = this.features;
    if (n && this.model.events.addEventListener(He.InstanceFirstLoad().type, s => {
            this.calc.performAction("setvalue", s), this.calc.performAction("setgeopoint", s)
        }), r && this.view.html.addEventListener(He.NewRepeat().type, s => {
            this.calc.performAction("setvalue", s), this.calc.performAction("setgeopoint", s)
        }), a && this.view.html.addEventListener(He.XFormsValueChanged().type, s => {
            this.calc.performAction("setvalue", s), this.calc.performAction("setgeopoint", s)
        }), this.model.events.addEventListener(He.DataUpdate().type, s => {
            t.view.html.dispatchEvent(He.DataUpdate(s.detail))
        }), this.model.events.addEventListener(He.Removed().type, s => {
            t.view.html.dispatchEvent(He.Removed(s.detail))
        }), e = e.concat(this.model.init()), typeof this.model > "u" || !(this.model instanceof Jt)) return e.push("Form could not be initialized without a model."), e;
    try {
        this.preloads.init(), this.view.$.data({
            instanceID: this.model.instanceID
        }), this.grosslyViolateStandardComplianceByIgnoringCertainCalcs(), this.calc.init(), this.langs.init(this.options.language), this.pages.init();
        let s = Array.from(this.view.html.querySelectorAll(".or-repeat-info")).map(l => l.dataset.name);
        if (this.repeatPathPrefixes = s.map(l => `${l}/`).sort((l, u) => u.length - l.length), s.length > 0) {
            let u = Array.from(this.view.html.querySelectorAll(".or-repeat .or-repeat")).map(E => E.getAttribute("name")),
                d = [...s.filter(E => u.some(O => O.startsWith(E))), ...u],
                m = !1,
                T = He.AddRepeat().type,
                x = He.RemoveRepeat().type,
                C = ({
                    detail: E
                }) => {
                    d.includes(E.repeatPath) && (this.calc.update(E), m = !0)
                },
                N = E => {
                    (m || d.includes(E.detail.initRepeatInfo.repeatPath)) && (this.all = {}, m = !1)
                };
            d.length > 0 && (this.view.html.addEventListener(T, C), this.view.html.addEventListener(x, N)), this.repeatsInitialized = !0, this.repeats.init(), d.length > 0 && (this.view.html.removeEventListener(T, C), this.view.html.removeEventListener(x, N)), this.calc.update({
                allRepeats: !0,
                cloned: !0
            }), this.all = {}
        }
        return this.output.init(), this.itemset.init(), this.setAllVals(), this.readonly.update(), this.options.input = this.input, this.options.pathToAbsolute = this.pathToAbsolute.bind(this), this.options.evaluate = this.model.evaluate.bind(this.model), this.options.getModelValue = this.getModelValue.bind(this), this.widgetsInitialized = this.widgets.init(null, this.options), this.relevant.init(), this.setEventHandlers(), this.calc.update(), this.required.init(), this.editStatus = !1, this.options.printRelevantOnly !== !1 && this.view.$.addClass("print-relevant-only"), this.goToTarget(this.view.html), setTimeout(() => {
            t.progress.update()
        }, 0), this.initialized = !0, e
    } catch (s) {
        console.error(s), e.push(`${s.name}: ${s.message}`)
    }
    return document.body.scrollIntoView(), e
};
Li.prototype.goTo = function(e) {
    let t = [];
    return this.goToTarget(this.getGoToTarget(e)) || t.push(Ae("alert.gotonotfound.msg", {
        path: e.substring(e.lastIndexOf("/") + 1)
    })), t
};
Li.prototype.getDataStr = function(e = {}) {
    return e.irrelevant === !1 ? this.getDataStrWithoutIrrelevantNodes() : this.model.getStr()
};
Li.prototype.resetView = function() {
    return this.widgets.reset(), this.langs.formLanguages && this.langs.formLanguages.remove(), this.view.html.replaceWith(this.view.clone), _d(), document.querySelector("form.or")
};
Li.prototype.replaceChoiceNameFn = function(e, t, i, n, r) {
    return Qs(e, "jr:choice-name").forEach(s => {
        let l = s[1];
        if (l.length === 2) {
            let u = "",
                f = this.model.evaluate(l[0], t, i, n, r),
                d = tu(l[1]).trim();
            d = d.startsWith("/") ? d : Mg(i, d);
            let m = [...this.view.html.querySelectorAll(`[name="${d}"], [data-name="${d}"]`)],
                T = m.length ? m[0].nodeName.toLowerCase() : null;
            if (!f || !m.length) u = "";
            else if (T === "select") {
                let x = m.find(C => C.querySelector(`[value="${CSS.escape(f)}"]`));
                u = x ? x.querySelector(`[value="${CSS.escape(f)}"]`).textContent : ""
            } else if (T === "input") {
                let x = m[0].getAttribute("list");
                if (x) {
                    let C = An(m[0], `datalist#${CSS.escape(x)}`);
                    if (C) {
                        let N = C.querySelector(`[data-value="${f}"]`);
                        u = N ? N.getAttribute("value") : ""
                    }
                } else {
                    let C = m.find(E => E.getAttribute("value") === f),
                        N = C ? An(C, ".option-label.active") : [];
                    u = N ? N.textContent : ""
                }
            }
            e = e.replace(s[0], `"${u}"`)
        } else throw new Go(`jr:choice-name function has incorrect number of parameters: ${s[0]}`)
    }), e
};
Li.prototype.setAllVals = function(e, t) {
    let i = this,
        n = e && e.attr("name") ? e.attr("name") : null;
    t = typeof t < "u" ? t : null, this.model.node(n, t).getElements().reduce((r, a) => {
        let s = [...a.querySelectorAll("*")].filter(l => l.children.length === 0 && l.textContent);
        return r.concat(s)
    }, []).forEach(r => {
        let a, s;
        try {
            a = r.textContent, s = kr(r, "instance");
            let l = i.model.node(s).getElements().indexOf(r),
                u = i.input.find(s, l);
            u && (i.input.setVal(u, a, null), i.input.getXmlType(u) === "binary" && a.startsWith("jr://") && r.getAttribute("src") && u.setAttribute("data-loaded-url", r.getAttribute("src")))
        } catch (l) {
            throw console.error(l), new Error(`Could not load input field value with name: ${s} and value: ${a}`)
        }
    })
};
Li.prototype.getModelValue = function(e) {
    let t = e[0],
        i = this.input.getName(t),
        n = this.input.getIndex(t);
    return this.model.node(i, n).getVal()
};
Li.prototype.getRelatedNodes = function(e, t, i) {
    let n = null,
        r;
    i = i || {}, t = t || "";
    let {
        allRepeats: a,
        cloned: s,
        repeatPath: l
    } = i;
    if (!a && !this.nonRepeats[e] && (r = [...this.view.html.querySelectorAll(`:not(.or-repeat-info)[${e}]`)].filter(m => !m.closest(".or-repeat")), this.nonRepeats[e] = this.filterRadioCheckSiblings(r)), a) {
        let m = [...this.view.html.querySelectorAll(`form.or .or-repeat [${e}]`)];
        n = this.filterRadioCheckSiblings(m)
    } else if (typeof l < "u" && i.repeatIndex >= 0) {
        let m = this.collections.repeats.getElementByRef(l, i.repeatIndex);
        r = m ? [...m.querySelectorAll(`[${e}]`)] : [], n = this.filterRadioCheckSiblings(r)
    }!this.all[e] || l && !s || t === ".or-output" ? this.all[e] = this.repeatsInitialized ? this.filterRadioCheckSiblings([...this.view.html.querySelectorAll(`[${e}]`)]) : this.nonRepeats[e] : s && n && (this.all[e] = this.all[e].concat(n));
    let u;
    if (n ? u = this.nonRepeats[e].concat(n) : u = this.all[e], u.length === 0) return (0, Co.default)(u);
    let f = [];
    if (!i.nodes || i.nodes.length === 0 ? n != null && s && t === ".itemset-template" ? f = [`.or-repeat[name="${l}"] ${t}[${e}]`] : f = [`${t}[${e}]`] : (i.nodes.forEach(m => {
            f = f.concat(this.getQuerySelectorsForLogic(t, e, m))
        }), f = f.concat(this.getQuerySelectorsForLogic(t, e, "*"))), f.length === 0) return (0, Co.default)(u);
    let d = f.join(", ");
    return u = u.filter(m => m.matches(d)), (0, Co.default)(u)
};
Li.prototype.filterRadioCheckSiblings = e => {
    let t = [];
    return e.filter(i => {
        let n = i.type === "radio" || i.type === "checkbox" ? Ko(i, ".option-wrapper", ".question") : null;
        if (n) {
            if (t.includes(n)) return !1;
            t.push(n)
        }
        return !0
    })
};
Li.prototype.getQuerySelectorsForLogic = (e, t, i) => [`${e}[${t}*="/${i} "]`, `${e}[${t}*="/${i})"]`, `${e}[${t}*="/${i},"]`, `${e}[${t}$="/${i}"]`, `${e}[${t}*="/${i}]"]`, `${e}[${t}*="/${i}["]`];
Li.prototype.getDataStrWithoutIrrelevantNodes = function() {
    let e = this,
        t = new Jt(this.model.getStr());
    return t.init(), this.getRelatedNodes("data-relevant").reverse().each(function() {
        let i = this,
            n = e.input.getRelevant(i),
            r = e.input.getIndex(i),
            a = e.input.getName(i),
            s;
        gs(i, `.or-repeat-info[data-name="${a}"]`) && !gs(i, `.or-repeat[name="${a}"]`) ? s = null : s = t.node(a, r).getElement(), s && !e.model.evaluate(n, "boolean", a, r) && s.remove()
    }), t.getStr()
};
Li.prototype.grosslyViolateStandardComplianceByIgnoringCertainCalcs = function() {
    let e = this.view.$.find('[name$="instanceID"][data-calculate]');
    e.length > 0 && e.removeAttr("data-calculate")
};
Li.prototype.validationUpdate = function(e = {}) {
    if (ji.validateContinuously === !0) {
        let t = { ...e
        };
        e.cloned && (t = {
            nodes: e.repeatPath.split("/").reverse().slice(0, 1)
        });
        let i = new Set(this.features.required ? this.getRelatedNodes("data-required", "", t).get() : []);
        this.constraintAttributes.forEach(n => this.getRelatedNodes(n, "", t).get().forEach(i.add, i)), i.forEach(this.validateInput, this)
    }
};
Li.prototype.setEventHandlers = function() {
    let e = this;
    this.view.$.attr("onsubmit", "return false;"), this.view.$.on("change.file", "input:not(.ignore), select:not(.ignore), textarea:not(.ignore)", function() {
        let t = this,
            i = {
                path: e.input.getName(t),
                inputType: e.input.getInputType(t),
                xmlType: e.input.getXmlType(t),
                val: e.input.getVal(t),
                index: e.input.getIndex(t)
            };
        i.val.length > 0 && i.inputType === "file" && t.files[0] && t.files[0].size > 0 && (i.val = Is(t.files[0], t.dataset.filenamePostfix)), i.val.length > 0 && i.inputType === "drawing" && (i.val = Is({
            name: i.val
        }, t.dataset.filenamePostfix)), e.model.node(i.path, i.index).setVal(i.val, i.xmlType) && e.validateInput(t).then(() => {
            t.dispatchEvent(He.XFormsValueChanged({
                repeatIndex: i.index
            }))
        })
    }), this.view.html.addEventListener("focusin", t => {
        this.progress.update(t.target)
    }), this.view.html.addEventListener(He.FakeFocus().type, t => {
        this.progress.update(t.target)
    }), this.model.events.addEventListener(He.DataUpdate().type, t => {
        e.evaluationCascade.forEach(i => {
            i.call(e, t.detail)
        }, !0), e.editStatus = !0
    }), this.view.html.addEventListener(He.AddRepeat().type, t => {
        let i = (0, Co.default)(t.target);
        this.setAllVals(i, t.detail.repeatIndex), this.evaluationCascade.forEach(n => {
            n.call(e, t.detail)
        }), this.progress.update()
    }), this.view.html.addEventListener(He.RemoveRepeat().type, () => {
        this.progress.update()
    }), this.view.html.addEventListener(He.ChangeLanguage().type, () => {
        this.output.update()
    }), this.view.$.on("click", ".or-group > h4", function() {
        (0, Co.default)(this).closest(".or-group").toggleClass("or-appearance-compact").trigger("resize")
    })
};
Li.prototype.setValid = function(e, t) {
    let i = this.input.getWrapNode(e);
    if (!i) return;
    let n = t ? [`invalid-${t}`] : [...i.classList].filter(r => r.indexOf("invalid-") === 0);
    i.classList.remove(...n)
};
Li.prototype.setInvalid = function(e, t = "constraint") {
    let i = this.input.getWrapNode(e);
    i && (ji.validatePage === !1 && this.isValid(e) && this.blockPageNavigation(), i.classList.add(`invalid-${t}`))
};
Li.prototype.updateValidityInUi = function(e, t) {
    let i = t.requiredValid !== !1 && t.constraintValid !== !1;
    t.requiredValid === !1 ? (this.setValid(e, "constraint"), this.setInvalid(e, "required")) : t.constraintValid === !1 ? (this.setValid(e, "required"), this.setInvalid(e, "constraint")) : (this.setValid(e, "constraint"), this.setValid(e, "required")), i || e.dispatchEvent(He.Invalidated())
};
Li.prototype.blockPageNavigation = function() {
    let e = this;
    this.pageNavigationBlocked = !0, window.clearTimeout(this.blockPageNavigationTimeout), this.blockPageNavigationTimeout = window.setTimeout(() => {
        e.pageNavigationBlocked = !1
    }, 600)
};
Li.prototype.isValid = function(e) {
    let t = [".invalid-value,", ".invalid-required", ".invalid-relevant"].concat(this.constraintClassesInvalid.map(i => `.${i}`));
    if (e) {
        let n = this.input.getWrapNode(e).classList;
        return !t.some(r => n.contains(r))
    }
    return !this.view.html.querySelector(t.join(", "))
};
Li.prototype.clearNonRelevant = function() {
    this.relevant.update(null, !0)
};
Li.prototype.validateAll = function() {
    let e = this;
    return this.clearNonRelevant(), this.validateContent(this.view.$).then(t => (e.view.html.dispatchEvent(He.ValidationComplete()), t))
};
Li.prototype.validate = Li.prototype.validateAll;
Li.prototype.validateContent = function(e) {
    let t = this,
        i = [".invalid-value", ".invalid-required", ".invalid-relevant"].concat(this.constraintClassesInvalid.map(r => `.${r}`)).join(", ");
    e.find("fieldset:disabled input, fieldset:disabled select, fieldset:disabled textarea, input:disabled, select:disabled, textarea:disabled").each(function() {
        t.setValid(this)
    });
    let n = e.find(".question").addBack(".question").map(function() {
        let r = this.querySelector("input:enabled:not(.ignore), select:enabled:not(.ignore), textarea:enabled:not(.ignore)");
        return r ? t.validateInput(r) : Promise.resolve()
    }).toArray();
    return Promise.all(n).then(() => {
        let r = e[0],
            a = r.matches(i) ? r : r.querySelector(i);
        return a && t.goToTarget(a), !a
    }).catch(() => !1)
};
Li.prototype.pathToAbsolute = function(e, t) {
    let i;
    return e.indexOf("/") === 0 ? e : (i = this.model.evaluate(e, "node", t, 0, !0), kr(i, "instance", !1))
};
Li.prototype.validateInput = function(e) {
    if (!this.initialized) return Promise.resolve();
    let t = this,
        i, n = {
            path: this.input.getName(e),
            inputType: this.input.getInputType(e),
            xmlType: this.input.getXmlType(e),
            enabled: this.input.isEnabled(e),
            constraint: this.input.getConstraint(e),
            calculation: this.input.getCalculation(e),
            required: this.input.getRequired(e),
            readonly: this.input.getReadonly(e),
            val: this.input.getVal(e)
        };
    return n.readonly && !n.val && !n.required && !n.constraint && !n.calculation ? Promise.resolve() : (n.enabled && n.inputType !== "hidden" ? (n.ind = this.input.getIndex(e), i = this.model.node(n.path, n.ind).validate(n.constraint, n.required, n.xmlType)) : i = Promise.resolve({
        requiredValid: !0,
        constraintValid: !0
    }), i.then(r => (n.inputType !== "hidden" && this.updateValidityInUi(e, r), r)).catch(r => {
        throw console.error("validation error", r), t.setInvalid(e, "constraint"), r
    }))
};
Li.prototype.getGoToTarget = function(e) {
    let t, i, n, r, a = "",
        s = /([^[]+)\[(\d+)\]([^[]*$)?/g;
    if (e && (i = this.model.node(e).getElement(), !!i)) {
        if (e = kr(i, "instance", !0), n = this.view.html.querySelector(`[name="${e}"]`), !n)
            for (r = this.view.html;
                (t = s.exec(e)) !== null && r;) a += t[1], r = r.querySelectorAll(`[name="${a}"], [data-name="${a}"]`)[t[2]], r && t[3] && (a += t[3], r = r.querySelector(`[name="${a}"],[data-name="${a}"]`)), n = r;
        return n && this.input.getWrapNode(n)
    }
};
Li.prototype.goToTarget = function(e, t = {}) {
    if (e) {
        this.pages.active && !t.isPageFlip && this.pages.flipToPageContaining((0, Co.default)(e)), e.closest(".calculation, .setvalue, .setgeopoint") && e.dispatchEvent(He.GoToInvisible()), e.closest(".or-branch.disabled") && e.dispatchEvent(He.GoToIrrelevant());
        let i = e.querySelector("input:not(.ignore):not([readonly]), textarea:not(.ignore):not([readonly]), select:not(.ignore):not([readonly])");
        i != null && (i.focus(), i.dispatchEvent(He.ApplyFocus())), Q0(e)
    }
    return !!e
};
Li.requiredTransformerVersion = "4.1.1";
var wr = ei(Du());
var Ra = ei(Du());
var nw = ei(tw());

function VP(e, t) {
    let i, n, r = [],
        a = [],
        s = [],
        l = t || e,
        u = new nw.default;
    return hi.record.getAll(e).then(f => f.reduce((d, m) => d.then(() => hi.record.get(m.instanceId).then(T => {
        let x = [],
            C;
        return n = `${l}_${iw(T.created)}`, i = u.folder(n), i.file("submission.xml", `<?xml version="1.0" ?>
${T.xml}`, {
            date: new Date(T.updated)
        }), C = {
            folder: n,
            draft: T.draft,
            "local name": T.name,
            instanceID: T.instanceId
        }, T.files.forEach(N => {
            a.push(ea.blobToArrayBuffer(N.item).then(E => {
                i.file(N.name, E)
            }).catch(E => {
                console.error(E), x.push(N.name), r.push(`Failed to retrieve ${N.name} for record "${T.name}".`)
            }))
        }), Promise.all(a).then(() => {
            x.length > 0 && (C["failed files"] = x), s.push(C)
        })
    })), Promise.resolve())).then(() => (u.file("meta.json", JSON.stringify(s, null, 4)), u.generateAsync({
        type: "blob"
    }))).then(f => {
        let d;
        if (f.name = `${l}_${iw(new Date)}.zip`, r.length > 0) throw d = new Error(`<ul class="error-list"><li>${r.join("</li><li>")}</li></ul>`), d.exportFile = f, d;
        return f
    })
}

function iw(e) {
    let t = new Date(e);
    return t.toString() === "Invalid Date" ? `unknown${Math.floor(Math.random()*1e4)}` : `${t.getFullYear()}-${ac(t.getMonth()+1,2)}-${ac(t.getDate(),2)}_${ac(t.getHours(),2)}-${ac(t.getMinutes(),2)}-${ac(t.getSeconds(),2)}`
}

function ac(e, t) {
    let i, n = e.toString(),
        r = t - n.length;
    for (i = 0; i < r; i++) n = `0${n}`;
    return n
}
var rw = {
    recordsToZip: VP
};
var sc = {
    iteration: 0,
    timeoutID: -1
};

function xg(e) {
    let t = Math.min(2 ** sc.iteration, 300) * 1e3;
    sc.iteration += 1, sc.timeoutID = setTimeout(() => {
        e({
            isRetry: !0
        })
    }, t)
}

function Hf() {
    sc.iteration = 0, clearTimeout(sc.timeoutID)
}
var Yl, Ql, oc, aw, lc, jf, Xl = !1;

function zP() {
    return Yl = (0, Ra.default)(".record-list__button-bar__button.export"), Ql = (0, Ra.default)(".record-list__button-bar__button.upload"), aw = (0, Ra.default)(".offline-enabled__queue-length"), jf = !1, Xl = !1, Kf().then(Wf)
}

function sw(e) {
    return hi.record.get(e)
}

function HP(e) {
    return ow().then(t => (t && (e.files = t.files), hi.record.set(e)))
}

function $P(e, t) {
    let i, n;
    return e === "set" ? i = HP(t) : i = hi.record.update(t), i.then(r => (n = r, n)).then(({
        enketoId: r
    }) => zu.get({
        enketoId: r
    })).then(r => wf(r, t)).then(Kf).then(() => n)
}

function jP(e) {
    return hi.record.remove(e).then(Kf)
}

function uc() {
    return `__autoSave_${rt.enketoId}`
}

function ow() {
    return sw(uc())
}

function WP(e) {
    return e.draft = !0, e.name = `__autoSave_${Date.now()}`, e.instanceId = uc(), e.enketoId = rt.enketoId, hi.record.update(e)
}

function KP() {
    return hi.record.remove(uc())
}

function GP(e) {
    return hi.property.getSurveyStats(e).then(t => !t || isNaN(t.recordCount) ? 1 : t.recordCount + 1)
}

function ZP(e) {
    rt.recordId = e, (0, Ra.default)(".record-list__records").find(".active").removeClass("active").addBack().find(`[data-id="${e}"]`).addClass("active")
}
var $f = null,
    Wf = async (e = {
        isRetry: !1,
        isUserTriggered: !1
    }) => {
        let {
            isRetry: t,
            isUserTriggered: i
        } = e, n = [], r = null, a = null;
        if (Xl || !jf && !i && !t) return !1;
        i && Hf();
        let s = await ra.getOnlineStatus();
        if (s && $f === "offline" && (Hf(), $f = null), !s) return xg(Wf), $f = "offline", Ql.btnBusyState(!1), i && oi.alert(`${Ae("record-list.msg2")}`, Ae("alert.recordsavesuccess.finalmsg"), "info", 10), !1;
        Xl = !0, Ql.btnBusyState(!0);
        let l = await wg(rt.enketoId, {
            finalOnly: !0
        });
        if (!l || l.length === 0) {
            Xl = !1;
            return
        }
        console.debug(`Uploading queue of ${l.length} records.`);
        let u = await Promise.all(l.map(({
            instanceId: d
        }) => hi.record.get(d)));
        for await (let d of u) try {
            d.files = d.files.map(m => (typeof m.item.name > "u" && (m.item.name = m.name), m.item)), lc.update(d.instanceId, "ongoing"), await ra.uploadQueuedRecord(d), n.push(d.name), lc.update(d.instanceId, "success"), await hi.record.remove(d.instanceId), await hi.property.addSubmittedInstanceId(d)
        } catch (m) {
            m.status === 401 && (a = m), r = m.message || oi.getErrorResponseMsg(m.status), lc.update(d.instanceId, "error", r)
        }
        Xl = !1, Ql.btnBusyState(!1);
        let f = a == null && n.length === u.length;
        return f ? (Hf(), oi.feedback(Ae("alert.queuesubmissionsuccess.msg", {
            count: n.length,
            recordNames: n.join(", ")
        }), 7)) : a == null ? (Xl = !1, $f = "failure", xg(Wf), i && oi.alert(`${Ae("record-list.msg2")}`, Ae("alert.recordsavesuccess.finalmsg"), "info", 10)) : oi.confirmLogin(Ae("confirm.login.queuedMsg")), Kf(), f
    };

function XP(e) {
    return Yl.prop("disabled", !0), rw.recordsToZip(rt.enketoId, e).then(t => (Yl.prop("disabled", !1), t)).catch(t => {
        throw Yl.prop("disabled", !1), t
    })
}
lc = {
    _getLi(e) {
        return (0, Ra.default)(`.record-list__records__record[data-id="${e}"]`)
    },
    _reset(e) {
        let t = (0, Ra.default)(".record-list__records").find("li:not([data-draft])");
        t.first().attr("data-id") === e && t.removeClass("ongoing success error").filter(function() {
            return !(0, Ra.default)(this).hasClass("record-list__records__record")
        }).remove()
    },
    _updateClass(e, t) {
        e.removeClass("ongoing success error").addClass(t)
    },
    update(e, t, i) {
        let n, r = this._getLi(e);
        this._reset(e), i && (n = (0, Ra.default)(`<li data-id="${e}" class="record-list__records__msg ${t}">${i}</li>`).insertAfter(r), window.setTimeout(() => {
            n.hide(600)
        }, 3e3)), this._updateClass(r, t), t === "success" && r.hide(1500)
    }
};

function wg(e, {
    finalOnly: t = !1
} = {}) {
    let i = uc();
    return hi.record.getAll(e, t).then(r => r.filter(a => a.instanceId !== i))
}

function Kf() {
    let e;
    return Yl.prop("disabled", !0), Ql.prop("disabled", !0), oc = (0, Ra.default)(".record-list__records"), jf = !1, wg(rt.enketoId).then(t => {
        aw.text(t.length), t.length === 0 ? oc.empty().append(`<li class="record-list__records--none" data-i18n="record-list.norecords">${Ae("record-list.norecords")}</li>`) : (oc.find(".record-list__records--none").remove(), Yl.prop("disabled", !1)), oc.find(".record-list__records__record").each(function() {
            let i = (0, Ra.default)(this);
            t.some(n => i.attr("data-id") === n.instanceId) || i.next(".msg").addBack().remove()
        }), t.forEach(i => {
            i.draft || (jf = !0, Ql.prop("disabled", !1)), e = lc._getLi(i.instanceId), e.length === 0 && (e = (0, Ra.default)('<li class="record-list__records__record" />').attr("data-id", i.instanceId).appendTo(oc)), e.text(i.name).attr("data-draft", !!i.draft)
        })
    })
}

function YP() {
    return hi.flushTable("records").then(() => hi.flushTable("files")).then(() => {
        console.log("Done! The record store is empty now.")
    })
}
var xr = {
    init: zP,
    get: sw,
    save: $P,
    remove: jP,
    getAutoSavedKey: uc,
    getAutoSavedRecord: ow,
    getDisplayableRecordList: wg,
    updateAutoSavedRecord: WP,
    removeAutoSavedRecord: KP,
    flush: YP,
    getCounterValue: GP,
    setActive: ZP,
    uploadQueue: Wf,
    exportToZip: XP
};
var Kt, Zf, Eg, fc = {
    printRelevantOnly: rt.printRelevantOnly
};

function QP(e, t, i = []) {
    let n = { ...t.survey.media,
        ...t.instanceAttachments
    };
    return _o(e, n, {
        isOffline: rt.offline
    }), Zf = t, JP().then(eR).then(r => {
        !t.instanceStr && r && r.xml && (xr.setActive(xr.getAutoSavedKey()), t.instanceStr = r.xml), t.submitted = Boolean(t.isEditing), t.instanceAttachments && br.setInstanceAttachments(t.instanceAttachments);
        let a = e.querySelector("#form-languages"),
            s = a ? a.dataset.defaultLang : void 0,
            l = Vy();
        if (rt.languageOverrideParameter ? fc.language = rt.languageOverrideParameter.value : !s && a && a.querySelector(`option[value="${l}"]`) && (fc.language = l), Kt = new Li(e, t, fc), tp(Kt, n), i = i.concat(Kt.init()), qy() !== Kt.currentLanguage && /^[a-z]{2,3}/.test(Kt.currentLanguage) && df(document.querySelector("body"), Kt.currentLanguage).then(u => document.querySelector("html").setAttribute("dir", u)), (0, wr.default)(".main-loader").remove(), rt.goTo && location.hash && (i = i.concat(Kt.goTo(decodeURIComponent(location.hash.substring(1)).split("#")[0]))), Kt.encryptionKey) {
            let u = document.querySelector(".form-footer#save-draft");
            u && u.remove(), Ha.isSupported() || i.unshift(Ae("error.encryptionnotsupported"))
        }
        if (Eg = document.querySelector(".form-progress"), rR(t.survey), hw(), i.length > 0) throw i;
        return Kt
    })
}

function JP() {
    return rt.offline ? xr.init() : Promise.resolve()
}

function eR() {
    let e;
    return rt.offline ? xr.getAutoSavedRecord().then(t => {
        if (t) return e = t, oi.confirm({
            heading: Ae("confirm.autosaveload.heading"),
            msg: Ae("confirm.autosaveload.msg")
        }, {
            posButton: Ae("confirm.autosaveload.posButton"),
            negButton: Ae("confirm.autosaveload.negButton"),
            allowAlternativeClose: !1
        })
    }).then(t => {
        if (t) return e;
        e && xr.removeAutoSavedRecord()
    }) : Promise.resolve()
}

function cw(e, t = {}) {
    return Ml(e.enketoId).then(i => yo(e, i)).then(i => {
        let n = Kt.resetView();
        Kt = new Li(n, {
            modelStr: Zf.modelStr,
            external: i.externalData
        }, fc), tp(Kt, i.media);
        let r = Kt.init();
        Kt.view.html.dispatchEvent(Nn.FormReset()), t.isOffline && zu.updateMedia(i), xr && xr.setActive(null), r.length > 0 && oi.alertLoadErrors(r)
    })
}

function fw(e, t, i) {
    let n, r, a;
    !i && Kt.editStatus ? (n = {
        msg: Ae("confirm.discardcurrent.msg"),
        heading: Ae("confirm.discardcurrent.heading")
    }, r = {
        posButton: Ae("confirm.discardcurrent.posButton")
    }, oi.confirm(n, r).then(s => {
        s && fw(e, t, !0)
    })) : xr.get(t).then(s => {
        if (!s || !s.xml) return oi.alert(Ae("alert.recordnotfound.msg"));
        let l = Kt.resetView();
        if (Kt = new Li(l, {
                modelStr: Zf.modelStr,
                instanceStr: s.xml,
                external: Zf.external,
                submitted: !1
            }, fc), a = Kt.init(), Kt.view.html.dispatchEvent(Nn.FormReset()), zu.updateMedia(e), Kt.recordName = s.name, xr.setActive(s.instanceId), a.length > 0) throw a;
        oi.feedback(Ae("alert.recordloadsuccess.msg", {
            recordName: s.name
        }), 2), (0, wr.default)(".side-slider__toggle.close").click()
    }).catch(s => {
        console.error("load errors: ", s), Array.isArray(s) || (s = [s.message]), oi.alertLoadErrors(s, Ae("alert.loaderror.editadvice"))
    })
}

function tR(e) {
    let t = rt.type === "single" || rt.type === "edit" || rt.type === "view",
        i, n, r, a = "",
        s = {
            irrelevant: !1
        };
    return Kt.view.html.dispatchEvent(Nn.BeforeSave()), i = t ? Ae("alert.submission.redirectmsg") : "", n = `<a href="${rt.loginUrl}" target="_blank">${Ae("here")}</a>`, oi.alert(`${i}<div class="loader-animation-small" style="margin: 40px auto 0 auto;"/>`, Ae("alert.submission.msg"), "bare"), br.getCurrentFiles().then(l => {
        let u = {
            enketoId: rt.enketoId,
            xml: Kt.getDataStr(s),
            files: l,
            instanceId: Kt.instanceID,
            deprecatedId: Kt.deprecatedID
        };
        if (Kt.encryptionKey) {
            let f = {
                encryptionKey: Kt.encryptionKey,
                id: Kt.id,
                version: Kt.version
            };
            return Ha.encryptRecord(f, u)
        }
        return u
    }).then(l => ra.uploadRecord(e, l)).then(l => {
        l = l || {}, r = "success", l.failedFiles && l.failedFiles.length > 0 && (a = `${Ae("alert.submissionerror.fnfmsg",{failedFiles:l.failedFiles.join(", "),supportEmail:rt.supportEmail})}<br/>`, r = "warning")
    }).then(() => {
        if (document.dispatchEvent(Nn.SubmissionSuccess()), t) {
            if (!rt.multipleAllowed) {
                let l = new Date,
                    u = 31536e3,
                    f = new Date;
                history.replaceState({}, "", `${rt.defaultReturnUrl}?taken=${l.getTime()}`), (0, wr.default)("form.or").empty(), (0, wr.default)("button#submit-form").remove(), f.setTime(f.getTime() + u * 1e3), document.cookie = `${rt.enketoId}=${l.getTime()};path=${rt.basePath}/single;max-age=${u};expires=${f.toGMTString()};`
            }
            a += Ae("alert.submissionsuccess.redirectmsg"), oi.alert(a, Ae("alert.submissionsuccess.heading"), r), setTimeout(() => {
                location.href = decodeURIComponent(rt.returnUrl || rt.defaultReturnUrl)
            }, 1200)
        } else a = a.length > 0 ? a : Ae("alert.submissionsuccess.msg"), oi.alert(a, Ae("alert.submissionsuccess.heading"), r), cw(e)
    }).catch(l => {
        let u;
        l = l || {}, console.error("submission failed", l), l.status === 401 ? u = Ae("alert.submissionerror.authrequiredmsg", {
            here: n,
            interpolation: {
                escapeValue: !1
            }
        }) : u = l.message || oi.getErrorResponseMsg(l.status), oi.alert(u, Ae("alert.submissionerror.heading"))
    })
}

function iR() {
    return xr.getCounterValue(rt.enketoId).then(e => Kt.instanceName || Kt.recordName || `${Kt.surveyName} - ${e}`)
}

function lw(e, t, i) {
    let n = {
            msg: "",
            heading: t ? Ae("formfooter.savedraft.label") : Ae("alert.submissionerror.heading"),
            errorMsg: i
        },
        r = {
            posButton: t ? Ae("confirm.save.posButton") : Ae("formfooter.submit.btn"),
            negButton: Ae("confirm.default.negButton")
        },
        a = `<label><span>${Ae("confirm.save.name")}</span><span class="or-hint active">${t?Ae("confirm.save.hint"):""}</span><input name="record-name" type="text" value="${e}"required /></label>`;
    return oi.prompt(n, r, a).then(s => {
        if (s) return s["record-name"];
        throw new Error("Cancelled by user")
    })
}

function hc(e, t, i, n) {
    let r = {
        irrelevant: t
    };
    return Kt.view.html.dispatchEvent(Nn.BeforeSave()), i ? t && !n ? lw(i, t).then(a => hc(e, t, a, !0)).catch(() => {}) : cc.then(() => br.getCurrentFiles()).then(a => {
        let s = {
            draft: t,
            xml: Kt.getDataStr(r),
            name: i,
            instanceId: Kt.instanceID,
            deprecateId: Kt.deprecatedID,
            enketoId: rt.enketoId,
            files: a
        };
        if (Kt.encryptionKey && !t) {
            let l = {
                encryptionKey: Kt.encryptionKey,
                id: Kt.id,
                version: Kt.version
            };
            return Ha.encryptRecord(l, s)
        }
        return s
    }).then(a => {
        a.files = a.files.map(l => typeof l == "string" ? {
            name: l
        } : {
            name: l.name,
            item: l
        });
        let s = Kt.recordName ? "update" : "set";
        return xr.save(s, a)
    }).then(() => (xr.removeAutoSavedRecord(), cw(e, {
        isOffline: !0
    }), t ? (oi.alert(Ae("alert.recordsavesuccess.draftmsg"), Ae("alert.savedraftinfo.heading"), "info", 5), !0) : xr.uploadQueue({
        isUserTriggered: !t
    }))).catch(a => {
        console.error("save error", a);
        let s = a.message;
        if (!s && a.target && a.target.error && a.target.error.name && a.target.error.name.toLowerCase() === "constrainterror") return lw(i, t, Ae("confirm.save.existingerror")).then(l => hc(e, t, l, !0));
        s || (s = Ae("confirm.save.unkownerror")), oi.alert(s, "Save Error")
    }) : iR().then(a => hc(e, t, a, !1))
}
var cc = Promise.resolve();

function nR() {
    return Kt.recordName || Kt.encryptionKey || (cc = cc.then(() => br.getCurrentFiles()).then(e => {
        let t = {
            xml: Kt.getDataStr(),
            files: e.map(i => typeof i == "string" ? {
                name: i
            } : {
                name: i.name,
                item: i
            })
        };
        return xr.updateAutoSavedRecord(t)
    }).then(() => {
        console.log("autosave successful")
    }).catch(e => {
        console.error("autosave error", e)
    })), cc
}

function rR(e) {
    let t = (0, wr.default)(document);
    (0, wr.default)("button#submit-form").click(function() {
        let r = (0, wr.default)(this);
        return r.btnBusyState(!0), setTimeout(() => {
            Kt.validate().then(a => {
                if (a) return rt.offline ? hc(e, !1) : tR(e);
                oi.alert(Ae("alert.validationerror.msg"))
            }).catch(a => {
                oi.alert(a.message)
            }).then(() => {
                r.btnBusyState(!1)
            })
        }, 100), !1
    });
    let i = document.querySelector("button#save-draft");
    i && i.addEventListener("click", r => {
        if (!r.target.matches(".save-draft-info")) {
            let a = (0, wr.default)(i);
            a.btnBusyState(!0), setTimeout(() => {
                hc(e, !0).then(() => {
                    a.btnBusyState(!1)
                }).catch(s => {
                    throw a.btnBusyState(!1), s
                })
            }, 100)
        }
    }), (0, wr.default)("button#validate-form:not(.disabled)").click(function() {
        if (typeof Kt < "u") {
            let r = (0, wr.default)(this);
            r.btnBusyState(!0), setTimeout(() => {
                Kt.validate().then(a => {
                    r.btnBusyState(!1), a ? oi.alert(Ae("alert.validationsuccess.msg"), Ae("alert.validationsuccess.heading"), "success") : oi.alert(Ae("alert.validationerror.msg"))
                }).catch(a => {
                    oi.alert(a.message)
                }).then(() => {
                    r.btnBusyState(!1)
                })
            }, 100)
        }
        return !1
    }), (0, wr.default)("button#close-form:not(.disabled)").click(() => {
        let r = Ae("alert.submissionsuccess.redirectmsg");
        return document.dispatchEvent(Nn.Close()), oi.alert(r, Ae("alert.closing.heading"), "warning"), setTimeout(() => {
            location.href = decodeURIComponent(rt.returnUrl || rt.defaultReturnUrl)
        }, 300), !1
    }), (0, wr.default)(".record-list__button-bar__button.upload").on("click", () => {
        xr.uploadQueue({
            isUserTriggered: !0
        })
    }), (0, wr.default)(".record-list__button-bar__button.export").on("click", () => {
        let r = '<a class="vex-dialog-link" id="download-export" href="#">download</a>';
        xr.exportToZip(Kt.surveyName).then(a => {
            oi.alert(Ae("alert.export.success.msg") + r, Ae("alert.export.success.heading"), "normal"), uw(document.querySelector("#download-export"), a)
        }).catch(a => {
            let s = Ae("alert.export.error.msg", {
                errors: a.message,
                interpolation: {
                    escapeValue: !1
                }
            });
            a.exportFile && (s += `<p>${Ae("alert.export.error.filecreatedmsg")}</p>${r}`), oi.alert(s, Ae("alert.export.error.heading")), a.exportFile && uw(document.querySelector("#download-export"), a.exportFile)
        })
    }), t.on("click", '.record-list__records__record[data-draft="true"]', function() {
        fw(e, (0, wr.default)(this).attr("data-id"), !1)
    }), t.on("click", ".record-list__records__record", function() {
        (0, wr.default)(this).next(".record-list__records__msg").toggle(100)
    }), document.addEventListener(Nn.ProgressUpdate().type, r => {
        r.target.classList.contains("or") && Eg && r.detail && (Eg.style.width = `${r.detail}%`)
    }), dw() && rt.parentWindowOrigin && (document.addEventListener(Nn.SubmissionSuccess().type, Gf), document.addEventListener(Nn.Edited().type, Gf), document.addEventListener(Nn.Close().type, Gf));
    let n = document.querySelector("#form-languages");
    n && n.addEventListener(Nn.Change().type, r => {
        r.preventDefault(), console.log("ready to set UI lang", Kt.currentLanguage), df(document.querySelector("body"), Kt.currentLanguage).then(a => document.querySelector("html").setAttribute("dir", a))
    }), document.addEventListener(Nn.AddRepeat().type, r => {
        df(r.target, Kt.currentLanguage)
    }), rt.offline && document.addEventListener(Nn.XFormsValueChanged().type, async () => {
        await nR()
    })
}

function uw(e, t) {
    let i = URL.createObjectURL(t);
    e.textContent = t.name, Vl.updateDownloadLink(e, i, t.name), e.click()
}

function hw() {
    let e = document.cookie.split("; ").some(t => t.indexOf("__enketo_logout=") !== -1);
    (0, wr.default)(".form-footer .logout").toggleClass("hide", !e)
}

function dw() {
    try {
        return window.self !== window.top
    } catch {
        return !0
    }
}

function Gf(e) {
    if (e && e.type) try {
        window.parent.postMessage(JSON.stringify({
            enketoEvent: e.type
        }), rt.parentWindowOrigin)
    } catch (t) {
        console.error(t)
    }
}
var mF = {
    init: QP,
    setLogoutLinkVisibility: hw,
    inIframe: dw,
    postEventAsMessageToParentWindow: Gf
};
export {
    Jt as a, Fy as b, Ae as c, df as d, UM as e, Nn as f, oi as g, hi as h, ra as i, M_ as j, O_ as k, zu as l, mF as m
};
/*!
 * Timepicker
 *
 * Forked from https://github.com/jdewit/bootstrap-timepicker:
 *
 * Copyright 2013 Joris de Wit and timepicker contributors
 *
 * Contributors https://github.com/jdewit/bootstrap-timepicker/graphs/contributors
 * Contributors https://github.com/enketo/timepicker-basic/graphs/contributors
 *
 * For the full copyright and license information, please view the LICENSE
 * file that was distributed with this source code.
 */
/*! Bundled license information:

jquery/dist/jquery.js:
  (*!
   * jQuery JavaScript Library v3.7.1
   * https://jquery.com/
   *
   * Copyright OpenJS Foundation and other contributors
   * Released under the MIT license
   * https://jquery.org/license
   *
   * Date: 2023-08-28T13:37Z
   *)

vex-js/dist/js/vex.js:
  (*! @source http://purl.eligrey.com/github/classList.js/blob/master/classList.js *)

jquery/dist/jquery.js:
  (*!
   * jQuery JavaScript Library v3.6.3
   * https://jquery.com/
   *
   * Includes Sizzle.js
   * https://sizzlejs.com/
   *
   * Copyright OpenJS Foundation and other contributors
   * Released under the MIT license
   * https://jquery.org/license
   *
   * Date: 2022-12-20T21:28Z
   *)

jquery-touchswipe/jquery.touchSwipe.min.js:
  (*!
   * @fileOverview TouchSwipe - jQuery Plugin
   * @version 1.6.18
   *
   * @author Matt Bryson http://www.github.com/mattbryson
   * @see https://github.com/mattbryson/TouchSwipe-Jquery-Plugin
   * @see http://labs.rampinteractive.co.uk/touchSwipe/
   * @see http://plugins.jquery.com/project/touchSwipe
   * @license
   * Copyright (c) 2010-2015 Matt Bryson
   * Dual licensed under the MIT or GPL Version 2 licenses.
   *
   *)

leaflet/dist/leaflet-src.js:
  (* @preserve
   * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
   * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
   *)

bootstrap-datepicker/dist/js/bootstrap-datepicker.js:
  (*!
   * Datepicker for Bootstrap v1.10.0 (https://github.com/uxsolutions/bootstrap-datepicker)
   *
   * Licensed under the Apache License v2.0 (https://www.apache.org/licenses/LICENSE-2.0)
   *)

jszip/dist/jszip.min.js:
  (*!
  
  JSZip v3.10.1 - A JavaScript class for generating and reading zip files
  <http://stuartk.com/jszip>
  
  (c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
  Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.
  
  JSZip uses the library pako released under the MIT license :
  https://github.com/nodeca/pako/blob/main/LICENSE
  *)

signature_pad/dist/signature_pad.mjs:
  (*!
   * Signature Pad v2.3.2
   * https://github.com/szimek/signature_pad
   *
   * Copyright 2017 Szymon Nowak
   * Released under the MIT license
   *
   * The main idea and some parts of the code (e.g. drawing variable width Bzier curve) are taken from:
   * http://corner.squareup.com/2012/07/smoother-signatures.html
   *
   * Implementation of interpolation using cubic Bzier curves is taken from:
   * http://benknowscode.wordpress.com/2012/09/14/path-interpolation-using-cubic-bezier-and-control-point-estimation-in-javascript
   *
   * Algorithm for approximated length of a Bzier curve is taken from:
   * http://www.lemoda.net/maths/bezier-length/index.html
   *
   *)
*/
//# sourceMappingURL=chunk-KY2TN2NS.js.map