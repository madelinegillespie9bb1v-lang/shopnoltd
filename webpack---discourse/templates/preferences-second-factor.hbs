import { precompileTemplate } from "@ember/template-compilation";
export default precompileTemplate("{{body-class \"user-preferences-page\"}}\n\n<section class=\"user-content user-preferences solo-preference second-factor\">\n  <ConditionalLoadingSpinner @condition={{this.loading}}>\n    <form class=\"form-vertical\">\n      {{#if this.showEnforcedNotice}}\n        <div class=\"alert alert-error\">\n          {{i18n \"user.second_factor.enforced_notice\"}}\n        </div>\n      {{/if}}\n\n      {{#if this.showEnforcedWithOAuthNotice}}\n        <div class=\"alert alert-error\">\n          {{i18n \"user.second_factor.enforced_with_oauth_notice\"}}\n        </div>\n      {{/if}}\n\n      {{#if this.displayOAuthWarning}}\n        <div class=\"alert alert-warning\">{{i18n\n            \"user.second_factor.oauth_enabled_warning\"\n          }}</div>\n      {{/if}}\n\n      {{#if this.errorMessage}}\n        <div class=\"alert alert-error\">{{this.errorMessage}}</div>\n      {{/if}}\n\n      <div class=\"control-group totp\">\n        <div class=\"controls\">\n          <h2>{{i18n \"user.second_factor.totp.title\"}}</h2>\n          {{#each this.totps as |totp|}}\n            <div class=\"second-factor-item row\">\n              <div class=\"details\">\n                {{#if totp.name}}\n                  {{totp.name}}\n                {{else}}\n                  {{i18n \"user.second_factor.totp.default_name\"}}\n                {{/if}}\n              </div>\n              {{#if this.isCurrentUser}}\n                <div class=\"actions\">\n                  <TokenBasedAuthDropdown\n                    @totp={{totp}}\n                    @editSecondFactor={{action \"editSecondFactor\"}}\n                    @disableSingleSecondFactor={{action\n                      \"disableSingleSecondFactor\"\n                    }}\n                  />\n                </div>\n              {{/if}}\n            </div>\n          {{/each}}\n          <DButton\n            @action={{action \"createTotp\"}}\n            @icon=\"plus\"\n            @disabled={{this.loading}}\n            @label=\"user.second_factor.totp.add\"\n            class=\"btn-default new-totp\"\n          />\n        </div>\n      </div>\n\n      <div class=\"control-group security-key\">\n        <div class=\"controls\">\n          <h2>{{i18n \"user.second_factor.security_key.title\"}}</h2>\n          {{#each this.security_keys as |security_key|}}\n            <div class=\"second-factor-item row\">\n              <div class=\"details\">\n                {{#if security_key.name}}\n                  {{security_key.name}}\n                {{else}}\n                  {{i18n \"user.second_factor.security_key.default_name\"}}\n                {{/if}}\n              </div>\n\n              {{#if this.isCurrentUser}}\n                <div class=\"actions\">\n                  <SecurityKeyDropdown\n                    @securityKey={{security_key}}\n                    @editSecurityKey={{action \"editSecurityKey\"}}\n                    @disableSingleSecondFactor={{action\n                      \"disableSingleSecondFactor\"\n                    }}\n                  />\n                </div>\n              {{/if}}\n            </div>\n          {{/each}}\n          <DButton\n            @action={{action \"createSecurityKey\"}}\n            @icon=\"plus\"\n            @disabled={{this.loading}}\n            @label=\"user.second_factor.security_key.add\"\n            class=\"btn-default new-security-key\"\n          />\n        </div>\n      </div>\n\n      <div class=\"control-group pref-second-factor-backup\">\n        <div class=\"controls pref-second-factor-backup\">\n          <h2>{{i18n \"user.second_factor_backup.title\"}}</h2>\n          <div class=\"second-factor-item row\">\n            {{#if this.model.second_factor_enabled}}\n              <div class=\"details\">\n                {{#if this.model.second_factor_backup_enabled}}\n                  {{html-safe\n                    (i18n\n                      \"user.second_factor_backup.manage\"\n                      count=this.model.second_factor_remaining_backup_codes\n                    )\n                  }}\n                {{else}}\n                  <DButton\n                    @action={{action \"editSecondFactorBackup\"}}\n                    @icon=\"plus\"\n                    @disabled={{this.loading}}\n                    @label=\"user.second_factor_backup.enable_long\"\n                    class=\"btn-default new-second-factor-backup\"\n                  />\n                {{/if}}\n              </div>\n\n              {{#if\n                (and this.model.second_factor_backup_enabled this.isCurrentUser)\n              }}\n                <div class=\"actions\">\n                  <TwoFactorBackupDropdown\n                    @secondFactorBackupEnabled={{this.model.second_factor_backup_enabled}}\n                    @editSecondFactorBackup={{action \"editSecondFactorBackup\"}}\n                    @disableSecondFactorBackup={{action\n                      \"disableSecondFactorBackup\"\n                    }}\n                  />\n                </div>\n              {{/if}}\n\n            {{else}}\n              {{i18n \"user.second_factor_backup.enable_prerequisites\"}}\n            {{/if}}\n          </div>\n        </div>\n      </div>\n\n      {{#if this.hasSecondFactors}}\n        {{#unless this.showEnforcedNotice}}\n          <div class=\"control-group pref-second-factor-disable-all\">\n            <div class=\"controls -actions\">\n              <DButton\n                @icon=\"ban\"\n                @action={{action \"disableAllSecondFactors\"}}\n                @disabled={{this.loading}}\n                @label=\"user.second_factor.disable_all\"\n                class=\"btn-danger\"\n              />\n              <LinkTo\n                @route=\"preferences.security\"\n                @model={{this.model.username}}\n                class=\"cancel\"\n              >\n                {{i18n \"cancel\"}}\n              </LinkTo>\n            </div>\n          </div>\n        {{/unless}}\n      {{/if}}\n    </form>\n  </ConditionalLoadingSpinner>\n</section>",{ moduleName: "discourse/templates/preferences-second-factor.hbs" })