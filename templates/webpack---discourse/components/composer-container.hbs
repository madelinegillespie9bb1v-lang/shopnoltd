import { precompileTemplate } from "@ember/template-compilation";
export default precompileTemplate("<ComposerBody\n  @composer={{this.composer.model}}\n  @showPreview={{this.composer.showPreview}}\n  @openIfDraft={{this.composer.openIfDraft}}\n  @typed={{this.composer.typed}}\n  @cancelled={{this.composer.cancelled}}\n  @save={{this.composer.saveAction}}\n>\n  <div class=\"grippie\"></div>\n  {{#if this.composer.visible}}\n    <ComposerMessages\n      @composer={{this.composer.model}}\n      @messageCount={{this.composer.messageCount}}\n      @addLinkLookup={{this.composer.addLinkLookup}}\n    />\n\n    {{#if this.composer.showFullScreenPrompt}}\n      <ComposerFullscreenPrompt\n        @removeFullScreenExitPrompt={{this.composer.removeFullScreenExitPrompt}}\n      />\n    {{/if}}\n\n    {{#if this.composer.model.viewOpenOrFullscreen}}\n      <div\n        role=\"dialog\"\n        aria-label={{this.composer.ariaLabel}}\n        class=\"reply-area\n          {{if this.composer.canEditTags \'with-tags\' \'without-tags\'}}\n          {{if\n            this.composer.hasFormTemplate\n            \'with-form-template\'\n            \'without-form-template\'\n          }}\n          {{if\n            this.composer.model.showCategoryChooser\n            \'with-category\'\n            \'without-category\'\n          }}\"\n      >\n        <span class=\"composer-open-plugin-outlet-container\">\n          <PluginOutlet\n            @name=\"composer-open\"\n            @connectorTagName=\"div\"\n            @outletArgs={{hash model=this.composer.model}}\n          />\n        </span>\n\n        <div class=\"reply-to\">\n          {{#unless this.composer.model.viewFullscreen}}\n            <div class=\"reply-details\">\n              <ComposerActionTitle\n                @model={{this.composer.model}}\n                @canWhisper={{this.composer.canWhisper}}\n              />\n\n              <PluginOutlet\n                @name=\"composer-action-after\"\n                @outletArgs={{hash model=this.composer.model}}\n              />\n\n              {{#if this.site.desktopView}}\n                {{#if this.composer.model.unlistTopic}}\n                  <span class=\"unlist\">({{i18n \"composer.unlist\"}})</span>\n                {{/if}}\n                {{#if this.composer.isWhispering}}\n                  {{#if this.composer.model.noBump}}\n                    <span class=\"no-bump\">{{d-icon \"anchor\"}}</span>\n                  {{/if}}\n                {{/if}}\n              {{/if}}\n\n              {{#if this.composer.canEdit}}\n                <LinkToInput\n                  @onClick={{this.composer.displayEditReason}}\n                  @showInput={{this.composer.showEditReason}}\n                  @icon=\"circle-info\"\n                  class=\"display-edit-reason\"\n                >\n                  <TextField\n                    @value={{this.composer.editReason}}\n                    @id=\"edit-reason\"\n                    @maxlength=\"255\"\n                    @placeholderKey=\"composer.edit_reason_placeholder\"\n                  />\n                </LinkToInput>\n              {{/if}}\n            </div>\n          {{/unless}}\n\n          <PluginOutlet\n            @name=\"before-composer-controls\"\n            @outletArgs={{hash model=this.composer.model}}\n          />\n\n          <ComposerToggles\n            @composeState={{this.composer.model.composeState}}\n            @showToolbar={{this.composer.showToolbar}}\n            @toggleComposer={{this.composer.toggle}}\n            @toggleToolbar={{this.composer.toggleToolbar}}\n            @toggleFullscreen={{this.composer.fullscreenComposer}}\n            @disableTextarea={{this.composer.disableTextarea}}\n          />\n        </div>\n\n        <ComposerEditor\n          @topic={{this.composer.topic}}\n          @composer={{this.composer.model}}\n          @lastValidatedAt={{this.composer.lastValidatedAt}}\n          @canWhisper={{this.composer.canWhisper}}\n          @storeToolbarState={{this.composer.storeToolbarState}}\n          @onPopupMenuAction={{this.composer.onPopupMenuAction}}\n          @showUploadModal={{route-action \"showUploadSelector\"}}\n          @popupMenuOptions={{this.composer.popupMenuOptions}}\n          @draftStatus={{this.composer.model.draftStatus}}\n          @isUploading={{this.composer.isUploading}}\n          @isProcessingUpload={{this.composer.isProcessingUpload}}\n          @allowUpload={{this.composer.allowUpload}}\n          @uploadIcon={{this.composer.uploadIcon}}\n          @isCancellable={{this.composer.isCancellable}}\n          @uploadProgress={{this.composer.uploadProgress}}\n          @groupsMentioned={{this.composer.groupsMentioned}}\n          @cannotSeeMention={{this.composer.cannotSeeMention}}\n          @hereMention={{this.composer.hereMention}}\n          @importQuote={{this.composer.importQuote}}\n          @togglePreview={{this.composer.togglePreview}}\n          @processPreview={{this.composer.showPreview}}\n          @showToolbar={{this.composer.showToolbar}}\n          @afterRefresh={{this.composer.afterRefresh}}\n          @focusTarget={{this.composer.focusTarget}}\n          @disableTextarea={{this.composer.disableTextarea}}\n          @formTemplateIds={{this.composer.formTemplateIds}}\n          @formTemplateInitialValues={{this.composer.formTemplateInitialValues}}\n          @onSelectFormTemplate={{this.composer.onSelectFormTemplate}}\n        >\n          <div class=\"composer-fields\">\n            <PluginOutlet\n              @name=\"before-composer-fields\"\n              @outletArgs={{hash model=this.composer.model}}\n            />\n            {{#unless this.composer.model.viewFullscreen}}\n              {{#if this.composer.model.canEditTitle}}\n                {{#if this.composer.model.creatingPrivateMessage}}\n                  <div class=\"user-selector\">\n                    <ComposerUserSelector\n                      @topicId={{this.composer.topicModel.id}}\n                      @recipients={{this.composer.model.targetRecipients}}\n                      @hasGroups={{this.composer.model.hasTargetGroups}}\n                      @focusTarget={{this.composer.focusTarget}}\n                      class={{concat-class\n                        \"users-input\"\n                        (if this.composer.showWarning \"can-warn\")\n                      }}\n                    />\n                    {{#if this.composer.showWarning}}\n                      <label class=\"add-warning\">\n                        <Input\n                          @type=\"checkbox\"\n                          @checked={{this.composer.model.isWarning}}\n                        />\n                        <span>{{i18n \"composer.add_warning\"}}</span>\n                      </label>\n                    {{/if}}\n                  </div>\n                {{/if}}\n\n                <div\n                  class=\"title-and-category\n                    {{if this.composer.showPreview \'with-preview\'}}\"\n                >\n                  <ComposerTitle\n                    @composer={{this.composer.model}}\n                    @lastValidatedAt={{this.composer.lastValidatedAt}}\n                    @focusTarget={{this.composer.focusTarget}}\n                  />\n\n                  {{#if this.composer.model.showCategoryChooser}}\n                    <div class=\"category-input\">\n                      <CategoryChooser\n                        @value={{this.composer.model.categoryId}}\n                        @onChange={{this.composer.updateCategory}}\n                        @options={{hash\n                          disabled=this.composer.disableCategoryChooser\n                          scopedCategoryId=this.composer.scopedCategoryId\n                          prioritizedCategoryId=this.composer.prioritizedCategoryId\n                        }}\n                      />\n                      <PluginOutlet\n                        @name=\"after-composer-category-input\"\n                        @outletArgs={{hash composer=this.composer.model}}\n                      />\n                      <PopupInputTip\n                        @validation={{this.composer.categoryValidation}}\n                      />\n                    </div>\n                  {{/if}}\n\n                  {{#if this.composer.canEditTags}}\n                    <div class=\"tags-input\">\n                      <MiniTagChooser\n                        @value={{this.composer.model.tags}}\n                        @onChange={{fn (mut this.composer.model.tags)}}\n                        @options={{hash\n                          disabled=this.composer.disableTagsChooser\n                          categoryId=this.composer.model.categoryId\n                          minimum=this.composer.model.minimumRequiredTags\n                        }}\n                      />\n                      <PluginOutlet\n                        @name=\"after-composer-tag-input\"\n                        @outletArgs={{hash composer=this.composer.model}}\n                      />\n                      <PopupInputTip\n                        @validation={{this.composer.tagValidation}}\n                      />\n                    </div>\n                  {{/if}}\n\n                  <PluginOutlet\n                    @name=\"after-title-and-category\"\n                    @outletArgs={{hash\n                      model=this.composer.model\n                      tagValidation=this.composer.tagValidation\n                      canEditTags=this.composer.canEditTags\n                      disabled=this.composer.disableTagsChooser\n                    }}\n                  />\n                </div>\n              {{/if}}\n\n              <span>\n                <PluginOutlet\n                  @name=\"composer-fields\"\n                  @connectorTagName=\"div\"\n                  @outletArgs={{hash\n                    model=this.composer.model\n                    showPreview=this.composer.showPreview\n                  }}\n                />\n              </span>\n            {{/unless}}\n          </div>\n        </ComposerEditor>\n\n        <span>\n          <PluginOutlet\n            @name=\"composer-after-composer-editor\"\n            @outletArgs={{hash model=this.composer.model}}\n          />\n        </span>\n\n        <div class=\"submit-panel\">\n          <span>\n            <PluginOutlet\n              @name=\"composer-fields-below\"\n              @connectorTagName=\"div\"\n              @outletArgs={{hash model=this.composer.model}}\n            />\n          </span>\n\n          <div class=\"save-or-cancel\">\n            <ComposerSaveButton\n              @action={{this.composer.saveAction}}\n              @icon={{this.composer.saveIcon}}\n              @label={{this.composer.saveLabel}}\n              @forwardEvent={{true}}\n              @disableSubmit={{this.composer.disableSubmit}}\n            />\n\n            {{#if this.site.mobileView}}\n              <a\n                href\n                {{on \"click\" this.composer.cancel}}\n                title={{i18n \"cancel\"}}\n                class=\"cancel\"\n              >\n                {{#if this.composer.canEdit}}\n                  {{d-icon \"xmark\"}}\n                {{else}}\n                  {{d-icon \"trash-can\"}}\n                {{/if}}\n              </a>\n            {{else}}\n              <a\n                href\n                {{on \"click\" this.composer.cancel}}\n                class=\"cancel\"\n                role=\"button\"\n              >{{i18n \"close\"}}</a>\n            {{/if}}\n\n            {{#if this.site.mobileView}}\n              {{#if this.composer.whisperOrUnlistTopic}}\n                <span class=\"whisper\">\n                  {{d-icon \"far-eye-slash\"}}\n                </span>\n              {{/if}}\n\n              {{#if this.composer.model.noBump}}\n                <span class=\"no-bump\">{{d-icon \"anchor\"}}</span>\n              {{/if}}\n            {{/if}}\n\n            <span>\n              <PluginOutlet\n                @name=\"composer-after-save-or-cancel\"\n                @outletArgs={{hash model=this.composer.model}}\n              />\n            </span>\n          </div>\n\n          {{#if this.site.mobileView}}\n            <span>\n              <PluginOutlet\n                @name=\"composer-mobile-buttons-bottom\"\n                @outletArgs={{hash model=this.composer.model}}\n              />\n            </span>\n\n            {{#if this.composer.allowUpload}}\n              <a\n                id=\"mobile-file-upload\"\n                class=\"btn btn-default no-text mobile-file-upload\n                  {{if this.composer.isUploading \'hidden\'}}\"\n                aria-label={{i18n \"composer.upload_title\"}}\n              >\n                {{d-icon this.composer.uploadIcon}}\n              </a>\n            {{/if}}\n\n            <a\n              href\n              class=\"btn btn-default no-text mobile-preview\"\n              title={{i18n \"composer.show_preview\"}}\n              {{on \"click\" this.composer.togglePreview}}\n              aria-label={{i18n \"composer.show_preview\"}}\n            >\n              {{d-icon \"desktop\"}}\n            </a>\n\n            {{#if this.composer.showPreview}}\n              <DButton\n                @action={{this.composer.togglePreview}}\n                @title=\"composer.hide_preview\"\n                @ariaLabel=\"composer.hide_preview\"\n                @icon=\"pencil\"\n                class=\"hide-preview\"\n              />\n            {{/if}}\n          {{/if}}\n\n          {{#if\n            (or this.composer.isUploading this.composer.isProcessingUpload)\n          }}\n            <div id=\"file-uploading\">\n              {{#if this.composer.isProcessingUpload}}\n                {{loading-spinner size=\"small\"}}<span>{{i18n\n                    \"upload_selector.processing\"\n                  }}</span>\n              {{else}}\n                {{loading-spinner size=\"small\"}}<span>{{i18n\n                    \"upload_selector.uploading\"\n                  }}\n                  {{this.composer.uploadProgress}}%</span>\n              {{/if}}\n\n              {{#if this.composer.isCancellable}}\n                <a\n                  href\n                  id=\"cancel-file-upload\"\n                  {{on \"click\" this.composer.cancelUpload}}\n                >{{d-icon \"xmark\"}}</a>\n              {{/if}}\n            </div>\n          {{/if}}\n\n          <div\n            class={{if this.composer.isUploading \"hidden\"}}\n            id=\"draft-status\"\n          >\n            {{#if this.composer.model.draftStatus}}\n              <span\n                class=\"draft-error\"\n                title={{this.composer.model.draftStatus}}\n              >\n                {{#if this.composer.model.draftConflictUser}}\n                  {{avatar\n                    this.composer.model.draftConflictUser\n                    imageSize=\"small\"\n                  }}\n                  {{d-icon \"user-pen\"}}\n                {{else}}\n                  {{d-icon \"triangle-exclamation\"}}\n                {{/if}}\n                {{#if this.site.desktopView}}\n                  {{this.composer.model.draftStatus}}\n                {{/if}}\n              </span>\n            {{/if}}\n          </div>\n\n          {{#if this.site.desktopView}}\n            <DButton\n              @action={{this.composer.togglePreview}}\n              @translatedTitle={{this.composer.toggleText}}\n              @icon=\"angles-left\"\n              class={{concat-class\n                \"btn-transparent btn-mini-toggle toggle-preview\"\n                (unless this.composer.showPreview \"active\")\n              }}\n            />\n          {{/if}}\n        </div>\n      </div>\n    {{else}}\n      <div class=\"saving-text\">\n        {{#if this.composer.model.createdPost}}\n          {{i18n \"composer.saved\"}}\n          <a\n            href={{this.composer.createdPost.url}}\n            {{on \"click\" this.composer.viewNewReply}}\n            class=\"permalink\"\n          >{{i18n \"composer.view_new_post\"}}</a>\n        {{else}}\n          {{i18n \"composer.saving\"}}\n          {{loading-spinner size=\"small\"}}\n        {{/if}}\n      </div>\n\n      <div class=\"draft-text\">\n        {{#if this.composer.model.topic}}\n          {{d-icon \"share\"}}\n          {{html-safe this.composer.draftTitle}}\n        {{else}}\n          {{i18n \"composer.saved_draft\"}}\n        {{/if}}\n      </div>\n\n      <ComposerToggles\n        @composeState={{this.composer.model.composeState}}\n        @toggleFullscreen={{this.composer.openIfDraft}}\n        @toggleComposer={{this.composer.toggle}}\n        @toggleToolbar={{this.composer.toggleToolbar}}\n      />\n    {{/if}}\n  {{/if}}\n</ComposerBody>",{ moduleName: "discourse/components/composer-container.hbs" })